{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./node_modules/accepts/index.js","webpack:///./node_modules/ajv/lib/ajv.js","webpack:///./node_modules/ajv/lib/cache.js","webpack:///./node_modules/ajv/lib/compile/async.js","webpack:///./node_modules/ajv/lib/compile/error_classes.js","webpack:///./node_modules/ajv/lib/compile/formats.js","webpack:///./node_modules/ajv/lib/compile/index.js","webpack:///./node_modules/ajv/lib/compile/resolve.js","webpack:///./node_modules/ajv/lib/compile/rules.js","webpack:///./node_modules/ajv/lib/compile/schema_obj.js","webpack:///./node_modules/ajv/lib/compile/ucs2length.js","webpack:///./node_modules/ajv/lib/compile/util.js","webpack:///./node_modules/ajv/lib/data.js","webpack:///./node_modules/ajv/lib/definition_schema.js","webpack:///./node_modules/ajv/lib/dotjs/_limit.js","webpack:///./node_modules/ajv/lib/dotjs/_limitItems.js","webpack:///./node_modules/ajv/lib/dotjs/_limitLength.js","webpack:///./node_modules/ajv/lib/dotjs/_limitProperties.js","webpack:///./node_modules/ajv/lib/dotjs/allOf.js","webpack:///./node_modules/ajv/lib/dotjs/anyOf.js","webpack:///./node_modules/ajv/lib/dotjs/comment.js","webpack:///./node_modules/ajv/lib/dotjs/const.js","webpack:///./node_modules/ajv/lib/dotjs/contains.js","webpack:///./node_modules/ajv/lib/dotjs/custom.js","webpack:///./node_modules/ajv/lib/dotjs/dependencies.js","webpack:///./node_modules/ajv/lib/dotjs/enum.js","webpack:///./node_modules/ajv/lib/dotjs/format.js","webpack:///./node_modules/ajv/lib/dotjs/if.js","webpack:///./node_modules/ajv/lib/dotjs/index.js","webpack:///./node_modules/ajv/lib/dotjs/items.js","webpack:///./node_modules/ajv/lib/dotjs/multipleOf.js","webpack:///./node_modules/ajv/lib/dotjs/not.js","webpack:///./node_modules/ajv/lib/dotjs/oneOf.js","webpack:///./node_modules/ajv/lib/dotjs/pattern.js","webpack:///./node_modules/ajv/lib/dotjs/properties.js","webpack:///./node_modules/ajv/lib/dotjs/propertyNames.js","webpack:///./node_modules/ajv/lib/dotjs/ref.js","webpack:///./node_modules/ajv/lib/dotjs/required.js","webpack:///./node_modules/ajv/lib/dotjs/uniqueItems.js","webpack:///./node_modules/ajv/lib/dotjs/validate.js","webpack:///./node_modules/ajv/lib/keyword.js","webpack:///./node_modules/array-flatten/array-flatten.js","webpack:///./node_modules/asn1/lib/ber/errors.js","webpack:///./node_modules/asn1/lib/ber/index.js","webpack:///./node_modules/asn1/lib/ber/reader.js","webpack:///./node_modules/asn1/lib/ber/types.js","webpack:///./node_modules/asn1/lib/ber/writer.js","webpack:///./node_modules/asn1/lib/index.js","webpack:///./node_modules/assert-plus/assert.js","webpack:///./node_modules/asynckit/index.js","webpack:///./node_modules/asynckit/lib/abort.js","webpack:///./node_modules/asynckit/lib/async.js","webpack:///./node_modules/asynckit/lib/defer.js","webpack:///./node_modules/asynckit/lib/iterate.js","webpack:///./node_modules/asynckit/lib/state.js","webpack:///./node_modules/asynckit/lib/terminator.js","webpack:///./node_modules/asynckit/parallel.js","webpack:///./node_modules/asynckit/serial.js","webpack:///./node_modules/asynckit/serialOrdered.js","webpack:///./node_modules/aws-sign2/index.js","webpack:///./node_modules/aws4/aws4.js","webpack:///./node_modules/aws4/lru.js","webpack:///./node_modules/basic-auth/index.js","webpack:///./node_modules/bcrypt-pbkdf/index.js","webpack:///./node_modules/body-parser/index.js","webpack:///./node_modules/body-parser/lib/read.js","webpack:///./node_modules/body-parser/lib/types/json.js","webpack:///./node_modules/body-parser/lib/types/raw.js","webpack:///./node_modules/body-parser/lib/types/text.js","webpack:///./node_modules/body-parser/lib/types/urlencoded.js","webpack:///./node_modules/bytes/index.js","webpack:///./node_modules/caseless/index.js","webpack:///./node_modules/charenc/charenc.js","webpack:///./node_modules/combined-stream/lib/combined_stream.js","webpack:///./node_modules/content-disposition/index.js","webpack:///./node_modules/content-type/index.js","webpack:///./node_modules/cookie-signature/index.js","webpack:///./node_modules/cookie/index.js","webpack:///./node_modules/core-util-is/lib/util.js","webpack:///./node_modules/cors/lib/index.js","webpack:///./node_modules/crypt/crypt.js","webpack:///./node_modules/debug/src/browser.js","webpack:///./node_modules/debug/src/debug.js","webpack:///./node_modules/debug/src/index.js","webpack:///./node_modules/debug/src/node.js","webpack:///./node_modules/delayed-stream/lib/delayed_stream.js","webpack:///./node_modules/depd/index.js","webpack:///./node_modules/depd/lib/compat/callsite-tostring.js","webpack:///./node_modules/depd/lib/compat/event-listener-count.js","webpack:///./node_modules/depd/lib/compat/index.js","webpack:///./node_modules/destroy/index.js","webpack:///./node_modules/ecc-jsbn/index.js","webpack:///./node_modules/ecc-jsbn/lib/ec.js","webpack:///./node_modules/ecc-jsbn/lib/sec.js","webpack:///./node_modules/ee-first/index.js","webpack:///./node_modules/encodeurl/index.js","webpack:///./node_modules/escape-html/index.js","webpack:///./node_modules/etag/index.js","webpack:///./node_modules/express/index.js","webpack:///./node_modules/express/lib sync","webpack:///./node_modules/express/lib/application.js","webpack:///./node_modules/express/lib/express.js","webpack:///./node_modules/express/lib/middleware/init.js","webpack:///./node_modules/express/lib/middleware/query.js","webpack:///./node_modules/express/lib/request.js","webpack:///./node_modules/express/lib/response.js","webpack:///./node_modules/express/lib/router/index.js","webpack:///./node_modules/express/lib/router/layer.js","webpack:///./node_modules/express/lib/router/route.js","webpack:///./node_modules/express/lib/utils.js","webpack:///./node_modules/express/lib/view.js","webpack:///./node_modules/extend/index.js","webpack:///./node_modules/extsprintf/lib/extsprintf.js","webpack:///./node_modules/fast-deep-equal/index.js","webpack:///./node_modules/fast-json-stable-stringify/index.js","webpack:///./node_modules/finalhandler/index.js","webpack:///./node_modules/forever-agent/index.js","webpack:///./node_modules/form-data/lib/form_data.js","webpack:///./node_modules/form-data/lib/populate.js","webpack:///./node_modules/forwarded/index.js","webpack:///./node_modules/fresh/index.js","webpack:///./node_modules/har-schema/lib/index.js","webpack:///./node_modules/har-validator/lib/error.js","webpack:///./node_modules/har-validator/lib/promise.js","webpack:///./node_modules/http-errors/index.js","webpack:///./node_modules/http-signature/lib/index.js","webpack:///./node_modules/http-signature/lib/parser.js","webpack:///./node_modules/http-signature/lib/signer.js","webpack:///./node_modules/http-signature/lib/utils.js","webpack:///./node_modules/http-signature/lib/verify.js","webpack:///./node_modules/iconv-lite/encodings/dbcs-codec.js","webpack:///./node_modules/iconv-lite/encodings/dbcs-data.js","webpack:///./node_modules/iconv-lite/encodings/index.js","webpack:///./node_modules/iconv-lite/encodings/internal.js","webpack:///./node_modules/iconv-lite/encodings/sbcs-codec.js","webpack:///./node_modules/iconv-lite/encodings/sbcs-data-generated.js","webpack:///./node_modules/iconv-lite/encodings/sbcs-data.js","webpack:///./node_modules/iconv-lite/encodings/utf16.js","webpack:///./node_modules/iconv-lite/encodings/utf7.js","webpack:///./node_modules/iconv-lite/lib/bom-handling.js","webpack:///./node_modules/iconv-lite/lib/extend-node.js","webpack:///./node_modules/iconv-lite/lib/index.js","webpack:///./node_modules/iconv-lite/lib/streams.js","webpack:///./node_modules/inherits/inherits.js","webpack:///./node_modules/inherits/inherits_browser.js","webpack:///./node_modules/ipaddr.js/lib/ipaddr.js","webpack:///./node_modules/is-buffer/index.js","webpack:///./node_modules/is-typedarray/index.js","webpack:///./node_modules/isstream/isstream.js","webpack:///./node_modules/jsbn/index.js","webpack:///./node_modules/json-schema-traverse/index.js","webpack:///./node_modules/json-schema/lib/validate.js","webpack:///./node_modules/json-stringify-safe/stringify.js","webpack:///./node_modules/jsprim/lib/jsprim.js","webpack:///./node_modules/md5/md5.js","webpack:///./node_modules/media-typer/index.js","webpack:///./node_modules/merge-descriptors/index.js","webpack:///./node_modules/methods/index.js","webpack:///./node_modules/mime-db/index.js","webpack:///./node_modules/mime-types/index.js","webpack:///./node_modules/mime/mime.js","webpack:///./node_modules/morgan/index.js","webpack:///./node_modules/ms/index.js","webpack:///./node_modules/negotiator/index.js","webpack:///./node_modules/negotiator/lib/charset.js","webpack:///./node_modules/negotiator/lib/encoding.js","webpack:///./node_modules/negotiator/lib/language.js","webpack:///./node_modules/negotiator/lib/mediaType.js","webpack:///./node_modules/oauth-sign/index.js","webpack:///./node_modules/object-assign/index.js","webpack:///./node_modules/on-finished/index.js","webpack:///./node_modules/on-headers/index.js","webpack:///./node_modules/parseurl/index.js","webpack:///./node_modules/path-to-regexp/index.js","webpack:///../src/performance-now.coffee","webpack:///./node_modules/proxy-addr/index.js","webpack:///./node_modules/psl/index.js","webpack:///./node_modules/qs/lib/formats.js","webpack:///./node_modules/qs/lib/index.js","webpack:///./node_modules/qs/lib/parse.js","webpack:///./node_modules/qs/lib/stringify.js","webpack:///./node_modules/qs/lib/utils.js","webpack:///./node_modules/range-parser/index.js","webpack:///./node_modules/raw-body/index.js","webpack:///./node_modules/request/index.js","webpack:///./node_modules/request/lib/auth.js","webpack:///./node_modules/request/lib/cookies.js","webpack:///./node_modules/request/lib/getProxyFromURI.js","webpack:///./node_modules/request/lib/har.js","webpack:///./node_modules/request/lib/hawk.js","webpack:///./node_modules/request/lib/helpers.js","webpack:///./node_modules/request/lib/multipart.js","webpack:///./node_modules/request/lib/oauth.js","webpack:///./node_modules/request/lib/querystring.js","webpack:///./node_modules/request/lib/redirect.js","webpack:///./node_modules/request/lib/tunnel.js","webpack:///./node_modules/request/node_modules/qs/lib/formats.js","webpack:///./node_modules/request/node_modules/qs/lib/index.js","webpack:///./node_modules/request/node_modules/qs/lib/parse.js","webpack:///./node_modules/request/node_modules/qs/lib/stringify.js","webpack:///./node_modules/request/node_modules/qs/lib/utils.js","webpack:///./node_modules/request/request.js","webpack:///./node_modules/safe-buffer/index.js","webpack:///./node_modules/safer-buffer/safer.js","webpack:///./node_modules/send/index.js","webpack:///./node_modules/send/node_modules/ms/index.js","webpack:///./node_modules/serve-static/index.js","webpack:///./node_modules/setprototypeof/index.js","webpack:///./node_modules/sshpk/lib/algs.js","webpack:///./node_modules/sshpk/lib/certificate.js","webpack:///./node_modules/sshpk/lib/dhe.js","webpack:///./node_modules/sshpk/lib/ed-compat.js","webpack:///./node_modules/sshpk/lib/errors.js","webpack:///./node_modules/sshpk/lib/fingerprint.js","webpack:///./node_modules/sshpk/lib/formats/auto.js","webpack:///./node_modules/sshpk/lib/formats/dnssec.js","webpack:///./node_modules/sshpk/lib/formats/openssh-cert.js","webpack:///./node_modules/sshpk/lib/formats/pem.js","webpack:///./node_modules/sshpk/lib/formats/pkcs1.js","webpack:///./node_modules/sshpk/lib/formats/pkcs8.js","webpack:///./node_modules/sshpk/lib/formats/putty.js","webpack:///./node_modules/sshpk/lib/formats/rfc4253.js","webpack:///./node_modules/sshpk/lib/formats/ssh-private.js","webpack:///./node_modules/sshpk/lib/formats/ssh.js","webpack:///./node_modules/sshpk/lib/formats/x509-pem.js","webpack:///./node_modules/sshpk/lib/formats/x509.js","webpack:///./node_modules/sshpk/lib/identity.js","webpack:///./node_modules/sshpk/lib/index.js","webpack:///./node_modules/sshpk/lib/key.js","webpack:///./node_modules/sshpk/lib/private-key.js","webpack:///./node_modules/sshpk/lib/signature.js","webpack:///./node_modules/sshpk/lib/ssh-buffer.js","webpack:///./node_modules/sshpk/lib/utils.js","webpack:///./node_modules/statuses/index.js","webpack:///./node_modules/toidentifier/index.js","webpack:///./node_modules/tough-cookie/lib/cookie.js","webpack:///./node_modules/tough-cookie/lib/memstore.js","webpack:///./node_modules/tough-cookie/lib/pathMatch.js","webpack:///./node_modules/tough-cookie/lib/permuteDomain.js","webpack:///./node_modules/tough-cookie/lib/pubsuffix-psl.js","webpack:///./node_modules/tough-cookie/lib/store.js","webpack:///./node_modules/tunnel-agent/index.js","webpack:///./node_modules/tweetnacl/nacl-fast.js","webpack:///./node_modules/type-is/index.js","webpack:///./node_modules/unpipe/index.js","webpack:///../../src/util.ts","webpack:///../../src/regexps-uri.ts","webpack:///../../src/regexps-iri.ts","webpack:///../../node_modules/punycode/punycode.es6.js","webpack:///../../src/uri.ts","webpack:///../../src/schemes/http.ts","webpack:///../../src/schemes/https.ts","webpack:///../../src/schemes/mailto.ts","webpack:///../../src/schemes/urn.ts","webpack:///../../src/schemes/urn-uuid.ts","webpack:///../../src/index.ts","webpack:///./node_modules/utils-merge/index.js","webpack:///./node_modules/uuid/lib/bytesToUuid.js","webpack:///./node_modules/uuid/lib/rng.js","webpack:///./node_modules/uuid/v4.js","webpack:///./node_modules/vary/index.js","webpack:///./node_modules/verror/lib/verror.js","webpack:///(webpack)/buildin/module.js","webpack:///./src/root.js","webpack:///./src/wechat.js","webpack:///./src/wechat_notify.js","webpack:///external \"assert\"","webpack:///external \"buffer\"","webpack:///external \"crypto\"","webpack:///external \"events\"","webpack:///external \"fs\"","webpack:///external \"http\"","webpack:///external \"https\"","webpack:///external \"net\"","webpack:///external \"path\"","webpack:///external \"punycode\"","webpack:///external \"querystring\"","webpack:///external \"stream\"","webpack:///external \"string_decoder\"","webpack:///external \"tls\"","webpack:///external \"tty\"","webpack:///external \"url\"","webpack:///external \"util\"","webpack:///external \"zlib\""],"names":["Negotiator","require","mime","module","exports","Accepts","req","headers","negotiator","prototype","type","types","types_","Array","isArray","arguments","length","i","mediaTypes","accept","mimes","map","extToMime","accepts","filter","validMime","first","indexOf","encoding","encodings","encodings_","charset","charsets","charsets_","lang","langs","language","languages","languages_","lookup","compileSchema","resolve","Cache","SchemaObject","stableStringify","formats","rules","$dataMetaSchema","util","Ajv","validate","compile","addSchema","addMetaSchema","validateSchema","getSchema","removeSchema","addFormat","errorsText","_addSchema","_compile","compileAsync","customKeyword","addKeyword","add","getKeyword","get","removeKeyword","remove","validateKeyword","errorClasses","ValidationError","Validation","MissingRefError","MissingRef","META_SCHEMA_ID","META_IGNORE_OPTIONS","META_SUPPORT_DATA","opts","_opts","copy","setLogger","_schemas","_refs","_fragments","_formats","format","_cache","cache","_loadingSchemas","_compilations","RULES","_getId","chooseGetId","loopRequired","Infinity","errorDataPath","_errorDataPathProperty","serialize","undefined","_metaOpts","getMetaSchemaOptions","addInitialFormats","addDefaultMetaSchema","meta","nullable","metaSchema","addInitialSchemas","schemaKeyRef","data","v","Error","schemaObj","valid","$async","errors","schema","_meta","key","_skipValidation","id","normalizeId","checkUnique","skipValidation","throwOrLogError","$schema","defaultMeta","logger","warn","message","error","self","keyRef","_getSchemaObj","_getSchemaFragment","ref","res","call","root","baseId","fragment","RegExp","_removeAllSchemas","clear","del","cacheKey","schemas","regex","test","shouldAddSchema","cached","addUsedSchema","willValidate","recursiveMeta","localRefs","ids","put","compiling","callValidate","currentOpts","e","refs","refVal","_validate","result","apply","schemaId","_get$IdOrId","_get$Id","$id","options","separator","dataVar","text","dataPath","slice","name","$dataSchema","$data","optsSchemas","metaOpts","log","noop","console","Cache_put","value","Cache_get","Cache_del","Cache_clear","callback","loadSchema","p","loadMetaSchemaOf","then","_compileAsync","sch","$ref","Promise","loadMissingSchema","missingSchema","added","missingRef","schemaPromise","removePromise","errorSubclass","ajv","validation","url","fullPath","Subclass","Object","create","constructor","DATE","DAYS","TIME","HOSTNAME","URI","URIREF","URITEMPLATE","URL","UUID","JSON_POINTER","JSON_POINTER_URI_FRAGMENT","RELATIVE_JSON_POINTER","mode","fast","date","time","uri","email","hostname","ipv4","ipv6","uuid","full","date_time","isLeapYear","year","str","matches","match","month","day","hour","minute","second","timeZone","DATE_TIME_SEPARATOR","dateTime","split","NOT_URI_FRAGMENT","Z_ANCHOR","validateGenerator","ucs2length","equal","patterns","patternsHash","defaults","defaultsHash","customRules","c","checkCompiling","compilation","index","localCompile","cv","sourceCode","source","endCompiling","_schema","_root","isRoot","isTop","schemaPath","errSchemaPath","errorPath","resolveRef","usePattern","useDefault","useCustomRule","vars","refValCode","patternCode","defaultCode","customRuleCode","processCode","makeValidate","Function","code","refIndex","_refVal","refCode","resolvedRef","rootRefId","addLocalRef","localSchema","inlineRef","inlineRefs","removeLocalRef","replaceLocalRef","refId","inline","regexStr","toQuotedString","valueStr","rule","parentSchema","it","deps","definition","dependencies","every","keyword","hasOwnProperty","join","macro","compIndex","splice","arr","statement","traverse","getFullPath","resolveUrl","resolveIds","resolveSchema","parse","refPath","_getFullPath","keys","resolveRecursive","getJsonPointer","parsedRef","PREVENT_SCOPE_CHANGE","toHash","parts","part","unescapeFragment","SIMPLE_INLINED","limit","checkNoRef","countKeys","item","count","normalize","TRAILING_SLASH_HASH","replace","baseIds","fullPaths","allKeys","jsonPtr","rootSchema","parentJsonPtr","parentKeyword","keyIndex","escapeFragment","ruleModules","ALL","KEYWORDS","TYPES","all","forEach","group","implKeywords","k","push","implements","$comment","keywords","concat","custom","obj","len","pos","charCodeAt","checkDataType","checkDataTypes","coerceToTypes","getProperty","escapeQuotes","varOccurences","varReplace","cleanUpCode","finalCleanUpCode","schemaHasRules","schemaHasRulesExcept","schemaUnknownRules","getPathExpr","getPath","getData","unescapeJsonPointer","escapeJsonPointer","o","to","dataType","negate","EQUAL","AND","OK","NOT","dataTypes","array","object","null","number","integer","t","COERCE_TO_TYPES","optionCoerceTypes","hash","IDENTIFIER","SINGLE_QUOTE","expr","EMPTY_ELSE","EMPTY_IF_NO_ELSE","EMPTY_IF_WITH_ELSE","out","ERRORS_REGEXP","REMOVE_ERRORS","REMOVE_ERRORS_ASYNC","RETURN_VALID","RETURN_TRUE","RETURN_ASYNC","RETURN_DATA_ASYNC","ROOTDATA_REGEXP","REMOVE_ROOTDATA","async","exceptKeyword","currentPath","jsonPointers","isNumber","path","joinPaths","prop","lvl","paths","up","jsonPointer","segments","segment","a","b","decodeURIComponent","encodeURIComponent","keywordsJsonPointers","JSON","stringify","j","anyOf","definitions","simpleTypes","statements","not","required","properties","items","modifying","const","generate__limit","$keyword","$ruleType","$lvl","level","$dataLvl","dataLevel","$schemaPath","$errSchemaPath","$breakOnError","allErrors","$errorKeyword","$isData","$schemaValue","dataPathArr","$isMax","$exclusiveKeyword","$schemaExcl","$isDataExcl","$op","$notOp","$schemaValueExcl","$exclusive","$exclType","$exclIsNumber","$opExpr","$opStr","$$outStack","createErrors","messages","verbose","__err","pop","compositeRule","Math","generate__limitItems","generate__limitLength","unicode","generate__limitProperties","generate_allOf","$it","$closingBraces","$nextValid","$currentBaseId","$allSchemasEmpty","arr1","$sch","$i","l1","strictKeywords","generate_anyOf","$valid","$errs","$noEmptySchema","$wasComposite","generate_comment","generate_const","generate_contains","$idx","$dataNxt","$nextData","$nonEmptySchema","$passData","$code","generate_custom","$rule","$definition","$rDef","$compile","$inline","$macro","$ruleValidate","$validateCode","$validateSchema","$ruleErrs","$ruleErr","$asyncKeyword","passContext","$parentData","$parentDataProperty","def_callRuleValidate","def_customError","generate_dependencies","$schemaDeps","$propertyDeps","$ownProperties","ownProperties","$property","$deps","$currentErrorPath","$propertyKey","$prop","$useData","$propertyPath","$missingProperty","arr2","i2","l2","generate_enum","$vSchema","generate_format","$unknownFormats","unknownFormats","$allowUnknown","$format","$isObject","$formatType","$formatRef","generate_if","$thenSch","$elseSch","$thenPresent","$elsePresent","$ifClause","allOf","contains","maximum","minimum","maxItems","minItems","maxLength","minLength","maxProperties","minProperties","multipleOf","oneOf","pattern","propertyNames","uniqueItems","generate_items","$additionalItems","additionalItems","$currErrSchemaPath","generate_multipleOf","multipleOfPrecision","generate_not","$allErrorsOption","generate_oneOf","$prevValid","$passingSchemas","generate_pattern","$regexp","generate_properties","$key","$dataProperties","$schemaKeys","$pProperties","patternProperties","$pPropertyKeys","$aProperties","additionalProperties","$someProperties","$noAdditional","$additionalIsSchema","$removeAdditional","removeAdditional","$checkAdditional","$required","$requiredHash","i1","$pProperty","$additionalProperty","$useDefaults","useDefaults","arr3","i3","l3","$hasDefault","default","arr4","i4","l4","generate_propertyNames","$invalidName","generate_ref","$refCode","$refVal","$message","missingRefs","__callValidate","generate_required","$propertySch","$loopRequired","generate_uniqueItems","$itemType","$typeIsArray","$method","generate_validate","$refKeywords","$unknownKwd","$keywordsMsg","$top","rootId","strictDefaults","$defaultMsg","$closingBraces1","$closingBraces2","$typeSchema","extendRefs","coerceTypes","$coerceToTypes","$rulesGroup","$shouldUseGroup","$dataType","$coerced","$bracesCoercion","$type","arr5","i5","l5","$shouldUseRule","$ruleImplementsSomeKeyword","impl","definitionSchema","_addRule","ruleGroup","rg","throwError","_validateKeyword","arrayFlatten","flattenWithDepth","depth","flattenForever","newInvalidAsn1Error","msg","Reader","Writer","assert","Buffer","ASN1","isBuffer","TypeError","_buf","_size","_len","_offset","defineProperty","enumerable","readByte","peek","readLength","offset","lenB","readSequence","tag","seq","toString","readInt","_readTag","Integer","readBoolean","Boolean","readEnumeration","Enumeration","readString","retbuf","OctetString","alloc","readOID","OID","values","byte","shift","unshift","ok","fb","EOC","BitString","Null","ObjectDescriptor","External","Real","PDV","Utf8String","RelativeOID","Sequence","Set","NumericString","PrintableString","T61String","VideotexString","IA5String","UTCTime","GeneralizedTime","GraphicString","VisibleString","GeneralString","UniversalString","CharacterString","BMPString","Constructor","Context","DEFAULT_OPTS","size","growthFactor","merge","from","getOwnPropertyNames","getOwnPropertyDescriptor","_options","_seq","writeByte","_ensure","writeInt","sz","writeNull","writeEnumeration","writeBoolean","writeString","s","byteLength","writeLength","write","writeBuffer","buf","writeStringArray","strings","writeOID","encodeOctet","bytes","octet","tmp","parseInt","startSequence","endSequence","start","_shift","Ber","BerReader","BerWriter","Stream","UUID_REGEXP","_capitalize","charAt","toUpperCase","_toss","expected","oper","arg","actual","AssertionError","operator","stackStartFunction","caller","_getClass","bool","check","func","string","isNaN","finite","isFinite","buffer","stream","Date","regexp","_setExports","ndebug","process","env","NODE_NDEBUG","parallel","serial","serialOrdered","abort","state","jobs","clean","bind","defer","isAsync","async_callback","err","nextTick_callback","fn","nextTick","setImmediate","setTimeout","iterate","list","iterator","runJob","output","results","aborter","sortMethod","isNamedList","initState","keyedList","sort","terminator","ascending","descending","iteratorHandler","crypto","authorization","sign","hmacSha1","createHmac","secret","update","digest","stringToSign","signQuery","queryStringToSign","amazonHeaders","r","verb","md5","contentType","toUTCString","resource","canonicalizeHeaders","fields","field","val","toLowerCase","canonicalizeResource","pathname","query","aws4","querystring","lru","credentialsCache","hmac","createHash","encodeRfc3986","urlEncodedString","RequestSigner","request","credentials","hostParts","matchHost","host","Host","defaultCredentials","service","region","method","body","createHost","port","isCodeCommitGit","reverse","isSingleRegion","prepareRequest","parsePath","parsedPath","sessionToken","datetime","getDateTime","accessKeyId","credentialString","signedHeaders","doNotModifyHeaders","Authorization","signature","authHeader","formatPath","toISOString","getDate","substr","secretAccessKey","kDate","kRegion","kService","kCredentials","set","canonicalString","pathStr","queryStr","normalizePath","decodePath","doNotEncodePath","decodeSlashesInPath","firstValOnly","bodyHash","reducedQuery","reduce","encodedQueryPieces","encodedPrefix","piece","canonicalHeaders","trimAll","header","trim","AWS_ACCESS_KEY_ID","AWS_ACCESS_KEY","AWS_SECRET_ACCESS_KEY","AWS_SECRET_KEY","AWS_SESSION_TOKEN","encodeURI","decodeURI","queryIx","LruCache","capacity","DoublyLinkedList","node","used","prune","DoublyLinkedNode","moveToFront","firstNode","lastNode","prev","next","auth","CREDENTIALS_REGEXP","USER_PASS_REGEXP","getAuthorization","decodeBase64","exec","userPass","Credentials","pass","crypto_hash_sha512","lowlevel","crypto_hash","BLF_J","Blowfish","S","Uint32Array","P","F","x8","encipher","x","Uint8Array","byteOffset","subarray","decipher","stream2word","databytes","temp","expand0state","keybytes","d","d8","expandstate","enc","blocks","dec","BCRYPT_BLOCKS","BCRYPT_HASHSIZE","bcrypt_hash","sha2pass","sha2salt","cdata","ciphertext","bcrypt_pbkdf","passlen","salt","saltlen","keylen","rounds","tmpout","countsalt","amt","stride","dest","origkeylen","floor","min","BLOCKS","HASHSIZE","pbkdf","deprecate","parsers","function","bodyParser","configurable","createParserGetter","_urlencoded","urlencoded","_json","json","loadParser","parserName","parser","createError","getBody","iconv","onFinished","zlib","read","debug","_body","verify","contentstream","inflate","encodingExists","_error","resume","onfinished","decode","createInflate","pipe","createGunzip","typeis","FIRST_CHAR_REGEXP","reviver","strict","shouldParse","typeChecker","firstchar","createStrictSyntaxError","normalizeJsonSyntaxError","stack","jsonParser","hasBody","getCharset","char","partial","substring","SyntaxError","parameters","checkType","raw","rawParser","defaultCharset","textParser","extended","queryparse","extendedparser","simpleparser","urlencodedParser","parameterLimit","paramCount","parameterCount","arrayLimit","max","allowPrototypes","mod","maxKeys","formatThousandsRegExp","formatDecimalsRegExp","kb","mb","gb","tb","pow","pb","parseRegExp","Number","mag","abs","thousandsSeparator","unitSeparator","decimalPlaces","fixedDecimals","unit","toFixed","floatValue","parseFloat","Caseless","dict","clobber","has","_key","swap","httpify","resp","setHeader","hasHeader","getHeader","removeHeader","charenc","utf8","stringToBytes","bin","unescape","bytesToString","escape","String","fromCharCode","DelayedStream","CombinedStream","writable","readable","dataSize","maxDataSize","pauseStreams","_released","_streams","_currentStream","_insideLoop","_pendingNext","inherits","combinedStream","option","isStreamLike","append","newStream","pauseStream","on","_checkDataSize","_handleErrors","pause","_getNext","_realGetNext","end","_pipeNext","getStream","_emitError","emit","_reset","destroy","_updateDataSize","contentDisposition","basename","ENCODE_URL_ATTR_CHAR_REGEXP","HEX_ESCAPE_REGEXP","HEX_ESCAPE_REPLACE_REGEXP","NON_LATIN1_REGEXP","QESC_REGEXP","QUOTE_REGEXP","PARAM_REGEXP","TEXT_REGEXP","TOKEN_REGEXP","EXT_VALUE_REGEXP","DISPOSITION_TYPE_REGEXP","filename","params","createparams","fallback","ContentDisposition","isQuotedString","fallbackName","getlatin1","hasFallback","param","ustring","qstring","decodefield","encoded","binary","pdecode","names","lastIndex","hex","pencode","TYPE_REGEXP","getcontenttype","ContentType","unsign","lastIndexOf","mac","sha1","encode","pairSplitRegExp","fieldContentRegExp","opt","pairs","pair","eq_idx","tryDecode","maxAge","domain","expires","httpOnly","secure","sameSite","objectToString","isBoolean","isNull","isNullOrUndefined","isString","isSymbol","isUndefined","isRegExp","re","isObject","isDate","isError","isFunction","isPrimitive","assign","vary","origin","methods","preflightContinue","optionsSuccessStatus","isOriginAllowed","allowedOrigin","configureOrigin","requestOrigin","isAllowed","configureMethods","configureCredentials","configureAllowedHeaders","allowedHeaders","configureExposedHeaders","exposedHeaders","configureMaxAge","applyHeaders","n","cors","statusCode","middlewareWrapper","optionsCallback","cb","corsMiddleware","corsOptions","originCallback","err2","base64map","crypt","rotl","rotr","endian","randomBytes","random","bytesToWords","words","wordsToBytes","bytesToHex","hexToBytes","bytesToBase64","base64","triplet","base64ToBytes","imod4","formatArgs","save","load","useColors","storage","chrome","local","localstorage","colors","window","document","documentElement","style","WebkitAppearance","firebug","exception","table","navigator","userAgent","$1","formatters","args","namespace","humanize","diff","color","lastC","namespaces","removeItem","DEBUG","enable","localStorage","createDebug","coerce","disable","enabled","skips","prevTime","selectColor","curr","ms","formatter","logFn","init","tty","inspectOpts","_","fd","DEBUG_FD","stdout","stderr","createWritableStdioStream","isatty","inspect","O","prefix","tty_wrap","binding","guessHandleType","WriteStream","_type","_handle","unref","fs","SyncWriteStream","autoClose","net","Socket","_isStdio","_maxDataSizeExceeded","_bufferedEvents","delayedStream","realEmit","_handleEmit","setEncoding","release","_checkIfMaxDataSizeExceeded","callSiteToString","eventListenerCount","relative","depd","basePath","cwd","containsNamespace","vals","ns","convertDataDescriptorToAccessor","descriptor","getter","setter","createArgumentsString","arity","createStackString","getStack","site","callSiteLocation","file","_file","_ignored","isignored","_namespace","_traced","istraced","_warned","wrapfunction","property","wrapproperty","noDeprecation","NO_DEPRECATION","traceDeprecation","TRACE_DEPRECATION","haslisteners","callFile","callSite","depSite","seen","defaultMessage","DeprecationError","isTTY","formatColor","formatPlain","getFileName","line","getLineNumber","colm","getColumnNumber","isEval","getEvalOrigin","getFunctionName","funcName","formatLocation","context","getThis","typeName","getTypeName","getMethodName","timestamp","formatted","stackTraceLimit","prep","prepareStackTrace","prepareObjectStackTrace","captureStackTrace","deprecatedfn","eval","stackString","callSiteFileLocation","fileName","fileLocation","isNative","getScriptNameOrSourceURL","lineNumber","columnNumber","addSuffix","functionName","isConstructor","isMethodCall","isToplevel","methodName","getConstructorName","receiver","emitter","listeners","EventEmitter","lazyProperty","listenerCount","ReadStream","destroyReadStream","close","onOpenClose","BigInteger","ECPointFp","ECCurves","unstupid","ECKey","curve","isPublic","priv","getN","bitLength","getCurve","decodePointHex","n1","subtract","ONE","getG","multiply","PublicKey","encodeCompressedPointHex","PrivateKey","deriveSharedSecret","getX","toBigInteger","Barrett","ECFieldElementFp","q","feFpEquals","other","equals","feFpToBigInteger","feFpNegate","feFpAdd","feFpSubtract","feFpMultiply","feFpSquare","square","feFpDivide","modInverse","divide","y","z","zinv","pointFpGetX","fromBigInteger","pointFpGetY","pointFpEquals","isInfinity","u","ZERO","pointFpIsInfinity","pointFpNegate","pointFpAdd","twice","getInfinity","THREE","x1","y1","x2","y2","v2","v3","x1v2","zu2","x3","shiftLeft","y3","z3","pointFpTwice","signum","y1z1","y1sqz1","w","pointFpMultiply","h","neg","R","hBit","testBit","eBit","pointFpMultiplyTwo","both","getY","multiplyTwo","ECCurveFp","infinity","reducer","curveFpGetQ","curveFpGetA","curveFpGetB","curveFpEquals","curveFpGetInfinity","curveFpFromBigInteger","curveReduce","curveFpDecodePointHex","xHex","yHex","curveFpEncodePointHex","oLen","getQ","getA","getB","encodePointHex","yIsEven","alpha","beta","sqrt","betaValue","yPrefix","isEven","getR","firstWord","shiftRight","intValue","modMult","modReduce","qLen","compareTo","modPow","qMinusOne","legendreExponent","Q","fourQ","modDouble","U","V","SecureRandom","lucasSequence","getLowestSetBit","Uh","Vl","TWO","Vh","Ql","Qh","X9ECParameters","g","x9getCurve","x9getG","x9getN","x9getH","getH","fromHex","secp128r1","G","secp160k1","secp160r1","secp192k1","secp192r1","secp224r1","secp256r1","getSECCurveByName","stuff","done","cleanups","ee","event","listener","cleanup","removeListener","thunk","cancel","onevent","arg1","encodeUrl","ENCODE_CHARS_REGEXP","UNMATCHED_SURROGATE_PAIR_REGEXP","UNMATCHED_SURROGATE_PAIR_REPLACE","matchHtmlRegExp","escapeHtml","html","etag","Stats","entitytag","entity","isStats","isstats","weak","stattag","ctime","mtime","ino","stat","getTime","finalhandler","Router","middleware","View","http","compileETag","compileQueryParser","compileTrust","flatten","setPrototypeOf","app","trustProxyDefaultSymbol","engines","settings","defaultConfiguration","onmount","parent","response","locals","mountpath","lazyrouter","_router","caseSensitive","use","handle","router","onerror","logerror","fns","mounted_app","orig","route","engine","ext","extension","setting","disabled","delete","render","renderOptions","view","_locals","defaultEngine","dirs","tryRender","listen","server","createServer","mixin","proto","Route","createApplication","application","static","removedMiddlewares","expressInit","parseUrl","qs","isIP","fresh","parseRange","proxyaddr","IncomingMessage","lc","referrer","referer","acceptsEncodings","acceptsEncoding","acceptsCharsets","acceptsCharset","acceptsLanguages","acceptsLanguage","range","defaultValue","is","defineGetter","protocol","connection","encrypted","trust","remoteAddress","ip","ips","addrs","subdomains","trimRight","status","stale","xhr","isAbsolute","statuses","normalizeType","normalizeTypes","setCharset","cookie","send","extname","ServerResponse","charsetRegExp","links","link","rel","chunk","etagFn","generateETag","replacer","spaces","jsonp","sendStatus","sendFile","sendfile","syscall","download","ct","attachment","clearCookie","signed","now","location","loc","redirect","address","streaming","onaborted","ondirectory","onend","onfile","onfinish","onstream","Layer","objectRegExp","_params","mergeParams","ret","idx","protohost","getProtohost","removed","slashAdded","paramcalled","parentParams","parentUrl","baseUrl","restore","wrap","old","sendOptionsResponse","originalUrl","layerError","getPathname","layer","matchLayer","has_method","_handles_method","appendMethods","layerPath","process_params","handle_request","trim_prefix","handle_error","called","paramIndex","paramVal","paramCallbacks","paramCalled","paramCallback","callbacks","gettype","sensitive","dispatch","addition","searchIndex","pathLength","fqdnIndex","props","proxy","pathRegexp","fast_star","fast_slash","decode_param","URIError","_all","head","handles","createETagGenerator","wetag","acceptParams","quality","originalIndex","pms","newObject","parseExtendedQueryString","parsed","dirname","__express","roots","dir","tryStat","isFile","statSync","hasOwn","toStr","gOPD","isPlainObject","hasOwnConstructor","hasIsPrototypeOf","setProperty","target","newValue","extend","src","copyIsArray","clone","deep","mod_assert","mod_util","sprintf","jsSprintf","printf","jsPrintf","fprintf","jsFprintf","fmt","flags","width","precision","conversion","left","pad","argn","doPad","dumpException","chr","ex","cause","cex","keyList","hasProp","arrA","arrB","dateA","dateB","regexpA","regexpB","cmp","cycles","f","aobj","bobj","toJSON","seenIndex","unpipe","DOUBLE_SPACE_REGEXP","NEWLINE_REGEXP","isFinished","createHtmlDocument","headersSent","getErrorStatusCode","getResponseStatusCode","getErrorHeaders","getErrorMessage","getResourceName","socket","original","_header","statusMessage","setHeaders","ForeverAgent","SSL","ForeverAgentSSL","Agent","tls","AgentSSL","getConnectionName","localAddress","requests","sockets","freeSockets","maxSockets","defaultMaxSockets","minSockets","defaultMinSockets","onSocket","onIdleError","_onIdleError","createConnection","addRequestNoreuse","addRequest","useChunkedEncodingByDefault","idleSocket","_reusedSocket","removeSocket","createSocket","createConnectionSSL","connect","https","asynckit","populate","FormData","_overheadLength","_valueLength","_valuesToMeasure","LINE_BREAK","DEFAULT_CONTENT_TYPE","_multiPartHeader","footer","_multiPartFooter","_trackLength","valueLength","knownLength","_lengthRetriever","fileSize","_getContentDisposition","_getContentType","contents","getBoundary","filepath","client","_httpMessage","lastPart","_lastBoundary","getHeaders","userHeaders","formHeaders","_boundary","_generateBoundary","boundary","getLengthSync","hasKnownLength","getLength","submit","dst","forwarded","proxyAddrs","socketAddr","CACHE_CONTROL_NO_CACHE_REGEXP","reqHeaders","resHeaders","modifiedSince","noneMatch","cacheControl","etagStale","parseTokenList","lastModified","modifiedStale","parseHttpDate","NaN","afterRequest","beforeRequest","browser","content","creator","entry","har","page","pageTimings","postData","timings","HARError","createAjvInstance","reject","toIdentifier","HttpError","createHttpErrorConstructor","populateConstructorExports","codes","codeClass","expose","createClientErrorConstructor","className","ClientError","nameFunc","createServerErrorConstructor","ServerError","desc","forEachCode","CodeError","ImATeapot","signer","utils","parseRequest","signRequest","createSigner","isSigner","sshKeyToPEM","sshKeyFingerprint","fingerprint","pemToRsaSSHKey","verifySignature","verifyHMAC","HASH_ALGOS","PK_ALGOS","HttpSignatureError","InvalidAlgorithmError","validateAlgorithm","State","New","Params","ParamsState","Name","Quote","Value","Comma","ExpiredRequestError","InvalidHeaderError","InvalidParamsError","MissingHeaderError","StrictParsingError","arrayOfString","optionalFinite","clockSkew","authzHeaderName","authorizationHeaderName","substate","tmpName","tmpValue","scheme","signingString","authz","keyId","algorithm","httpVersion","skew","hdr","algorithms","sshpk","jsprim","AUTHZ_FMT","alg","rs_alg","rs_signFunc","rs_keyId","rs_signer","hashAlgorithm","parsePrivateKey","isPrivateKey","rs_key","createSign","rs_headers","rs_lines","writeHeader","writeDateHeader","rfc1123","writeTarget","sig","sigObj","optionalString","optionalArrayOfString","_stringToSign","notStrictEqual","parseKey","pem","comment","parsedSignature","pubkey","Key","isKey","createVerify","hashAlg","h1","h2","_dbcs","DBCSCodec","UNASSIGNED","GB18030_CODE","SEQ_START","NODE_START","UNASSIGNED_NODE","DEF_CHAR","codecOptions","encodingName","mappingTable","decodeTables","decodeTableSeq","_addDecodeChunk","defaultCharUnicode","encodeTable","encodeTableSeq","skipEncodeChars","encodeSkipVals","_fillEncodeTable","encodeAdd","uChar","_setEncodeChar","defCharSB","defaultCharSingleByte","gb18030","thirdByteNodeIdx","thirdByteNode","fourthByteNodeIdx","fourthByteNode","secondByteNodeIdx","secondByteNode","encoder","DBCSEncoder","decoder","DBCSDecoder","_getDecodeTrieNode","addr","curAddr","writeTable","l","codeTrail","m","charCode","_getEncodeBucket","uCode","high","dbcsCode","bucket","low","_setEncodeSequence","oldVal","nodeIdx","mbCode","codec","leadSurrogate","seqObj","newBuf","nextChar","resCode","subtable","findIdx","uChars","gbChars","prevBuf","prevBufOffset","seqStart","curByte","curSeq","ptr","uCodeLead","mid","modules","bomAware","cesu8","unicode11utf8","ucs2","utf16le","_internal","InternalCodec","InternalEncoderBase64","InternalEncoderCesu8","InternalDecoderCesu8","InternalEncoder","InternalDecoder","StringDecoder","prevStr","completeQuads","bufIdx","acc","contBytes","accBytes","_sbcs","SBCSCodec","chars","asciiString","decodeBuf","encodeBuf","SBCSEncoder","SBCSDecoder","idx1","idx2","utf16be","Utf16BECodec","Utf16BEEncoder","Utf16BEDecoder","overflowByte","buf2","utf16","Utf16Codec","Utf16Encoder","Utf16Decoder","addBOM","getEncoder","initialBytes","initialBytesLen","detectEncoding","defaultEncoding","getDecoder","trail","asciiCharsLE","asciiCharsBE","utf7","Utf7Codec","unicode11utf7","Utf7Encoder","Utf7Decoder","nonDirectChars","inBase64","base64Accum","base64Regex","base64Chars","plusChar","minusChar","andChar","lastI","b64str","canBeDecoded","utf7imap","Utf7IMAPCodec","Utf7IMAPEncoder","Utf7IMAPDecoder","base64AccumIdx","base64IMAPChars","BOMChar","PrependBOM","PrependBOMWrapper","StripBOM","StripBOMWrapper","stripBOM","supportsNodeEncodingsExtension","extendNodeEncodings","nodeNativeEncodings","isNativeEncoding","SlowBuffer","SlowBufferToString","SlowBufferWrite","remaining","RangeError","BufferIsEncoding","isEncoding","BufferByteLength","BufferToString","BufferWrite","_length","_encoding","supportsStreams","Readable","ReadableSetEncoding","_readableState","collect","_collect","undoExtendNodeEncodings","bomHandling","skipDecodeWarning","getCodec","toEncoding","fromEncoding","_codecDataCache","_canonicalizeEncoding","codecDef","nodeVer","versions","nodeVerArr","Transform","encodeStream","IconvLiteEncoderStream","decodeStream","IconvLiteDecoderStream","conv","decodeStrings","_transform","_flush","chunks","ctor","superCtor","super_","TempCtor","expandIPv6","ipaddr","ipv4Part","ipv4Regexes","ipv6Part","ipv6Regexes","matchCIDR","zoneIndex","partSize","cidrBits","subnetMatch","rangeList","defaultName","rangeName","rangeSubnets","subnet","kind","IPv4","octets","toNormalizedString","toByteArray","cidrRange","SpecialRanges","unspecified","broadcast","multicast","linkLocal","loopback","carrierGradeNat","reserved","toIPv4MappedAddress","IPv6","prefixLengthFromSubnetMask","cidr","stop","zeros","zerotable","fourOctet","longValue","parseIntAuto","zoneId","toRFC5952String","bestMatchIndex","bestMatchLength","suffix","toFixedLengthString","padStart","uniqueLocal","ipv4Mapped","rfc6145","rfc6052","teredo","isIPv4MappedAddress","toIPv4Address","transitional","colonCount","lastColon","replacement","replacementCount","isIPv4","isIPv6","isValid","error1","isValidFourPartDecimal","parseCIDR","maskLength","subnetMaskFromPrefixLength","filledOctetCount","broadcastAddressFromCIDR","ipInterfaceOctets","subnetMaskOctets","networkAddressFromCIDR","fromByteArray","isSlowBuffer","_isBuffer","readFloatLE","isTypedArray","isStrictTypedArray","loose","isLooseTypedArray","Int8Array","Int16Array","Int32Array","Uint8ClampedArray","Uint16Array","Float32Array","Float64Array","isStream","isReadable","_read","isWritable","_write","_writableState","isDuplex","dbits","canary","j_lm","fromNumber","fromString","nbi","am1","am2","xl","xh","am3","inBrowser","appName","am","DB","DM","DV","BI_FP","FV","F1","F2","BI_RM","BI_RC","rr","vv","int2char","intAt","bnpCopyTo","bnpFromInt","nbv","fromInt","bnpFromString","fromRadix","mi","sh","clamp","subTo","bnpClamp","bnToString","toRadix","km","bnNegate","bnAbs","bnCompareTo","nbits","bnBitLength","bnpDLShiftTo","bnpDRShiftTo","bnpLShiftTo","bs","cbs","bm","ds","bnpRShiftTo","bnpSubTo","bnpMultiplyTo","bnpSquareTo","bnpDivRemTo","pm","pt","copyTo","ts","nsh","lShiftTo","ys","y0","yt","d1","d2","dlShiftTo","qd","drShiftTo","rShiftTo","bnMod","divRemTo","Classic","cConvert","cRevert","cReduce","cMulTo","multiplyTo","cSqrTo","squareTo","convert","revert","mulTo","sqrTo","bnpInvDigit","Montgomery","mp","invDigit","mpl","mph","um","mt2","montConvert","montRevert","montReduce","u0","montSqrTo","montMulTo","bnpIsEven","bnpExp","r2","bnModPowInt","exp","modPowInt","bnClone","bnIntValue","bnByteValue","bnShortValue","bnpChunkSize","LN2","bnSigNum","bnpToRadix","cs","chunkSize","bnpFromRadix","dMultiply","dAddOffset","bnpFromNumber","bitwiseTo","op_or","isProbablePrime","nextBytes","bnToByteArray","bnEquals","bnMin","bnMax","bnpBitwiseTo","op","op_and","bnAnd","bnOr","op_xor","bnXor","op_andnot","bnAndNot","bnNot","bnShiftLeft","bnShiftRight","lbit","bnGetLowestSetBit","cbit","bnBitCount","bnTestBit","bnpChangeBit","bnSetBit","changeBit","bnClearBit","bnFlipBit","bnpAddTo","bnAdd","addTo","bnSubtract","bnMultiply","bnSquare","bnDivide","bnRemainder","bnDivideAndRemainder","bnpDMultiply","bnpDAddOffset","NullExp","nNop","nMulTo","nSqrTo","bnPow","bnpMultiplyLowerTo","bnpMultiplyUpperTo","q3","mu","barrettConvert","barrettRevert","barrettReduce","multiplyUpperTo","multiplyLowerTo","barrettSqrTo","barrettMulTo","bnModPow","k1","g2","is1","bnGCD","bnpModInt","bnModInverse","ac","lowprimes","lplim","bnIsProbablePrime","modInt","millerRabin","bnpMillerRabin","byteValue","shortValue","and","or","xor","andNot","bitCount","setBit","clearBit","flipBit","remainder","divideAndRemainder","gcd","rng_state","rng_pool","rng_pptr","rng_seed_int","rng_psize","rng_seed_time","getRandomValues","ua","appVersion","rng_get_byte","prng_newstate","rng_get_bytes","ba","Arcfour","ARC4init","ARC4next","pre","post","_traverse","arrayKeywords","propsKeywords","skipKeywords","enum","exclusiveMaximum","exclusiveMinimum","escapeJsonPtr","factory","define","primitiveConstructors","instance","changing","checkPropertyChange","_changing","getType","checkProp","addError","readonly","unionErrors","priorErrors","theseErrors","disallow","itemsIsArray","propDef","checkObj","enumer","found","maxDecimal","objTypeDef","additionalProp","existingOnly","requires","mustBeValid","getSerialize","serializer","cycleReplacer","thisPos","mod_extsprintf","mod_verror","mod_jsonschema","deepCopy","deepEqual","isEmpty","hasKey","forEachKey","pluck","flattenObject","flattenIter","validateJsonObject","validateJsonObjectJS","randElt","extraProperties","mergeObjects","startsWith","endsWith","parseInteger","iso8601","parseDateTime","hrtimediff","hrtimeDiff","hrtimeAccum","hrtimeAdd","hrtimeNanosec","hrtimeMicrosec","hrtimeMillisec","marker","obj1","obj2","pluckv","key1","doFlattenIter","accum","each","rv","getUTCFullYear","getUTCMonth","getUTCDate","getUTCHours","getUTCMinutes","getUTCSeconds","getUTCMilliseconds","RFC1123_MONTHS","RFC1123_DAYS","getUTCDay","numeric","MAX_SAFE_INTEGER","MIN_SAFE_INTEGER","PI_DEFAULTS","base","allowSign","allowPrefix","allowTrailing","allowImprecise","trimWhitespace","leadingZeroIsOctal","CP_0","CP_9","CP_A","CP_B","CP_O","CP_T","CP_X","CP_Z","CP_a","CP_b","CP_o","CP_t","CP_x","CP_z","PI_CONV_DEC","PI_CONV_UC","PI_CONV_LC","uopts","optionalObject","baseOverride","pbase","mult","isSpace","prefixToBase","translateDigit","input","report","propname","reason","VError","jsv_details","assertHrtime","allowed","provided","overrides","FF","_ff","GG","_gg","HH","_hh","II","_ii","aa","bb","cc","dd","_blocksize","_digestsize","digestbytes","asBytes","asString","paramRegExp","textRegExp","tokenRegExp","qescRegExp","quoteRegExp","subtypeNameRegExp","typeNameRegExp","typeRegExp","subtype","splitType","redefine","forEachOwnPropertyName","getCurrentNodeMethods","getBasicNodeMethods","METHODS","lowerCaseMethod","db","EXTRACT_TYPE_REGEXP","TEXT_TYPE_REGEXP","extensions","populateMaps","exts","preference","forEachMimeType","Mime","DEBUG_MIME","_loading","readFileSync","lines","default_type","mimeType","morgan","token","onHeaders","CLF_MONTH","DEFAULT_BUFFER_DURATION","immediate","skip","formatLine","getFormatFunction","interval","createBufferStream","_startAt","_startTime","_remoteAddress","getip","recordStartTime","logRequest","developmentFormatLine","tokens","getUrlToken","getMethodToken","getResponseTimeToken","digits","getDateToken","clfdate","getStatusToken","getReferrerToken","getRemoteUserToken","getHttpVersionToken","httpVersionMajor","httpVersionMinor","getUserAgentToken","getRequestToken","getResponseHeader","mins","secs","pad2","js","tokenArguments","tokenFunction","timer","flush","num","hrtime","long","fmtLong","fmtShort","round","plural","ceil","available","preferredCharsets","loadModule","preferredEncodings","preferredLanguages","mediaType","preferredMediaTypes","preferredCharset","preferredEncoding","preferredLanguage","preferredMediaType","moduleName","simpleCharsetRegExp","parseAcceptCharset","parseCharset","getCharsetPriority","accepted","priority","spec","specify","isQuality","compareSpecs","getFullCharset","priorities","getPriority","simpleEncodingRegExp","parseAcceptEncoding","hasIdentity","minQuality","parseEncoding","getEncodingPriority","getFullEncoding","getEncoding","simpleLanguageRegExp","parseAcceptLanguage","parseLanguage","getLanguagePriority","getFullLanguage","getLanguage","simpleMediaTypeRegExp","parseAccept","splitMediaTypes","parseMediaType","kvps","splitParameters","splitKeyValuePair","getMediaTypePriority","getFullType","quoteCount","sha","rsa","rfc3986","compare","generateBase","httpMethod","base_uri","normalized","hmacsign","consumer_secret","token_secret","hmacsign256","rsasign","private_key","plaintext","signMethod","skipArgs","getOwnPropertySymbols","propIsEnumerable","propertyIsEnumerable","toObject","shouldUseNative","test1","test2","order2","test3","letter","symbols","attachListener","finished","complete","upgrade","attachFinishedListener","eeMsg","eeSocket","onFinish","patchAssignSocket","attached","__onFinished","queue","createListener","assignSocket","_assignSocket","createWriteHead","prevWriteHead","fired","writeHead","setWriteHeadHeaders","setHeadersFromArray","setHeadersFromObject","headerIndex","Url","parseurl","originalurl","_parsedUrl","fastparse","_raw","_parsedOriginalUrl","search","href","parsedUrl","pathtoRegexp","MATCHING_GROUP_REGEXP","extraOffset","keysOffset","optional","slash","capture","star","escapeCount","alladdrs","DIGIT_REGEXP","isip","parseip","IP_RANGES","linklocal","uniquelocal","compileRangeSubnets","parseipNotation","trustNone","trustSingle","trustMulti","note","parseNetmask","netmask","subnets","ipconv","subnetip","subnetkind","subnetrange","trusted","subnetisipv4","Punycode","internals","punySuffix","wildcard","findRule","punyDomain","toASCII","memo","errorCodes","DOMAIN_TOO_SHORT","DOMAIN_TOO_LONG","LABEL_STARTS_WITH_DASH","LABEL_ENDS_WITH_DASH","LABEL_TOO_LONG","LABEL_TOO_SHORT","LABEL_INVALID_CHARS","ascii","labels","label","tld","sld","subdomain","listed","domainParts","handlePunycode","tldParts","privateParts","percentTwenties","RFC1738","RFC3986","allowDots","charsetSentinel","comma","delimiter","ignoreQueryPrefix","interpretNumericEntities","parseArrays","plainObjects","strictNullHandling","$0","numberStr","isoSentinel","parseValues","parseQueryStringValues","cleanStr","skipIndex","bracketEqualsPos","combine","parseObject","chain","leaf","cleanRoot","parseKeys","parseQueryStringKeys","givenKey","brackets","child","normalizeParseOptions","tempObj","newObj","compact","arrayPrefixGenerators","indices","repeat","pushToArray","valueOrArray","toISO","addQueryPrefix","encodeValuesOnly","serializeDate","skipNulls","generateArrayPrefix","keyValue","objKeys","normalizeStringifyOptions","arrayFormat","joined","hexTable","compactQueue","compacted","arrayToObject","mergeTarget","targetItem","assignSingleSource","strWithoutPlus","defaultEncoder","rangeParser","ranges","combineRanges","ordered","mapWithIndex","sortByRangeStart","current","combined","sortByRangeIndex","mapWithoutIndex","getRawBody","ICONV_ENCODING_MESSAGE_REGEXP","global","readStream","executor","onRead","halt","sync","_decoder","received","onAborted","onData","onEnd","invokeCallback","cookies","helpers","paramsHaveRequestBody","initParams","Request","verbFunc","patch","jar","store","wrapRequestMethod","requester","pool","verbs","forever","agentOptions","optionsArg","caseless","toBase64","Auth","hasAuth","sentAuth","bearerToken","user","basic","sendImmediately","bearer","challenge","ha1Compute","realm","nonce","cnonce","ha1","qop","nc","ha2","digestResponse","authValues","username","opaque","onRequest","onResponse","authVerb","tough","Cookie","CookieJar","RequestJar","_jar","looseMode","setCookie","cookieOrStr","setCookieSync","getCookieString","getCookieStringSync","getCookies","getCookiesSync","formatHostname","parseNoProxyZone","zone","zoneParts","zoneHost","zonePort","hasPort","uriInNoProxy","noProxy","noProxyList","some","noProxyZone","isMatchedAt","hostnameMatched","getProxyFromURI","NO_PROXY","no_proxy","HTTP_PROXY","http_proxy","HTTPS_PROXY","https_proxy","Har","queryObj","headersObj","jsonObj","paramsObj","queryString","reduceRight","entries","bodySize","headersSize","form","formData","createReadStream","randomString","bits","calculatePayloadHash","payload","calculateMac","dlg","localtimeOffsetMsec","artifacts","hasExt","jsonSafeStringify","requestBodyStream","multipart","safeStringify","isReadStream","rs","version","numbers","major","minor","isstream","Multipart","chunked","isChunked","build","preambleCRLF","preamble","postambleCRLF","oauth","OAuth","buildParams","_oauth","qsLib","oa","oauth_version","oauth_timestamp","oauth_nonce","oauth_signature_method","consumer_secret_or_private_key","oauth_consumer_secret","oauth_private_key","oauth_token_secret","oauth_realm","oauth_transport_method","baseurl","oauth_signature","buildBodyHash","signature_method","shasum","concatParams","sep","formContentType","transport","transport_method","body_hash","Querystring","lib","useQuerystring","parseOptions","stringifyOptions","qsParseOptions","qsStringifyOptions","eq","isUrl","Redirect","followRedirect","followRedirects","followAllRedirects","followOriginalHttpMethod","allowRedirect","maxRedirects","redirects","redirectsFollowed","removeRefererHeader","redirectTo","_auth","uriPrev","agent","redirectUri","_started","_form","originalHost","tunnel","defaultProxyHeaderWhiteList","defaultProxyHeaderExclusiveList","constructProxyHost","uriObject","proxyHost","constructProxyHeaderWhiteList","proxyHeaderWhiteList","whiteList","constructTunnelOptions","proxyHeaders","tunnelOptions","proxyAuth","ca","cert","passphrase","pfx","ciphers","rejectUnauthorized","secureOptions","secureProtocol","constructTunnelFnName","uriProtocol","proxyProtocol","getTunnelFn","tunnelFnName","Tunnel","proxyHeaderExclusiveList","tunnelOverride","isEnabled","setup","tunnelFn","aws2","httpSignature","hawk","globalCookieJar","globalPool","filterForNonReserved","notReserved","filterOutReservedFunctions","isReserved","requestToJSON","responseToJSON","_har","nonReserved","explicitMethod","_qs","_multipart","_redirect","_tunnel","NODE_DEBUG","headerName","dests","__isRequestRequest","_callback","_callbackCalled","baseUrlEndsWithSlash","uriStartsWithSlash","enableUnixSocket","strictSSL","isUnix","faultyUri","setHost","hostHeaderName","originalHostHeaderName","requestForm","appendFormValue","formKey","formValue","aws","password","gzip","uriAuthPieces","proxyAuthPieces","timing","elapsedTime","setContentLength","defaultModules","httpModules","httpModule","agentClass","keepAlive","getNewAgent","ntick","_aborted","poolKey","isHttps","globalAgent","startTime","startTimeNow","_aws","reqOptions","timeout","timeoutTimer","onRequestResponse","onRequestError","isConnecting","_connecting","connecting","onLookupTiming","onConnectTiming","once","setReqTimeout","onReqSockConnect","clearTimeout","timingStart","timingPhases","wait","dns","tcp","firstByte","total","authorized","sslErr","authorizationError","targetCookieJar","addCookie","ignoreError","_disableCookies","_ended","noBody","responseContent","contentEncoding","zlibOptions","Z_SYNC_FLUSH","finishFlush","_paused","pipeDest","responseStarted","responseStartTime","_destdata","readResponseBody","buffers","bufferLength","_jsonReviver","ctname","clname","pipefilter","jsonReplacer","_jsonReplacer","jsonReviver","unixParts","socketPath","sign_version","signRes","session","originalCookieHeader","urihref","copyProps","allocUnsafe","allocUnsafeSlow","SafeBuffer","encodingOrOffset","fill","safer","Safer","kStringMaxLength","constants","MAX_LENGTH","kMaxLength","MAX_STRING_LENGTH","BYTES_RANGE_REGEXP","MAX_MAXAGE","UP_PATH_REGEXP","SendStream","_acceptRanges","acceptRanges","_cacheControl","_etag","_dotfiles","dotfiles","_hidden","hidden","_extensions","normalizeList","_immutable","immutable","_index","_lastModified","_maxage","maxage","hasListeners","doc","clearHeaders","hasTrailingSlash","isConditionalGET","isPreconditionFailure","unmodifiedSince","removeContentHeaderFields","getHeaderNames","notModified","headersAlreadySent","isCachable","onStatError","isFresh","isRangeFresh","ifRange","collapseLeadingSlashes","containsDotFile","access","sendIndex","contentRange","onstat","isDirectory","modified","title","_headers","msAbs","isPlural","serveStatic","fallthrough","onDirectory","createRedirectDirectoryListener","createNotFoundDirectoryListener","forwardError","onFile","notFound","__proto__","setProtoOf","mixinProperties","algInfo","sizePart","algPrivInfo","hashAlgs","curves","pkcs8oid","info","privInfo","Certificate","algs","Fingerprint","Signature","errs","Identity","CertificateParseError","arrayOfObject","subjects","assertCompatible","subjectKey","issuer","issuerKey","signatures","validFrom","validUntil","purposes","_hashCache","toBuffer","algo","isExpired","when","isSignedBy","issuerCert","isSignedByKey","getExtension","keyOrOid","getExtensions","maybeExt","oid","x509","extras","openssh","signWith","fmts","didOne","createSelfSigned","subjectOrSubjects","subject","optionalNumber","lifetime","setTime","optionalBuffer","hostSubjects","userSubjects","toPublic","isCertificate","ver","isCompatible","_sshpkApiVersion","_oldVersionDetect","DiffieHellman","generateECDSA","generateED25519","nacl","CRYPTO_HAVE_ECDH","createECDH","ecdh","ec","jsbn","_isPriv","_algo","_curve","_dh","createDiffieHellman","_p","_g","setPrivateKey","setPublicKey","_ecParams","_priv","ECPrivate","getPublicKey","getPrivateKey","getKey","_keyCheck","pk","isPub","setKey","computeSecret","otherpk","pub","ECPublic","A","strictEqual","box","before","generateKey","generateKeys","keyPair","secretKey","publicKey","_pub","mpNormalize","pubKey","osCurve","dh","ecParams","cByteLen","Verifier","Signer","hashAlgo","Writable","isSignature","detached","sigBuf","FingerprintFormatError","fp","KeyParseError","innerErr","keyName","SignatureParseError","certName","KeyEncryptedError","hashType","addColons","sshBase64Format","theirHash","theirHash2","hash2","base64RE","hexRE","enAlgs","base64Strip","isFingerprint","ssh","rfc4253","dnssec","putty","DNSSEC_PRIVKEY_HEADER_PREFIX","findDNSSECHeader","findPEMHeader","findSSHHeader","findPuTTYHeader","readUInt32BE","headerCheck","SSHBuffer","Dhe","supportedAlgos","supportedAlgosById","algElems","algoNum","algoName","readDNSSECPrivateKey","readRFC3110","keyString","elems","base64key","keyBuffer","publicExponentLen","readUInt8","publicExponent","modulus","rsaKey","ecdsaKey","ecNormalize","elementToBuf","readDNSSECRSAPrivateKey","elements","rsaParams","element","publicFromPrivateECDSA","dnssecTimestamp","getFullYear","getMonth","timestampStr","rsaAlgFromOptions","writeRSA","dmodp","dmodq","addRSAMissing","mpDenormalize","iqmp","writeECDSA","base64Key","signAsync","fromBuffer","ECDSA_ALGO","sshbuf","innerAlgo","readBuffer","getAlg","partCount","readPart","readInt64","principals","pbuf","psshbuf","atEnd","pr","forUser","forHost","int64ToDate","extbuf","critical","signingKeyBuf","consumed","sourceInt64","dateToInt64","upper","lower","writeUInt32BE","blob","getCertType","noSig","writePart","writeInt64","uid","sub","certType","asn1","pkcs1","pkcs8","sshpriv","OID_PBES2","OID_PBKDF2","OID_TO_CIPHER","CIPHER_TO_OID","OID_TO_HASH","HASH_TO_OID","forceType","si","m2","ei","cipher","iv","opensslKeyDeriv","eder","pbesEnd","kdfEnd","kdfOid","iterations","hashAlgOid","cipherOid","cinfo","opensshCipherInfo","opensslName","pbkdf2","keySize","cipherStream","createDecipheriv","readSSHPrivate","readType","der","originalInput","readPkcs1","readPkcs8","writePkcs8","writePkcs1","readECDSACurve","readMPInt","nm","readPkcs1RSAPublic","readPkcs1RSAPrivate","readPkcs1DSAPublic","readPkcs1DSAPrivate","readPkcs1ECDSAPrivate","readPkcs1ECDSAPublic","readPkcs1EdDSAPrivate","readBitString","zeroPadToLength","curveOid","cd","writePkcs1RSAPrivate","writePkcs1RSAPublic","writePkcs1DSAPrivate","writePkcs1DSAPublic","writePkcs1ECDSAPrivate","writePkcs1ECDSAPublic","writePkcs1EdDSAPrivate","writePkcs1EdDSAPublic","writeBitString","pkcs8ToBuffer","writeECDSACurve","readPkcs8RSAPublic","readPkcs8RSAPrivate","readPkcs8DSAPublic","readPkcs8DSAPrivate","readPkcs8ECDSAPublic","readPkcs8ECDSAPrivate","readPkcs8EdDSAPublic","readPkcs8EdDSAPrivate","readPkcs8X25519Public","readPkcs8X25519Private","calculateDSAPublic","curveName","curveNames","fieldTypeOid","countZeros","ks","calculateED25519Public","calculateX25519Public","sillyInt","writePkcs8RSAPrivate","writePkcs8RSAPublic","writePkcs8DSAPrivate","writePkcs8DSAPublic","writePkcs8ECDSAPrivate","writePkcs8ECDSAPublic","writePkcs8EdDSAPublic","writePkcs8EdDSAPrivate","splitHeader","publicLines","publicBuf","keyType","algToKeyType","rest","keyTypeToAlg","b64","txt","readPartial","readInternal","nd","_rfc4253Cache","bcrypt","MAGIC","magic","readCString","kdf","kdfOpts","nkeys","privKeyBlob","kdfOptsBuf","cinf","salti","blockSize","ckey","setAutoPadding","checkInt1","checkInt2","kdfopts","privBuf","checkInt","writeChar","kdfssh","createCipheriv","writeCString","SSHKEY_RE","SSHKEY_RE2","trimmed","kbuf","realOffset","padding","trailer","dbuf","algParts","writeTBSCert","verifier","Local","SIGN_ALGS","EXTS","remain","tbsStart","sigOffset","tbsEnd","after","certAlgOid","certAlg","parseAsn1","readDate","issuerUniqueID","subjectUniqueID","extEnd","readExtension","sigAlgOid","sigAlg","sigData","utcTimeToDate","gTimeToDate","writeDate","dateToGTime","dateToUTCTime","ALTNAME","OtherName","RFC822Name","DNSName","X400Address","DirectoryName","EDIPartyName","IPAddress","EXTPURPOSE","EXTPURPOSE_REV","KEYUSEBITS","extId","basicConstraints","bcEnd","bc","pathLen","extKeyUsage","ekEnd","ide","components","keyUsage","setBits","readBitField","bit","altName","aeEnd","forEmail","UTCTIME_RE","thisYear","century","setUTCFullYear","setUTCHours","setUTCSeconds","GTIME_RE","zeroPad","defaultHashAlgorithm","toAsn1","altNames","purpose","writeBitField","bitIndex","bitLen","byteN","mask","bitVal","blen","unused","DNS_NAME_RE","oids","cn","ou","sn","postalCode","serialNumber","street","x500UniqueIdentifier","role","telephoneNumber","description","dc","mail","gn","initials","pseudonym","emailAddress","unoids","componentLookup","asArray","toArray","NOT_PRINTABLE","NOT_IA5","asn1type","globMatch","aParts","bParts","isIdentity","parseDN","dn","rem","cmps","eqPos","fromArray","top","parseFingerprint","parseSignature","generatePrivateKey","generate","parseCertificate","createSelfSignedCertificate","createCertificate","identityFromDN","identityForHost","identityForUser","identityForEmail","identityFromArray","edCompat","partLookup","szPart","oldVerify","createDH","dhe","_pubCache","pubParts","derive","newType","fromSecretKey","fromSeed","oldSign","stype","inner","parseOneNum","parseDSAasn1","parseDSA","parseECDSA","_buffer","expand","readChar","lead","bufferSplit","MAX_CLASS_DEPTH","klass","needVer","getPrototypeOf","CIPHER_LEN","PKCS5_SALT_LEN","clen","D","D_prev","bufs","material","hkey","gen","T","I","Ti","Uc","obit","newPart","addZero","bigintToMpBuf","bigint","ybuf","kp","inf","STATUS_CODES","populateStatusesMap","empty","retry","urlParse","pubsuffix","Store","MemoryCookieStore","pathMatch","VERSION","punycode","COOKIE_OCTETS","CONTROL_CHARS","TERMINATORS","PATH_VALUE","DATE_DELIM","MONTH_TO_NUM","jan","feb","mar","apr","may","jun","jul","aug","oct","nov","NUM_TO_MONTH","NUM_TO_DAY","MAX_TIME","MIN_TIME","parseDigits","minDigits","maxDigits","trailingOK","parseTime","parseMonth","parseDate","dayOfMonth","UTC","formatDate","canonicalDomain","domainMatch","domStr","canonicalize","defaultPath","rightSlash","trimTerminator","terminatorIdx","parseCookiePair","cookiePair","firstEq","cookieName","cookieValue","firstSemi","unparsed","cookie_avs","av","av_sep","av_key","av_value","delta","setMaxAge","jsonParse","fromJSON","serializableProperties","cookieCompare","aPathLen","bPathLen","aTime","creation","bTime","creationIndex","permutePath","permutations","lindex","getCookieContext","cookiesCreated","hostOnly","pathIsDefault","lastAccessed","cdomain","getPublicSuffix","setExpires","age","cookieString","TTL","expiryTime","relativeTo","expiryDate","millisec","isPersistent","canonicalizedDomain","rejectPublicSuffixes","enableLooseMode","CAN_BE_SYNC","updateCookie","oldCookie","newCookie","putCookie","withCookie","findCookie","expireCheck","expire","allPaths","matchingCookie","removeCookie","findCookies","getSetCookieStrings","serialized","storeType","getAllCookies","serializeSync","_importCookies","putNext","deserialize","strOrObj","deserializeSync","synchronous","_importCookiesSync","newStore","syncWrap","syncErr","syncResult","syncCb","permuteDomain","pathMatcher","matchAll","domainIndex","curPath","pathIndex","matchRFC","cookiePath","domains","curDomain","removeCookies","reqPath","pubSuf","cur","psl","events","httpOverHttp","httpsOverHttp","httpOverHttps","httpsOverHttps","TunnelingAgent","createSecureSocket","defaultPort","proxyOptions","onFree","pending","onCloseOrRemove","placeholder","connectOptions","mergeOptions","connectReq","onUpgrade","onConnect","onError","removeAllListeners","secureSocket","servername","keyLen","gf","randombytes","_0","_9","gf0","gf1","_121665","D2","X","Y","ts64","vn","xi","yi","crypto_verify_16","crypto_verify_32","core_salsa20","j0","j1","j2","j3","j4","j5","j6","j7","j8","j9","j10","j11","j12","j13","j14","j15","x0","x4","x5","x6","x7","x9","x10","x11","x12","x13","x14","x15","core_hsalsa20","crypto_core_salsa20","inp","crypto_core_hsalsa20","sigma","crypto_stream_salsa20_xor","cpos","mpos","crypto_stream_salsa20","crypto_stream","crypto_stream_xor","poly1305","leftover","fin","t0","t1","t2","t3","t4","t5","t6","t7","hibit","d0","d3","d4","d5","d6","d7","d9","h0","h3","h4","h5","h6","h7","h8","h9","r0","r1","r3","r4","r5","r6","r7","r8","r9","finish","macpos","want","crypto_onetimeauth","outpos","crypto_onetimeauth_verify","hpos","crypto_secretbox","crypto_secretbox_open","set25519","car25519","sel25519","pack25519","neq25519","par25519","unpack25519","Z","M","t8","t9","t10","t11","t12","t13","t14","t15","t16","t17","t18","t19","t20","t21","t22","t23","t24","t25","t26","t27","t28","t29","t30","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","b10","b11","b12","b13","b14","b15","inv25519","pow2523","crypto_scalarmult","x32","x16","crypto_scalarmult_base","crypto_box_keypair","crypto_box_beforenm","crypto_box_afternm","crypto_box_open_afternm","crypto_box","crypto_box_open","K","crypto_hashblocks_hl","hh","hl","wh","wl","bh0","bh1","bh2","bh3","bh4","bh5","bh6","bh7","bl0","bl1","bl2","bl3","bl4","bl5","bl6","bl7","th","tl","ah0","ah1","ah2","ah3","ah4","ah5","ah6","ah7","al0","al1","al2","al3","al4","al5","al6","al7","cswap","pack","tx","ty","zi","scalarmult","scalarbase","crypto_sign_keypair","sk","seeded","L","modL","carry","crypto_sign","sm","smlen","unpackneg","chk","den","den2","den4","den6","crypto_sign_open","mlen","crypto_secretbox_KEYBYTES","crypto_secretbox_NONCEBYTES","crypto_secretbox_ZEROBYTES","crypto_secretbox_BOXZEROBYTES","crypto_scalarmult_BYTES","crypto_scalarmult_SCALARBYTES","crypto_box_PUBLICKEYBYTES","crypto_box_SECRETKEYBYTES","crypto_box_BEFORENMBYTES","crypto_box_NONCEBYTES","crypto_box_ZEROBYTES","crypto_box_BOXZEROBYTES","crypto_sign_BYTES","crypto_sign_PUBLICKEYBYTES","crypto_sign_SECRETKEYBYTES","crypto_sign_SEEDBYTES","crypto_hash_BYTES","checkLengths","checkBoxLengths","checkArrayTypes","decodeUTF8","encodeUTF8","encodeBase64","secretbox","open","keyLength","nonceLength","overheadLength","scalarMult","scalarLength","groupElementLength","publicKeyLength","secretKeyLength","sharedKeyLength","signedMsg","seed","seedLength","signatureLength","hashLength","setPRNG","msCrypto","QUOTA","typer","typeofrequest","hasbody","mimeMatch","tryNormalizeType","actualParts","expectedParts","hasPipeDataListeners","sets","ALPHA$$","CR$","DIGIT$$","DQUOTE$$","HEXDIG$$","SP$$","PCT_ENCODED$","subexp","SUB_DELIMS$$","RESERVED$$","UCSCHAR$$","isIRI","SCHEME$","USERINFO$","DEC_OCTET$","DEC_OCTET_RELAXED$","H16$","LS32$","IPV6ADDRESS1$","ZONEID$","UNRESERVED$$","IPV6ADDRESS$","IP_LITERAL$","IPV6ADDRZ_RELAXED$","HOST$","PORT$","AUTHORITY$","PCHAR$","SEGMENT$","SEGMENT_NZ$","SEGMENT_NZ_NC$","PATH_ABEMPTY$","PATH_ABSOLUTE$","PATH$","QUERY$","FRAGMENT$","HIER_PART$","URI$","RELATIVE_PART$","RELATIVE$","URI_REFERENCE$","ABSOLUTE_URI$","GENERIC_REF$","RELATIVE_REF$","ABSOLUTE_REF$","SAMEDOC_REF$","AUTHORITY_REF$","buildExps","maxInt","tMin","tMax","damp","initialBias","initialN","regexPunycode","regexNonASCII","regexSeparators","baseMinusTMin","stringFromCharCode","counter","extra","ucs2encode","basicToDigit","codePoint","digitToBasic","digit","flag","adapt","firstTime","inputLength","bias","oldi","baseMinusT","ucs2decode","currentValue","basicLength","handledCPCount","handledCPCountPlusOne","qMinusT","toUnicode","SCHEMES","newStr","il","c2","c3","decodeUnreserved","decStr","pctDecChars","last","firstFields","lastFields","isLastFieldIPv4Address","fieldCount","lastFieldsStart","_normalizeIPv4","allZeroFields","lastLongest","longestZeroFields","newHost","newFirst","newLast","URI_PARSE","NO_MATCH_IS_UNDEFINED","uriString","_normalizeIPv6","schemeHandler","uriTokens","$2","RDS1","RDS2","RDS3","RDS5","im","authority","_recomposeAuthority","removeDotSegments","skipNormalization","schemelessOptions","resolveComponents","typeOf","uriA","URI_PROTOCOL","IRI_PROTOCOL","handler","ATEXT$$","QTEXT$$","VCHAR$$","SOME_DELIMS$$","UNRESERVED","PCT_ENCODED","NOT_LOCAL_PART","NOT_HFNAME","NOT_HFVALUE","mailtoComponents","unknownHeaders","hfields","hfield","toAddrs","unescapeComponent","toAddr","atIdx","localPart","URN_PARSE","urnComponents","nid","nss","urnScheme","uriComponents","uuidComponents","mailto","urn","byteToHex","bytesToUuid","bth","nodeRNG","rng","v4","rnds","ii","FIELD_NAME_REGEXP","fld","mod_assertplus","mod_isError","SError","WError","MultiError","parseConstructorArguments","argv","sprintf_args","shortmessage","jse_shortmsg","jse_cause","skipCauseMessage","jse_info","constructorOpt","ve_toString","ve_cause","findCauseByName","hasCauseWithName","fullStack","errorFromList","errorForEach","iterError","ase_errors","me_errors","we_toString","we_cause","webpackPolyfill","children","express","wechat","wechat_notify","WXPAY","buildXML","buildOptions","sendToWeChat","APP_ID","APP_SECRET","MCH_ID","BODY","SCENE_INFO","NOTIFY_URL","DEVICE_INFO","TRADE_TYPE","MAX_NONCE_STRING_LENGTH","isNumeric","randomstring","obj2str","keyArray","getCost","amount","getNonceStr","getTimestamp","signString","appid","mch_id","scene_info","nonce_str","out_trade_no","spbill_create_ip","total_fee","trade_type","xml"],"mappings":"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","file":"server.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./src/root.js\");\n","/*!\n * accepts\n * Copyright(c) 2014 Jonathan Ong\n * Copyright(c) 2015 Douglas Christopher Wilson\n * MIT Licensed\n */\n\n'use strict'\n\n/**\n * Module dependencies.\n * @private\n */\n\nvar Negotiator = require('negotiator')\nvar mime = require('mime-types')\n\n/**\n * Module exports.\n * @public\n */\n\nmodule.exports = Accepts\n\n/**\n * Create a new Accepts object for the given req.\n *\n * @param {object} req\n * @public\n */\n\nfunction Accepts (req) {\n  if (!(this instanceof Accepts)) {\n    return new Accepts(req)\n  }\n\n  this.headers = req.headers\n  this.negotiator = new Negotiator(req)\n}\n\n/**\n * Check if the given `type(s)` is acceptable, returning\n * the best match when true, otherwise `undefined`, in which\n * case you should respond with 406 \"Not Acceptable\".\n *\n * The `type` value may be a single mime type string\n * such as \"application/json\", the extension name\n * such as \"json\" or an array `[\"json\", \"html\", \"text/plain\"]`. When a list\n * or array is given the _best_ match, if any is returned.\n *\n * Examples:\n *\n *     // Accept: text/html\n *     this.types('html');\n *     // => \"html\"\n *\n *     // Accept: text/*, application/json\n *     this.types('html');\n *     // => \"html\"\n *     this.types('text/html');\n *     // => \"text/html\"\n *     this.types('json', 'text');\n *     // => \"json\"\n *     this.types('application/json');\n *     // => \"application/json\"\n *\n *     // Accept: text/*, application/json\n *     this.types('image/png');\n *     this.types('png');\n *     // => undefined\n *\n *     // Accept: text/*;q=.5, application/json\n *     this.types(['html', 'json']);\n *     this.types('html', 'json');\n *     // => \"json\"\n *\n * @param {String|Array} types...\n * @return {String|Array|Boolean}\n * @public\n */\n\nAccepts.prototype.type =\nAccepts.prototype.types = function (types_) {\n  var types = types_\n\n  // support flattened arguments\n  if (types && !Array.isArray(types)) {\n    types = new Array(arguments.length)\n    for (var i = 0; i < types.length; i++) {\n      types[i] = arguments[i]\n    }\n  }\n\n  // no types, return all requested types\n  if (!types || types.length === 0) {\n    return this.negotiator.mediaTypes()\n  }\n\n  // no accept header, return first given type\n  if (!this.headers.accept) {\n    return types[0]\n  }\n\n  var mimes = types.map(extToMime)\n  var accepts = this.negotiator.mediaTypes(mimes.filter(validMime))\n  var first = accepts[0]\n\n  return first\n    ? types[mimes.indexOf(first)]\n    : false\n}\n\n/**\n * Return accepted encodings or best fit based on `encodings`.\n *\n * Given `Accept-Encoding: gzip, deflate`\n * an array sorted by quality is returned:\n *\n *     ['gzip', 'deflate']\n *\n * @param {String|Array} encodings...\n * @return {String|Array}\n * @public\n */\n\nAccepts.prototype.encoding =\nAccepts.prototype.encodings = function (encodings_) {\n  var encodings = encodings_\n\n  // support flattened arguments\n  if (encodings && !Array.isArray(encodings)) {\n    encodings = new Array(arguments.length)\n    for (var i = 0; i < encodings.length; i++) {\n      encodings[i] = arguments[i]\n    }\n  }\n\n  // no encodings, return all requested encodings\n  if (!encodings || encodings.length === 0) {\n    return this.negotiator.encodings()\n  }\n\n  return this.negotiator.encodings(encodings)[0] || false\n}\n\n/**\n * Return accepted charsets or best fit based on `charsets`.\n *\n * Given `Accept-Charset: utf-8, iso-8859-1;q=0.2, utf-7;q=0.5`\n * an array sorted by quality is returned:\n *\n *     ['utf-8', 'utf-7', 'iso-8859-1']\n *\n * @param {String|Array} charsets...\n * @return {String|Array}\n * @public\n */\n\nAccepts.prototype.charset =\nAccepts.prototype.charsets = function (charsets_) {\n  var charsets = charsets_\n\n  // support flattened arguments\n  if (charsets && !Array.isArray(charsets)) {\n    charsets = new Array(arguments.length)\n    for (var i = 0; i < charsets.length; i++) {\n      charsets[i] = arguments[i]\n    }\n  }\n\n  // no charsets, return all requested charsets\n  if (!charsets || charsets.length === 0) {\n    return this.negotiator.charsets()\n  }\n\n  return this.negotiator.charsets(charsets)[0] || false\n}\n\n/**\n * Return accepted languages or best fit based on `langs`.\n *\n * Given `Accept-Language: en;q=0.8, es, pt`\n * an array sorted by quality is returned:\n *\n *     ['es', 'pt', 'en']\n *\n * @param {String|Array} langs...\n * @return {Array|String}\n * @public\n */\n\nAccepts.prototype.lang =\nAccepts.prototype.langs =\nAccepts.prototype.language =\nAccepts.prototype.languages = function (languages_) {\n  var languages = languages_\n\n  // support flattened arguments\n  if (languages && !Array.isArray(languages)) {\n    languages = new Array(arguments.length)\n    for (var i = 0; i < languages.length; i++) {\n      languages[i] = arguments[i]\n    }\n  }\n\n  // no languages, return all requested languages\n  if (!languages || languages.length === 0) {\n    return this.negotiator.languages()\n  }\n\n  return this.negotiator.languages(languages)[0] || false\n}\n\n/**\n * Convert extnames to mime.\n *\n * @param {String} type\n * @return {String}\n * @private\n */\n\nfunction extToMime (type) {\n  return type.indexOf('/') === -1\n    ? mime.lookup(type)\n    : type\n}\n\n/**\n * Check if mime is valid.\n *\n * @param {String} type\n * @return {String}\n * @private\n */\n\nfunction validMime (type) {\n  return typeof type === 'string'\n}\n","'use strict';\n\nvar compileSchema = require('./compile')\n  , resolve = require('./compile/resolve')\n  , Cache = require('./cache')\n  , SchemaObject = require('./compile/schema_obj')\n  , stableStringify = require('fast-json-stable-stringify')\n  , formats = require('./compile/formats')\n  , rules = require('./compile/rules')\n  , $dataMetaSchema = require('./data')\n  , util = require('./compile/util');\n\nmodule.exports = Ajv;\n\nAjv.prototype.validate = validate;\nAjv.prototype.compile = compile;\nAjv.prototype.addSchema = addSchema;\nAjv.prototype.addMetaSchema = addMetaSchema;\nAjv.prototype.validateSchema = validateSchema;\nAjv.prototype.getSchema = getSchema;\nAjv.prototype.removeSchema = removeSchema;\nAjv.prototype.addFormat = addFormat;\nAjv.prototype.errorsText = errorsText;\n\nAjv.prototype._addSchema = _addSchema;\nAjv.prototype._compile = _compile;\n\nAjv.prototype.compileAsync = require('./compile/async');\nvar customKeyword = require('./keyword');\nAjv.prototype.addKeyword = customKeyword.add;\nAjv.prototype.getKeyword = customKeyword.get;\nAjv.prototype.removeKeyword = customKeyword.remove;\nAjv.prototype.validateKeyword = customKeyword.validate;\n\nvar errorClasses = require('./compile/error_classes');\nAjv.ValidationError = errorClasses.Validation;\nAjv.MissingRefError = errorClasses.MissingRef;\nAjv.$dataMetaSchema = $dataMetaSchema;\n\nvar META_SCHEMA_ID = 'http://json-schema.org/draft-07/schema';\n\nvar META_IGNORE_OPTIONS = [ 'removeAdditional', 'useDefaults', 'coerceTypes', 'strictDefaults' ];\nvar META_SUPPORT_DATA = ['/properties'];\n\n/**\n * Creates validator instance.\n * Usage: `Ajv(opts)`\n * @param {Object} opts optional options\n * @return {Object} ajv instance\n */\nfunction Ajv(opts) {\n  if (!(this instanceof Ajv)) return new Ajv(opts);\n  opts = this._opts = util.copy(opts) || {};\n  setLogger(this);\n  this._schemas = {};\n  this._refs = {};\n  this._fragments = {};\n  this._formats = formats(opts.format);\n\n  this._cache = opts.cache || new Cache;\n  this._loadingSchemas = {};\n  this._compilations = [];\n  this.RULES = rules();\n  this._getId = chooseGetId(opts);\n\n  opts.loopRequired = opts.loopRequired || Infinity;\n  if (opts.errorDataPath == 'property') opts._errorDataPathProperty = true;\n  if (opts.serialize === undefined) opts.serialize = stableStringify;\n  this._metaOpts = getMetaSchemaOptions(this);\n\n  if (opts.formats) addInitialFormats(this);\n  addDefaultMetaSchema(this);\n  if (typeof opts.meta == 'object') this.addMetaSchema(opts.meta);\n  if (opts.nullable) this.addKeyword('nullable', {metaSchema: {type: 'boolean'}});\n  addInitialSchemas(this);\n}\n\n\n\n/**\n * Validate data using schema\n * Schema will be compiled and cached (using serialized JSON as key. [fast-json-stable-stringify](https://github.com/epoberezkin/fast-json-stable-stringify) is used to serialize.\n * @this   Ajv\n * @param  {String|Object} schemaKeyRef key, ref or schema object\n * @param  {Any} data to be validated\n * @return {Boolean} validation result. Errors from the last validation will be available in `ajv.errors` (and also in compiled schema: `schema.errors`).\n */\nfunction validate(schemaKeyRef, data) {\n  var v;\n  if (typeof schemaKeyRef == 'string') {\n    v = this.getSchema(schemaKeyRef);\n    if (!v) throw new Error('no schema with key or ref \"' + schemaKeyRef + '\"');\n  } else {\n    var schemaObj = this._addSchema(schemaKeyRef);\n    v = schemaObj.validate || this._compile(schemaObj);\n  }\n\n  var valid = v(data);\n  if (v.$async !== true) this.errors = v.errors;\n  return valid;\n}\n\n\n/**\n * Create validating function for passed schema.\n * @this   Ajv\n * @param  {Object} schema schema object\n * @param  {Boolean} _meta true if schema is a meta-schema. Used internally to compile meta schemas of custom keywords.\n * @return {Function} validating function\n */\nfunction compile(schema, _meta) {\n  var schemaObj = this._addSchema(schema, undefined, _meta);\n  return schemaObj.validate || this._compile(schemaObj);\n}\n\n\n/**\n * Adds schema to the instance.\n * @this   Ajv\n * @param {Object|Array} schema schema or array of schemas. If array is passed, `key` and other parameters will be ignored.\n * @param {String} key Optional schema key. Can be passed to `validate` method instead of schema object or id/ref. One schema per instance can have empty `id` and `key`.\n * @param {Boolean} _skipValidation true to skip schema validation. Used internally, option validateSchema should be used instead.\n * @param {Boolean} _meta true if schema is a meta-schema. Used internally, addMetaSchema should be used instead.\n * @return {Ajv} this for method chaining\n */\nfunction addSchema(schema, key, _skipValidation, _meta) {\n  if (Array.isArray(schema)){\n    for (var i=0; i<schema.length; i++) this.addSchema(schema[i], undefined, _skipValidation, _meta);\n    return this;\n  }\n  var id = this._getId(schema);\n  if (id !== undefined && typeof id != 'string')\n    throw new Error('schema id must be string');\n  key = resolve.normalizeId(key || id);\n  checkUnique(this, key);\n  this._schemas[key] = this._addSchema(schema, _skipValidation, _meta, true);\n  return this;\n}\n\n\n/**\n * Add schema that will be used to validate other schemas\n * options in META_IGNORE_OPTIONS are alway set to false\n * @this   Ajv\n * @param {Object} schema schema object\n * @param {String} key optional schema key\n * @param {Boolean} skipValidation true to skip schema validation, can be used to override validateSchema option for meta-schema\n * @return {Ajv} this for method chaining\n */\nfunction addMetaSchema(schema, key, skipValidation) {\n  this.addSchema(schema, key, skipValidation, true);\n  return this;\n}\n\n\n/**\n * Validate schema\n * @this   Ajv\n * @param {Object} schema schema to validate\n * @param {Boolean} throwOrLogError pass true to throw (or log) an error if invalid\n * @return {Boolean} true if schema is valid\n */\nfunction validateSchema(schema, throwOrLogError) {\n  var $schema = schema.$schema;\n  if ($schema !== undefined && typeof $schema != 'string')\n    throw new Error('$schema must be a string');\n  $schema = $schema || this._opts.defaultMeta || defaultMeta(this);\n  if (!$schema) {\n    this.logger.warn('meta-schema not available');\n    this.errors = null;\n    return true;\n  }\n  var valid = this.validate($schema, schema);\n  if (!valid && throwOrLogError) {\n    var message = 'schema is invalid: ' + this.errorsText();\n    if (this._opts.validateSchema == 'log') this.logger.error(message);\n    else throw new Error(message);\n  }\n  return valid;\n}\n\n\nfunction defaultMeta(self) {\n  var meta = self._opts.meta;\n  self._opts.defaultMeta = typeof meta == 'object'\n                            ? self._getId(meta) || meta\n                            : self.getSchema(META_SCHEMA_ID)\n                              ? META_SCHEMA_ID\n                              : undefined;\n  return self._opts.defaultMeta;\n}\n\n\n/**\n * Get compiled schema from the instance by `key` or `ref`.\n * @this   Ajv\n * @param  {String} keyRef `key` that was passed to `addSchema` or full schema reference (`schema.id` or resolved id).\n * @return {Function} schema validating function (with property `schema`).\n */\nfunction getSchema(keyRef) {\n  var schemaObj = _getSchemaObj(this, keyRef);\n  switch (typeof schemaObj) {\n    case 'object': return schemaObj.validate || this._compile(schemaObj);\n    case 'string': return this.getSchema(schemaObj);\n    case 'undefined': return _getSchemaFragment(this, keyRef);\n  }\n}\n\n\nfunction _getSchemaFragment(self, ref) {\n  var res = resolve.schema.call(self, { schema: {} }, ref);\n  if (res) {\n    var schema = res.schema\n      , root = res.root\n      , baseId = res.baseId;\n    var v = compileSchema.call(self, schema, root, undefined, baseId);\n    self._fragments[ref] = new SchemaObject({\n      ref: ref,\n      fragment: true,\n      schema: schema,\n      root: root,\n      baseId: baseId,\n      validate: v\n    });\n    return v;\n  }\n}\n\n\nfunction _getSchemaObj(self, keyRef) {\n  keyRef = resolve.normalizeId(keyRef);\n  return self._schemas[keyRef] || self._refs[keyRef] || self._fragments[keyRef];\n}\n\n\n/**\n * Remove cached schema(s).\n * If no parameter is passed all schemas but meta-schemas are removed.\n * If RegExp is passed all schemas with key/id matching pattern but meta-schemas are removed.\n * Even if schema is referenced by other schemas it still can be removed as other schemas have local references.\n * @this   Ajv\n * @param  {String|Object|RegExp} schemaKeyRef key, ref, pattern to match key/ref or schema object\n * @return {Ajv} this for method chaining\n */\nfunction removeSchema(schemaKeyRef) {\n  if (schemaKeyRef instanceof RegExp) {\n    _removeAllSchemas(this, this._schemas, schemaKeyRef);\n    _removeAllSchemas(this, this._refs, schemaKeyRef);\n    return this;\n  }\n  switch (typeof schemaKeyRef) {\n    case 'undefined':\n      _removeAllSchemas(this, this._schemas);\n      _removeAllSchemas(this, this._refs);\n      this._cache.clear();\n      return this;\n    case 'string':\n      var schemaObj = _getSchemaObj(this, schemaKeyRef);\n      if (schemaObj) this._cache.del(schemaObj.cacheKey);\n      delete this._schemas[schemaKeyRef];\n      delete this._refs[schemaKeyRef];\n      return this;\n    case 'object':\n      var serialize = this._opts.serialize;\n      var cacheKey = serialize ? serialize(schemaKeyRef) : schemaKeyRef;\n      this._cache.del(cacheKey);\n      var id = this._getId(schemaKeyRef);\n      if (id) {\n        id = resolve.normalizeId(id);\n        delete this._schemas[id];\n        delete this._refs[id];\n      }\n  }\n  return this;\n}\n\n\nfunction _removeAllSchemas(self, schemas, regex) {\n  for (var keyRef in schemas) {\n    var schemaObj = schemas[keyRef];\n    if (!schemaObj.meta && (!regex || regex.test(keyRef))) {\n      self._cache.del(schemaObj.cacheKey);\n      delete schemas[keyRef];\n    }\n  }\n}\n\n\n/* @this   Ajv */\nfunction _addSchema(schema, skipValidation, meta, shouldAddSchema) {\n  if (typeof schema != 'object' && typeof schema != 'boolean')\n    throw new Error('schema should be object or boolean');\n  var serialize = this._opts.serialize;\n  var cacheKey = serialize ? serialize(schema) : schema;\n  var cached = this._cache.get(cacheKey);\n  if (cached) return cached;\n\n  shouldAddSchema = shouldAddSchema || this._opts.addUsedSchema !== false;\n\n  var id = resolve.normalizeId(this._getId(schema));\n  if (id && shouldAddSchema) checkUnique(this, id);\n\n  var willValidate = this._opts.validateSchema !== false && !skipValidation;\n  var recursiveMeta;\n  if (willValidate && !(recursiveMeta = id && id == resolve.normalizeId(schema.$schema)))\n    this.validateSchema(schema, true);\n\n  var localRefs = resolve.ids.call(this, schema);\n\n  var schemaObj = new SchemaObject({\n    id: id,\n    schema: schema,\n    localRefs: localRefs,\n    cacheKey: cacheKey,\n    meta: meta\n  });\n\n  if (id[0] != '#' && shouldAddSchema) this._refs[id] = schemaObj;\n  this._cache.put(cacheKey, schemaObj);\n\n  if (willValidate && recursiveMeta) this.validateSchema(schema, true);\n\n  return schemaObj;\n}\n\n\n/* @this   Ajv */\nfunction _compile(schemaObj, root) {\n  if (schemaObj.compiling) {\n    schemaObj.validate = callValidate;\n    callValidate.schema = schemaObj.schema;\n    callValidate.errors = null;\n    callValidate.root = root ? root : callValidate;\n    if (schemaObj.schema.$async === true)\n      callValidate.$async = true;\n    return callValidate;\n  }\n  schemaObj.compiling = true;\n\n  var currentOpts;\n  if (schemaObj.meta) {\n    currentOpts = this._opts;\n    this._opts = this._metaOpts;\n  }\n\n  var v;\n  try { v = compileSchema.call(this, schemaObj.schema, root, schemaObj.localRefs); }\n  catch(e) {\n    delete schemaObj.validate;\n    throw e;\n  }\n  finally {\n    schemaObj.compiling = false;\n    if (schemaObj.meta) this._opts = currentOpts;\n  }\n\n  schemaObj.validate = v;\n  schemaObj.refs = v.refs;\n  schemaObj.refVal = v.refVal;\n  schemaObj.root = v.root;\n  return v;\n\n\n  /* @this   {*} - custom context, see passContext option */\n  function callValidate() {\n    /* jshint validthis: true */\n    var _validate = schemaObj.validate;\n    var result = _validate.apply(this, arguments);\n    callValidate.errors = _validate.errors;\n    return result;\n  }\n}\n\n\nfunction chooseGetId(opts) {\n  switch (opts.schemaId) {\n    case 'auto': return _get$IdOrId;\n    case 'id': return _getId;\n    default: return _get$Id;\n  }\n}\n\n/* @this   Ajv */\nfunction _getId(schema) {\n  if (schema.$id) this.logger.warn('schema $id ignored', schema.$id);\n  return schema.id;\n}\n\n/* @this   Ajv */\nfunction _get$Id(schema) {\n  if (schema.id) this.logger.warn('schema id ignored', schema.id);\n  return schema.$id;\n}\n\n\nfunction _get$IdOrId(schema) {\n  if (schema.$id && schema.id && schema.$id != schema.id)\n    throw new Error('schema $id is different from id');\n  return schema.$id || schema.id;\n}\n\n\n/**\n * Convert array of error message objects to string\n * @this   Ajv\n * @param  {Array<Object>} errors optional array of validation errors, if not passed errors from the instance are used.\n * @param  {Object} options optional options with properties `separator` and `dataVar`.\n * @return {String} human readable string with all errors descriptions\n */\nfunction errorsText(errors, options) {\n  errors = errors || this.errors;\n  if (!errors) return 'No errors';\n  options = options || {};\n  var separator = options.separator === undefined ? ', ' : options.separator;\n  var dataVar = options.dataVar === undefined ? 'data' : options.dataVar;\n\n  var text = '';\n  for (var i=0; i<errors.length; i++) {\n    var e = errors[i];\n    if (e) text += dataVar + e.dataPath + ' ' + e.message + separator;\n  }\n  return text.slice(0, -separator.length);\n}\n\n\n/**\n * Add custom format\n * @this   Ajv\n * @param {String} name format name\n * @param {String|RegExp|Function} format string is converted to RegExp; function should return boolean (true when valid)\n * @return {Ajv} this for method chaining\n */\nfunction addFormat(name, format) {\n  if (typeof format == 'string') format = new RegExp(format);\n  this._formats[name] = format;\n  return this;\n}\n\n\nfunction addDefaultMetaSchema(self) {\n  var $dataSchema;\n  if (self._opts.$data) {\n    $dataSchema = require('./refs/data.json');\n    self.addMetaSchema($dataSchema, $dataSchema.$id, true);\n  }\n  if (self._opts.meta === false) return;\n  var metaSchema = require('./refs/json-schema-draft-07.json');\n  if (self._opts.$data) metaSchema = $dataMetaSchema(metaSchema, META_SUPPORT_DATA);\n  self.addMetaSchema(metaSchema, META_SCHEMA_ID, true);\n  self._refs['http://json-schema.org/schema'] = META_SCHEMA_ID;\n}\n\n\nfunction addInitialSchemas(self) {\n  var optsSchemas = self._opts.schemas;\n  if (!optsSchemas) return;\n  if (Array.isArray(optsSchemas)) self.addSchema(optsSchemas);\n  else for (var key in optsSchemas) self.addSchema(optsSchemas[key], key);\n}\n\n\nfunction addInitialFormats(self) {\n  for (var name in self._opts.formats) {\n    var format = self._opts.formats[name];\n    self.addFormat(name, format);\n  }\n}\n\n\nfunction checkUnique(self, id) {\n  if (self._schemas[id] || self._refs[id])\n    throw new Error('schema with key or id \"' + id + '\" already exists');\n}\n\n\nfunction getMetaSchemaOptions(self) {\n  var metaOpts = util.copy(self._opts);\n  for (var i=0; i<META_IGNORE_OPTIONS.length; i++)\n    delete metaOpts[META_IGNORE_OPTIONS[i]];\n  return metaOpts;\n}\n\n\nfunction setLogger(self) {\n  var logger = self._opts.logger;\n  if (logger === false) {\n    self.logger = {log: noop, warn: noop, error: noop};\n  } else {\n    if (logger === undefined) logger = console;\n    if (!(typeof logger == 'object' && logger.log && logger.warn && logger.error))\n      throw new Error('logger must implement log, warn and error methods');\n    self.logger = logger;\n  }\n}\n\n\nfunction noop() {}\n","'use strict';\n\n\nvar Cache = module.exports = function Cache() {\n  this._cache = {};\n};\n\n\nCache.prototype.put = function Cache_put(key, value) {\n  this._cache[key] = value;\n};\n\n\nCache.prototype.get = function Cache_get(key) {\n  return this._cache[key];\n};\n\n\nCache.prototype.del = function Cache_del(key) {\n  delete this._cache[key];\n};\n\n\nCache.prototype.clear = function Cache_clear() {\n  this._cache = {};\n};\n","'use strict';\n\nvar MissingRefError = require('./error_classes').MissingRef;\n\nmodule.exports = compileAsync;\n\n\n/**\n * Creates validating function for passed schema with asynchronous loading of missing schemas.\n * `loadSchema` option should be a function that accepts schema uri and returns promise that resolves with the schema.\n * @this  Ajv\n * @param {Object}   schema schema object\n * @param {Boolean}  meta optional true to compile meta-schema; this parameter can be skipped\n * @param {Function} callback an optional node-style callback, it is called with 2 parameters: error (or null) and validating function.\n * @return {Promise} promise that resolves with a validating function.\n */\nfunction compileAsync(schema, meta, callback) {\n  /* eslint no-shadow: 0 */\n  /* global Promise */\n  /* jshint validthis: true */\n  var self = this;\n  if (typeof this._opts.loadSchema != 'function')\n    throw new Error('options.loadSchema should be a function');\n\n  if (typeof meta == 'function') {\n    callback = meta;\n    meta = undefined;\n  }\n\n  var p = loadMetaSchemaOf(schema).then(function () {\n    var schemaObj = self._addSchema(schema, undefined, meta);\n    return schemaObj.validate || _compileAsync(schemaObj);\n  });\n\n  if (callback) {\n    p.then(\n      function(v) { callback(null, v); },\n      callback\n    );\n  }\n\n  return p;\n\n\n  function loadMetaSchemaOf(sch) {\n    var $schema = sch.$schema;\n    return $schema && !self.getSchema($schema)\n            ? compileAsync.call(self, { $ref: $schema }, true)\n            : Promise.resolve();\n  }\n\n\n  function _compileAsync(schemaObj) {\n    try { return self._compile(schemaObj); }\n    catch(e) {\n      if (e instanceof MissingRefError) return loadMissingSchema(e);\n      throw e;\n    }\n\n\n    function loadMissingSchema(e) {\n      var ref = e.missingSchema;\n      if (added(ref)) throw new Error('Schema ' + ref + ' is loaded but ' + e.missingRef + ' cannot be resolved');\n\n      var schemaPromise = self._loadingSchemas[ref];\n      if (!schemaPromise) {\n        schemaPromise = self._loadingSchemas[ref] = self._opts.loadSchema(ref);\n        schemaPromise.then(removePromise, removePromise);\n      }\n\n      return schemaPromise.then(function (sch) {\n        if (!added(ref)) {\n          return loadMetaSchemaOf(sch).then(function () {\n            if (!added(ref)) self.addSchema(sch, ref, undefined, meta);\n          });\n        }\n      }).then(function() {\n        return _compileAsync(schemaObj);\n      });\n\n      function removePromise() {\n        delete self._loadingSchemas[ref];\n      }\n\n      function added(ref) {\n        return self._refs[ref] || self._schemas[ref];\n      }\n    }\n  }\n}\n","'use strict';\n\nvar resolve = require('./resolve');\n\nmodule.exports = {\n  Validation: errorSubclass(ValidationError),\n  MissingRef: errorSubclass(MissingRefError)\n};\n\n\nfunction ValidationError(errors) {\n  this.message = 'validation failed';\n  this.errors = errors;\n  this.ajv = this.validation = true;\n}\n\n\nMissingRefError.message = function (baseId, ref) {\n  return 'can\\'t resolve reference ' + ref + ' from id ' + baseId;\n};\n\n\nfunction MissingRefError(baseId, ref, message) {\n  this.message = message || MissingRefError.message(baseId, ref);\n  this.missingRef = resolve.url(baseId, ref);\n  this.missingSchema = resolve.normalizeId(resolve.fullPath(this.missingRef));\n}\n\n\nfunction errorSubclass(Subclass) {\n  Subclass.prototype = Object.create(Error.prototype);\n  Subclass.prototype.constructor = Subclass;\n  return Subclass;\n}\n","'use strict';\n\nvar util = require('./util');\n\nvar DATE = /^(\\d\\d\\d\\d)-(\\d\\d)-(\\d\\d)$/;\nvar DAYS = [0,31,28,31,30,31,30,31,31,30,31,30,31];\nvar TIME = /^(\\d\\d):(\\d\\d):(\\d\\d)(\\.\\d+)?(z|[+-]\\d\\d:\\d\\d)?$/i;\nvar HOSTNAME = /^[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\\.[a-z0-9](?:[-0-9a-z]{0,61}[0-9a-z])?)*$/i;\nvar URI = /^(?:[a-z][a-z0-9+\\-.]*:)(?:\\/?\\/(?:(?:[a-z0-9\\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\\d|[01]?\\d\\d?)\\.){3}(?:25[0-5]|2[0-4]\\d|[01]?\\d\\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\\.[a-z0-9\\-._~!$&'()*+,;=:]+)\\]|(?:(?:25[0-5]|2[0-4]\\d|[01]?\\d\\d?)\\.){3}(?:25[0-5]|2[0-4]\\d|[01]?\\d\\d?)|(?:[a-z0-9\\-._~!$&'()*+,;=]|%[0-9a-f]{2})*)(?::\\d*)?(?:\\/(?:[a-z0-9\\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*|\\/(?:(?:[a-z0-9\\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\\/(?:[a-z0-9\\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\\/(?:[a-z0-9\\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)(?:\\?(?:[a-z0-9\\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i;\nvar URIREF = /^(?:[a-z][a-z0-9+\\-.]*:)?(?:\\/?\\/(?:(?:[a-z0-9\\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\\d|[01]?\\d\\d?)\\.){3}(?:25[0-5]|2[0-4]\\d|[01]?\\d\\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\\.[a-z0-9\\-._~!$&'()*+,;=:]+)\\]|(?:(?:25[0-5]|2[0-4]\\d|[01]?\\d\\d?)\\.){3}(?:25[0-5]|2[0-4]\\d|[01]?\\d\\d?)|(?:[a-z0-9\\-._~!$&'\"()*+,;=]|%[0-9a-f]{2})*)(?::\\d*)?(?:\\/(?:[a-z0-9\\-._~!$&'\"()*+,;=:@]|%[0-9a-f]{2})*)*|\\/(?:(?:[a-z0-9\\-._~!$&'\"()*+,;=:@]|%[0-9a-f]{2})+(?:\\/(?:[a-z0-9\\-._~!$&'\"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\\-._~!$&'\"()*+,;=:@]|%[0-9a-f]{2})+(?:\\/(?:[a-z0-9\\-._~!$&'\"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\\?(?:[a-z0-9\\-._~!$&'\"()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\\-._~!$&'\"()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i;\n// uri-template: https://tools.ietf.org/html/rfc6570\nvar URITEMPLATE = /^(?:(?:[^\\x00-\\x20\"'<>%\\\\^`{|}]|%[0-9a-f]{2})|\\{[+#./;?&=,!@|]?(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\\*)?(?:,(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\\*)?)*\\})*$/i;\n// For the source: https://gist.github.com/dperini/729294\n// For test cases: https://mathiasbynens.be/demo/url-regex\n// @todo Delete current URL in favour of the commented out URL rule when this issue is fixed https://github.com/eslint/eslint/issues/7983.\n// var URL = /^(?:(?:https?|ftp):\\/\\/)(?:\\S+(?::\\S*)?@)?(?:(?!10(?:\\.\\d{1,3}){3})(?!127(?:\\.\\d{1,3}){3})(?!169\\.254(?:\\.\\d{1,3}){2})(?!192\\.168(?:\\.\\d{1,3}){2})(?!172\\.(?:1[6-9]|2\\d|3[0-1])(?:\\.\\d{1,3}){2})(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[1-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(?:(?:[a-z\\u{00a1}-\\u{ffff}0-9]+-?)*[a-z\\u{00a1}-\\u{ffff}0-9]+)(?:\\.(?:[a-z\\u{00a1}-\\u{ffff}0-9]+-?)*[a-z\\u{00a1}-\\u{ffff}0-9]+)*(?:\\.(?:[a-z\\u{00a1}-\\u{ffff}]{2,})))(?::\\d{2,5})?(?:\\/[^\\s]*)?$/iu;\nvar URL = /^(?:(?:http[s\\u017F]?|ftp):\\/\\/)(?:(?:[\\0-\\x08\\x0E-\\x1F!-\\x9F\\xA1-\\u167F\\u1681-\\u1FFF\\u200B-\\u2027\\u202A-\\u202E\\u2030-\\u205E\\u2060-\\u2FFF\\u3001-\\uD7FF\\uE000-\\uFEFE\\uFF00-\\uFFFF]|[\\uD800-\\uDBFF][\\uDC00-\\uDFFF]|[\\uD800-\\uDBFF](?![\\uDC00-\\uDFFF])|(?:[^\\uD800-\\uDBFF]|^)[\\uDC00-\\uDFFF])+(?::(?:[\\0-\\x08\\x0E-\\x1F!-\\x9F\\xA1-\\u167F\\u1681-\\u1FFF\\u200B-\\u2027\\u202A-\\u202E\\u2030-\\u205E\\u2060-\\u2FFF\\u3001-\\uD7FF\\uE000-\\uFEFE\\uFF00-\\uFFFF]|[\\uD800-\\uDBFF][\\uDC00-\\uDFFF]|[\\uD800-\\uDBFF](?![\\uDC00-\\uDFFF])|(?:[^\\uD800-\\uDBFF]|^)[\\uDC00-\\uDFFF])*)?@)?(?:(?!10(?:\\.[0-9]{1,3}){3})(?!127(?:\\.[0-9]{1,3}){3})(?!169\\.254(?:\\.[0-9]{1,3}){2})(?!192\\.168(?:\\.[0-9]{1,3}){2})(?!172\\.(?:1[6-9]|2[0-9]|3[01])(?:\\.[0-9]{1,3}){2})(?:[1-9][0-9]?|1[0-9][0-9]|2[01][0-9]|22[0-3])(?:\\.(?:1?[0-9]{1,2}|2[0-4][0-9]|25[0-5])){2}(?:\\.(?:[1-9][0-9]?|1[0-9][0-9]|2[0-4][0-9]|25[0-4]))|(?:(?:(?:[0-9KSa-z\\xA1-\\uD7FF\\uE000-\\uFFFF]|[\\uD800-\\uDBFF](?![\\uDC00-\\uDFFF])|(?:[^\\uD800-\\uDBFF]|^)[\\uDC00-\\uDFFF])+-?)*(?:[0-9KSa-z\\xA1-\\uD7FF\\uE000-\\uFFFF]|[\\uD800-\\uDBFF](?![\\uDC00-\\uDFFF])|(?:[^\\uD800-\\uDBFF]|^)[\\uDC00-\\uDFFF])+)(?:\\.(?:(?:[0-9KSa-z\\xA1-\\uD7FF\\uE000-\\uFFFF]|[\\uD800-\\uDBFF](?![\\uDC00-\\uDFFF])|(?:[^\\uD800-\\uDBFF]|^)[\\uDC00-\\uDFFF])+-?)*(?:[0-9KSa-z\\xA1-\\uD7FF\\uE000-\\uFFFF]|[\\uD800-\\uDBFF](?![\\uDC00-\\uDFFF])|(?:[^\\uD800-\\uDBFF]|^)[\\uDC00-\\uDFFF])+)*(?:\\.(?:(?:[KSa-z\\xA1-\\uD7FF\\uE000-\\uFFFF]|[\\uD800-\\uDBFF](?![\\uDC00-\\uDFFF])|(?:[^\\uD800-\\uDBFF]|^)[\\uDC00-\\uDFFF]){2,})))(?::[0-9]{2,5})?(?:\\/(?:[\\0-\\x08\\x0E-\\x1F!-\\x9F\\xA1-\\u167F\\u1681-\\u1FFF\\u200B-\\u2027\\u202A-\\u202E\\u2030-\\u205E\\u2060-\\u2FFF\\u3001-\\uD7FF\\uE000-\\uFEFE\\uFF00-\\uFFFF]|[\\uD800-\\uDBFF][\\uDC00-\\uDFFF]|[\\uD800-\\uDBFF](?![\\uDC00-\\uDFFF])|(?:[^\\uD800-\\uDBFF]|^)[\\uDC00-\\uDFFF])*)?$/i;\nvar UUID = /^(?:urn:uuid:)?[0-9a-f]{8}-(?:[0-9a-f]{4}-){3}[0-9a-f]{12}$/i;\nvar JSON_POINTER = /^(?:\\/(?:[^~/]|~0|~1)*)*$/;\nvar JSON_POINTER_URI_FRAGMENT = /^#(?:\\/(?:[a-z0-9_\\-.!$&'()*+,;:=@]|%[0-9a-f]{2}|~0|~1)*)*$/i;\nvar RELATIVE_JSON_POINTER = /^(?:0|[1-9][0-9]*)(?:#|(?:\\/(?:[^~/]|~0|~1)*)*)$/;\n\n\nmodule.exports = formats;\n\nfunction formats(mode) {\n  mode = mode == 'full' ? 'full' : 'fast';\n  return util.copy(formats[mode]);\n}\n\n\nformats.fast = {\n  // date: http://tools.ietf.org/html/rfc3339#section-5.6\n  date: /^\\d\\d\\d\\d-[0-1]\\d-[0-3]\\d$/,\n  // date-time: http://tools.ietf.org/html/rfc3339#section-5.6\n  time: /^(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)(?:\\.\\d+)?(?:z|[+-]\\d\\d:\\d\\d)?$/i,\n  'date-time': /^\\d\\d\\d\\d-[0-1]\\d-[0-3]\\d[t\\s](?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)(?:\\.\\d+)?(?:z|[+-]\\d\\d:\\d\\d)$/i,\n  // uri: https://github.com/mafintosh/is-my-json-valid/blob/master/formats.js\n  uri: /^(?:[a-z][a-z0-9+-.]*:)(?:\\/?\\/)?[^\\s]*$/i,\n  'uri-reference': /^(?:(?:[a-z][a-z0-9+-.]*:)?\\/?\\/)?(?:[^\\\\\\s#][^\\s#]*)?(?:#[^\\\\\\s]*)?$/i,\n  'uri-template': URITEMPLATE,\n  url: URL,\n  // email (sources from jsen validator):\n  // http://stackoverflow.com/questions/201323/using-a-regular-expression-to-validate-an-email-address#answer-8829363\n  // http://www.w3.org/TR/html5/forms.html#valid-e-mail-address (search for 'willful violation')\n  email: /^[a-z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\\.[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?)*$/i,\n  hostname: HOSTNAME,\n  // optimized https://www.safaribooksonline.com/library/view/regular-expressions-cookbook/9780596802837/ch07s16.html\n  ipv4: /^(?:(?:25[0-5]|2[0-4]\\d|[01]?\\d\\d?)\\.){3}(?:25[0-5]|2[0-4]\\d|[01]?\\d\\d?)$/,\n  // optimized http://stackoverflow.com/questions/53497/regular-expression-that-matches-valid-ipv6-addresses\n  ipv6: /^\\s*(?:(?:(?:[0-9a-f]{1,4}:){7}(?:[0-9a-f]{1,4}|:))|(?:(?:[0-9a-f]{1,4}:){6}(?::[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){5}(?:(?:(?::[0-9a-f]{1,4}){1,2})|:(?:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){4}(?:(?:(?::[0-9a-f]{1,4}){1,3})|(?:(?::[0-9a-f]{1,4})?:(?:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){3}(?:(?:(?::[0-9a-f]{1,4}){1,4})|(?:(?::[0-9a-f]{1,4}){0,2}:(?:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){2}(?:(?:(?::[0-9a-f]{1,4}){1,5})|(?:(?::[0-9a-f]{1,4}){0,3}:(?:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){1}(?:(?:(?::[0-9a-f]{1,4}){1,6})|(?:(?::[0-9a-f]{1,4}){0,4}:(?:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:))|(?::(?:(?:(?::[0-9a-f]{1,4}){1,7})|(?:(?::[0-9a-f]{1,4}){0,5}:(?:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:)))(?:%.+)?\\s*$/i,\n  regex: regex,\n  // uuid: http://tools.ietf.org/html/rfc4122\n  uuid: UUID,\n  // JSON-pointer: https://tools.ietf.org/html/rfc6901\n  // uri fragment: https://tools.ietf.org/html/rfc3986#appendix-A\n  'json-pointer': JSON_POINTER,\n  'json-pointer-uri-fragment': JSON_POINTER_URI_FRAGMENT,\n  // relative JSON-pointer: http://tools.ietf.org/html/draft-luff-relative-json-pointer-00\n  'relative-json-pointer': RELATIVE_JSON_POINTER\n};\n\n\nformats.full = {\n  date: date,\n  time: time,\n  'date-time': date_time,\n  uri: uri,\n  'uri-reference': URIREF,\n  'uri-template': URITEMPLATE,\n  url: URL,\n  email: /^[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/i,\n  hostname: hostname,\n  ipv4: /^(?:(?:25[0-5]|2[0-4]\\d|[01]?\\d\\d?)\\.){3}(?:25[0-5]|2[0-4]\\d|[01]?\\d\\d?)$/,\n  ipv6: /^\\s*(?:(?:(?:[0-9a-f]{1,4}:){7}(?:[0-9a-f]{1,4}|:))|(?:(?:[0-9a-f]{1,4}:){6}(?::[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){5}(?:(?:(?::[0-9a-f]{1,4}){1,2})|:(?:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){4}(?:(?:(?::[0-9a-f]{1,4}){1,3})|(?:(?::[0-9a-f]{1,4})?:(?:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){3}(?:(?:(?::[0-9a-f]{1,4}){1,4})|(?:(?::[0-9a-f]{1,4}){0,2}:(?:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){2}(?:(?:(?::[0-9a-f]{1,4}){1,5})|(?:(?::[0-9a-f]{1,4}){0,3}:(?:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){1}(?:(?:(?::[0-9a-f]{1,4}){1,6})|(?:(?::[0-9a-f]{1,4}){0,4}:(?:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:))|(?::(?:(?:(?::[0-9a-f]{1,4}){1,7})|(?:(?::[0-9a-f]{1,4}){0,5}:(?:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:)))(?:%.+)?\\s*$/i,\n  regex: regex,\n  uuid: UUID,\n  'json-pointer': JSON_POINTER,\n  'json-pointer-uri-fragment': JSON_POINTER_URI_FRAGMENT,\n  'relative-json-pointer': RELATIVE_JSON_POINTER\n};\n\n\nfunction isLeapYear(year) {\n  // https://tools.ietf.org/html/rfc3339#appendix-C\n  return year % 4 === 0 && (year % 100 !== 0 || year % 400 === 0);\n}\n\n\nfunction date(str) {\n  // full-date from http://tools.ietf.org/html/rfc3339#section-5.6\n  var matches = str.match(DATE);\n  if (!matches) return false;\n\n  var year = +matches[1];\n  var month = +matches[2];\n  var day = +matches[3];\n\n  return month >= 1 && month <= 12 && day >= 1 &&\n          day <= (month == 2 && isLeapYear(year) ? 29 : DAYS[month]);\n}\n\n\nfunction time(str, full) {\n  var matches = str.match(TIME);\n  if (!matches) return false;\n\n  var hour = matches[1];\n  var minute = matches[2];\n  var second = matches[3];\n  var timeZone = matches[5];\n  return ((hour <= 23 && minute <= 59 && second <= 59) ||\n          (hour == 23 && minute == 59 && second == 60)) &&\n         (!full || timeZone);\n}\n\n\nvar DATE_TIME_SEPARATOR = /t|\\s/i;\nfunction date_time(str) {\n  // http://tools.ietf.org/html/rfc3339#section-5.6\n  var dateTime = str.split(DATE_TIME_SEPARATOR);\n  return dateTime.length == 2 && date(dateTime[0]) && time(dateTime[1], true);\n}\n\n\nfunction hostname(str) {\n  // https://tools.ietf.org/html/rfc1034#section-3.5\n  // https://tools.ietf.org/html/rfc1123#section-2\n  return str.length <= 255 && HOSTNAME.test(str);\n}\n\n\nvar NOT_URI_FRAGMENT = /\\/|:/;\nfunction uri(str) {\n  // http://jmrware.com/articles/2009/uri_regexp/URI_regex.html + optional protocol + required \".\"\n  return NOT_URI_FRAGMENT.test(str) && URI.test(str);\n}\n\n\nvar Z_ANCHOR = /[^\\\\]\\\\Z/;\nfunction regex(str) {\n  if (Z_ANCHOR.test(str)) return false;\n  try {\n    new RegExp(str);\n    return true;\n  } catch(e) {\n    return false;\n  }\n}\n","'use strict';\n\nvar resolve = require('./resolve')\n  , util = require('./util')\n  , errorClasses = require('./error_classes')\n  , stableStringify = require('fast-json-stable-stringify');\n\nvar validateGenerator = require('../dotjs/validate');\n\n/**\n * Functions below are used inside compiled validations function\n */\n\nvar ucs2length = util.ucs2length;\nvar equal = require('fast-deep-equal');\n\n// this error is thrown by async schemas to return validation errors via exception\nvar ValidationError = errorClasses.Validation;\n\nmodule.exports = compile;\n\n\n/**\n * Compiles schema to validation function\n * @this   Ajv\n * @param  {Object} schema schema object\n * @param  {Object} root object with information about the root schema for this schema\n * @param  {Object} localRefs the hash of local references inside the schema (created by resolve.id), used for inline resolution\n * @param  {String} baseId base ID for IDs in the schema\n * @return {Function} validation function\n */\nfunction compile(schema, root, localRefs, baseId) {\n  /* jshint validthis: true, evil: true */\n  /* eslint no-shadow: 0 */\n  var self = this\n    , opts = this._opts\n    , refVal = [ undefined ]\n    , refs = {}\n    , patterns = []\n    , patternsHash = {}\n    , defaults = []\n    , defaultsHash = {}\n    , customRules = [];\n\n  root = root || { schema: schema, refVal: refVal, refs: refs };\n\n  var c = checkCompiling.call(this, schema, root, baseId);\n  var compilation = this._compilations[c.index];\n  if (c.compiling) return (compilation.callValidate = callValidate);\n\n  var formats = this._formats;\n  var RULES = this.RULES;\n\n  try {\n    var v = localCompile(schema, root, localRefs, baseId);\n    compilation.validate = v;\n    var cv = compilation.callValidate;\n    if (cv) {\n      cv.schema = v.schema;\n      cv.errors = null;\n      cv.refs = v.refs;\n      cv.refVal = v.refVal;\n      cv.root = v.root;\n      cv.$async = v.$async;\n      if (opts.sourceCode) cv.source = v.source;\n    }\n    return v;\n  } finally {\n    endCompiling.call(this, schema, root, baseId);\n  }\n\n  /* @this   {*} - custom context, see passContext option */\n  function callValidate() {\n    /* jshint validthis: true */\n    var validate = compilation.validate;\n    var result = validate.apply(this, arguments);\n    callValidate.errors = validate.errors;\n    return result;\n  }\n\n  function localCompile(_schema, _root, localRefs, baseId) {\n    var isRoot = !_root || (_root && _root.schema == _schema);\n    if (_root.schema != root.schema)\n      return compile.call(self, _schema, _root, localRefs, baseId);\n\n    var $async = _schema.$async === true;\n\n    var sourceCode = validateGenerator({\n      isTop: true,\n      schema: _schema,\n      isRoot: isRoot,\n      baseId: baseId,\n      root: _root,\n      schemaPath: '',\n      errSchemaPath: '#',\n      errorPath: '\"\"',\n      MissingRefError: errorClasses.MissingRef,\n      RULES: RULES,\n      validate: validateGenerator,\n      util: util,\n      resolve: resolve,\n      resolveRef: resolveRef,\n      usePattern: usePattern,\n      useDefault: useDefault,\n      useCustomRule: useCustomRule,\n      opts: opts,\n      formats: formats,\n      logger: self.logger,\n      self: self\n    });\n\n    sourceCode = vars(refVal, refValCode) + vars(patterns, patternCode)\n                   + vars(defaults, defaultCode) + vars(customRules, customRuleCode)\n                   + sourceCode;\n\n    if (opts.processCode) sourceCode = opts.processCode(sourceCode);\n    // console.log('\\n\\n\\n *** \\n', JSON.stringify(sourceCode));\n    var validate;\n    try {\n      var makeValidate = new Function(\n        'self',\n        'RULES',\n        'formats',\n        'root',\n        'refVal',\n        'defaults',\n        'customRules',\n        'equal',\n        'ucs2length',\n        'ValidationError',\n        sourceCode\n      );\n\n      validate = makeValidate(\n        self,\n        RULES,\n        formats,\n        root,\n        refVal,\n        defaults,\n        customRules,\n        equal,\n        ucs2length,\n        ValidationError\n      );\n\n      refVal[0] = validate;\n    } catch(e) {\n      self.logger.error('Error compiling schema, function code:', sourceCode);\n      throw e;\n    }\n\n    validate.schema = _schema;\n    validate.errors = null;\n    validate.refs = refs;\n    validate.refVal = refVal;\n    validate.root = isRoot ? validate : _root;\n    if ($async) validate.$async = true;\n    if (opts.sourceCode === true) {\n      validate.source = {\n        code: sourceCode,\n        patterns: patterns,\n        defaults: defaults\n      };\n    }\n\n    return validate;\n  }\n\n  function resolveRef(baseId, ref, isRoot) {\n    ref = resolve.url(baseId, ref);\n    var refIndex = refs[ref];\n    var _refVal, refCode;\n    if (refIndex !== undefined) {\n      _refVal = refVal[refIndex];\n      refCode = 'refVal[' + refIndex + ']';\n      return resolvedRef(_refVal, refCode);\n    }\n    if (!isRoot && root.refs) {\n      var rootRefId = root.refs[ref];\n      if (rootRefId !== undefined) {\n        _refVal = root.refVal[rootRefId];\n        refCode = addLocalRef(ref, _refVal);\n        return resolvedRef(_refVal, refCode);\n      }\n    }\n\n    refCode = addLocalRef(ref);\n    var v = resolve.call(self, localCompile, root, ref);\n    if (v === undefined) {\n      var localSchema = localRefs && localRefs[ref];\n      if (localSchema) {\n        v = resolve.inlineRef(localSchema, opts.inlineRefs)\n            ? localSchema\n            : compile.call(self, localSchema, root, localRefs, baseId);\n      }\n    }\n\n    if (v === undefined) {\n      removeLocalRef(ref);\n    } else {\n      replaceLocalRef(ref, v);\n      return resolvedRef(v, refCode);\n    }\n  }\n\n  function addLocalRef(ref, v) {\n    var refId = refVal.length;\n    refVal[refId] = v;\n    refs[ref] = refId;\n    return 'refVal' + refId;\n  }\n\n  function removeLocalRef(ref) {\n    delete refs[ref];\n  }\n\n  function replaceLocalRef(ref, v) {\n    var refId = refs[ref];\n    refVal[refId] = v;\n  }\n\n  function resolvedRef(refVal, code) {\n    return typeof refVal == 'object' || typeof refVal == 'boolean'\n            ? { code: code, schema: refVal, inline: true }\n            : { code: code, $async: refVal && !!refVal.$async };\n  }\n\n  function usePattern(regexStr) {\n    var index = patternsHash[regexStr];\n    if (index === undefined) {\n      index = patternsHash[regexStr] = patterns.length;\n      patterns[index] = regexStr;\n    }\n    return 'pattern' + index;\n  }\n\n  function useDefault(value) {\n    switch (typeof value) {\n      case 'boolean':\n      case 'number':\n        return '' + value;\n      case 'string':\n        return util.toQuotedString(value);\n      case 'object':\n        if (value === null) return 'null';\n        var valueStr = stableStringify(value);\n        var index = defaultsHash[valueStr];\n        if (index === undefined) {\n          index = defaultsHash[valueStr] = defaults.length;\n          defaults[index] = value;\n        }\n        return 'default' + index;\n    }\n  }\n\n  function useCustomRule(rule, schema, parentSchema, it) {\n    if (self._opts.validateSchema !== false) {\n      var deps = rule.definition.dependencies;\n      if (deps && !deps.every(function(keyword) {\n        return Object.prototype.hasOwnProperty.call(parentSchema, keyword);\n      }))\n        throw new Error('parent schema must have all required keywords: ' + deps.join(','));\n\n      var validateSchema = rule.definition.validateSchema;\n      if (validateSchema) {\n        var valid = validateSchema(schema);\n        if (!valid) {\n          var message = 'keyword schema is invalid: ' + self.errorsText(validateSchema.errors);\n          if (self._opts.validateSchema == 'log') self.logger.error(message);\n          else throw new Error(message);\n        }\n      }\n    }\n\n    var compile = rule.definition.compile\n      , inline = rule.definition.inline\n      , macro = rule.definition.macro;\n\n    var validate;\n    if (compile) {\n      validate = compile.call(self, schema, parentSchema, it);\n    } else if (macro) {\n      validate = macro.call(self, schema, parentSchema, it);\n      if (opts.validateSchema !== false) self.validateSchema(validate, true);\n    } else if (inline) {\n      validate = inline.call(self, it, rule.keyword, schema, parentSchema);\n    } else {\n      validate = rule.definition.validate;\n      if (!validate) return;\n    }\n\n    if (validate === undefined)\n      throw new Error('custom keyword \"' + rule.keyword + '\"failed to compile');\n\n    var index = customRules.length;\n    customRules[index] = validate;\n\n    return {\n      code: 'customRule' + index,\n      validate: validate\n    };\n  }\n}\n\n\n/**\n * Checks if the schema is currently compiled\n * @this   Ajv\n * @param  {Object} schema schema to compile\n * @param  {Object} root root object\n * @param  {String} baseId base schema ID\n * @return {Object} object with properties \"index\" (compilation index) and \"compiling\" (boolean)\n */\nfunction checkCompiling(schema, root, baseId) {\n  /* jshint validthis: true */\n  var index = compIndex.call(this, schema, root, baseId);\n  if (index >= 0) return { index: index, compiling: true };\n  index = this._compilations.length;\n  this._compilations[index] = {\n    schema: schema,\n    root: root,\n    baseId: baseId\n  };\n  return { index: index, compiling: false };\n}\n\n\n/**\n * Removes the schema from the currently compiled list\n * @this   Ajv\n * @param  {Object} schema schema to compile\n * @param  {Object} root root object\n * @param  {String} baseId base schema ID\n */\nfunction endCompiling(schema, root, baseId) {\n  /* jshint validthis: true */\n  var i = compIndex.call(this, schema, root, baseId);\n  if (i >= 0) this._compilations.splice(i, 1);\n}\n\n\n/**\n * Index of schema compilation in the currently compiled list\n * @this   Ajv\n * @param  {Object} schema schema to compile\n * @param  {Object} root root object\n * @param  {String} baseId base schema ID\n * @return {Integer} compilation index\n */\nfunction compIndex(schema, root, baseId) {\n  /* jshint validthis: true */\n  for (var i=0; i<this._compilations.length; i++) {\n    var c = this._compilations[i];\n    if (c.schema == schema && c.root == root && c.baseId == baseId) return i;\n  }\n  return -1;\n}\n\n\nfunction patternCode(i, patterns) {\n  return 'var pattern' + i + ' = new RegExp(' + util.toQuotedString(patterns[i]) + ');';\n}\n\n\nfunction defaultCode(i) {\n  return 'var default' + i + ' = defaults[' + i + '];';\n}\n\n\nfunction refValCode(i, refVal) {\n  return refVal[i] === undefined ? '' : 'var refVal' + i + ' = refVal[' + i + '];';\n}\n\n\nfunction customRuleCode(i) {\n  return 'var customRule' + i + ' = customRules[' + i + '];';\n}\n\n\nfunction vars(arr, statement) {\n  if (!arr.length) return '';\n  var code = '';\n  for (var i=0; i<arr.length; i++)\n    code += statement(i, arr);\n  return code;\n}\n","'use strict';\n\nvar URI = require('uri-js')\n  , equal = require('fast-deep-equal')\n  , util = require('./util')\n  , SchemaObject = require('./schema_obj')\n  , traverse = require('json-schema-traverse');\n\nmodule.exports = resolve;\n\nresolve.normalizeId = normalizeId;\nresolve.fullPath = getFullPath;\nresolve.url = resolveUrl;\nresolve.ids = resolveIds;\nresolve.inlineRef = inlineRef;\nresolve.schema = resolveSchema;\n\n/**\n * [resolve and compile the references ($ref)]\n * @this   Ajv\n * @param  {Function} compile reference to schema compilation funciton (localCompile)\n * @param  {Object} root object with information about the root schema for the current schema\n * @param  {String} ref reference to resolve\n * @return {Object|Function} schema object (if the schema can be inlined) or validation function\n */\nfunction resolve(compile, root, ref) {\n  /* jshint validthis: true */\n  var refVal = this._refs[ref];\n  if (typeof refVal == 'string') {\n    if (this._refs[refVal]) refVal = this._refs[refVal];\n    else return resolve.call(this, compile, root, refVal);\n  }\n\n  refVal = refVal || this._schemas[ref];\n  if (refVal instanceof SchemaObject) {\n    return inlineRef(refVal.schema, this._opts.inlineRefs)\n            ? refVal.schema\n            : refVal.validate || this._compile(refVal);\n  }\n\n  var res = resolveSchema.call(this, root, ref);\n  var schema, v, baseId;\n  if (res) {\n    schema = res.schema;\n    root = res.root;\n    baseId = res.baseId;\n  }\n\n  if (schema instanceof SchemaObject) {\n    v = schema.validate || compile.call(this, schema.schema, root, undefined, baseId);\n  } else if (schema !== undefined) {\n    v = inlineRef(schema, this._opts.inlineRefs)\n        ? schema\n        : compile.call(this, schema, root, undefined, baseId);\n  }\n\n  return v;\n}\n\n\n/**\n * Resolve schema, its root and baseId\n * @this Ajv\n * @param  {Object} root root object with properties schema, refVal, refs\n * @param  {String} ref  reference to resolve\n * @return {Object} object with properties schema, root, baseId\n */\nfunction resolveSchema(root, ref) {\n  /* jshint validthis: true */\n  var p = URI.parse(ref)\n    , refPath = _getFullPath(p)\n    , baseId = getFullPath(this._getId(root.schema));\n  if (Object.keys(root.schema).length === 0 || refPath !== baseId) {\n    var id = normalizeId(refPath);\n    var refVal = this._refs[id];\n    if (typeof refVal == 'string') {\n      return resolveRecursive.call(this, root, refVal, p);\n    } else if (refVal instanceof SchemaObject) {\n      if (!refVal.validate) this._compile(refVal);\n      root = refVal;\n    } else {\n      refVal = this._schemas[id];\n      if (refVal instanceof SchemaObject) {\n        if (!refVal.validate) this._compile(refVal);\n        if (id == normalizeId(ref))\n          return { schema: refVal, root: root, baseId: baseId };\n        root = refVal;\n      } else {\n        return;\n      }\n    }\n    if (!root.schema) return;\n    baseId = getFullPath(this._getId(root.schema));\n  }\n  return getJsonPointer.call(this, p, baseId, root.schema, root);\n}\n\n\n/* @this Ajv */\nfunction resolveRecursive(root, ref, parsedRef) {\n  /* jshint validthis: true */\n  var res = resolveSchema.call(this, root, ref);\n  if (res) {\n    var schema = res.schema;\n    var baseId = res.baseId;\n    root = res.root;\n    var id = this._getId(schema);\n    if (id) baseId = resolveUrl(baseId, id);\n    return getJsonPointer.call(this, parsedRef, baseId, schema, root);\n  }\n}\n\n\nvar PREVENT_SCOPE_CHANGE = util.toHash(['properties', 'patternProperties', 'enum', 'dependencies', 'definitions']);\n/* @this Ajv */\nfunction getJsonPointer(parsedRef, baseId, schema, root) {\n  /* jshint validthis: true */\n  parsedRef.fragment = parsedRef.fragment || '';\n  if (parsedRef.fragment.slice(0,1) != '/') return;\n  var parts = parsedRef.fragment.split('/');\n\n  for (var i = 1; i < parts.length; i++) {\n    var part = parts[i];\n    if (part) {\n      part = util.unescapeFragment(part);\n      schema = schema[part];\n      if (schema === undefined) break;\n      var id;\n      if (!PREVENT_SCOPE_CHANGE[part]) {\n        id = this._getId(schema);\n        if (id) baseId = resolveUrl(baseId, id);\n        if (schema.$ref) {\n          var $ref = resolveUrl(baseId, schema.$ref);\n          var res = resolveSchema.call(this, root, $ref);\n          if (res) {\n            schema = res.schema;\n            root = res.root;\n            baseId = res.baseId;\n          }\n        }\n      }\n    }\n  }\n  if (schema !== undefined && schema !== root.schema)\n    return { schema: schema, root: root, baseId: baseId };\n}\n\n\nvar SIMPLE_INLINED = util.toHash([\n  'type', 'format', 'pattern',\n  'maxLength', 'minLength',\n  'maxProperties', 'minProperties',\n  'maxItems', 'minItems',\n  'maximum', 'minimum',\n  'uniqueItems', 'multipleOf',\n  'required', 'enum'\n]);\nfunction inlineRef(schema, limit) {\n  if (limit === false) return false;\n  if (limit === undefined || limit === true) return checkNoRef(schema);\n  else if (limit) return countKeys(schema) <= limit;\n}\n\n\nfunction checkNoRef(schema) {\n  var item;\n  if (Array.isArray(schema)) {\n    for (var i=0; i<schema.length; i++) {\n      item = schema[i];\n      if (typeof item == 'object' && !checkNoRef(item)) return false;\n    }\n  } else {\n    for (var key in schema) {\n      if (key == '$ref') return false;\n      item = schema[key];\n      if (typeof item == 'object' && !checkNoRef(item)) return false;\n    }\n  }\n  return true;\n}\n\n\nfunction countKeys(schema) {\n  var count = 0, item;\n  if (Array.isArray(schema)) {\n    for (var i=0; i<schema.length; i++) {\n      item = schema[i];\n      if (typeof item == 'object') count += countKeys(item);\n      if (count == Infinity) return Infinity;\n    }\n  } else {\n    for (var key in schema) {\n      if (key == '$ref') return Infinity;\n      if (SIMPLE_INLINED[key]) {\n        count++;\n      } else {\n        item = schema[key];\n        if (typeof item == 'object') count += countKeys(item) + 1;\n        if (count == Infinity) return Infinity;\n      }\n    }\n  }\n  return count;\n}\n\n\nfunction getFullPath(id, normalize) {\n  if (normalize !== false) id = normalizeId(id);\n  var p = URI.parse(id);\n  return _getFullPath(p);\n}\n\n\nfunction _getFullPath(p) {\n  return URI.serialize(p).split('#')[0] + '#';\n}\n\n\nvar TRAILING_SLASH_HASH = /#\\/?$/;\nfunction normalizeId(id) {\n  return id ? id.replace(TRAILING_SLASH_HASH, '') : '';\n}\n\n\nfunction resolveUrl(baseId, id) {\n  id = normalizeId(id);\n  return URI.resolve(baseId, id);\n}\n\n\n/* @this Ajv */\nfunction resolveIds(schema) {\n  var schemaId = normalizeId(this._getId(schema));\n  var baseIds = {'': schemaId};\n  var fullPaths = {'': getFullPath(schemaId, false)};\n  var localRefs = {};\n  var self = this;\n\n  traverse(schema, {allKeys: true}, function(sch, jsonPtr, rootSchema, parentJsonPtr, parentKeyword, parentSchema, keyIndex) {\n    if (jsonPtr === '') return;\n    var id = self._getId(sch);\n    var baseId = baseIds[parentJsonPtr];\n    var fullPath = fullPaths[parentJsonPtr] + '/' + parentKeyword;\n    if (keyIndex !== undefined)\n      fullPath += '/' + (typeof keyIndex == 'number' ? keyIndex : util.escapeFragment(keyIndex));\n\n    if (typeof id == 'string') {\n      id = baseId = normalizeId(baseId ? URI.resolve(baseId, id) : id);\n\n      var refVal = self._refs[id];\n      if (typeof refVal == 'string') refVal = self._refs[refVal];\n      if (refVal && refVal.schema) {\n        if (!equal(sch, refVal.schema))\n          throw new Error('id \"' + id + '\" resolves to more than one schema');\n      } else if (id != normalizeId(fullPath)) {\n        if (id[0] == '#') {\n          if (localRefs[id] && !equal(sch, localRefs[id]))\n            throw new Error('id \"' + id + '\" resolves to more than one schema');\n          localRefs[id] = sch;\n        } else {\n          self._refs[id] = fullPath;\n        }\n      }\n    }\n    baseIds[jsonPtr] = baseId;\n    fullPaths[jsonPtr] = fullPath;\n  });\n\n  return localRefs;\n}\n","'use strict';\n\nvar ruleModules = require('../dotjs')\n  , toHash = require('./util').toHash;\n\nmodule.exports = function rules() {\n  var RULES = [\n    { type: 'number',\n      rules: [ { 'maximum': ['exclusiveMaximum'] },\n               { 'minimum': ['exclusiveMinimum'] }, 'multipleOf', 'format'] },\n    { type: 'string',\n      rules: [ 'maxLength', 'minLength', 'pattern', 'format' ] },\n    { type: 'array',\n      rules: [ 'maxItems', 'minItems', 'items', 'contains', 'uniqueItems' ] },\n    { type: 'object',\n      rules: [ 'maxProperties', 'minProperties', 'required', 'dependencies', 'propertyNames',\n               { 'properties': ['additionalProperties', 'patternProperties'] } ] },\n    { rules: [ '$ref', 'const', 'enum', 'not', 'anyOf', 'oneOf', 'allOf', 'if' ] }\n  ];\n\n  var ALL = [ 'type', '$comment' ];\n  var KEYWORDS = [\n    '$schema', '$id', 'id', '$data', '$async', 'title',\n    'description', 'default', 'definitions',\n    'examples', 'readOnly', 'writeOnly',\n    'contentMediaType', 'contentEncoding',\n    'additionalItems', 'then', 'else'\n  ];\n  var TYPES = [ 'number', 'integer', 'string', 'array', 'object', 'boolean', 'null' ];\n  RULES.all = toHash(ALL);\n  RULES.types = toHash(TYPES);\n\n  RULES.forEach(function (group) {\n    group.rules = group.rules.map(function (keyword) {\n      var implKeywords;\n      if (typeof keyword == 'object') {\n        var key = Object.keys(keyword)[0];\n        implKeywords = keyword[key];\n        keyword = key;\n        implKeywords.forEach(function (k) {\n          ALL.push(k);\n          RULES.all[k] = true;\n        });\n      }\n      ALL.push(keyword);\n      var rule = RULES.all[keyword] = {\n        keyword: keyword,\n        code: ruleModules[keyword],\n        implements: implKeywords\n      };\n      return rule;\n    });\n\n    RULES.all.$comment = {\n      keyword: '$comment',\n      code: ruleModules.$comment\n    };\n\n    if (group.type) RULES.types[group.type] = group;\n  });\n\n  RULES.keywords = toHash(ALL.concat(KEYWORDS));\n  RULES.custom = {};\n\n  return RULES;\n};\n","'use strict';\n\nvar util = require('./util');\n\nmodule.exports = SchemaObject;\n\nfunction SchemaObject(obj) {\n  util.copy(obj, this);\n}\n","'use strict';\n\n// https://mathiasbynens.be/notes/javascript-encoding\n// https://github.com/bestiejs/punycode.js - punycode.ucs2.decode\nmodule.exports = function ucs2length(str) {\n  var length = 0\n    , len = str.length\n    , pos = 0\n    , value;\n  while (pos < len) {\n    length++;\n    value = str.charCodeAt(pos++);\n    if (value >= 0xD800 && value <= 0xDBFF && pos < len) {\n      // high surrogate, and there is a next character\n      value = str.charCodeAt(pos);\n      if ((value & 0xFC00) == 0xDC00) pos++; // low surrogate\n    }\n  }\n  return length;\n};\n","'use strict';\n\n\nmodule.exports = {\n  copy: copy,\n  checkDataType: checkDataType,\n  checkDataTypes: checkDataTypes,\n  coerceToTypes: coerceToTypes,\n  toHash: toHash,\n  getProperty: getProperty,\n  escapeQuotes: escapeQuotes,\n  equal: require('fast-deep-equal'),\n  ucs2length: require('./ucs2length'),\n  varOccurences: varOccurences,\n  varReplace: varReplace,\n  cleanUpCode: cleanUpCode,\n  finalCleanUpCode: finalCleanUpCode,\n  schemaHasRules: schemaHasRules,\n  schemaHasRulesExcept: schemaHasRulesExcept,\n  schemaUnknownRules: schemaUnknownRules,\n  toQuotedString: toQuotedString,\n  getPathExpr: getPathExpr,\n  getPath: getPath,\n  getData: getData,\n  unescapeFragment: unescapeFragment,\n  unescapeJsonPointer: unescapeJsonPointer,\n  escapeFragment: escapeFragment,\n  escapeJsonPointer: escapeJsonPointer\n};\n\n\nfunction copy(o, to) {\n  to = to || {};\n  for (var key in o) to[key] = o[key];\n  return to;\n}\n\n\nfunction checkDataType(dataType, data, negate) {\n  var EQUAL = negate ? ' !== ' : ' === '\n    , AND = negate ? ' || ' : ' && '\n    , OK = negate ? '!' : ''\n    , NOT = negate ? '' : '!';\n  switch (dataType) {\n    case 'null': return data + EQUAL + 'null';\n    case 'array': return OK + 'Array.isArray(' + data + ')';\n    case 'object': return '(' + OK + data + AND +\n                          'typeof ' + data + EQUAL + '\"object\"' + AND +\n                          NOT + 'Array.isArray(' + data + '))';\n    case 'integer': return '(typeof ' + data + EQUAL + '\"number\"' + AND +\n                           NOT + '(' + data + ' % 1)' +\n                           AND + data + EQUAL + data + ')';\n    default: return 'typeof ' + data + EQUAL + '\"' + dataType + '\"';\n  }\n}\n\n\nfunction checkDataTypes(dataTypes, data) {\n  switch (dataTypes.length) {\n    case 1: return checkDataType(dataTypes[0], data, true);\n    default:\n      var code = '';\n      var types = toHash(dataTypes);\n      if (types.array && types.object) {\n        code = types.null ? '(': '(!' + data + ' || ';\n        code += 'typeof ' + data + ' !== \"object\")';\n        delete types.null;\n        delete types.array;\n        delete types.object;\n      }\n      if (types.number) delete types.integer;\n      for (var t in types)\n        code += (code ? ' && ' : '' ) + checkDataType(t, data, true);\n\n      return code;\n  }\n}\n\n\nvar COERCE_TO_TYPES = toHash([ 'string', 'number', 'integer', 'boolean', 'null' ]);\nfunction coerceToTypes(optionCoerceTypes, dataTypes) {\n  if (Array.isArray(dataTypes)) {\n    var types = [];\n    for (var i=0; i<dataTypes.length; i++) {\n      var t = dataTypes[i];\n      if (COERCE_TO_TYPES[t]) types[types.length] = t;\n      else if (optionCoerceTypes === 'array' && t === 'array') types[types.length] = t;\n    }\n    if (types.length) return types;\n  } else if (COERCE_TO_TYPES[dataTypes]) {\n    return [dataTypes];\n  } else if (optionCoerceTypes === 'array' && dataTypes === 'array') {\n    return ['array'];\n  }\n}\n\n\nfunction toHash(arr) {\n  var hash = {};\n  for (var i=0; i<arr.length; i++) hash[arr[i]] = true;\n  return hash;\n}\n\n\nvar IDENTIFIER = /^[a-z$_][a-z$_0-9]*$/i;\nvar SINGLE_QUOTE = /'|\\\\/g;\nfunction getProperty(key) {\n  return typeof key == 'number'\n          ? '[' + key + ']'\n          : IDENTIFIER.test(key)\n            ? '.' + key\n            : \"['\" + escapeQuotes(key) + \"']\";\n}\n\n\nfunction escapeQuotes(str) {\n  return str.replace(SINGLE_QUOTE, '\\\\$&')\n            .replace(/\\n/g, '\\\\n')\n            .replace(/\\r/g, '\\\\r')\n            .replace(/\\f/g, '\\\\f')\n            .replace(/\\t/g, '\\\\t');\n}\n\n\nfunction varOccurences(str, dataVar) {\n  dataVar += '[^0-9]';\n  var matches = str.match(new RegExp(dataVar, 'g'));\n  return matches ? matches.length : 0;\n}\n\n\nfunction varReplace(str, dataVar, expr) {\n  dataVar += '([^0-9])';\n  expr = expr.replace(/\\$/g, '$$$$');\n  return str.replace(new RegExp(dataVar, 'g'), expr + '$1');\n}\n\n\nvar EMPTY_ELSE = /else\\s*{\\s*}/g\n  , EMPTY_IF_NO_ELSE = /if\\s*\\([^)]+\\)\\s*\\{\\s*\\}(?!\\s*else)/g\n  , EMPTY_IF_WITH_ELSE = /if\\s*\\(([^)]+)\\)\\s*\\{\\s*\\}\\s*else(?!\\s*if)/g;\nfunction cleanUpCode(out) {\n  return out.replace(EMPTY_ELSE, '')\n            .replace(EMPTY_IF_NO_ELSE, '')\n            .replace(EMPTY_IF_WITH_ELSE, 'if (!($1))');\n}\n\n\nvar ERRORS_REGEXP = /[^v.]errors/g\n  , REMOVE_ERRORS = /var errors = 0;|var vErrors = null;|validate.errors = vErrors;/g\n  , REMOVE_ERRORS_ASYNC = /var errors = 0;|var vErrors = null;/g\n  , RETURN_VALID = 'return errors === 0;'\n  , RETURN_TRUE = 'validate.errors = null; return true;'\n  , RETURN_ASYNC = /if \\(errors === 0\\) return data;\\s*else throw new ValidationError\\(vErrors\\);/\n  , RETURN_DATA_ASYNC = 'return data;'\n  , ROOTDATA_REGEXP = /[^A-Za-z_$]rootData[^A-Za-z0-9_$]/g\n  , REMOVE_ROOTDATA = /if \\(rootData === undefined\\) rootData = data;/;\n\nfunction finalCleanUpCode(out, async) {\n  var matches = out.match(ERRORS_REGEXP);\n  if (matches && matches.length == 2) {\n    out = async\n          ? out.replace(REMOVE_ERRORS_ASYNC, '')\n               .replace(RETURN_ASYNC, RETURN_DATA_ASYNC)\n          : out.replace(REMOVE_ERRORS, '')\n               .replace(RETURN_VALID, RETURN_TRUE);\n  }\n\n  matches = out.match(ROOTDATA_REGEXP);\n  if (!matches || matches.length !== 3) return out;\n  return out.replace(REMOVE_ROOTDATA, '');\n}\n\n\nfunction schemaHasRules(schema, rules) {\n  if (typeof schema == 'boolean') return !schema;\n  for (var key in schema) if (rules[key]) return true;\n}\n\n\nfunction schemaHasRulesExcept(schema, rules, exceptKeyword) {\n  if (typeof schema == 'boolean') return !schema && exceptKeyword != 'not';\n  for (var key in schema) if (key != exceptKeyword && rules[key]) return true;\n}\n\n\nfunction schemaUnknownRules(schema, rules) {\n  if (typeof schema == 'boolean') return;\n  for (var key in schema) if (!rules[key]) return key;\n}\n\n\nfunction toQuotedString(str) {\n  return '\\'' + escapeQuotes(str) + '\\'';\n}\n\n\nfunction getPathExpr(currentPath, expr, jsonPointers, isNumber) {\n  var path = jsonPointers // false by default\n              ? '\\'/\\' + ' + expr + (isNumber ? '' : '.replace(/~/g, \\'~0\\').replace(/\\\\//g, \\'~1\\')')\n              : (isNumber ? '\\'[\\' + ' + expr + ' + \\']\\'' : '\\'[\\\\\\'\\' + ' + expr + ' + \\'\\\\\\']\\'');\n  return joinPaths(currentPath, path);\n}\n\n\nfunction getPath(currentPath, prop, jsonPointers) {\n  var path = jsonPointers // false by default\n              ? toQuotedString('/' + escapeJsonPointer(prop))\n              : toQuotedString(getProperty(prop));\n  return joinPaths(currentPath, path);\n}\n\n\nvar JSON_POINTER = /^\\/(?:[^~]|~0|~1)*$/;\nvar RELATIVE_JSON_POINTER = /^([0-9]+)(#|\\/(?:[^~]|~0|~1)*)?$/;\nfunction getData($data, lvl, paths) {\n  var up, jsonPointer, data, matches;\n  if ($data === '') return 'rootData';\n  if ($data[0] == '/') {\n    if (!JSON_POINTER.test($data)) throw new Error('Invalid JSON-pointer: ' + $data);\n    jsonPointer = $data;\n    data = 'rootData';\n  } else {\n    matches = $data.match(RELATIVE_JSON_POINTER);\n    if (!matches) throw new Error('Invalid JSON-pointer: ' + $data);\n    up = +matches[1];\n    jsonPointer = matches[2];\n    if (jsonPointer == '#') {\n      if (up >= lvl) throw new Error('Cannot access property/index ' + up + ' levels up, current level is ' + lvl);\n      return paths[lvl - up];\n    }\n\n    if (up > lvl) throw new Error('Cannot access data ' + up + ' levels up, current level is ' + lvl);\n    data = 'data' + ((lvl - up) || '');\n    if (!jsonPointer) return data;\n  }\n\n  var expr = data;\n  var segments = jsonPointer.split('/');\n  for (var i=0; i<segments.length; i++) {\n    var segment = segments[i];\n    if (segment) {\n      data += getProperty(unescapeJsonPointer(segment));\n      expr += ' && ' + data;\n    }\n  }\n  return expr;\n}\n\n\nfunction joinPaths (a, b) {\n  if (a == '\"\"') return b;\n  return (a + ' + ' + b).replace(/' \\+ '/g, '');\n}\n\n\nfunction unescapeFragment(str) {\n  return unescapeJsonPointer(decodeURIComponent(str));\n}\n\n\nfunction escapeFragment(str) {\n  return encodeURIComponent(escapeJsonPointer(str));\n}\n\n\nfunction escapeJsonPointer(str) {\n  return str.replace(/~/g, '~0').replace(/\\//g, '~1');\n}\n\n\nfunction unescapeJsonPointer(str) {\n  return str.replace(/~1/g, '/').replace(/~0/g, '~');\n}\n","'use strict';\n\nvar KEYWORDS = [\n  'multipleOf',\n  'maximum',\n  'exclusiveMaximum',\n  'minimum',\n  'exclusiveMinimum',\n  'maxLength',\n  'minLength',\n  'pattern',\n  'additionalItems',\n  'maxItems',\n  'minItems',\n  'uniqueItems',\n  'maxProperties',\n  'minProperties',\n  'required',\n  'additionalProperties',\n  'enum',\n  'format',\n  'const'\n];\n\nmodule.exports = function (metaSchema, keywordsJsonPointers) {\n  for (var i=0; i<keywordsJsonPointers.length; i++) {\n    metaSchema = JSON.parse(JSON.stringify(metaSchema));\n    var segments = keywordsJsonPointers[i].split('/');\n    var keywords = metaSchema;\n    var j;\n    for (j=1; j<segments.length; j++)\n      keywords = keywords[segments[j]];\n\n    for (j=0; j<KEYWORDS.length; j++) {\n      var key = KEYWORDS[j];\n      var schema = keywords[key];\n      if (schema) {\n        keywords[key] = {\n          anyOf: [\n            schema,\n            { $ref: 'https://raw.githubusercontent.com/epoberezkin/ajv/master/lib/refs/data.json#' }\n          ]\n        };\n      }\n    }\n  }\n\n  return metaSchema;\n};\n","'use strict';\n\nvar metaSchema = require('./refs/json-schema-draft-07.json');\n\nmodule.exports = {\n  $id: 'https://github.com/epoberezkin/ajv/blob/master/lib/definition_schema.js',\n  definitions: {\n    simpleTypes: metaSchema.definitions.simpleTypes\n  },\n  type: 'object',\n  dependencies: {\n    schema: ['validate'],\n    $data: ['validate'],\n    statements: ['inline'],\n    valid: {not: {required: ['macro']}}\n  },\n  properties: {\n    type: metaSchema.properties.type,\n    schema: {type: 'boolean'},\n    statements: {type: 'boolean'},\n    dependencies: {\n      type: 'array',\n      items: {type: 'string'}\n    },\n    metaSchema: {type: 'object'},\n    modifying: {type: 'boolean'},\n    valid: {type: 'boolean'},\n    $data: {type: 'boolean'},\n    async: {type: 'boolean'},\n    errors: {\n      anyOf: [\n        {type: 'boolean'},\n        {const: 'full'}\n      ]\n    }\n  }\n};\n","'use strict';\nmodule.exports = function generate__limit(it, $keyword, $ruleType) {\n  var out = ' ';\n  var $lvl = it.level;\n  var $dataLvl = it.dataLevel;\n  var $schema = it.schema[$keyword];\n  var $schemaPath = it.schemaPath + it.util.getProperty($keyword);\n  var $errSchemaPath = it.errSchemaPath + '/' + $keyword;\n  var $breakOnError = !it.opts.allErrors;\n  var $errorKeyword;\n  var $data = 'data' + ($dataLvl || '');\n  var $isData = it.opts.$data && $schema && $schema.$data,\n    $schemaValue;\n  if ($isData) {\n    out += ' var schema' + ($lvl) + ' = ' + (it.util.getData($schema.$data, $dataLvl, it.dataPathArr)) + '; ';\n    $schemaValue = 'schema' + $lvl;\n  } else {\n    $schemaValue = $schema;\n  }\n  var $isMax = $keyword == 'maximum',\n    $exclusiveKeyword = $isMax ? 'exclusiveMaximum' : 'exclusiveMinimum',\n    $schemaExcl = it.schema[$exclusiveKeyword],\n    $isDataExcl = it.opts.$data && $schemaExcl && $schemaExcl.$data,\n    $op = $isMax ? '<' : '>',\n    $notOp = $isMax ? '>' : '<',\n    $errorKeyword = undefined;\n  if ($isDataExcl) {\n    var $schemaValueExcl = it.util.getData($schemaExcl.$data, $dataLvl, it.dataPathArr),\n      $exclusive = 'exclusive' + $lvl,\n      $exclType = 'exclType' + $lvl,\n      $exclIsNumber = 'exclIsNumber' + $lvl,\n      $opExpr = 'op' + $lvl,\n      $opStr = '\\' + ' + $opExpr + ' + \\'';\n    out += ' var schemaExcl' + ($lvl) + ' = ' + ($schemaValueExcl) + '; ';\n    $schemaValueExcl = 'schemaExcl' + $lvl;\n    out += ' var ' + ($exclusive) + '; var ' + ($exclType) + ' = typeof ' + ($schemaValueExcl) + '; if (' + ($exclType) + ' != \\'boolean\\' && ' + ($exclType) + ' != \\'undefined\\' && ' + ($exclType) + ' != \\'number\\') { ';\n    var $errorKeyword = $exclusiveKeyword;\n    var $$outStack = $$outStack || [];\n    $$outStack.push(out);\n    out = ''; /* istanbul ignore else */\n    if (it.createErrors !== false) {\n      out += ' { keyword: \\'' + ($errorKeyword || '_exclusiveLimit') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: {} ';\n      if (it.opts.messages !== false) {\n        out += ' , message: \\'' + ($exclusiveKeyword) + ' should be boolean\\' ';\n      }\n      if (it.opts.verbose) {\n        out += ' , schema: validate.schema' + ($schemaPath) + ' , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n      }\n      out += ' } ';\n    } else {\n      out += ' {} ';\n    }\n    var __err = out;\n    out = $$outStack.pop();\n    if (!it.compositeRule && $breakOnError) {\n      /* istanbul ignore if */\n      if (it.async) {\n        out += ' throw new ValidationError([' + (__err) + ']); ';\n      } else {\n        out += ' validate.errors = [' + (__err) + ']; return false; ';\n      }\n    } else {\n      out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n    }\n    out += ' } else if ( ';\n    if ($isData) {\n      out += ' (' + ($schemaValue) + ' !== undefined && typeof ' + ($schemaValue) + ' != \\'number\\') || ';\n    }\n    out += ' ' + ($exclType) + ' == \\'number\\' ? ( (' + ($exclusive) + ' = ' + ($schemaValue) + ' === undefined || ' + ($schemaValueExcl) + ' ' + ($op) + '= ' + ($schemaValue) + ') ? ' + ($data) + ' ' + ($notOp) + '= ' + ($schemaValueExcl) + ' : ' + ($data) + ' ' + ($notOp) + ' ' + ($schemaValue) + ' ) : ( (' + ($exclusive) + ' = ' + ($schemaValueExcl) + ' === true) ? ' + ($data) + ' ' + ($notOp) + '= ' + ($schemaValue) + ' : ' + ($data) + ' ' + ($notOp) + ' ' + ($schemaValue) + ' ) || ' + ($data) + ' !== ' + ($data) + ') { var op' + ($lvl) + ' = ' + ($exclusive) + ' ? \\'' + ($op) + '\\' : \\'' + ($op) + '=\\'; ';\n    if ($schema === undefined) {\n      $errorKeyword = $exclusiveKeyword;\n      $errSchemaPath = it.errSchemaPath + '/' + $exclusiveKeyword;\n      $schemaValue = $schemaValueExcl;\n      $isData = $isDataExcl;\n    }\n  } else {\n    var $exclIsNumber = typeof $schemaExcl == 'number',\n      $opStr = $op;\n    if ($exclIsNumber && $isData) {\n      var $opExpr = '\\'' + $opStr + '\\'';\n      out += ' if ( ';\n      if ($isData) {\n        out += ' (' + ($schemaValue) + ' !== undefined && typeof ' + ($schemaValue) + ' != \\'number\\') || ';\n      }\n      out += ' ( ' + ($schemaValue) + ' === undefined || ' + ($schemaExcl) + ' ' + ($op) + '= ' + ($schemaValue) + ' ? ' + ($data) + ' ' + ($notOp) + '= ' + ($schemaExcl) + ' : ' + ($data) + ' ' + ($notOp) + ' ' + ($schemaValue) + ' ) || ' + ($data) + ' !== ' + ($data) + ') { ';\n    } else {\n      if ($exclIsNumber && $schema === undefined) {\n        $exclusive = true;\n        $errorKeyword = $exclusiveKeyword;\n        $errSchemaPath = it.errSchemaPath + '/' + $exclusiveKeyword;\n        $schemaValue = $schemaExcl;\n        $notOp += '=';\n      } else {\n        if ($exclIsNumber) $schemaValue = Math[$isMax ? 'min' : 'max']($schemaExcl, $schema);\n        if ($schemaExcl === ($exclIsNumber ? $schemaValue : true)) {\n          $exclusive = true;\n          $errorKeyword = $exclusiveKeyword;\n          $errSchemaPath = it.errSchemaPath + '/' + $exclusiveKeyword;\n          $notOp += '=';\n        } else {\n          $exclusive = false;\n          $opStr += '=';\n        }\n      }\n      var $opExpr = '\\'' + $opStr + '\\'';\n      out += ' if ( ';\n      if ($isData) {\n        out += ' (' + ($schemaValue) + ' !== undefined && typeof ' + ($schemaValue) + ' != \\'number\\') || ';\n      }\n      out += ' ' + ($data) + ' ' + ($notOp) + ' ' + ($schemaValue) + ' || ' + ($data) + ' !== ' + ($data) + ') { ';\n    }\n  }\n  $errorKeyword = $errorKeyword || $keyword;\n  var $$outStack = $$outStack || [];\n  $$outStack.push(out);\n  out = ''; /* istanbul ignore else */\n  if (it.createErrors !== false) {\n    out += ' { keyword: \\'' + ($errorKeyword || '_limit') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { comparison: ' + ($opExpr) + ', limit: ' + ($schemaValue) + ', exclusive: ' + ($exclusive) + ' } ';\n    if (it.opts.messages !== false) {\n      out += ' , message: \\'should be ' + ($opStr) + ' ';\n      if ($isData) {\n        out += '\\' + ' + ($schemaValue);\n      } else {\n        out += '' + ($schemaValue) + '\\'';\n      }\n    }\n    if (it.opts.verbose) {\n      out += ' , schema:  ';\n      if ($isData) {\n        out += 'validate.schema' + ($schemaPath);\n      } else {\n        out += '' + ($schema);\n      }\n      out += '         , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n    }\n    out += ' } ';\n  } else {\n    out += ' {} ';\n  }\n  var __err = out;\n  out = $$outStack.pop();\n  if (!it.compositeRule && $breakOnError) {\n    /* istanbul ignore if */\n    if (it.async) {\n      out += ' throw new ValidationError([' + (__err) + ']); ';\n    } else {\n      out += ' validate.errors = [' + (__err) + ']; return false; ';\n    }\n  } else {\n    out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n  }\n  out += ' } ';\n  if ($breakOnError) {\n    out += ' else { ';\n  }\n  return out;\n}\n","'use strict';\nmodule.exports = function generate__limitItems(it, $keyword, $ruleType) {\n  var out = ' ';\n  var $lvl = it.level;\n  var $dataLvl = it.dataLevel;\n  var $schema = it.schema[$keyword];\n  var $schemaPath = it.schemaPath + it.util.getProperty($keyword);\n  var $errSchemaPath = it.errSchemaPath + '/' + $keyword;\n  var $breakOnError = !it.opts.allErrors;\n  var $errorKeyword;\n  var $data = 'data' + ($dataLvl || '');\n  var $isData = it.opts.$data && $schema && $schema.$data,\n    $schemaValue;\n  if ($isData) {\n    out += ' var schema' + ($lvl) + ' = ' + (it.util.getData($schema.$data, $dataLvl, it.dataPathArr)) + '; ';\n    $schemaValue = 'schema' + $lvl;\n  } else {\n    $schemaValue = $schema;\n  }\n  var $op = $keyword == 'maxItems' ? '>' : '<';\n  out += 'if ( ';\n  if ($isData) {\n    out += ' (' + ($schemaValue) + ' !== undefined && typeof ' + ($schemaValue) + ' != \\'number\\') || ';\n  }\n  out += ' ' + ($data) + '.length ' + ($op) + ' ' + ($schemaValue) + ') { ';\n  var $errorKeyword = $keyword;\n  var $$outStack = $$outStack || [];\n  $$outStack.push(out);\n  out = ''; /* istanbul ignore else */\n  if (it.createErrors !== false) {\n    out += ' { keyword: \\'' + ($errorKeyword || '_limitItems') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { limit: ' + ($schemaValue) + ' } ';\n    if (it.opts.messages !== false) {\n      out += ' , message: \\'should NOT have ';\n      if ($keyword == 'maxItems') {\n        out += 'more';\n      } else {\n        out += 'fewer';\n      }\n      out += ' than ';\n      if ($isData) {\n        out += '\\' + ' + ($schemaValue) + ' + \\'';\n      } else {\n        out += '' + ($schema);\n      }\n      out += ' items\\' ';\n    }\n    if (it.opts.verbose) {\n      out += ' , schema:  ';\n      if ($isData) {\n        out += 'validate.schema' + ($schemaPath);\n      } else {\n        out += '' + ($schema);\n      }\n      out += '         , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n    }\n    out += ' } ';\n  } else {\n    out += ' {} ';\n  }\n  var __err = out;\n  out = $$outStack.pop();\n  if (!it.compositeRule && $breakOnError) {\n    /* istanbul ignore if */\n    if (it.async) {\n      out += ' throw new ValidationError([' + (__err) + ']); ';\n    } else {\n      out += ' validate.errors = [' + (__err) + ']; return false; ';\n    }\n  } else {\n    out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n  }\n  out += '} ';\n  if ($breakOnError) {\n    out += ' else { ';\n  }\n  return out;\n}\n","'use strict';\nmodule.exports = function generate__limitLength(it, $keyword, $ruleType) {\n  var out = ' ';\n  var $lvl = it.level;\n  var $dataLvl = it.dataLevel;\n  var $schema = it.schema[$keyword];\n  var $schemaPath = it.schemaPath + it.util.getProperty($keyword);\n  var $errSchemaPath = it.errSchemaPath + '/' + $keyword;\n  var $breakOnError = !it.opts.allErrors;\n  var $errorKeyword;\n  var $data = 'data' + ($dataLvl || '');\n  var $isData = it.opts.$data && $schema && $schema.$data,\n    $schemaValue;\n  if ($isData) {\n    out += ' var schema' + ($lvl) + ' = ' + (it.util.getData($schema.$data, $dataLvl, it.dataPathArr)) + '; ';\n    $schemaValue = 'schema' + $lvl;\n  } else {\n    $schemaValue = $schema;\n  }\n  var $op = $keyword == 'maxLength' ? '>' : '<';\n  out += 'if ( ';\n  if ($isData) {\n    out += ' (' + ($schemaValue) + ' !== undefined && typeof ' + ($schemaValue) + ' != \\'number\\') || ';\n  }\n  if (it.opts.unicode === false) {\n    out += ' ' + ($data) + '.length ';\n  } else {\n    out += ' ucs2length(' + ($data) + ') ';\n  }\n  out += ' ' + ($op) + ' ' + ($schemaValue) + ') { ';\n  var $errorKeyword = $keyword;\n  var $$outStack = $$outStack || [];\n  $$outStack.push(out);\n  out = ''; /* istanbul ignore else */\n  if (it.createErrors !== false) {\n    out += ' { keyword: \\'' + ($errorKeyword || '_limitLength') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { limit: ' + ($schemaValue) + ' } ';\n    if (it.opts.messages !== false) {\n      out += ' , message: \\'should NOT be ';\n      if ($keyword == 'maxLength') {\n        out += 'longer';\n      } else {\n        out += 'shorter';\n      }\n      out += ' than ';\n      if ($isData) {\n        out += '\\' + ' + ($schemaValue) + ' + \\'';\n      } else {\n        out += '' + ($schema);\n      }\n      out += ' characters\\' ';\n    }\n    if (it.opts.verbose) {\n      out += ' , schema:  ';\n      if ($isData) {\n        out += 'validate.schema' + ($schemaPath);\n      } else {\n        out += '' + ($schema);\n      }\n      out += '         , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n    }\n    out += ' } ';\n  } else {\n    out += ' {} ';\n  }\n  var __err = out;\n  out = $$outStack.pop();\n  if (!it.compositeRule && $breakOnError) {\n    /* istanbul ignore if */\n    if (it.async) {\n      out += ' throw new ValidationError([' + (__err) + ']); ';\n    } else {\n      out += ' validate.errors = [' + (__err) + ']; return false; ';\n    }\n  } else {\n    out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n  }\n  out += '} ';\n  if ($breakOnError) {\n    out += ' else { ';\n  }\n  return out;\n}\n","'use strict';\nmodule.exports = function generate__limitProperties(it, $keyword, $ruleType) {\n  var out = ' ';\n  var $lvl = it.level;\n  var $dataLvl = it.dataLevel;\n  var $schema = it.schema[$keyword];\n  var $schemaPath = it.schemaPath + it.util.getProperty($keyword);\n  var $errSchemaPath = it.errSchemaPath + '/' + $keyword;\n  var $breakOnError = !it.opts.allErrors;\n  var $errorKeyword;\n  var $data = 'data' + ($dataLvl || '');\n  var $isData = it.opts.$data && $schema && $schema.$data,\n    $schemaValue;\n  if ($isData) {\n    out += ' var schema' + ($lvl) + ' = ' + (it.util.getData($schema.$data, $dataLvl, it.dataPathArr)) + '; ';\n    $schemaValue = 'schema' + $lvl;\n  } else {\n    $schemaValue = $schema;\n  }\n  var $op = $keyword == 'maxProperties' ? '>' : '<';\n  out += 'if ( ';\n  if ($isData) {\n    out += ' (' + ($schemaValue) + ' !== undefined && typeof ' + ($schemaValue) + ' != \\'number\\') || ';\n  }\n  out += ' Object.keys(' + ($data) + ').length ' + ($op) + ' ' + ($schemaValue) + ') { ';\n  var $errorKeyword = $keyword;\n  var $$outStack = $$outStack || [];\n  $$outStack.push(out);\n  out = ''; /* istanbul ignore else */\n  if (it.createErrors !== false) {\n    out += ' { keyword: \\'' + ($errorKeyword || '_limitProperties') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { limit: ' + ($schemaValue) + ' } ';\n    if (it.opts.messages !== false) {\n      out += ' , message: \\'should NOT have ';\n      if ($keyword == 'maxProperties') {\n        out += 'more';\n      } else {\n        out += 'fewer';\n      }\n      out += ' than ';\n      if ($isData) {\n        out += '\\' + ' + ($schemaValue) + ' + \\'';\n      } else {\n        out += '' + ($schema);\n      }\n      out += ' properties\\' ';\n    }\n    if (it.opts.verbose) {\n      out += ' , schema:  ';\n      if ($isData) {\n        out += 'validate.schema' + ($schemaPath);\n      } else {\n        out += '' + ($schema);\n      }\n      out += '         , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n    }\n    out += ' } ';\n  } else {\n    out += ' {} ';\n  }\n  var __err = out;\n  out = $$outStack.pop();\n  if (!it.compositeRule && $breakOnError) {\n    /* istanbul ignore if */\n    if (it.async) {\n      out += ' throw new ValidationError([' + (__err) + ']); ';\n    } else {\n      out += ' validate.errors = [' + (__err) + ']; return false; ';\n    }\n  } else {\n    out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n  }\n  out += '} ';\n  if ($breakOnError) {\n    out += ' else { ';\n  }\n  return out;\n}\n","'use strict';\nmodule.exports = function generate_allOf(it, $keyword, $ruleType) {\n  var out = ' ';\n  var $schema = it.schema[$keyword];\n  var $schemaPath = it.schemaPath + it.util.getProperty($keyword);\n  var $errSchemaPath = it.errSchemaPath + '/' + $keyword;\n  var $breakOnError = !it.opts.allErrors;\n  var $it = it.util.copy(it);\n  var $closingBraces = '';\n  $it.level++;\n  var $nextValid = 'valid' + $it.level;\n  var $currentBaseId = $it.baseId,\n    $allSchemasEmpty = true;\n  var arr1 = $schema;\n  if (arr1) {\n    var $sch, $i = -1,\n      l1 = arr1.length - 1;\n    while ($i < l1) {\n      $sch = arr1[$i += 1];\n      if ((it.opts.strictKeywords ? typeof $sch == 'object' && Object.keys($sch).length > 0 : it.util.schemaHasRules($sch, it.RULES.all))) {\n        $allSchemasEmpty = false;\n        $it.schema = $sch;\n        $it.schemaPath = $schemaPath + '[' + $i + ']';\n        $it.errSchemaPath = $errSchemaPath + '/' + $i;\n        out += '  ' + (it.validate($it)) + ' ';\n        $it.baseId = $currentBaseId;\n        if ($breakOnError) {\n          out += ' if (' + ($nextValid) + ') { ';\n          $closingBraces += '}';\n        }\n      }\n    }\n  }\n  if ($breakOnError) {\n    if ($allSchemasEmpty) {\n      out += ' if (true) { ';\n    } else {\n      out += ' ' + ($closingBraces.slice(0, -1)) + ' ';\n    }\n  }\n  out = it.util.cleanUpCode(out);\n  return out;\n}\n","'use strict';\nmodule.exports = function generate_anyOf(it, $keyword, $ruleType) {\n  var out = ' ';\n  var $lvl = it.level;\n  var $dataLvl = it.dataLevel;\n  var $schema = it.schema[$keyword];\n  var $schemaPath = it.schemaPath + it.util.getProperty($keyword);\n  var $errSchemaPath = it.errSchemaPath + '/' + $keyword;\n  var $breakOnError = !it.opts.allErrors;\n  var $data = 'data' + ($dataLvl || '');\n  var $valid = 'valid' + $lvl;\n  var $errs = 'errs__' + $lvl;\n  var $it = it.util.copy(it);\n  var $closingBraces = '';\n  $it.level++;\n  var $nextValid = 'valid' + $it.level;\n  var $noEmptySchema = $schema.every(function($sch) {\n    return (it.opts.strictKeywords ? typeof $sch == 'object' && Object.keys($sch).length > 0 : it.util.schemaHasRules($sch, it.RULES.all));\n  });\n  if ($noEmptySchema) {\n    var $currentBaseId = $it.baseId;\n    out += ' var ' + ($errs) + ' = errors; var ' + ($valid) + ' = false;  ';\n    var $wasComposite = it.compositeRule;\n    it.compositeRule = $it.compositeRule = true;\n    var arr1 = $schema;\n    if (arr1) {\n      var $sch, $i = -1,\n        l1 = arr1.length - 1;\n      while ($i < l1) {\n        $sch = arr1[$i += 1];\n        $it.schema = $sch;\n        $it.schemaPath = $schemaPath + '[' + $i + ']';\n        $it.errSchemaPath = $errSchemaPath + '/' + $i;\n        out += '  ' + (it.validate($it)) + ' ';\n        $it.baseId = $currentBaseId;\n        out += ' ' + ($valid) + ' = ' + ($valid) + ' || ' + ($nextValid) + '; if (!' + ($valid) + ') { ';\n        $closingBraces += '}';\n      }\n    }\n    it.compositeRule = $it.compositeRule = $wasComposite;\n    out += ' ' + ($closingBraces) + ' if (!' + ($valid) + ') {   var err =   '; /* istanbul ignore else */\n    if (it.createErrors !== false) {\n      out += ' { keyword: \\'' + ('anyOf') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: {} ';\n      if (it.opts.messages !== false) {\n        out += ' , message: \\'should match some schema in anyOf\\' ';\n      }\n      if (it.opts.verbose) {\n        out += ' , schema: validate.schema' + ($schemaPath) + ' , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n      }\n      out += ' } ';\n    } else {\n      out += ' {} ';\n    }\n    out += ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n    if (!it.compositeRule && $breakOnError) {\n      /* istanbul ignore if */\n      if (it.async) {\n        out += ' throw new ValidationError(vErrors); ';\n      } else {\n        out += ' validate.errors = vErrors; return false; ';\n      }\n    }\n    out += ' } else {  errors = ' + ($errs) + '; if (vErrors !== null) { if (' + ($errs) + ') vErrors.length = ' + ($errs) + '; else vErrors = null; } ';\n    if (it.opts.allErrors) {\n      out += ' } ';\n    }\n    out = it.util.cleanUpCode(out);\n  } else {\n    if ($breakOnError) {\n      out += ' if (true) { ';\n    }\n  }\n  return out;\n}\n","'use strict';\nmodule.exports = function generate_comment(it, $keyword, $ruleType) {\n  var out = ' ';\n  var $schema = it.schema[$keyword];\n  var $errSchemaPath = it.errSchemaPath + '/' + $keyword;\n  var $breakOnError = !it.opts.allErrors;\n  var $comment = it.util.toQuotedString($schema);\n  if (it.opts.$comment === true) {\n    out += ' console.log(' + ($comment) + ');';\n  } else if (typeof it.opts.$comment == 'function') {\n    out += ' self._opts.$comment(' + ($comment) + ', ' + (it.util.toQuotedString($errSchemaPath)) + ', validate.root.schema);';\n  }\n  return out;\n}\n","'use strict';\nmodule.exports = function generate_const(it, $keyword, $ruleType) {\n  var out = ' ';\n  var $lvl = it.level;\n  var $dataLvl = it.dataLevel;\n  var $schema = it.schema[$keyword];\n  var $schemaPath = it.schemaPath + it.util.getProperty($keyword);\n  var $errSchemaPath = it.errSchemaPath + '/' + $keyword;\n  var $breakOnError = !it.opts.allErrors;\n  var $data = 'data' + ($dataLvl || '');\n  var $valid = 'valid' + $lvl;\n  var $isData = it.opts.$data && $schema && $schema.$data,\n    $schemaValue;\n  if ($isData) {\n    out += ' var schema' + ($lvl) + ' = ' + (it.util.getData($schema.$data, $dataLvl, it.dataPathArr)) + '; ';\n    $schemaValue = 'schema' + $lvl;\n  } else {\n    $schemaValue = $schema;\n  }\n  if (!$isData) {\n    out += ' var schema' + ($lvl) + ' = validate.schema' + ($schemaPath) + ';';\n  }\n  out += 'var ' + ($valid) + ' = equal(' + ($data) + ', schema' + ($lvl) + '); if (!' + ($valid) + ') {   ';\n  var $$outStack = $$outStack || [];\n  $$outStack.push(out);\n  out = ''; /* istanbul ignore else */\n  if (it.createErrors !== false) {\n    out += ' { keyword: \\'' + ('const') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { allowedValue: schema' + ($lvl) + ' } ';\n    if (it.opts.messages !== false) {\n      out += ' , message: \\'should be equal to constant\\' ';\n    }\n    if (it.opts.verbose) {\n      out += ' , schema: validate.schema' + ($schemaPath) + ' , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n    }\n    out += ' } ';\n  } else {\n    out += ' {} ';\n  }\n  var __err = out;\n  out = $$outStack.pop();\n  if (!it.compositeRule && $breakOnError) {\n    /* istanbul ignore if */\n    if (it.async) {\n      out += ' throw new ValidationError([' + (__err) + ']); ';\n    } else {\n      out += ' validate.errors = [' + (__err) + ']; return false; ';\n    }\n  } else {\n    out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n  }\n  out += ' }';\n  if ($breakOnError) {\n    out += ' else { ';\n  }\n  return out;\n}\n","'use strict';\nmodule.exports = function generate_contains(it, $keyword, $ruleType) {\n  var out = ' ';\n  var $lvl = it.level;\n  var $dataLvl = it.dataLevel;\n  var $schema = it.schema[$keyword];\n  var $schemaPath = it.schemaPath + it.util.getProperty($keyword);\n  var $errSchemaPath = it.errSchemaPath + '/' + $keyword;\n  var $breakOnError = !it.opts.allErrors;\n  var $data = 'data' + ($dataLvl || '');\n  var $valid = 'valid' + $lvl;\n  var $errs = 'errs__' + $lvl;\n  var $it = it.util.copy(it);\n  var $closingBraces = '';\n  $it.level++;\n  var $nextValid = 'valid' + $it.level;\n  var $idx = 'i' + $lvl,\n    $dataNxt = $it.dataLevel = it.dataLevel + 1,\n    $nextData = 'data' + $dataNxt,\n    $currentBaseId = it.baseId,\n    $nonEmptySchema = (it.opts.strictKeywords ? typeof $schema == 'object' && Object.keys($schema).length > 0 : it.util.schemaHasRules($schema, it.RULES.all));\n  out += 'var ' + ($errs) + ' = errors;var ' + ($valid) + ';';\n  if ($nonEmptySchema) {\n    var $wasComposite = it.compositeRule;\n    it.compositeRule = $it.compositeRule = true;\n    $it.schema = $schema;\n    $it.schemaPath = $schemaPath;\n    $it.errSchemaPath = $errSchemaPath;\n    out += ' var ' + ($nextValid) + ' = false; for (var ' + ($idx) + ' = 0; ' + ($idx) + ' < ' + ($data) + '.length; ' + ($idx) + '++) { ';\n    $it.errorPath = it.util.getPathExpr(it.errorPath, $idx, it.opts.jsonPointers, true);\n    var $passData = $data + '[' + $idx + ']';\n    $it.dataPathArr[$dataNxt] = $idx;\n    var $code = it.validate($it);\n    $it.baseId = $currentBaseId;\n    if (it.util.varOccurences($code, $nextData) < 2) {\n      out += ' ' + (it.util.varReplace($code, $nextData, $passData)) + ' ';\n    } else {\n      out += ' var ' + ($nextData) + ' = ' + ($passData) + '; ' + ($code) + ' ';\n    }\n    out += ' if (' + ($nextValid) + ') break; }  ';\n    it.compositeRule = $it.compositeRule = $wasComposite;\n    out += ' ' + ($closingBraces) + ' if (!' + ($nextValid) + ') {';\n  } else {\n    out += ' if (' + ($data) + '.length == 0) {';\n  }\n  var $$outStack = $$outStack || [];\n  $$outStack.push(out);\n  out = ''; /* istanbul ignore else */\n  if (it.createErrors !== false) {\n    out += ' { keyword: \\'' + ('contains') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: {} ';\n    if (it.opts.messages !== false) {\n      out += ' , message: \\'should contain a valid item\\' ';\n    }\n    if (it.opts.verbose) {\n      out += ' , schema: validate.schema' + ($schemaPath) + ' , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n    }\n    out += ' } ';\n  } else {\n    out += ' {} ';\n  }\n  var __err = out;\n  out = $$outStack.pop();\n  if (!it.compositeRule && $breakOnError) {\n    /* istanbul ignore if */\n    if (it.async) {\n      out += ' throw new ValidationError([' + (__err) + ']); ';\n    } else {\n      out += ' validate.errors = [' + (__err) + ']; return false; ';\n    }\n  } else {\n    out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n  }\n  out += ' } else { ';\n  if ($nonEmptySchema) {\n    out += '  errors = ' + ($errs) + '; if (vErrors !== null) { if (' + ($errs) + ') vErrors.length = ' + ($errs) + '; else vErrors = null; } ';\n  }\n  if (it.opts.allErrors) {\n    out += ' } ';\n  }\n  out = it.util.cleanUpCode(out);\n  return out;\n}\n","'use strict';\nmodule.exports = function generate_custom(it, $keyword, $ruleType) {\n  var out = ' ';\n  var $lvl = it.level;\n  var $dataLvl = it.dataLevel;\n  var $schema = it.schema[$keyword];\n  var $schemaPath = it.schemaPath + it.util.getProperty($keyword);\n  var $errSchemaPath = it.errSchemaPath + '/' + $keyword;\n  var $breakOnError = !it.opts.allErrors;\n  var $errorKeyword;\n  var $data = 'data' + ($dataLvl || '');\n  var $valid = 'valid' + $lvl;\n  var $errs = 'errs__' + $lvl;\n  var $isData = it.opts.$data && $schema && $schema.$data,\n    $schemaValue;\n  if ($isData) {\n    out += ' var schema' + ($lvl) + ' = ' + (it.util.getData($schema.$data, $dataLvl, it.dataPathArr)) + '; ';\n    $schemaValue = 'schema' + $lvl;\n  } else {\n    $schemaValue = $schema;\n  }\n  var $rule = this,\n    $definition = 'definition' + $lvl,\n    $rDef = $rule.definition,\n    $closingBraces = '';\n  var $compile, $inline, $macro, $ruleValidate, $validateCode;\n  if ($isData && $rDef.$data) {\n    $validateCode = 'keywordValidate' + $lvl;\n    var $validateSchema = $rDef.validateSchema;\n    out += ' var ' + ($definition) + ' = RULES.custom[\\'' + ($keyword) + '\\'].definition; var ' + ($validateCode) + ' = ' + ($definition) + '.validate;';\n  } else {\n    $ruleValidate = it.useCustomRule($rule, $schema, it.schema, it);\n    if (!$ruleValidate) return;\n    $schemaValue = 'validate.schema' + $schemaPath;\n    $validateCode = $ruleValidate.code;\n    $compile = $rDef.compile;\n    $inline = $rDef.inline;\n    $macro = $rDef.macro;\n  }\n  var $ruleErrs = $validateCode + '.errors',\n    $i = 'i' + $lvl,\n    $ruleErr = 'ruleErr' + $lvl,\n    $asyncKeyword = $rDef.async;\n  if ($asyncKeyword && !it.async) throw new Error('async keyword in sync schema');\n  if (!($inline || $macro)) {\n    out += '' + ($ruleErrs) + ' = null;';\n  }\n  out += 'var ' + ($errs) + ' = errors;var ' + ($valid) + ';';\n  if ($isData && $rDef.$data) {\n    $closingBraces += '}';\n    out += ' if (' + ($schemaValue) + ' === undefined) { ' + ($valid) + ' = true; } else { ';\n    if ($validateSchema) {\n      $closingBraces += '}';\n      out += ' ' + ($valid) + ' = ' + ($definition) + '.validateSchema(' + ($schemaValue) + '); if (' + ($valid) + ') { ';\n    }\n  }\n  if ($inline) {\n    if ($rDef.statements) {\n      out += ' ' + ($ruleValidate.validate) + ' ';\n    } else {\n      out += ' ' + ($valid) + ' = ' + ($ruleValidate.validate) + '; ';\n    }\n  } else if ($macro) {\n    var $it = it.util.copy(it);\n    var $closingBraces = '';\n    $it.level++;\n    var $nextValid = 'valid' + $it.level;\n    $it.schema = $ruleValidate.validate;\n    $it.schemaPath = '';\n    var $wasComposite = it.compositeRule;\n    it.compositeRule = $it.compositeRule = true;\n    var $code = it.validate($it).replace(/validate\\.schema/g, $validateCode);\n    it.compositeRule = $it.compositeRule = $wasComposite;\n    out += ' ' + ($code);\n  } else {\n    var $$outStack = $$outStack || [];\n    $$outStack.push(out);\n    out = '';\n    out += '  ' + ($validateCode) + '.call( ';\n    if (it.opts.passContext) {\n      out += 'this';\n    } else {\n      out += 'self';\n    }\n    if ($compile || $rDef.schema === false) {\n      out += ' , ' + ($data) + ' ';\n    } else {\n      out += ' , ' + ($schemaValue) + ' , ' + ($data) + ' , validate.schema' + (it.schemaPath) + ' ';\n    }\n    out += ' , (dataPath || \\'\\')';\n    if (it.errorPath != '\"\"') {\n      out += ' + ' + (it.errorPath);\n    }\n    var $parentData = $dataLvl ? 'data' + (($dataLvl - 1) || '') : 'parentData',\n      $parentDataProperty = $dataLvl ? it.dataPathArr[$dataLvl] : 'parentDataProperty';\n    out += ' , ' + ($parentData) + ' , ' + ($parentDataProperty) + ' , rootData )  ';\n    var def_callRuleValidate = out;\n    out = $$outStack.pop();\n    if ($rDef.errors === false) {\n      out += ' ' + ($valid) + ' = ';\n      if ($asyncKeyword) {\n        out += 'await ';\n      }\n      out += '' + (def_callRuleValidate) + '; ';\n    } else {\n      if ($asyncKeyword) {\n        $ruleErrs = 'customErrors' + $lvl;\n        out += ' var ' + ($ruleErrs) + ' = null; try { ' + ($valid) + ' = await ' + (def_callRuleValidate) + '; } catch (e) { ' + ($valid) + ' = false; if (e instanceof ValidationError) ' + ($ruleErrs) + ' = e.errors; else throw e; } ';\n      } else {\n        out += ' ' + ($ruleErrs) + ' = null; ' + ($valid) + ' = ' + (def_callRuleValidate) + '; ';\n      }\n    }\n  }\n  if ($rDef.modifying) {\n    out += ' if (' + ($parentData) + ') ' + ($data) + ' = ' + ($parentData) + '[' + ($parentDataProperty) + '];';\n  }\n  out += '' + ($closingBraces);\n  if ($rDef.valid) {\n    if ($breakOnError) {\n      out += ' if (true) { ';\n    }\n  } else {\n    out += ' if ( ';\n    if ($rDef.valid === undefined) {\n      out += ' !';\n      if ($macro) {\n        out += '' + ($nextValid);\n      } else {\n        out += '' + ($valid);\n      }\n    } else {\n      out += ' ' + (!$rDef.valid) + ' ';\n    }\n    out += ') { ';\n    $errorKeyword = $rule.keyword;\n    var $$outStack = $$outStack || [];\n    $$outStack.push(out);\n    out = '';\n    var $$outStack = $$outStack || [];\n    $$outStack.push(out);\n    out = ''; /* istanbul ignore else */\n    if (it.createErrors !== false) {\n      out += ' { keyword: \\'' + ($errorKeyword || 'custom') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { keyword: \\'' + ($rule.keyword) + '\\' } ';\n      if (it.opts.messages !== false) {\n        out += ' , message: \\'should pass \"' + ($rule.keyword) + '\" keyword validation\\' ';\n      }\n      if (it.opts.verbose) {\n        out += ' , schema: validate.schema' + ($schemaPath) + ' , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n      }\n      out += ' } ';\n    } else {\n      out += ' {} ';\n    }\n    var __err = out;\n    out = $$outStack.pop();\n    if (!it.compositeRule && $breakOnError) {\n      /* istanbul ignore if */\n      if (it.async) {\n        out += ' throw new ValidationError([' + (__err) + ']); ';\n      } else {\n        out += ' validate.errors = [' + (__err) + ']; return false; ';\n      }\n    } else {\n      out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n    }\n    var def_customError = out;\n    out = $$outStack.pop();\n    if ($inline) {\n      if ($rDef.errors) {\n        if ($rDef.errors != 'full') {\n          out += '  for (var ' + ($i) + '=' + ($errs) + '; ' + ($i) + '<errors; ' + ($i) + '++) { var ' + ($ruleErr) + ' = vErrors[' + ($i) + ']; if (' + ($ruleErr) + '.dataPath === undefined) ' + ($ruleErr) + '.dataPath = (dataPath || \\'\\') + ' + (it.errorPath) + '; if (' + ($ruleErr) + '.schemaPath === undefined) { ' + ($ruleErr) + '.schemaPath = \"' + ($errSchemaPath) + '\"; } ';\n          if (it.opts.verbose) {\n            out += ' ' + ($ruleErr) + '.schema = ' + ($schemaValue) + '; ' + ($ruleErr) + '.data = ' + ($data) + '; ';\n          }\n          out += ' } ';\n        }\n      } else {\n        if ($rDef.errors === false) {\n          out += ' ' + (def_customError) + ' ';\n        } else {\n          out += ' if (' + ($errs) + ' == errors) { ' + (def_customError) + ' } else {  for (var ' + ($i) + '=' + ($errs) + '; ' + ($i) + '<errors; ' + ($i) + '++) { var ' + ($ruleErr) + ' = vErrors[' + ($i) + ']; if (' + ($ruleErr) + '.dataPath === undefined) ' + ($ruleErr) + '.dataPath = (dataPath || \\'\\') + ' + (it.errorPath) + '; if (' + ($ruleErr) + '.schemaPath === undefined) { ' + ($ruleErr) + '.schemaPath = \"' + ($errSchemaPath) + '\"; } ';\n          if (it.opts.verbose) {\n            out += ' ' + ($ruleErr) + '.schema = ' + ($schemaValue) + '; ' + ($ruleErr) + '.data = ' + ($data) + '; ';\n          }\n          out += ' } } ';\n        }\n      }\n    } else if ($macro) {\n      out += '   var err =   '; /* istanbul ignore else */\n      if (it.createErrors !== false) {\n        out += ' { keyword: \\'' + ($errorKeyword || 'custom') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { keyword: \\'' + ($rule.keyword) + '\\' } ';\n        if (it.opts.messages !== false) {\n          out += ' , message: \\'should pass \"' + ($rule.keyword) + '\" keyword validation\\' ';\n        }\n        if (it.opts.verbose) {\n          out += ' , schema: validate.schema' + ($schemaPath) + ' , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n        }\n        out += ' } ';\n      } else {\n        out += ' {} ';\n      }\n      out += ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n      if (!it.compositeRule && $breakOnError) {\n        /* istanbul ignore if */\n        if (it.async) {\n          out += ' throw new ValidationError(vErrors); ';\n        } else {\n          out += ' validate.errors = vErrors; return false; ';\n        }\n      }\n    } else {\n      if ($rDef.errors === false) {\n        out += ' ' + (def_customError) + ' ';\n      } else {\n        out += ' if (Array.isArray(' + ($ruleErrs) + ')) { if (vErrors === null) vErrors = ' + ($ruleErrs) + '; else vErrors = vErrors.concat(' + ($ruleErrs) + '); errors = vErrors.length;  for (var ' + ($i) + '=' + ($errs) + '; ' + ($i) + '<errors; ' + ($i) + '++) { var ' + ($ruleErr) + ' = vErrors[' + ($i) + ']; if (' + ($ruleErr) + '.dataPath === undefined) ' + ($ruleErr) + '.dataPath = (dataPath || \\'\\') + ' + (it.errorPath) + ';  ' + ($ruleErr) + '.schemaPath = \"' + ($errSchemaPath) + '\";  ';\n        if (it.opts.verbose) {\n          out += ' ' + ($ruleErr) + '.schema = ' + ($schemaValue) + '; ' + ($ruleErr) + '.data = ' + ($data) + '; ';\n        }\n        out += ' } } else { ' + (def_customError) + ' } ';\n      }\n    }\n    out += ' } ';\n    if ($breakOnError) {\n      out += ' else { ';\n    }\n  }\n  return out;\n}\n","'use strict';\nmodule.exports = function generate_dependencies(it, $keyword, $ruleType) {\n  var out = ' ';\n  var $lvl = it.level;\n  var $dataLvl = it.dataLevel;\n  var $schema = it.schema[$keyword];\n  var $schemaPath = it.schemaPath + it.util.getProperty($keyword);\n  var $errSchemaPath = it.errSchemaPath + '/' + $keyword;\n  var $breakOnError = !it.opts.allErrors;\n  var $data = 'data' + ($dataLvl || '');\n  var $errs = 'errs__' + $lvl;\n  var $it = it.util.copy(it);\n  var $closingBraces = '';\n  $it.level++;\n  var $nextValid = 'valid' + $it.level;\n  var $schemaDeps = {},\n    $propertyDeps = {},\n    $ownProperties = it.opts.ownProperties;\n  for ($property in $schema) {\n    var $sch = $schema[$property];\n    var $deps = Array.isArray($sch) ? $propertyDeps : $schemaDeps;\n    $deps[$property] = $sch;\n  }\n  out += 'var ' + ($errs) + ' = errors;';\n  var $currentErrorPath = it.errorPath;\n  out += 'var missing' + ($lvl) + ';';\n  for (var $property in $propertyDeps) {\n    $deps = $propertyDeps[$property];\n    if ($deps.length) {\n      out += ' if ( ' + ($data) + (it.util.getProperty($property)) + ' !== undefined ';\n      if ($ownProperties) {\n        out += ' && Object.prototype.hasOwnProperty.call(' + ($data) + ', \\'' + (it.util.escapeQuotes($property)) + '\\') ';\n      }\n      if ($breakOnError) {\n        out += ' && ( ';\n        var arr1 = $deps;\n        if (arr1) {\n          var $propertyKey, $i = -1,\n            l1 = arr1.length - 1;\n          while ($i < l1) {\n            $propertyKey = arr1[$i += 1];\n            if ($i) {\n              out += ' || ';\n            }\n            var $prop = it.util.getProperty($propertyKey),\n              $useData = $data + $prop;\n            out += ' ( ( ' + ($useData) + ' === undefined ';\n            if ($ownProperties) {\n              out += ' || ! Object.prototype.hasOwnProperty.call(' + ($data) + ', \\'' + (it.util.escapeQuotes($propertyKey)) + '\\') ';\n            }\n            out += ') && (missing' + ($lvl) + ' = ' + (it.util.toQuotedString(it.opts.jsonPointers ? $propertyKey : $prop)) + ') ) ';\n          }\n        }\n        out += ')) {  ';\n        var $propertyPath = 'missing' + $lvl,\n          $missingProperty = '\\' + ' + $propertyPath + ' + \\'';\n        if (it.opts._errorDataPathProperty) {\n          it.errorPath = it.opts.jsonPointers ? it.util.getPathExpr($currentErrorPath, $propertyPath, true) : $currentErrorPath + ' + ' + $propertyPath;\n        }\n        var $$outStack = $$outStack || [];\n        $$outStack.push(out);\n        out = ''; /* istanbul ignore else */\n        if (it.createErrors !== false) {\n          out += ' { keyword: \\'' + ('dependencies') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { property: \\'' + (it.util.escapeQuotes($property)) + '\\', missingProperty: \\'' + ($missingProperty) + '\\', depsCount: ' + ($deps.length) + ', deps: \\'' + (it.util.escapeQuotes($deps.length == 1 ? $deps[0] : $deps.join(\", \"))) + '\\' } ';\n          if (it.opts.messages !== false) {\n            out += ' , message: \\'should have ';\n            if ($deps.length == 1) {\n              out += 'property ' + (it.util.escapeQuotes($deps[0]));\n            } else {\n              out += 'properties ' + (it.util.escapeQuotes($deps.join(\", \")));\n            }\n            out += ' when property ' + (it.util.escapeQuotes($property)) + ' is present\\' ';\n          }\n          if (it.opts.verbose) {\n            out += ' , schema: validate.schema' + ($schemaPath) + ' , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n          }\n          out += ' } ';\n        } else {\n          out += ' {} ';\n        }\n        var __err = out;\n        out = $$outStack.pop();\n        if (!it.compositeRule && $breakOnError) {\n          /* istanbul ignore if */\n          if (it.async) {\n            out += ' throw new ValidationError([' + (__err) + ']); ';\n          } else {\n            out += ' validate.errors = [' + (__err) + ']; return false; ';\n          }\n        } else {\n          out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n        }\n      } else {\n        out += ' ) { ';\n        var arr2 = $deps;\n        if (arr2) {\n          var $propertyKey, i2 = -1,\n            l2 = arr2.length - 1;\n          while (i2 < l2) {\n            $propertyKey = arr2[i2 += 1];\n            var $prop = it.util.getProperty($propertyKey),\n              $missingProperty = it.util.escapeQuotes($propertyKey),\n              $useData = $data + $prop;\n            if (it.opts._errorDataPathProperty) {\n              it.errorPath = it.util.getPath($currentErrorPath, $propertyKey, it.opts.jsonPointers);\n            }\n            out += ' if ( ' + ($useData) + ' === undefined ';\n            if ($ownProperties) {\n              out += ' || ! Object.prototype.hasOwnProperty.call(' + ($data) + ', \\'' + (it.util.escapeQuotes($propertyKey)) + '\\') ';\n            }\n            out += ') {  var err =   '; /* istanbul ignore else */\n            if (it.createErrors !== false) {\n              out += ' { keyword: \\'' + ('dependencies') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { property: \\'' + (it.util.escapeQuotes($property)) + '\\', missingProperty: \\'' + ($missingProperty) + '\\', depsCount: ' + ($deps.length) + ', deps: \\'' + (it.util.escapeQuotes($deps.length == 1 ? $deps[0] : $deps.join(\", \"))) + '\\' } ';\n              if (it.opts.messages !== false) {\n                out += ' , message: \\'should have ';\n                if ($deps.length == 1) {\n                  out += 'property ' + (it.util.escapeQuotes($deps[0]));\n                } else {\n                  out += 'properties ' + (it.util.escapeQuotes($deps.join(\", \")));\n                }\n                out += ' when property ' + (it.util.escapeQuotes($property)) + ' is present\\' ';\n              }\n              if (it.opts.verbose) {\n                out += ' , schema: validate.schema' + ($schemaPath) + ' , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n              }\n              out += ' } ';\n            } else {\n              out += ' {} ';\n            }\n            out += ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } ';\n          }\n        }\n      }\n      out += ' }   ';\n      if ($breakOnError) {\n        $closingBraces += '}';\n        out += ' else { ';\n      }\n    }\n  }\n  it.errorPath = $currentErrorPath;\n  var $currentBaseId = $it.baseId;\n  for (var $property in $schemaDeps) {\n    var $sch = $schemaDeps[$property];\n    if ((it.opts.strictKeywords ? typeof $sch == 'object' && Object.keys($sch).length > 0 : it.util.schemaHasRules($sch, it.RULES.all))) {\n      out += ' ' + ($nextValid) + ' = true; if ( ' + ($data) + (it.util.getProperty($property)) + ' !== undefined ';\n      if ($ownProperties) {\n        out += ' && Object.prototype.hasOwnProperty.call(' + ($data) + ', \\'' + (it.util.escapeQuotes($property)) + '\\') ';\n      }\n      out += ') { ';\n      $it.schema = $sch;\n      $it.schemaPath = $schemaPath + it.util.getProperty($property);\n      $it.errSchemaPath = $errSchemaPath + '/' + it.util.escapeFragment($property);\n      out += '  ' + (it.validate($it)) + ' ';\n      $it.baseId = $currentBaseId;\n      out += ' }  ';\n      if ($breakOnError) {\n        out += ' if (' + ($nextValid) + ') { ';\n        $closingBraces += '}';\n      }\n    }\n  }\n  if ($breakOnError) {\n    out += '   ' + ($closingBraces) + ' if (' + ($errs) + ' == errors) {';\n  }\n  out = it.util.cleanUpCode(out);\n  return out;\n}\n","'use strict';\nmodule.exports = function generate_enum(it, $keyword, $ruleType) {\n  var out = ' ';\n  var $lvl = it.level;\n  var $dataLvl = it.dataLevel;\n  var $schema = it.schema[$keyword];\n  var $schemaPath = it.schemaPath + it.util.getProperty($keyword);\n  var $errSchemaPath = it.errSchemaPath + '/' + $keyword;\n  var $breakOnError = !it.opts.allErrors;\n  var $data = 'data' + ($dataLvl || '');\n  var $valid = 'valid' + $lvl;\n  var $isData = it.opts.$data && $schema && $schema.$data,\n    $schemaValue;\n  if ($isData) {\n    out += ' var schema' + ($lvl) + ' = ' + (it.util.getData($schema.$data, $dataLvl, it.dataPathArr)) + '; ';\n    $schemaValue = 'schema' + $lvl;\n  } else {\n    $schemaValue = $schema;\n  }\n  var $i = 'i' + $lvl,\n    $vSchema = 'schema' + $lvl;\n  if (!$isData) {\n    out += ' var ' + ($vSchema) + ' = validate.schema' + ($schemaPath) + ';';\n  }\n  out += 'var ' + ($valid) + ';';\n  if ($isData) {\n    out += ' if (schema' + ($lvl) + ' === undefined) ' + ($valid) + ' = true; else if (!Array.isArray(schema' + ($lvl) + ')) ' + ($valid) + ' = false; else {';\n  }\n  out += '' + ($valid) + ' = false;for (var ' + ($i) + '=0; ' + ($i) + '<' + ($vSchema) + '.length; ' + ($i) + '++) if (equal(' + ($data) + ', ' + ($vSchema) + '[' + ($i) + '])) { ' + ($valid) + ' = true; break; }';\n  if ($isData) {\n    out += '  }  ';\n  }\n  out += ' if (!' + ($valid) + ') {   ';\n  var $$outStack = $$outStack || [];\n  $$outStack.push(out);\n  out = ''; /* istanbul ignore else */\n  if (it.createErrors !== false) {\n    out += ' { keyword: \\'' + ('enum') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { allowedValues: schema' + ($lvl) + ' } ';\n    if (it.opts.messages !== false) {\n      out += ' , message: \\'should be equal to one of the allowed values\\' ';\n    }\n    if (it.opts.verbose) {\n      out += ' , schema: validate.schema' + ($schemaPath) + ' , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n    }\n    out += ' } ';\n  } else {\n    out += ' {} ';\n  }\n  var __err = out;\n  out = $$outStack.pop();\n  if (!it.compositeRule && $breakOnError) {\n    /* istanbul ignore if */\n    if (it.async) {\n      out += ' throw new ValidationError([' + (__err) + ']); ';\n    } else {\n      out += ' validate.errors = [' + (__err) + ']; return false; ';\n    }\n  } else {\n    out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n  }\n  out += ' }';\n  if ($breakOnError) {\n    out += ' else { ';\n  }\n  return out;\n}\n","'use strict';\nmodule.exports = function generate_format(it, $keyword, $ruleType) {\n  var out = ' ';\n  var $lvl = it.level;\n  var $dataLvl = it.dataLevel;\n  var $schema = it.schema[$keyword];\n  var $schemaPath = it.schemaPath + it.util.getProperty($keyword);\n  var $errSchemaPath = it.errSchemaPath + '/' + $keyword;\n  var $breakOnError = !it.opts.allErrors;\n  var $data = 'data' + ($dataLvl || '');\n  if (it.opts.format === false) {\n    if ($breakOnError) {\n      out += ' if (true) { ';\n    }\n    return out;\n  }\n  var $isData = it.opts.$data && $schema && $schema.$data,\n    $schemaValue;\n  if ($isData) {\n    out += ' var schema' + ($lvl) + ' = ' + (it.util.getData($schema.$data, $dataLvl, it.dataPathArr)) + '; ';\n    $schemaValue = 'schema' + $lvl;\n  } else {\n    $schemaValue = $schema;\n  }\n  var $unknownFormats = it.opts.unknownFormats,\n    $allowUnknown = Array.isArray($unknownFormats);\n  if ($isData) {\n    var $format = 'format' + $lvl,\n      $isObject = 'isObject' + $lvl,\n      $formatType = 'formatType' + $lvl;\n    out += ' var ' + ($format) + ' = formats[' + ($schemaValue) + ']; var ' + ($isObject) + ' = typeof ' + ($format) + ' == \\'object\\' && !(' + ($format) + ' instanceof RegExp) && ' + ($format) + '.validate; var ' + ($formatType) + ' = ' + ($isObject) + ' && ' + ($format) + '.type || \\'string\\'; if (' + ($isObject) + ') { ';\n    if (it.async) {\n      out += ' var async' + ($lvl) + ' = ' + ($format) + '.async; ';\n    }\n    out += ' ' + ($format) + ' = ' + ($format) + '.validate; } if (  ';\n    if ($isData) {\n      out += ' (' + ($schemaValue) + ' !== undefined && typeof ' + ($schemaValue) + ' != \\'string\\') || ';\n    }\n    out += ' (';\n    if ($unknownFormats != 'ignore') {\n      out += ' (' + ($schemaValue) + ' && !' + ($format) + ' ';\n      if ($allowUnknown) {\n        out += ' && self._opts.unknownFormats.indexOf(' + ($schemaValue) + ') == -1 ';\n      }\n      out += ') || ';\n    }\n    out += ' (' + ($format) + ' && ' + ($formatType) + ' == \\'' + ($ruleType) + '\\' && !(typeof ' + ($format) + ' == \\'function\\' ? ';\n    if (it.async) {\n      out += ' (async' + ($lvl) + ' ? await ' + ($format) + '(' + ($data) + ') : ' + ($format) + '(' + ($data) + ')) ';\n    } else {\n      out += ' ' + ($format) + '(' + ($data) + ') ';\n    }\n    out += ' : ' + ($format) + '.test(' + ($data) + '))))) {';\n  } else {\n    var $format = it.formats[$schema];\n    if (!$format) {\n      if ($unknownFormats == 'ignore') {\n        it.logger.warn('unknown format \"' + $schema + '\" ignored in schema at path \"' + it.errSchemaPath + '\"');\n        if ($breakOnError) {\n          out += ' if (true) { ';\n        }\n        return out;\n      } else if ($allowUnknown && $unknownFormats.indexOf($schema) >= 0) {\n        if ($breakOnError) {\n          out += ' if (true) { ';\n        }\n        return out;\n      } else {\n        throw new Error('unknown format \"' + $schema + '\" is used in schema at path \"' + it.errSchemaPath + '\"');\n      }\n    }\n    var $isObject = typeof $format == 'object' && !($format instanceof RegExp) && $format.validate;\n    var $formatType = $isObject && $format.type || 'string';\n    if ($isObject) {\n      var $async = $format.async === true;\n      $format = $format.validate;\n    }\n    if ($formatType != $ruleType) {\n      if ($breakOnError) {\n        out += ' if (true) { ';\n      }\n      return out;\n    }\n    if ($async) {\n      if (!it.async) throw new Error('async format in sync schema');\n      var $formatRef = 'formats' + it.util.getProperty($schema) + '.validate';\n      out += ' if (!(await ' + ($formatRef) + '(' + ($data) + '))) { ';\n    } else {\n      out += ' if (! ';\n      var $formatRef = 'formats' + it.util.getProperty($schema);\n      if ($isObject) $formatRef += '.validate';\n      if (typeof $format == 'function') {\n        out += ' ' + ($formatRef) + '(' + ($data) + ') ';\n      } else {\n        out += ' ' + ($formatRef) + '.test(' + ($data) + ') ';\n      }\n      out += ') { ';\n    }\n  }\n  var $$outStack = $$outStack || [];\n  $$outStack.push(out);\n  out = ''; /* istanbul ignore else */\n  if (it.createErrors !== false) {\n    out += ' { keyword: \\'' + ('format') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { format:  ';\n    if ($isData) {\n      out += '' + ($schemaValue);\n    } else {\n      out += '' + (it.util.toQuotedString($schema));\n    }\n    out += '  } ';\n    if (it.opts.messages !== false) {\n      out += ' , message: \\'should match format \"';\n      if ($isData) {\n        out += '\\' + ' + ($schemaValue) + ' + \\'';\n      } else {\n        out += '' + (it.util.escapeQuotes($schema));\n      }\n      out += '\"\\' ';\n    }\n    if (it.opts.verbose) {\n      out += ' , schema:  ';\n      if ($isData) {\n        out += 'validate.schema' + ($schemaPath);\n      } else {\n        out += '' + (it.util.toQuotedString($schema));\n      }\n      out += '         , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n    }\n    out += ' } ';\n  } else {\n    out += ' {} ';\n  }\n  var __err = out;\n  out = $$outStack.pop();\n  if (!it.compositeRule && $breakOnError) {\n    /* istanbul ignore if */\n    if (it.async) {\n      out += ' throw new ValidationError([' + (__err) + ']); ';\n    } else {\n      out += ' validate.errors = [' + (__err) + ']; return false; ';\n    }\n  } else {\n    out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n  }\n  out += ' } ';\n  if ($breakOnError) {\n    out += ' else { ';\n  }\n  return out;\n}\n","'use strict';\nmodule.exports = function generate_if(it, $keyword, $ruleType) {\n  var out = ' ';\n  var $lvl = it.level;\n  var $dataLvl = it.dataLevel;\n  var $schema = it.schema[$keyword];\n  var $schemaPath = it.schemaPath + it.util.getProperty($keyword);\n  var $errSchemaPath = it.errSchemaPath + '/' + $keyword;\n  var $breakOnError = !it.opts.allErrors;\n  var $data = 'data' + ($dataLvl || '');\n  var $valid = 'valid' + $lvl;\n  var $errs = 'errs__' + $lvl;\n  var $it = it.util.copy(it);\n  $it.level++;\n  var $nextValid = 'valid' + $it.level;\n  var $thenSch = it.schema['then'],\n    $elseSch = it.schema['else'],\n    $thenPresent = $thenSch !== undefined && (it.opts.strictKeywords ? typeof $thenSch == 'object' && Object.keys($thenSch).length > 0 : it.util.schemaHasRules($thenSch, it.RULES.all)),\n    $elsePresent = $elseSch !== undefined && (it.opts.strictKeywords ? typeof $elseSch == 'object' && Object.keys($elseSch).length > 0 : it.util.schemaHasRules($elseSch, it.RULES.all)),\n    $currentBaseId = $it.baseId;\n  if ($thenPresent || $elsePresent) {\n    var $ifClause;\n    $it.createErrors = false;\n    $it.schema = $schema;\n    $it.schemaPath = $schemaPath;\n    $it.errSchemaPath = $errSchemaPath;\n    out += ' var ' + ($errs) + ' = errors; var ' + ($valid) + ' = true;  ';\n    var $wasComposite = it.compositeRule;\n    it.compositeRule = $it.compositeRule = true;\n    out += '  ' + (it.validate($it)) + ' ';\n    $it.baseId = $currentBaseId;\n    $it.createErrors = true;\n    out += '  errors = ' + ($errs) + '; if (vErrors !== null) { if (' + ($errs) + ') vErrors.length = ' + ($errs) + '; else vErrors = null; }  ';\n    it.compositeRule = $it.compositeRule = $wasComposite;\n    if ($thenPresent) {\n      out += ' if (' + ($nextValid) + ') {  ';\n      $it.schema = it.schema['then'];\n      $it.schemaPath = it.schemaPath + '.then';\n      $it.errSchemaPath = it.errSchemaPath + '/then';\n      out += '  ' + (it.validate($it)) + ' ';\n      $it.baseId = $currentBaseId;\n      out += ' ' + ($valid) + ' = ' + ($nextValid) + '; ';\n      if ($thenPresent && $elsePresent) {\n        $ifClause = 'ifClause' + $lvl;\n        out += ' var ' + ($ifClause) + ' = \\'then\\'; ';\n      } else {\n        $ifClause = '\\'then\\'';\n      }\n      out += ' } ';\n      if ($elsePresent) {\n        out += ' else { ';\n      }\n    } else {\n      out += ' if (!' + ($nextValid) + ') { ';\n    }\n    if ($elsePresent) {\n      $it.schema = it.schema['else'];\n      $it.schemaPath = it.schemaPath + '.else';\n      $it.errSchemaPath = it.errSchemaPath + '/else';\n      out += '  ' + (it.validate($it)) + ' ';\n      $it.baseId = $currentBaseId;\n      out += ' ' + ($valid) + ' = ' + ($nextValid) + '; ';\n      if ($thenPresent && $elsePresent) {\n        $ifClause = 'ifClause' + $lvl;\n        out += ' var ' + ($ifClause) + ' = \\'else\\'; ';\n      } else {\n        $ifClause = '\\'else\\'';\n      }\n      out += ' } ';\n    }\n    out += ' if (!' + ($valid) + ') {   var err =   '; /* istanbul ignore else */\n    if (it.createErrors !== false) {\n      out += ' { keyword: \\'' + ('if') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { failingKeyword: ' + ($ifClause) + ' } ';\n      if (it.opts.messages !== false) {\n        out += ' , message: \\'should match \"\\' + ' + ($ifClause) + ' + \\'\" schema\\' ';\n      }\n      if (it.opts.verbose) {\n        out += ' , schema: validate.schema' + ($schemaPath) + ' , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n      }\n      out += ' } ';\n    } else {\n      out += ' {} ';\n    }\n    out += ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n    if (!it.compositeRule && $breakOnError) {\n      /* istanbul ignore if */\n      if (it.async) {\n        out += ' throw new ValidationError(vErrors); ';\n      } else {\n        out += ' validate.errors = vErrors; return false; ';\n      }\n    }\n    out += ' }   ';\n    if ($breakOnError) {\n      out += ' else { ';\n    }\n    out = it.util.cleanUpCode(out);\n  } else {\n    if ($breakOnError) {\n      out += ' if (true) { ';\n    }\n  }\n  return out;\n}\n","'use strict';\n\n//all requires must be explicit because browserify won't work with dynamic requires\nmodule.exports = {\n  '$ref': require('./ref'),\n  allOf: require('./allOf'),\n  anyOf: require('./anyOf'),\n  '$comment': require('./comment'),\n  const: require('./const'),\n  contains: require('./contains'),\n  dependencies: require('./dependencies'),\n  'enum': require('./enum'),\n  format: require('./format'),\n  'if': require('./if'),\n  items: require('./items'),\n  maximum: require('./_limit'),\n  minimum: require('./_limit'),\n  maxItems: require('./_limitItems'),\n  minItems: require('./_limitItems'),\n  maxLength: require('./_limitLength'),\n  minLength: require('./_limitLength'),\n  maxProperties: require('./_limitProperties'),\n  minProperties: require('./_limitProperties'),\n  multipleOf: require('./multipleOf'),\n  not: require('./not'),\n  oneOf: require('./oneOf'),\n  pattern: require('./pattern'),\n  properties: require('./properties'),\n  propertyNames: require('./propertyNames'),\n  required: require('./required'),\n  uniqueItems: require('./uniqueItems'),\n  validate: require('./validate')\n};\n","'use strict';\nmodule.exports = function generate_items(it, $keyword, $ruleType) {\n  var out = ' ';\n  var $lvl = it.level;\n  var $dataLvl = it.dataLevel;\n  var $schema = it.schema[$keyword];\n  var $schemaPath = it.schemaPath + it.util.getProperty($keyword);\n  var $errSchemaPath = it.errSchemaPath + '/' + $keyword;\n  var $breakOnError = !it.opts.allErrors;\n  var $data = 'data' + ($dataLvl || '');\n  var $valid = 'valid' + $lvl;\n  var $errs = 'errs__' + $lvl;\n  var $it = it.util.copy(it);\n  var $closingBraces = '';\n  $it.level++;\n  var $nextValid = 'valid' + $it.level;\n  var $idx = 'i' + $lvl,\n    $dataNxt = $it.dataLevel = it.dataLevel + 1,\n    $nextData = 'data' + $dataNxt,\n    $currentBaseId = it.baseId;\n  out += 'var ' + ($errs) + ' = errors;var ' + ($valid) + ';';\n  if (Array.isArray($schema)) {\n    var $additionalItems = it.schema.additionalItems;\n    if ($additionalItems === false) {\n      out += ' ' + ($valid) + ' = ' + ($data) + '.length <= ' + ($schema.length) + '; ';\n      var $currErrSchemaPath = $errSchemaPath;\n      $errSchemaPath = it.errSchemaPath + '/additionalItems';\n      out += '  if (!' + ($valid) + ') {   ';\n      var $$outStack = $$outStack || [];\n      $$outStack.push(out);\n      out = ''; /* istanbul ignore else */\n      if (it.createErrors !== false) {\n        out += ' { keyword: \\'' + ('additionalItems') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { limit: ' + ($schema.length) + ' } ';\n        if (it.opts.messages !== false) {\n          out += ' , message: \\'should NOT have more than ' + ($schema.length) + ' items\\' ';\n        }\n        if (it.opts.verbose) {\n          out += ' , schema: false , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n        }\n        out += ' } ';\n      } else {\n        out += ' {} ';\n      }\n      var __err = out;\n      out = $$outStack.pop();\n      if (!it.compositeRule && $breakOnError) {\n        /* istanbul ignore if */\n        if (it.async) {\n          out += ' throw new ValidationError([' + (__err) + ']); ';\n        } else {\n          out += ' validate.errors = [' + (__err) + ']; return false; ';\n        }\n      } else {\n        out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n      }\n      out += ' } ';\n      $errSchemaPath = $currErrSchemaPath;\n      if ($breakOnError) {\n        $closingBraces += '}';\n        out += ' else { ';\n      }\n    }\n    var arr1 = $schema;\n    if (arr1) {\n      var $sch, $i = -1,\n        l1 = arr1.length - 1;\n      while ($i < l1) {\n        $sch = arr1[$i += 1];\n        if ((it.opts.strictKeywords ? typeof $sch == 'object' && Object.keys($sch).length > 0 : it.util.schemaHasRules($sch, it.RULES.all))) {\n          out += ' ' + ($nextValid) + ' = true; if (' + ($data) + '.length > ' + ($i) + ') { ';\n          var $passData = $data + '[' + $i + ']';\n          $it.schema = $sch;\n          $it.schemaPath = $schemaPath + '[' + $i + ']';\n          $it.errSchemaPath = $errSchemaPath + '/' + $i;\n          $it.errorPath = it.util.getPathExpr(it.errorPath, $i, it.opts.jsonPointers, true);\n          $it.dataPathArr[$dataNxt] = $i;\n          var $code = it.validate($it);\n          $it.baseId = $currentBaseId;\n          if (it.util.varOccurences($code, $nextData) < 2) {\n            out += ' ' + (it.util.varReplace($code, $nextData, $passData)) + ' ';\n          } else {\n            out += ' var ' + ($nextData) + ' = ' + ($passData) + '; ' + ($code) + ' ';\n          }\n          out += ' }  ';\n          if ($breakOnError) {\n            out += ' if (' + ($nextValid) + ') { ';\n            $closingBraces += '}';\n          }\n        }\n      }\n    }\n    if (typeof $additionalItems == 'object' && (it.opts.strictKeywords ? typeof $additionalItems == 'object' && Object.keys($additionalItems).length > 0 : it.util.schemaHasRules($additionalItems, it.RULES.all))) {\n      $it.schema = $additionalItems;\n      $it.schemaPath = it.schemaPath + '.additionalItems';\n      $it.errSchemaPath = it.errSchemaPath + '/additionalItems';\n      out += ' ' + ($nextValid) + ' = true; if (' + ($data) + '.length > ' + ($schema.length) + ') {  for (var ' + ($idx) + ' = ' + ($schema.length) + '; ' + ($idx) + ' < ' + ($data) + '.length; ' + ($idx) + '++) { ';\n      $it.errorPath = it.util.getPathExpr(it.errorPath, $idx, it.opts.jsonPointers, true);\n      var $passData = $data + '[' + $idx + ']';\n      $it.dataPathArr[$dataNxt] = $idx;\n      var $code = it.validate($it);\n      $it.baseId = $currentBaseId;\n      if (it.util.varOccurences($code, $nextData) < 2) {\n        out += ' ' + (it.util.varReplace($code, $nextData, $passData)) + ' ';\n      } else {\n        out += ' var ' + ($nextData) + ' = ' + ($passData) + '; ' + ($code) + ' ';\n      }\n      if ($breakOnError) {\n        out += ' if (!' + ($nextValid) + ') break; ';\n      }\n      out += ' } }  ';\n      if ($breakOnError) {\n        out += ' if (' + ($nextValid) + ') { ';\n        $closingBraces += '}';\n      }\n    }\n  } else if ((it.opts.strictKeywords ? typeof $schema == 'object' && Object.keys($schema).length > 0 : it.util.schemaHasRules($schema, it.RULES.all))) {\n    $it.schema = $schema;\n    $it.schemaPath = $schemaPath;\n    $it.errSchemaPath = $errSchemaPath;\n    out += '  for (var ' + ($idx) + ' = ' + (0) + '; ' + ($idx) + ' < ' + ($data) + '.length; ' + ($idx) + '++) { ';\n    $it.errorPath = it.util.getPathExpr(it.errorPath, $idx, it.opts.jsonPointers, true);\n    var $passData = $data + '[' + $idx + ']';\n    $it.dataPathArr[$dataNxt] = $idx;\n    var $code = it.validate($it);\n    $it.baseId = $currentBaseId;\n    if (it.util.varOccurences($code, $nextData) < 2) {\n      out += ' ' + (it.util.varReplace($code, $nextData, $passData)) + ' ';\n    } else {\n      out += ' var ' + ($nextData) + ' = ' + ($passData) + '; ' + ($code) + ' ';\n    }\n    if ($breakOnError) {\n      out += ' if (!' + ($nextValid) + ') break; ';\n    }\n    out += ' }';\n  }\n  if ($breakOnError) {\n    out += ' ' + ($closingBraces) + ' if (' + ($errs) + ' == errors) {';\n  }\n  out = it.util.cleanUpCode(out);\n  return out;\n}\n","'use strict';\nmodule.exports = function generate_multipleOf(it, $keyword, $ruleType) {\n  var out = ' ';\n  var $lvl = it.level;\n  var $dataLvl = it.dataLevel;\n  var $schema = it.schema[$keyword];\n  var $schemaPath = it.schemaPath + it.util.getProperty($keyword);\n  var $errSchemaPath = it.errSchemaPath + '/' + $keyword;\n  var $breakOnError = !it.opts.allErrors;\n  var $data = 'data' + ($dataLvl || '');\n  var $isData = it.opts.$data && $schema && $schema.$data,\n    $schemaValue;\n  if ($isData) {\n    out += ' var schema' + ($lvl) + ' = ' + (it.util.getData($schema.$data, $dataLvl, it.dataPathArr)) + '; ';\n    $schemaValue = 'schema' + $lvl;\n  } else {\n    $schemaValue = $schema;\n  }\n  out += 'var division' + ($lvl) + ';if (';\n  if ($isData) {\n    out += ' ' + ($schemaValue) + ' !== undefined && ( typeof ' + ($schemaValue) + ' != \\'number\\' || ';\n  }\n  out += ' (division' + ($lvl) + ' = ' + ($data) + ' / ' + ($schemaValue) + ', ';\n  if (it.opts.multipleOfPrecision) {\n    out += ' Math.abs(Math.round(division' + ($lvl) + ') - division' + ($lvl) + ') > 1e-' + (it.opts.multipleOfPrecision) + ' ';\n  } else {\n    out += ' division' + ($lvl) + ' !== parseInt(division' + ($lvl) + ') ';\n  }\n  out += ' ) ';\n  if ($isData) {\n    out += '  )  ';\n  }\n  out += ' ) {   ';\n  var $$outStack = $$outStack || [];\n  $$outStack.push(out);\n  out = ''; /* istanbul ignore else */\n  if (it.createErrors !== false) {\n    out += ' { keyword: \\'' + ('multipleOf') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { multipleOf: ' + ($schemaValue) + ' } ';\n    if (it.opts.messages !== false) {\n      out += ' , message: \\'should be multiple of ';\n      if ($isData) {\n        out += '\\' + ' + ($schemaValue);\n      } else {\n        out += '' + ($schemaValue) + '\\'';\n      }\n    }\n    if (it.opts.verbose) {\n      out += ' , schema:  ';\n      if ($isData) {\n        out += 'validate.schema' + ($schemaPath);\n      } else {\n        out += '' + ($schema);\n      }\n      out += '         , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n    }\n    out += ' } ';\n  } else {\n    out += ' {} ';\n  }\n  var __err = out;\n  out = $$outStack.pop();\n  if (!it.compositeRule && $breakOnError) {\n    /* istanbul ignore if */\n    if (it.async) {\n      out += ' throw new ValidationError([' + (__err) + ']); ';\n    } else {\n      out += ' validate.errors = [' + (__err) + ']; return false; ';\n    }\n  } else {\n    out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n  }\n  out += '} ';\n  if ($breakOnError) {\n    out += ' else { ';\n  }\n  return out;\n}\n","'use strict';\nmodule.exports = function generate_not(it, $keyword, $ruleType) {\n  var out = ' ';\n  var $lvl = it.level;\n  var $dataLvl = it.dataLevel;\n  var $schema = it.schema[$keyword];\n  var $schemaPath = it.schemaPath + it.util.getProperty($keyword);\n  var $errSchemaPath = it.errSchemaPath + '/' + $keyword;\n  var $breakOnError = !it.opts.allErrors;\n  var $data = 'data' + ($dataLvl || '');\n  var $errs = 'errs__' + $lvl;\n  var $it = it.util.copy(it);\n  $it.level++;\n  var $nextValid = 'valid' + $it.level;\n  if ((it.opts.strictKeywords ? typeof $schema == 'object' && Object.keys($schema).length > 0 : it.util.schemaHasRules($schema, it.RULES.all))) {\n    $it.schema = $schema;\n    $it.schemaPath = $schemaPath;\n    $it.errSchemaPath = $errSchemaPath;\n    out += ' var ' + ($errs) + ' = errors;  ';\n    var $wasComposite = it.compositeRule;\n    it.compositeRule = $it.compositeRule = true;\n    $it.createErrors = false;\n    var $allErrorsOption;\n    if ($it.opts.allErrors) {\n      $allErrorsOption = $it.opts.allErrors;\n      $it.opts.allErrors = false;\n    }\n    out += ' ' + (it.validate($it)) + ' ';\n    $it.createErrors = true;\n    if ($allErrorsOption) $it.opts.allErrors = $allErrorsOption;\n    it.compositeRule = $it.compositeRule = $wasComposite;\n    out += ' if (' + ($nextValid) + ') {   ';\n    var $$outStack = $$outStack || [];\n    $$outStack.push(out);\n    out = ''; /* istanbul ignore else */\n    if (it.createErrors !== false) {\n      out += ' { keyword: \\'' + ('not') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: {} ';\n      if (it.opts.messages !== false) {\n        out += ' , message: \\'should NOT be valid\\' ';\n      }\n      if (it.opts.verbose) {\n        out += ' , schema: validate.schema' + ($schemaPath) + ' , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n      }\n      out += ' } ';\n    } else {\n      out += ' {} ';\n    }\n    var __err = out;\n    out = $$outStack.pop();\n    if (!it.compositeRule && $breakOnError) {\n      /* istanbul ignore if */\n      if (it.async) {\n        out += ' throw new ValidationError([' + (__err) + ']); ';\n      } else {\n        out += ' validate.errors = [' + (__err) + ']; return false; ';\n      }\n    } else {\n      out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n    }\n    out += ' } else {  errors = ' + ($errs) + '; if (vErrors !== null) { if (' + ($errs) + ') vErrors.length = ' + ($errs) + '; else vErrors = null; } ';\n    if (it.opts.allErrors) {\n      out += ' } ';\n    }\n  } else {\n    out += '  var err =   '; /* istanbul ignore else */\n    if (it.createErrors !== false) {\n      out += ' { keyword: \\'' + ('not') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: {} ';\n      if (it.opts.messages !== false) {\n        out += ' , message: \\'should NOT be valid\\' ';\n      }\n      if (it.opts.verbose) {\n        out += ' , schema: validate.schema' + ($schemaPath) + ' , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n      }\n      out += ' } ';\n    } else {\n      out += ' {} ';\n    }\n    out += ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n    if ($breakOnError) {\n      out += ' if (false) { ';\n    }\n  }\n  return out;\n}\n","'use strict';\nmodule.exports = function generate_oneOf(it, $keyword, $ruleType) {\n  var out = ' ';\n  var $lvl = it.level;\n  var $dataLvl = it.dataLevel;\n  var $schema = it.schema[$keyword];\n  var $schemaPath = it.schemaPath + it.util.getProperty($keyword);\n  var $errSchemaPath = it.errSchemaPath + '/' + $keyword;\n  var $breakOnError = !it.opts.allErrors;\n  var $data = 'data' + ($dataLvl || '');\n  var $valid = 'valid' + $lvl;\n  var $errs = 'errs__' + $lvl;\n  var $it = it.util.copy(it);\n  var $closingBraces = '';\n  $it.level++;\n  var $nextValid = 'valid' + $it.level;\n  var $currentBaseId = $it.baseId,\n    $prevValid = 'prevValid' + $lvl,\n    $passingSchemas = 'passingSchemas' + $lvl;\n  out += 'var ' + ($errs) + ' = errors , ' + ($prevValid) + ' = false , ' + ($valid) + ' = false , ' + ($passingSchemas) + ' = null; ';\n  var $wasComposite = it.compositeRule;\n  it.compositeRule = $it.compositeRule = true;\n  var arr1 = $schema;\n  if (arr1) {\n    var $sch, $i = -1,\n      l1 = arr1.length - 1;\n    while ($i < l1) {\n      $sch = arr1[$i += 1];\n      if ((it.opts.strictKeywords ? typeof $sch == 'object' && Object.keys($sch).length > 0 : it.util.schemaHasRules($sch, it.RULES.all))) {\n        $it.schema = $sch;\n        $it.schemaPath = $schemaPath + '[' + $i + ']';\n        $it.errSchemaPath = $errSchemaPath + '/' + $i;\n        out += '  ' + (it.validate($it)) + ' ';\n        $it.baseId = $currentBaseId;\n      } else {\n        out += ' var ' + ($nextValid) + ' = true; ';\n      }\n      if ($i) {\n        out += ' if (' + ($nextValid) + ' && ' + ($prevValid) + ') { ' + ($valid) + ' = false; ' + ($passingSchemas) + ' = [' + ($passingSchemas) + ', ' + ($i) + ']; } else { ';\n        $closingBraces += '}';\n      }\n      out += ' if (' + ($nextValid) + ') { ' + ($valid) + ' = ' + ($prevValid) + ' = true; ' + ($passingSchemas) + ' = ' + ($i) + '; }';\n    }\n  }\n  it.compositeRule = $it.compositeRule = $wasComposite;\n  out += '' + ($closingBraces) + 'if (!' + ($valid) + ') {   var err =   '; /* istanbul ignore else */\n  if (it.createErrors !== false) {\n    out += ' { keyword: \\'' + ('oneOf') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { passingSchemas: ' + ($passingSchemas) + ' } ';\n    if (it.opts.messages !== false) {\n      out += ' , message: \\'should match exactly one schema in oneOf\\' ';\n    }\n    if (it.opts.verbose) {\n      out += ' , schema: validate.schema' + ($schemaPath) + ' , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n    }\n    out += ' } ';\n  } else {\n    out += ' {} ';\n  }\n  out += ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n  if (!it.compositeRule && $breakOnError) {\n    /* istanbul ignore if */\n    if (it.async) {\n      out += ' throw new ValidationError(vErrors); ';\n    } else {\n      out += ' validate.errors = vErrors; return false; ';\n    }\n  }\n  out += '} else {  errors = ' + ($errs) + '; if (vErrors !== null) { if (' + ($errs) + ') vErrors.length = ' + ($errs) + '; else vErrors = null; }';\n  if (it.opts.allErrors) {\n    out += ' } ';\n  }\n  return out;\n}\n","'use strict';\nmodule.exports = function generate_pattern(it, $keyword, $ruleType) {\n  var out = ' ';\n  var $lvl = it.level;\n  var $dataLvl = it.dataLevel;\n  var $schema = it.schema[$keyword];\n  var $schemaPath = it.schemaPath + it.util.getProperty($keyword);\n  var $errSchemaPath = it.errSchemaPath + '/' + $keyword;\n  var $breakOnError = !it.opts.allErrors;\n  var $data = 'data' + ($dataLvl || '');\n  var $isData = it.opts.$data && $schema && $schema.$data,\n    $schemaValue;\n  if ($isData) {\n    out += ' var schema' + ($lvl) + ' = ' + (it.util.getData($schema.$data, $dataLvl, it.dataPathArr)) + '; ';\n    $schemaValue = 'schema' + $lvl;\n  } else {\n    $schemaValue = $schema;\n  }\n  var $regexp = $isData ? '(new RegExp(' + $schemaValue + '))' : it.usePattern($schema);\n  out += 'if ( ';\n  if ($isData) {\n    out += ' (' + ($schemaValue) + ' !== undefined && typeof ' + ($schemaValue) + ' != \\'string\\') || ';\n  }\n  out += ' !' + ($regexp) + '.test(' + ($data) + ') ) {   ';\n  var $$outStack = $$outStack || [];\n  $$outStack.push(out);\n  out = ''; /* istanbul ignore else */\n  if (it.createErrors !== false) {\n    out += ' { keyword: \\'' + ('pattern') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { pattern:  ';\n    if ($isData) {\n      out += '' + ($schemaValue);\n    } else {\n      out += '' + (it.util.toQuotedString($schema));\n    }\n    out += '  } ';\n    if (it.opts.messages !== false) {\n      out += ' , message: \\'should match pattern \"';\n      if ($isData) {\n        out += '\\' + ' + ($schemaValue) + ' + \\'';\n      } else {\n        out += '' + (it.util.escapeQuotes($schema));\n      }\n      out += '\"\\' ';\n    }\n    if (it.opts.verbose) {\n      out += ' , schema:  ';\n      if ($isData) {\n        out += 'validate.schema' + ($schemaPath);\n      } else {\n        out += '' + (it.util.toQuotedString($schema));\n      }\n      out += '         , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n    }\n    out += ' } ';\n  } else {\n    out += ' {} ';\n  }\n  var __err = out;\n  out = $$outStack.pop();\n  if (!it.compositeRule && $breakOnError) {\n    /* istanbul ignore if */\n    if (it.async) {\n      out += ' throw new ValidationError([' + (__err) + ']); ';\n    } else {\n      out += ' validate.errors = [' + (__err) + ']; return false; ';\n    }\n  } else {\n    out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n  }\n  out += '} ';\n  if ($breakOnError) {\n    out += ' else { ';\n  }\n  return out;\n}\n","'use strict';\nmodule.exports = function generate_properties(it, $keyword, $ruleType) {\n  var out = ' ';\n  var $lvl = it.level;\n  var $dataLvl = it.dataLevel;\n  var $schema = it.schema[$keyword];\n  var $schemaPath = it.schemaPath + it.util.getProperty($keyword);\n  var $errSchemaPath = it.errSchemaPath + '/' + $keyword;\n  var $breakOnError = !it.opts.allErrors;\n  var $data = 'data' + ($dataLvl || '');\n  var $errs = 'errs__' + $lvl;\n  var $it = it.util.copy(it);\n  var $closingBraces = '';\n  $it.level++;\n  var $nextValid = 'valid' + $it.level;\n  var $key = 'key' + $lvl,\n    $idx = 'idx' + $lvl,\n    $dataNxt = $it.dataLevel = it.dataLevel + 1,\n    $nextData = 'data' + $dataNxt,\n    $dataProperties = 'dataProperties' + $lvl;\n  var $schemaKeys = Object.keys($schema || {}),\n    $pProperties = it.schema.patternProperties || {},\n    $pPropertyKeys = Object.keys($pProperties),\n    $aProperties = it.schema.additionalProperties,\n    $someProperties = $schemaKeys.length || $pPropertyKeys.length,\n    $noAdditional = $aProperties === false,\n    $additionalIsSchema = typeof $aProperties == 'object' && Object.keys($aProperties).length,\n    $removeAdditional = it.opts.removeAdditional,\n    $checkAdditional = $noAdditional || $additionalIsSchema || $removeAdditional,\n    $ownProperties = it.opts.ownProperties,\n    $currentBaseId = it.baseId;\n  var $required = it.schema.required;\n  if ($required && !(it.opts.$data && $required.$data) && $required.length < it.opts.loopRequired) var $requiredHash = it.util.toHash($required);\n  out += 'var ' + ($errs) + ' = errors;var ' + ($nextValid) + ' = true;';\n  if ($ownProperties) {\n    out += ' var ' + ($dataProperties) + ' = undefined;';\n  }\n  if ($checkAdditional) {\n    if ($ownProperties) {\n      out += ' ' + ($dataProperties) + ' = ' + ($dataProperties) + ' || Object.keys(' + ($data) + '); for (var ' + ($idx) + '=0; ' + ($idx) + '<' + ($dataProperties) + '.length; ' + ($idx) + '++) { var ' + ($key) + ' = ' + ($dataProperties) + '[' + ($idx) + ']; ';\n    } else {\n      out += ' for (var ' + ($key) + ' in ' + ($data) + ') { ';\n    }\n    if ($someProperties) {\n      out += ' var isAdditional' + ($lvl) + ' = !(false ';\n      if ($schemaKeys.length) {\n        if ($schemaKeys.length > 8) {\n          out += ' || validate.schema' + ($schemaPath) + '.hasOwnProperty(' + ($key) + ') ';\n        } else {\n          var arr1 = $schemaKeys;\n          if (arr1) {\n            var $propertyKey, i1 = -1,\n              l1 = arr1.length - 1;\n            while (i1 < l1) {\n              $propertyKey = arr1[i1 += 1];\n              out += ' || ' + ($key) + ' == ' + (it.util.toQuotedString($propertyKey)) + ' ';\n            }\n          }\n        }\n      }\n      if ($pPropertyKeys.length) {\n        var arr2 = $pPropertyKeys;\n        if (arr2) {\n          var $pProperty, $i = -1,\n            l2 = arr2.length - 1;\n          while ($i < l2) {\n            $pProperty = arr2[$i += 1];\n            out += ' || ' + (it.usePattern($pProperty)) + '.test(' + ($key) + ') ';\n          }\n        }\n      }\n      out += ' ); if (isAdditional' + ($lvl) + ') { ';\n    }\n    if ($removeAdditional == 'all') {\n      out += ' delete ' + ($data) + '[' + ($key) + ']; ';\n    } else {\n      var $currentErrorPath = it.errorPath;\n      var $additionalProperty = '\\' + ' + $key + ' + \\'';\n      if (it.opts._errorDataPathProperty) {\n        it.errorPath = it.util.getPathExpr(it.errorPath, $key, it.opts.jsonPointers);\n      }\n      if ($noAdditional) {\n        if ($removeAdditional) {\n          out += ' delete ' + ($data) + '[' + ($key) + ']; ';\n        } else {\n          out += ' ' + ($nextValid) + ' = false; ';\n          var $currErrSchemaPath = $errSchemaPath;\n          $errSchemaPath = it.errSchemaPath + '/additionalProperties';\n          var $$outStack = $$outStack || [];\n          $$outStack.push(out);\n          out = ''; /* istanbul ignore else */\n          if (it.createErrors !== false) {\n            out += ' { keyword: \\'' + ('additionalProperties') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { additionalProperty: \\'' + ($additionalProperty) + '\\' } ';\n            if (it.opts.messages !== false) {\n              out += ' , message: \\'';\n              if (it.opts._errorDataPathProperty) {\n                out += 'is an invalid additional property';\n              } else {\n                out += 'should NOT have additional properties';\n              }\n              out += '\\' ';\n            }\n            if (it.opts.verbose) {\n              out += ' , schema: false , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n            }\n            out += ' } ';\n          } else {\n            out += ' {} ';\n          }\n          var __err = out;\n          out = $$outStack.pop();\n          if (!it.compositeRule && $breakOnError) {\n            /* istanbul ignore if */\n            if (it.async) {\n              out += ' throw new ValidationError([' + (__err) + ']); ';\n            } else {\n              out += ' validate.errors = [' + (__err) + ']; return false; ';\n            }\n          } else {\n            out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n          }\n          $errSchemaPath = $currErrSchemaPath;\n          if ($breakOnError) {\n            out += ' break; ';\n          }\n        }\n      } else if ($additionalIsSchema) {\n        if ($removeAdditional == 'failing') {\n          out += ' var ' + ($errs) + ' = errors;  ';\n          var $wasComposite = it.compositeRule;\n          it.compositeRule = $it.compositeRule = true;\n          $it.schema = $aProperties;\n          $it.schemaPath = it.schemaPath + '.additionalProperties';\n          $it.errSchemaPath = it.errSchemaPath + '/additionalProperties';\n          $it.errorPath = it.opts._errorDataPathProperty ? it.errorPath : it.util.getPathExpr(it.errorPath, $key, it.opts.jsonPointers);\n          var $passData = $data + '[' + $key + ']';\n          $it.dataPathArr[$dataNxt] = $key;\n          var $code = it.validate($it);\n          $it.baseId = $currentBaseId;\n          if (it.util.varOccurences($code, $nextData) < 2) {\n            out += ' ' + (it.util.varReplace($code, $nextData, $passData)) + ' ';\n          } else {\n            out += ' var ' + ($nextData) + ' = ' + ($passData) + '; ' + ($code) + ' ';\n          }\n          out += ' if (!' + ($nextValid) + ') { errors = ' + ($errs) + '; if (validate.errors !== null) { if (errors) validate.errors.length = errors; else validate.errors = null; } delete ' + ($data) + '[' + ($key) + ']; }  ';\n          it.compositeRule = $it.compositeRule = $wasComposite;\n        } else {\n          $it.schema = $aProperties;\n          $it.schemaPath = it.schemaPath + '.additionalProperties';\n          $it.errSchemaPath = it.errSchemaPath + '/additionalProperties';\n          $it.errorPath = it.opts._errorDataPathProperty ? it.errorPath : it.util.getPathExpr(it.errorPath, $key, it.opts.jsonPointers);\n          var $passData = $data + '[' + $key + ']';\n          $it.dataPathArr[$dataNxt] = $key;\n          var $code = it.validate($it);\n          $it.baseId = $currentBaseId;\n          if (it.util.varOccurences($code, $nextData) < 2) {\n            out += ' ' + (it.util.varReplace($code, $nextData, $passData)) + ' ';\n          } else {\n            out += ' var ' + ($nextData) + ' = ' + ($passData) + '; ' + ($code) + ' ';\n          }\n          if ($breakOnError) {\n            out += ' if (!' + ($nextValid) + ') break; ';\n          }\n        }\n      }\n      it.errorPath = $currentErrorPath;\n    }\n    if ($someProperties) {\n      out += ' } ';\n    }\n    out += ' }  ';\n    if ($breakOnError) {\n      out += ' if (' + ($nextValid) + ') { ';\n      $closingBraces += '}';\n    }\n  }\n  var $useDefaults = it.opts.useDefaults && !it.compositeRule;\n  if ($schemaKeys.length) {\n    var arr3 = $schemaKeys;\n    if (arr3) {\n      var $propertyKey, i3 = -1,\n        l3 = arr3.length - 1;\n      while (i3 < l3) {\n        $propertyKey = arr3[i3 += 1];\n        var $sch = $schema[$propertyKey];\n        if ((it.opts.strictKeywords ? typeof $sch == 'object' && Object.keys($sch).length > 0 : it.util.schemaHasRules($sch, it.RULES.all))) {\n          var $prop = it.util.getProperty($propertyKey),\n            $passData = $data + $prop,\n            $hasDefault = $useDefaults && $sch.default !== undefined;\n          $it.schema = $sch;\n          $it.schemaPath = $schemaPath + $prop;\n          $it.errSchemaPath = $errSchemaPath + '/' + it.util.escapeFragment($propertyKey);\n          $it.errorPath = it.util.getPath(it.errorPath, $propertyKey, it.opts.jsonPointers);\n          $it.dataPathArr[$dataNxt] = it.util.toQuotedString($propertyKey);\n          var $code = it.validate($it);\n          $it.baseId = $currentBaseId;\n          if (it.util.varOccurences($code, $nextData) < 2) {\n            $code = it.util.varReplace($code, $nextData, $passData);\n            var $useData = $passData;\n          } else {\n            var $useData = $nextData;\n            out += ' var ' + ($nextData) + ' = ' + ($passData) + '; ';\n          }\n          if ($hasDefault) {\n            out += ' ' + ($code) + ' ';\n          } else {\n            if ($requiredHash && $requiredHash[$propertyKey]) {\n              out += ' if ( ' + ($useData) + ' === undefined ';\n              if ($ownProperties) {\n                out += ' || ! Object.prototype.hasOwnProperty.call(' + ($data) + ', \\'' + (it.util.escapeQuotes($propertyKey)) + '\\') ';\n              }\n              out += ') { ' + ($nextValid) + ' = false; ';\n              var $currentErrorPath = it.errorPath,\n                $currErrSchemaPath = $errSchemaPath,\n                $missingProperty = it.util.escapeQuotes($propertyKey);\n              if (it.opts._errorDataPathProperty) {\n                it.errorPath = it.util.getPath($currentErrorPath, $propertyKey, it.opts.jsonPointers);\n              }\n              $errSchemaPath = it.errSchemaPath + '/required';\n              var $$outStack = $$outStack || [];\n              $$outStack.push(out);\n              out = ''; /* istanbul ignore else */\n              if (it.createErrors !== false) {\n                out += ' { keyword: \\'' + ('required') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { missingProperty: \\'' + ($missingProperty) + '\\' } ';\n                if (it.opts.messages !== false) {\n                  out += ' , message: \\'';\n                  if (it.opts._errorDataPathProperty) {\n                    out += 'is a required property';\n                  } else {\n                    out += 'should have required property \\\\\\'' + ($missingProperty) + '\\\\\\'';\n                  }\n                  out += '\\' ';\n                }\n                if (it.opts.verbose) {\n                  out += ' , schema: validate.schema' + ($schemaPath) + ' , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n                }\n                out += ' } ';\n              } else {\n                out += ' {} ';\n              }\n              var __err = out;\n              out = $$outStack.pop();\n              if (!it.compositeRule && $breakOnError) {\n                /* istanbul ignore if */\n                if (it.async) {\n                  out += ' throw new ValidationError([' + (__err) + ']); ';\n                } else {\n                  out += ' validate.errors = [' + (__err) + ']; return false; ';\n                }\n              } else {\n                out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n              }\n              $errSchemaPath = $currErrSchemaPath;\n              it.errorPath = $currentErrorPath;\n              out += ' } else { ';\n            } else {\n              if ($breakOnError) {\n                out += ' if ( ' + ($useData) + ' === undefined ';\n                if ($ownProperties) {\n                  out += ' || ! Object.prototype.hasOwnProperty.call(' + ($data) + ', \\'' + (it.util.escapeQuotes($propertyKey)) + '\\') ';\n                }\n                out += ') { ' + ($nextValid) + ' = true; } else { ';\n              } else {\n                out += ' if (' + ($useData) + ' !== undefined ';\n                if ($ownProperties) {\n                  out += ' &&   Object.prototype.hasOwnProperty.call(' + ($data) + ', \\'' + (it.util.escapeQuotes($propertyKey)) + '\\') ';\n                }\n                out += ' ) { ';\n              }\n            }\n            out += ' ' + ($code) + ' } ';\n          }\n        }\n        if ($breakOnError) {\n          out += ' if (' + ($nextValid) + ') { ';\n          $closingBraces += '}';\n        }\n      }\n    }\n  }\n  if ($pPropertyKeys.length) {\n    var arr4 = $pPropertyKeys;\n    if (arr4) {\n      var $pProperty, i4 = -1,\n        l4 = arr4.length - 1;\n      while (i4 < l4) {\n        $pProperty = arr4[i4 += 1];\n        var $sch = $pProperties[$pProperty];\n        if ((it.opts.strictKeywords ? typeof $sch == 'object' && Object.keys($sch).length > 0 : it.util.schemaHasRules($sch, it.RULES.all))) {\n          $it.schema = $sch;\n          $it.schemaPath = it.schemaPath + '.patternProperties' + it.util.getProperty($pProperty);\n          $it.errSchemaPath = it.errSchemaPath + '/patternProperties/' + it.util.escapeFragment($pProperty);\n          if ($ownProperties) {\n            out += ' ' + ($dataProperties) + ' = ' + ($dataProperties) + ' || Object.keys(' + ($data) + '); for (var ' + ($idx) + '=0; ' + ($idx) + '<' + ($dataProperties) + '.length; ' + ($idx) + '++) { var ' + ($key) + ' = ' + ($dataProperties) + '[' + ($idx) + ']; ';\n          } else {\n            out += ' for (var ' + ($key) + ' in ' + ($data) + ') { ';\n          }\n          out += ' if (' + (it.usePattern($pProperty)) + '.test(' + ($key) + ')) { ';\n          $it.errorPath = it.util.getPathExpr(it.errorPath, $key, it.opts.jsonPointers);\n          var $passData = $data + '[' + $key + ']';\n          $it.dataPathArr[$dataNxt] = $key;\n          var $code = it.validate($it);\n          $it.baseId = $currentBaseId;\n          if (it.util.varOccurences($code, $nextData) < 2) {\n            out += ' ' + (it.util.varReplace($code, $nextData, $passData)) + ' ';\n          } else {\n            out += ' var ' + ($nextData) + ' = ' + ($passData) + '; ' + ($code) + ' ';\n          }\n          if ($breakOnError) {\n            out += ' if (!' + ($nextValid) + ') break; ';\n          }\n          out += ' } ';\n          if ($breakOnError) {\n            out += ' else ' + ($nextValid) + ' = true; ';\n          }\n          out += ' }  ';\n          if ($breakOnError) {\n            out += ' if (' + ($nextValid) + ') { ';\n            $closingBraces += '}';\n          }\n        }\n      }\n    }\n  }\n  if ($breakOnError) {\n    out += ' ' + ($closingBraces) + ' if (' + ($errs) + ' == errors) {';\n  }\n  out = it.util.cleanUpCode(out);\n  return out;\n}\n","'use strict';\nmodule.exports = function generate_propertyNames(it, $keyword, $ruleType) {\n  var out = ' ';\n  var $lvl = it.level;\n  var $dataLvl = it.dataLevel;\n  var $schema = it.schema[$keyword];\n  var $schemaPath = it.schemaPath + it.util.getProperty($keyword);\n  var $errSchemaPath = it.errSchemaPath + '/' + $keyword;\n  var $breakOnError = !it.opts.allErrors;\n  var $data = 'data' + ($dataLvl || '');\n  var $errs = 'errs__' + $lvl;\n  var $it = it.util.copy(it);\n  var $closingBraces = '';\n  $it.level++;\n  var $nextValid = 'valid' + $it.level;\n  out += 'var ' + ($errs) + ' = errors;';\n  if ((it.opts.strictKeywords ? typeof $schema == 'object' && Object.keys($schema).length > 0 : it.util.schemaHasRules($schema, it.RULES.all))) {\n    $it.schema = $schema;\n    $it.schemaPath = $schemaPath;\n    $it.errSchemaPath = $errSchemaPath;\n    var $key = 'key' + $lvl,\n      $idx = 'idx' + $lvl,\n      $i = 'i' + $lvl,\n      $invalidName = '\\' + ' + $key + ' + \\'',\n      $dataNxt = $it.dataLevel = it.dataLevel + 1,\n      $nextData = 'data' + $dataNxt,\n      $dataProperties = 'dataProperties' + $lvl,\n      $ownProperties = it.opts.ownProperties,\n      $currentBaseId = it.baseId;\n    if ($ownProperties) {\n      out += ' var ' + ($dataProperties) + ' = undefined; ';\n    }\n    if ($ownProperties) {\n      out += ' ' + ($dataProperties) + ' = ' + ($dataProperties) + ' || Object.keys(' + ($data) + '); for (var ' + ($idx) + '=0; ' + ($idx) + '<' + ($dataProperties) + '.length; ' + ($idx) + '++) { var ' + ($key) + ' = ' + ($dataProperties) + '[' + ($idx) + ']; ';\n    } else {\n      out += ' for (var ' + ($key) + ' in ' + ($data) + ') { ';\n    }\n    out += ' var startErrs' + ($lvl) + ' = errors; ';\n    var $passData = $key;\n    var $wasComposite = it.compositeRule;\n    it.compositeRule = $it.compositeRule = true;\n    var $code = it.validate($it);\n    $it.baseId = $currentBaseId;\n    if (it.util.varOccurences($code, $nextData) < 2) {\n      out += ' ' + (it.util.varReplace($code, $nextData, $passData)) + ' ';\n    } else {\n      out += ' var ' + ($nextData) + ' = ' + ($passData) + '; ' + ($code) + ' ';\n    }\n    it.compositeRule = $it.compositeRule = $wasComposite;\n    out += ' if (!' + ($nextValid) + ') { for (var ' + ($i) + '=startErrs' + ($lvl) + '; ' + ($i) + '<errors; ' + ($i) + '++) { vErrors[' + ($i) + '].propertyName = ' + ($key) + '; }   var err =   '; /* istanbul ignore else */\n    if (it.createErrors !== false) {\n      out += ' { keyword: \\'' + ('propertyNames') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { propertyName: \\'' + ($invalidName) + '\\' } ';\n      if (it.opts.messages !== false) {\n        out += ' , message: \\'property name \\\\\\'' + ($invalidName) + '\\\\\\' is invalid\\' ';\n      }\n      if (it.opts.verbose) {\n        out += ' , schema: validate.schema' + ($schemaPath) + ' , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n      }\n      out += ' } ';\n    } else {\n      out += ' {} ';\n    }\n    out += ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n    if (!it.compositeRule && $breakOnError) {\n      /* istanbul ignore if */\n      if (it.async) {\n        out += ' throw new ValidationError(vErrors); ';\n      } else {\n        out += ' validate.errors = vErrors; return false; ';\n      }\n    }\n    if ($breakOnError) {\n      out += ' break; ';\n    }\n    out += ' } }';\n  }\n  if ($breakOnError) {\n    out += ' ' + ($closingBraces) + ' if (' + ($errs) + ' == errors) {';\n  }\n  out = it.util.cleanUpCode(out);\n  return out;\n}\n","'use strict';\nmodule.exports = function generate_ref(it, $keyword, $ruleType) {\n  var out = ' ';\n  var $lvl = it.level;\n  var $dataLvl = it.dataLevel;\n  var $schema = it.schema[$keyword];\n  var $errSchemaPath = it.errSchemaPath + '/' + $keyword;\n  var $breakOnError = !it.opts.allErrors;\n  var $data = 'data' + ($dataLvl || '');\n  var $valid = 'valid' + $lvl;\n  var $async, $refCode;\n  if ($schema == '#' || $schema == '#/') {\n    if (it.isRoot) {\n      $async = it.async;\n      $refCode = 'validate';\n    } else {\n      $async = it.root.schema.$async === true;\n      $refCode = 'root.refVal[0]';\n    }\n  } else {\n    var $refVal = it.resolveRef(it.baseId, $schema, it.isRoot);\n    if ($refVal === undefined) {\n      var $message = it.MissingRefError.message(it.baseId, $schema);\n      if (it.opts.missingRefs == 'fail') {\n        it.logger.error($message);\n        var $$outStack = $$outStack || [];\n        $$outStack.push(out);\n        out = ''; /* istanbul ignore else */\n        if (it.createErrors !== false) {\n          out += ' { keyword: \\'' + ('$ref') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { ref: \\'' + (it.util.escapeQuotes($schema)) + '\\' } ';\n          if (it.opts.messages !== false) {\n            out += ' , message: \\'can\\\\\\'t resolve reference ' + (it.util.escapeQuotes($schema)) + '\\' ';\n          }\n          if (it.opts.verbose) {\n            out += ' , schema: ' + (it.util.toQuotedString($schema)) + ' , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n          }\n          out += ' } ';\n        } else {\n          out += ' {} ';\n        }\n        var __err = out;\n        out = $$outStack.pop();\n        if (!it.compositeRule && $breakOnError) {\n          /* istanbul ignore if */\n          if (it.async) {\n            out += ' throw new ValidationError([' + (__err) + ']); ';\n          } else {\n            out += ' validate.errors = [' + (__err) + ']; return false; ';\n          }\n        } else {\n          out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n        }\n        if ($breakOnError) {\n          out += ' if (false) { ';\n        }\n      } else if (it.opts.missingRefs == 'ignore') {\n        it.logger.warn($message);\n        if ($breakOnError) {\n          out += ' if (true) { ';\n        }\n      } else {\n        throw new it.MissingRefError(it.baseId, $schema, $message);\n      }\n    } else if ($refVal.inline) {\n      var $it = it.util.copy(it);\n      $it.level++;\n      var $nextValid = 'valid' + $it.level;\n      $it.schema = $refVal.schema;\n      $it.schemaPath = '';\n      $it.errSchemaPath = $schema;\n      var $code = it.validate($it).replace(/validate\\.schema/g, $refVal.code);\n      out += ' ' + ($code) + ' ';\n      if ($breakOnError) {\n        out += ' if (' + ($nextValid) + ') { ';\n      }\n    } else {\n      $async = $refVal.$async === true || (it.async && $refVal.$async !== false);\n      $refCode = $refVal.code;\n    }\n  }\n  if ($refCode) {\n    var $$outStack = $$outStack || [];\n    $$outStack.push(out);\n    out = '';\n    if (it.opts.passContext) {\n      out += ' ' + ($refCode) + '.call(this, ';\n    } else {\n      out += ' ' + ($refCode) + '( ';\n    }\n    out += ' ' + ($data) + ', (dataPath || \\'\\')';\n    if (it.errorPath != '\"\"') {\n      out += ' + ' + (it.errorPath);\n    }\n    var $parentData = $dataLvl ? 'data' + (($dataLvl - 1) || '') : 'parentData',\n      $parentDataProperty = $dataLvl ? it.dataPathArr[$dataLvl] : 'parentDataProperty';\n    out += ' , ' + ($parentData) + ' , ' + ($parentDataProperty) + ', rootData)  ';\n    var __callValidate = out;\n    out = $$outStack.pop();\n    if ($async) {\n      if (!it.async) throw new Error('async schema referenced by sync schema');\n      if ($breakOnError) {\n        out += ' var ' + ($valid) + '; ';\n      }\n      out += ' try { await ' + (__callValidate) + '; ';\n      if ($breakOnError) {\n        out += ' ' + ($valid) + ' = true; ';\n      }\n      out += ' } catch (e) { if (!(e instanceof ValidationError)) throw e; if (vErrors === null) vErrors = e.errors; else vErrors = vErrors.concat(e.errors); errors = vErrors.length; ';\n      if ($breakOnError) {\n        out += ' ' + ($valid) + ' = false; ';\n      }\n      out += ' } ';\n      if ($breakOnError) {\n        out += ' if (' + ($valid) + ') { ';\n      }\n    } else {\n      out += ' if (!' + (__callValidate) + ') { if (vErrors === null) vErrors = ' + ($refCode) + '.errors; else vErrors = vErrors.concat(' + ($refCode) + '.errors); errors = vErrors.length; } ';\n      if ($breakOnError) {\n        out += ' else { ';\n      }\n    }\n  }\n  return out;\n}\n","'use strict';\nmodule.exports = function generate_required(it, $keyword, $ruleType) {\n  var out = ' ';\n  var $lvl = it.level;\n  var $dataLvl = it.dataLevel;\n  var $schema = it.schema[$keyword];\n  var $schemaPath = it.schemaPath + it.util.getProperty($keyword);\n  var $errSchemaPath = it.errSchemaPath + '/' + $keyword;\n  var $breakOnError = !it.opts.allErrors;\n  var $data = 'data' + ($dataLvl || '');\n  var $valid = 'valid' + $lvl;\n  var $isData = it.opts.$data && $schema && $schema.$data,\n    $schemaValue;\n  if ($isData) {\n    out += ' var schema' + ($lvl) + ' = ' + (it.util.getData($schema.$data, $dataLvl, it.dataPathArr)) + '; ';\n    $schemaValue = 'schema' + $lvl;\n  } else {\n    $schemaValue = $schema;\n  }\n  var $vSchema = 'schema' + $lvl;\n  if (!$isData) {\n    if ($schema.length < it.opts.loopRequired && it.schema.properties && Object.keys(it.schema.properties).length) {\n      var $required = [];\n      var arr1 = $schema;\n      if (arr1) {\n        var $property, i1 = -1,\n          l1 = arr1.length - 1;\n        while (i1 < l1) {\n          $property = arr1[i1 += 1];\n          var $propertySch = it.schema.properties[$property];\n          if (!($propertySch && (it.opts.strictKeywords ? typeof $propertySch == 'object' && Object.keys($propertySch).length > 0 : it.util.schemaHasRules($propertySch, it.RULES.all)))) {\n            $required[$required.length] = $property;\n          }\n        }\n      }\n    } else {\n      var $required = $schema;\n    }\n  }\n  if ($isData || $required.length) {\n    var $currentErrorPath = it.errorPath,\n      $loopRequired = $isData || $required.length >= it.opts.loopRequired,\n      $ownProperties = it.opts.ownProperties;\n    if ($breakOnError) {\n      out += ' var missing' + ($lvl) + '; ';\n      if ($loopRequired) {\n        if (!$isData) {\n          out += ' var ' + ($vSchema) + ' = validate.schema' + ($schemaPath) + '; ';\n        }\n        var $i = 'i' + $lvl,\n          $propertyPath = 'schema' + $lvl + '[' + $i + ']',\n          $missingProperty = '\\' + ' + $propertyPath + ' + \\'';\n        if (it.opts._errorDataPathProperty) {\n          it.errorPath = it.util.getPathExpr($currentErrorPath, $propertyPath, it.opts.jsonPointers);\n        }\n        out += ' var ' + ($valid) + ' = true; ';\n        if ($isData) {\n          out += ' if (schema' + ($lvl) + ' === undefined) ' + ($valid) + ' = true; else if (!Array.isArray(schema' + ($lvl) + ')) ' + ($valid) + ' = false; else {';\n        }\n        out += ' for (var ' + ($i) + ' = 0; ' + ($i) + ' < ' + ($vSchema) + '.length; ' + ($i) + '++) { ' + ($valid) + ' = ' + ($data) + '[' + ($vSchema) + '[' + ($i) + ']] !== undefined ';\n        if ($ownProperties) {\n          out += ' &&   Object.prototype.hasOwnProperty.call(' + ($data) + ', ' + ($vSchema) + '[' + ($i) + ']) ';\n        }\n        out += '; if (!' + ($valid) + ') break; } ';\n        if ($isData) {\n          out += '  }  ';\n        }\n        out += '  if (!' + ($valid) + ') {   ';\n        var $$outStack = $$outStack || [];\n        $$outStack.push(out);\n        out = ''; /* istanbul ignore else */\n        if (it.createErrors !== false) {\n          out += ' { keyword: \\'' + ('required') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { missingProperty: \\'' + ($missingProperty) + '\\' } ';\n          if (it.opts.messages !== false) {\n            out += ' , message: \\'';\n            if (it.opts._errorDataPathProperty) {\n              out += 'is a required property';\n            } else {\n              out += 'should have required property \\\\\\'' + ($missingProperty) + '\\\\\\'';\n            }\n            out += '\\' ';\n          }\n          if (it.opts.verbose) {\n            out += ' , schema: validate.schema' + ($schemaPath) + ' , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n          }\n          out += ' } ';\n        } else {\n          out += ' {} ';\n        }\n        var __err = out;\n        out = $$outStack.pop();\n        if (!it.compositeRule && $breakOnError) {\n          /* istanbul ignore if */\n          if (it.async) {\n            out += ' throw new ValidationError([' + (__err) + ']); ';\n          } else {\n            out += ' validate.errors = [' + (__err) + ']; return false; ';\n          }\n        } else {\n          out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n        }\n        out += ' } else { ';\n      } else {\n        out += ' if ( ';\n        var arr2 = $required;\n        if (arr2) {\n          var $propertyKey, $i = -1,\n            l2 = arr2.length - 1;\n          while ($i < l2) {\n            $propertyKey = arr2[$i += 1];\n            if ($i) {\n              out += ' || ';\n            }\n            var $prop = it.util.getProperty($propertyKey),\n              $useData = $data + $prop;\n            out += ' ( ( ' + ($useData) + ' === undefined ';\n            if ($ownProperties) {\n              out += ' || ! Object.prototype.hasOwnProperty.call(' + ($data) + ', \\'' + (it.util.escapeQuotes($propertyKey)) + '\\') ';\n            }\n            out += ') && (missing' + ($lvl) + ' = ' + (it.util.toQuotedString(it.opts.jsonPointers ? $propertyKey : $prop)) + ') ) ';\n          }\n        }\n        out += ') {  ';\n        var $propertyPath = 'missing' + $lvl,\n          $missingProperty = '\\' + ' + $propertyPath + ' + \\'';\n        if (it.opts._errorDataPathProperty) {\n          it.errorPath = it.opts.jsonPointers ? it.util.getPathExpr($currentErrorPath, $propertyPath, true) : $currentErrorPath + ' + ' + $propertyPath;\n        }\n        var $$outStack = $$outStack || [];\n        $$outStack.push(out);\n        out = ''; /* istanbul ignore else */\n        if (it.createErrors !== false) {\n          out += ' { keyword: \\'' + ('required') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { missingProperty: \\'' + ($missingProperty) + '\\' } ';\n          if (it.opts.messages !== false) {\n            out += ' , message: \\'';\n            if (it.opts._errorDataPathProperty) {\n              out += 'is a required property';\n            } else {\n              out += 'should have required property \\\\\\'' + ($missingProperty) + '\\\\\\'';\n            }\n            out += '\\' ';\n          }\n          if (it.opts.verbose) {\n            out += ' , schema: validate.schema' + ($schemaPath) + ' , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n          }\n          out += ' } ';\n        } else {\n          out += ' {} ';\n        }\n        var __err = out;\n        out = $$outStack.pop();\n        if (!it.compositeRule && $breakOnError) {\n          /* istanbul ignore if */\n          if (it.async) {\n            out += ' throw new ValidationError([' + (__err) + ']); ';\n          } else {\n            out += ' validate.errors = [' + (__err) + ']; return false; ';\n          }\n        } else {\n          out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n        }\n        out += ' } else { ';\n      }\n    } else {\n      if ($loopRequired) {\n        if (!$isData) {\n          out += ' var ' + ($vSchema) + ' = validate.schema' + ($schemaPath) + '; ';\n        }\n        var $i = 'i' + $lvl,\n          $propertyPath = 'schema' + $lvl + '[' + $i + ']',\n          $missingProperty = '\\' + ' + $propertyPath + ' + \\'';\n        if (it.opts._errorDataPathProperty) {\n          it.errorPath = it.util.getPathExpr($currentErrorPath, $propertyPath, it.opts.jsonPointers);\n        }\n        if ($isData) {\n          out += ' if (' + ($vSchema) + ' && !Array.isArray(' + ($vSchema) + ')) {  var err =   '; /* istanbul ignore else */\n          if (it.createErrors !== false) {\n            out += ' { keyword: \\'' + ('required') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { missingProperty: \\'' + ($missingProperty) + '\\' } ';\n            if (it.opts.messages !== false) {\n              out += ' , message: \\'';\n              if (it.opts._errorDataPathProperty) {\n                out += 'is a required property';\n              } else {\n                out += 'should have required property \\\\\\'' + ($missingProperty) + '\\\\\\'';\n              }\n              out += '\\' ';\n            }\n            if (it.opts.verbose) {\n              out += ' , schema: validate.schema' + ($schemaPath) + ' , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n            }\n            out += ' } ';\n          } else {\n            out += ' {} ';\n          }\n          out += ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } else if (' + ($vSchema) + ' !== undefined) { ';\n        }\n        out += ' for (var ' + ($i) + ' = 0; ' + ($i) + ' < ' + ($vSchema) + '.length; ' + ($i) + '++) { if (' + ($data) + '[' + ($vSchema) + '[' + ($i) + ']] === undefined ';\n        if ($ownProperties) {\n          out += ' || ! Object.prototype.hasOwnProperty.call(' + ($data) + ', ' + ($vSchema) + '[' + ($i) + ']) ';\n        }\n        out += ') {  var err =   '; /* istanbul ignore else */\n        if (it.createErrors !== false) {\n          out += ' { keyword: \\'' + ('required') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { missingProperty: \\'' + ($missingProperty) + '\\' } ';\n          if (it.opts.messages !== false) {\n            out += ' , message: \\'';\n            if (it.opts._errorDataPathProperty) {\n              out += 'is a required property';\n            } else {\n              out += 'should have required property \\\\\\'' + ($missingProperty) + '\\\\\\'';\n            }\n            out += '\\' ';\n          }\n          if (it.opts.verbose) {\n            out += ' , schema: validate.schema' + ($schemaPath) + ' , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n          }\n          out += ' } ';\n        } else {\n          out += ' {} ';\n        }\n        out += ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } } ';\n        if ($isData) {\n          out += '  }  ';\n        }\n      } else {\n        var arr3 = $required;\n        if (arr3) {\n          var $propertyKey, i3 = -1,\n            l3 = arr3.length - 1;\n          while (i3 < l3) {\n            $propertyKey = arr3[i3 += 1];\n            var $prop = it.util.getProperty($propertyKey),\n              $missingProperty = it.util.escapeQuotes($propertyKey),\n              $useData = $data + $prop;\n            if (it.opts._errorDataPathProperty) {\n              it.errorPath = it.util.getPath($currentErrorPath, $propertyKey, it.opts.jsonPointers);\n            }\n            out += ' if ( ' + ($useData) + ' === undefined ';\n            if ($ownProperties) {\n              out += ' || ! Object.prototype.hasOwnProperty.call(' + ($data) + ', \\'' + (it.util.escapeQuotes($propertyKey)) + '\\') ';\n            }\n            out += ') {  var err =   '; /* istanbul ignore else */\n            if (it.createErrors !== false) {\n              out += ' { keyword: \\'' + ('required') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { missingProperty: \\'' + ($missingProperty) + '\\' } ';\n              if (it.opts.messages !== false) {\n                out += ' , message: \\'';\n                if (it.opts._errorDataPathProperty) {\n                  out += 'is a required property';\n                } else {\n                  out += 'should have required property \\\\\\'' + ($missingProperty) + '\\\\\\'';\n                }\n                out += '\\' ';\n              }\n              if (it.opts.verbose) {\n                out += ' , schema: validate.schema' + ($schemaPath) + ' , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n              }\n              out += ' } ';\n            } else {\n              out += ' {} ';\n            }\n            out += ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } ';\n          }\n        }\n      }\n    }\n    it.errorPath = $currentErrorPath;\n  } else if ($breakOnError) {\n    out += ' if (true) {';\n  }\n  return out;\n}\n","'use strict';\nmodule.exports = function generate_uniqueItems(it, $keyword, $ruleType) {\n  var out = ' ';\n  var $lvl = it.level;\n  var $dataLvl = it.dataLevel;\n  var $schema = it.schema[$keyword];\n  var $schemaPath = it.schemaPath + it.util.getProperty($keyword);\n  var $errSchemaPath = it.errSchemaPath + '/' + $keyword;\n  var $breakOnError = !it.opts.allErrors;\n  var $data = 'data' + ($dataLvl || '');\n  var $valid = 'valid' + $lvl;\n  var $isData = it.opts.$data && $schema && $schema.$data,\n    $schemaValue;\n  if ($isData) {\n    out += ' var schema' + ($lvl) + ' = ' + (it.util.getData($schema.$data, $dataLvl, it.dataPathArr)) + '; ';\n    $schemaValue = 'schema' + $lvl;\n  } else {\n    $schemaValue = $schema;\n  }\n  if (($schema || $isData) && it.opts.uniqueItems !== false) {\n    if ($isData) {\n      out += ' var ' + ($valid) + '; if (' + ($schemaValue) + ' === false || ' + ($schemaValue) + ' === undefined) ' + ($valid) + ' = true; else if (typeof ' + ($schemaValue) + ' != \\'boolean\\') ' + ($valid) + ' = false; else { ';\n    }\n    out += ' var i = ' + ($data) + '.length , ' + ($valid) + ' = true , j; if (i > 1) { ';\n    var $itemType = it.schema.items && it.schema.items.type,\n      $typeIsArray = Array.isArray($itemType);\n    if (!$itemType || $itemType == 'object' || $itemType == 'array' || ($typeIsArray && ($itemType.indexOf('object') >= 0 || $itemType.indexOf('array') >= 0))) {\n      out += ' outer: for (;i--;) { for (j = i; j--;) { if (equal(' + ($data) + '[i], ' + ($data) + '[j])) { ' + ($valid) + ' = false; break outer; } } } ';\n    } else {\n      out += ' var itemIndices = {}, item; for (;i--;) { var item = ' + ($data) + '[i]; ';\n      var $method = 'checkDataType' + ($typeIsArray ? 's' : '');\n      out += ' if (' + (it.util[$method]($itemType, 'item', true)) + ') continue; ';\n      if ($typeIsArray) {\n        out += ' if (typeof item == \\'string\\') item = \\'\"\\' + item; ';\n      }\n      out += ' if (typeof itemIndices[item] == \\'number\\') { ' + ($valid) + ' = false; j = itemIndices[item]; break; } itemIndices[item] = i; } ';\n    }\n    out += ' } ';\n    if ($isData) {\n      out += '  }  ';\n    }\n    out += ' if (!' + ($valid) + ') {   ';\n    var $$outStack = $$outStack || [];\n    $$outStack.push(out);\n    out = ''; /* istanbul ignore else */\n    if (it.createErrors !== false) {\n      out += ' { keyword: \\'' + ('uniqueItems') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { i: i, j: j } ';\n      if (it.opts.messages !== false) {\n        out += ' , message: \\'should NOT have duplicate items (items ## \\' + j + \\' and \\' + i + \\' are identical)\\' ';\n      }\n      if (it.opts.verbose) {\n        out += ' , schema:  ';\n        if ($isData) {\n          out += 'validate.schema' + ($schemaPath);\n        } else {\n          out += '' + ($schema);\n        }\n        out += '         , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n      }\n      out += ' } ';\n    } else {\n      out += ' {} ';\n    }\n    var __err = out;\n    out = $$outStack.pop();\n    if (!it.compositeRule && $breakOnError) {\n      /* istanbul ignore if */\n      if (it.async) {\n        out += ' throw new ValidationError([' + (__err) + ']); ';\n      } else {\n        out += ' validate.errors = [' + (__err) + ']; return false; ';\n      }\n    } else {\n      out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n    }\n    out += ' } ';\n    if ($breakOnError) {\n      out += ' else { ';\n    }\n  } else {\n    if ($breakOnError) {\n      out += ' if (true) { ';\n    }\n  }\n  return out;\n}\n","'use strict';\nmodule.exports = function generate_validate(it, $keyword, $ruleType) {\n  var out = '';\n  var $async = it.schema.$async === true,\n    $refKeywords = it.util.schemaHasRulesExcept(it.schema, it.RULES.all, '$ref'),\n    $id = it.self._getId(it.schema);\n  if (it.opts.strictKeywords) {\n    var $unknownKwd = it.util.schemaUnknownRules(it.schema, it.RULES.keywords);\n    if ($unknownKwd) {\n      var $keywordsMsg = 'unknown keyword: ' + $unknownKwd;\n      if (it.opts.strictKeywords === 'log') it.logger.warn($keywordsMsg);\n      else throw new Error($keywordsMsg);\n    }\n  }\n  if (it.isTop) {\n    out += ' var validate = ';\n    if ($async) {\n      it.async = true;\n      out += 'async ';\n    }\n    out += 'function(data, dataPath, parentData, parentDataProperty, rootData) { \\'use strict\\'; ';\n    if ($id && (it.opts.sourceCode || it.opts.processCode)) {\n      out += ' ' + ('/\\*# sourceURL=' + $id + ' */') + ' ';\n    }\n  }\n  if (typeof it.schema == 'boolean' || !($refKeywords || it.schema.$ref)) {\n    var $keyword = 'false schema';\n    var $lvl = it.level;\n    var $dataLvl = it.dataLevel;\n    var $schema = it.schema[$keyword];\n    var $schemaPath = it.schemaPath + it.util.getProperty($keyword);\n    var $errSchemaPath = it.errSchemaPath + '/' + $keyword;\n    var $breakOnError = !it.opts.allErrors;\n    var $errorKeyword;\n    var $data = 'data' + ($dataLvl || '');\n    var $valid = 'valid' + $lvl;\n    if (it.schema === false) {\n      if (it.isTop) {\n        $breakOnError = true;\n      } else {\n        out += ' var ' + ($valid) + ' = false; ';\n      }\n      var $$outStack = $$outStack || [];\n      $$outStack.push(out);\n      out = ''; /* istanbul ignore else */\n      if (it.createErrors !== false) {\n        out += ' { keyword: \\'' + ($errorKeyword || 'false schema') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: {} ';\n        if (it.opts.messages !== false) {\n          out += ' , message: \\'boolean schema is false\\' ';\n        }\n        if (it.opts.verbose) {\n          out += ' , schema: false , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n        }\n        out += ' } ';\n      } else {\n        out += ' {} ';\n      }\n      var __err = out;\n      out = $$outStack.pop();\n      if (!it.compositeRule && $breakOnError) {\n        /* istanbul ignore if */\n        if (it.async) {\n          out += ' throw new ValidationError([' + (__err) + ']); ';\n        } else {\n          out += ' validate.errors = [' + (__err) + ']; return false; ';\n        }\n      } else {\n        out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n      }\n    } else {\n      if (it.isTop) {\n        if ($async) {\n          out += ' return data; ';\n        } else {\n          out += ' validate.errors = null; return true; ';\n        }\n      } else {\n        out += ' var ' + ($valid) + ' = true; ';\n      }\n    }\n    if (it.isTop) {\n      out += ' }; return validate; ';\n    }\n    return out;\n  }\n  if (it.isTop) {\n    var $top = it.isTop,\n      $lvl = it.level = 0,\n      $dataLvl = it.dataLevel = 0,\n      $data = 'data';\n    it.rootId = it.resolve.fullPath(it.self._getId(it.root.schema));\n    it.baseId = it.baseId || it.rootId;\n    delete it.isTop;\n    it.dataPathArr = [undefined];\n    if (it.schema.default !== undefined && it.opts.useDefaults && it.opts.strictDefaults) {\n      var $defaultMsg = 'default is ignored in the schema root';\n      if (it.opts.strictDefaults === 'log') it.logger.warn($defaultMsg);\n      else throw new Error($defaultMsg);\n    }\n    out += ' var vErrors = null; ';\n    out += ' var errors = 0;     ';\n    out += ' if (rootData === undefined) rootData = data; ';\n  } else {\n    var $lvl = it.level,\n      $dataLvl = it.dataLevel,\n      $data = 'data' + ($dataLvl || '');\n    if ($id) it.baseId = it.resolve.url(it.baseId, $id);\n    if ($async && !it.async) throw new Error('async schema in sync schema');\n    out += ' var errs_' + ($lvl) + ' = errors;';\n  }\n  var $valid = 'valid' + $lvl,\n    $breakOnError = !it.opts.allErrors,\n    $closingBraces1 = '',\n    $closingBraces2 = '';\n  var $errorKeyword;\n  var $typeSchema = it.schema.type,\n    $typeIsArray = Array.isArray($typeSchema);\n  if ($typeSchema && it.opts.nullable && it.schema.nullable === true) {\n    if ($typeIsArray) {\n      if ($typeSchema.indexOf('null') == -1) $typeSchema = $typeSchema.concat('null');\n    } else if ($typeSchema != 'null') {\n      $typeSchema = [$typeSchema, 'null'];\n      $typeIsArray = true;\n    }\n  }\n  if ($typeIsArray && $typeSchema.length == 1) {\n    $typeSchema = $typeSchema[0];\n    $typeIsArray = false;\n  }\n  if (it.schema.$ref && $refKeywords) {\n    if (it.opts.extendRefs == 'fail') {\n      throw new Error('$ref: validation keywords used in schema at path \"' + it.errSchemaPath + '\" (see option extendRefs)');\n    } else if (it.opts.extendRefs !== true) {\n      $refKeywords = false;\n      it.logger.warn('$ref: keywords ignored in schema at path \"' + it.errSchemaPath + '\"');\n    }\n  }\n  if (it.schema.$comment && it.opts.$comment) {\n    out += ' ' + (it.RULES.all.$comment.code(it, '$comment'));\n  }\n  if ($typeSchema) {\n    if (it.opts.coerceTypes) {\n      var $coerceToTypes = it.util.coerceToTypes(it.opts.coerceTypes, $typeSchema);\n    }\n    var $rulesGroup = it.RULES.types[$typeSchema];\n    if ($coerceToTypes || $typeIsArray || $rulesGroup === true || ($rulesGroup && !$shouldUseGroup($rulesGroup))) {\n      var $schemaPath = it.schemaPath + '.type',\n        $errSchemaPath = it.errSchemaPath + '/type';\n      var $schemaPath = it.schemaPath + '.type',\n        $errSchemaPath = it.errSchemaPath + '/type',\n        $method = $typeIsArray ? 'checkDataTypes' : 'checkDataType';\n      out += ' if (' + (it.util[$method]($typeSchema, $data, true)) + ') { ';\n      if ($coerceToTypes) {\n        var $dataType = 'dataType' + $lvl,\n          $coerced = 'coerced' + $lvl;\n        out += ' var ' + ($dataType) + ' = typeof ' + ($data) + '; ';\n        if (it.opts.coerceTypes == 'array') {\n          out += ' if (' + ($dataType) + ' == \\'object\\' && Array.isArray(' + ($data) + ')) ' + ($dataType) + ' = \\'array\\'; ';\n        }\n        out += ' var ' + ($coerced) + ' = undefined; ';\n        var $bracesCoercion = '';\n        var arr1 = $coerceToTypes;\n        if (arr1) {\n          var $type, $i = -1,\n            l1 = arr1.length - 1;\n          while ($i < l1) {\n            $type = arr1[$i += 1];\n            if ($i) {\n              out += ' if (' + ($coerced) + ' === undefined) { ';\n              $bracesCoercion += '}';\n            }\n            if (it.opts.coerceTypes == 'array' && $type != 'array') {\n              out += ' if (' + ($dataType) + ' == \\'array\\' && ' + ($data) + '.length == 1) { ' + ($coerced) + ' = ' + ($data) + ' = ' + ($data) + '[0]; ' + ($dataType) + ' = typeof ' + ($data) + ';  } ';\n            }\n            if ($type == 'string') {\n              out += ' if (' + ($dataType) + ' == \\'number\\' || ' + ($dataType) + ' == \\'boolean\\') ' + ($coerced) + ' = \\'\\' + ' + ($data) + '; else if (' + ($data) + ' === null) ' + ($coerced) + ' = \\'\\'; ';\n            } else if ($type == 'number' || $type == 'integer') {\n              out += ' if (' + ($dataType) + ' == \\'boolean\\' || ' + ($data) + ' === null || (' + ($dataType) + ' == \\'string\\' && ' + ($data) + ' && ' + ($data) + ' == +' + ($data) + ' ';\n              if ($type == 'integer') {\n                out += ' && !(' + ($data) + ' % 1)';\n              }\n              out += ')) ' + ($coerced) + ' = +' + ($data) + '; ';\n            } else if ($type == 'boolean') {\n              out += ' if (' + ($data) + ' === \\'false\\' || ' + ($data) + ' === 0 || ' + ($data) + ' === null) ' + ($coerced) + ' = false; else if (' + ($data) + ' === \\'true\\' || ' + ($data) + ' === 1) ' + ($coerced) + ' = true; ';\n            } else if ($type == 'null') {\n              out += ' if (' + ($data) + ' === \\'\\' || ' + ($data) + ' === 0 || ' + ($data) + ' === false) ' + ($coerced) + ' = null; ';\n            } else if (it.opts.coerceTypes == 'array' && $type == 'array') {\n              out += ' if (' + ($dataType) + ' == \\'string\\' || ' + ($dataType) + ' == \\'number\\' || ' + ($dataType) + ' == \\'boolean\\' || ' + ($data) + ' == null) ' + ($coerced) + ' = [' + ($data) + ']; ';\n            }\n          }\n        }\n        out += ' ' + ($bracesCoercion) + ' if (' + ($coerced) + ' === undefined) {   ';\n        var $$outStack = $$outStack || [];\n        $$outStack.push(out);\n        out = ''; /* istanbul ignore else */\n        if (it.createErrors !== false) {\n          out += ' { keyword: \\'' + ($errorKeyword || 'type') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { type: \\'';\n          if ($typeIsArray) {\n            out += '' + ($typeSchema.join(\",\"));\n          } else {\n            out += '' + ($typeSchema);\n          }\n          out += '\\' } ';\n          if (it.opts.messages !== false) {\n            out += ' , message: \\'should be ';\n            if ($typeIsArray) {\n              out += '' + ($typeSchema.join(\",\"));\n            } else {\n              out += '' + ($typeSchema);\n            }\n            out += '\\' ';\n          }\n          if (it.opts.verbose) {\n            out += ' , schema: validate.schema' + ($schemaPath) + ' , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n          }\n          out += ' } ';\n        } else {\n          out += ' {} ';\n        }\n        var __err = out;\n        out = $$outStack.pop();\n        if (!it.compositeRule && $breakOnError) {\n          /* istanbul ignore if */\n          if (it.async) {\n            out += ' throw new ValidationError([' + (__err) + ']); ';\n          } else {\n            out += ' validate.errors = [' + (__err) + ']; return false; ';\n          }\n        } else {\n          out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n        }\n        out += ' } else {  ';\n        var $parentData = $dataLvl ? 'data' + (($dataLvl - 1) || '') : 'parentData',\n          $parentDataProperty = $dataLvl ? it.dataPathArr[$dataLvl] : 'parentDataProperty';\n        out += ' ' + ($data) + ' = ' + ($coerced) + '; ';\n        if (!$dataLvl) {\n          out += 'if (' + ($parentData) + ' !== undefined)';\n        }\n        out += ' ' + ($parentData) + '[' + ($parentDataProperty) + '] = ' + ($coerced) + '; } ';\n      } else {\n        var $$outStack = $$outStack || [];\n        $$outStack.push(out);\n        out = ''; /* istanbul ignore else */\n        if (it.createErrors !== false) {\n          out += ' { keyword: \\'' + ($errorKeyword || 'type') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { type: \\'';\n          if ($typeIsArray) {\n            out += '' + ($typeSchema.join(\",\"));\n          } else {\n            out += '' + ($typeSchema);\n          }\n          out += '\\' } ';\n          if (it.opts.messages !== false) {\n            out += ' , message: \\'should be ';\n            if ($typeIsArray) {\n              out += '' + ($typeSchema.join(\",\"));\n            } else {\n              out += '' + ($typeSchema);\n            }\n            out += '\\' ';\n          }\n          if (it.opts.verbose) {\n            out += ' , schema: validate.schema' + ($schemaPath) + ' , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n          }\n          out += ' } ';\n        } else {\n          out += ' {} ';\n        }\n        var __err = out;\n        out = $$outStack.pop();\n        if (!it.compositeRule && $breakOnError) {\n          /* istanbul ignore if */\n          if (it.async) {\n            out += ' throw new ValidationError([' + (__err) + ']); ';\n          } else {\n            out += ' validate.errors = [' + (__err) + ']; return false; ';\n          }\n        } else {\n          out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n        }\n      }\n      out += ' } ';\n    }\n  }\n  if (it.schema.$ref && !$refKeywords) {\n    out += ' ' + (it.RULES.all.$ref.code(it, '$ref')) + ' ';\n    if ($breakOnError) {\n      out += ' } if (errors === ';\n      if ($top) {\n        out += '0';\n      } else {\n        out += 'errs_' + ($lvl);\n      }\n      out += ') { ';\n      $closingBraces2 += '}';\n    }\n  } else {\n    var arr2 = it.RULES;\n    if (arr2) {\n      var $rulesGroup, i2 = -1,\n        l2 = arr2.length - 1;\n      while (i2 < l2) {\n        $rulesGroup = arr2[i2 += 1];\n        if ($shouldUseGroup($rulesGroup)) {\n          if ($rulesGroup.type) {\n            out += ' if (' + (it.util.checkDataType($rulesGroup.type, $data)) + ') { ';\n          }\n          if (it.opts.useDefaults) {\n            if ($rulesGroup.type == 'object' && it.schema.properties) {\n              var $schema = it.schema.properties,\n                $schemaKeys = Object.keys($schema);\n              var arr3 = $schemaKeys;\n              if (arr3) {\n                var $propertyKey, i3 = -1,\n                  l3 = arr3.length - 1;\n                while (i3 < l3) {\n                  $propertyKey = arr3[i3 += 1];\n                  var $sch = $schema[$propertyKey];\n                  if ($sch.default !== undefined) {\n                    var $passData = $data + it.util.getProperty($propertyKey);\n                    if (it.compositeRule) {\n                      if (it.opts.strictDefaults) {\n                        var $defaultMsg = 'default is ignored for: ' + $passData;\n                        if (it.opts.strictDefaults === 'log') it.logger.warn($defaultMsg);\n                        else throw new Error($defaultMsg);\n                      }\n                    } else {\n                      out += ' if (' + ($passData) + ' === undefined ';\n                      if (it.opts.useDefaults == 'empty') {\n                        out += ' || ' + ($passData) + ' === null || ' + ($passData) + ' === \\'\\' ';\n                      }\n                      out += ' ) ' + ($passData) + ' = ';\n                      if (it.opts.useDefaults == 'shared') {\n                        out += ' ' + (it.useDefault($sch.default)) + ' ';\n                      } else {\n                        out += ' ' + (JSON.stringify($sch.default)) + ' ';\n                      }\n                      out += '; ';\n                    }\n                  }\n                }\n              }\n            } else if ($rulesGroup.type == 'array' && Array.isArray(it.schema.items)) {\n              var arr4 = it.schema.items;\n              if (arr4) {\n                var $sch, $i = -1,\n                  l4 = arr4.length - 1;\n                while ($i < l4) {\n                  $sch = arr4[$i += 1];\n                  if ($sch.default !== undefined) {\n                    var $passData = $data + '[' + $i + ']';\n                    if (it.compositeRule) {\n                      if (it.opts.strictDefaults) {\n                        var $defaultMsg = 'default is ignored for: ' + $passData;\n                        if (it.opts.strictDefaults === 'log') it.logger.warn($defaultMsg);\n                        else throw new Error($defaultMsg);\n                      }\n                    } else {\n                      out += ' if (' + ($passData) + ' === undefined ';\n                      if (it.opts.useDefaults == 'empty') {\n                        out += ' || ' + ($passData) + ' === null || ' + ($passData) + ' === \\'\\' ';\n                      }\n                      out += ' ) ' + ($passData) + ' = ';\n                      if (it.opts.useDefaults == 'shared') {\n                        out += ' ' + (it.useDefault($sch.default)) + ' ';\n                      } else {\n                        out += ' ' + (JSON.stringify($sch.default)) + ' ';\n                      }\n                      out += '; ';\n                    }\n                  }\n                }\n              }\n            }\n          }\n          var arr5 = $rulesGroup.rules;\n          if (arr5) {\n            var $rule, i5 = -1,\n              l5 = arr5.length - 1;\n            while (i5 < l5) {\n              $rule = arr5[i5 += 1];\n              if ($shouldUseRule($rule)) {\n                var $code = $rule.code(it, $rule.keyword, $rulesGroup.type);\n                if ($code) {\n                  out += ' ' + ($code) + ' ';\n                  if ($breakOnError) {\n                    $closingBraces1 += '}';\n                  }\n                }\n              }\n            }\n          }\n          if ($breakOnError) {\n            out += ' ' + ($closingBraces1) + ' ';\n            $closingBraces1 = '';\n          }\n          if ($rulesGroup.type) {\n            out += ' } ';\n            if ($typeSchema && $typeSchema === $rulesGroup.type && !$coerceToTypes) {\n              out += ' else { ';\n              var $schemaPath = it.schemaPath + '.type',\n                $errSchemaPath = it.errSchemaPath + '/type';\n              var $$outStack = $$outStack || [];\n              $$outStack.push(out);\n              out = ''; /* istanbul ignore else */\n              if (it.createErrors !== false) {\n                out += ' { keyword: \\'' + ($errorKeyword || 'type') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { type: \\'';\n                if ($typeIsArray) {\n                  out += '' + ($typeSchema.join(\",\"));\n                } else {\n                  out += '' + ($typeSchema);\n                }\n                out += '\\' } ';\n                if (it.opts.messages !== false) {\n                  out += ' , message: \\'should be ';\n                  if ($typeIsArray) {\n                    out += '' + ($typeSchema.join(\",\"));\n                  } else {\n                    out += '' + ($typeSchema);\n                  }\n                  out += '\\' ';\n                }\n                if (it.opts.verbose) {\n                  out += ' , schema: validate.schema' + ($schemaPath) + ' , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n                }\n                out += ' } ';\n              } else {\n                out += ' {} ';\n              }\n              var __err = out;\n              out = $$outStack.pop();\n              if (!it.compositeRule && $breakOnError) {\n                /* istanbul ignore if */\n                if (it.async) {\n                  out += ' throw new ValidationError([' + (__err) + ']); ';\n                } else {\n                  out += ' validate.errors = [' + (__err) + ']; return false; ';\n                }\n              } else {\n                out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n              }\n              out += ' } ';\n            }\n          }\n          if ($breakOnError) {\n            out += ' if (errors === ';\n            if ($top) {\n              out += '0';\n            } else {\n              out += 'errs_' + ($lvl);\n            }\n            out += ') { ';\n            $closingBraces2 += '}';\n          }\n        }\n      }\n    }\n  }\n  if ($breakOnError) {\n    out += ' ' + ($closingBraces2) + ' ';\n  }\n  if ($top) {\n    if ($async) {\n      out += ' if (errors === 0) return data;           ';\n      out += ' else throw new ValidationError(vErrors); ';\n    } else {\n      out += ' validate.errors = vErrors; ';\n      out += ' return errors === 0;       ';\n    }\n    out += ' }; return validate;';\n  } else {\n    out += ' var ' + ($valid) + ' = errors === errs_' + ($lvl) + ';';\n  }\n  out = it.util.cleanUpCode(out);\n  if ($top) {\n    out = it.util.finalCleanUpCode(out, $async);\n  }\n\n  function $shouldUseGroup($rulesGroup) {\n    var rules = $rulesGroup.rules;\n    for (var i = 0; i < rules.length; i++)\n      if ($shouldUseRule(rules[i])) return true;\n  }\n\n  function $shouldUseRule($rule) {\n    return it.schema[$rule.keyword] !== undefined || ($rule.implements && $ruleImplementsSomeKeyword($rule));\n  }\n\n  function $ruleImplementsSomeKeyword($rule) {\n    var impl = $rule.implements;\n    for (var i = 0; i < impl.length; i++)\n      if (it.schema[impl[i]] !== undefined) return true;\n  }\n  return out;\n}\n","'use strict';\n\nvar IDENTIFIER = /^[a-z_$][a-z0-9_$-]*$/i;\nvar customRuleCode = require('./dotjs/custom');\nvar definitionSchema = require('./definition_schema');\n\nmodule.exports = {\n  add: addKeyword,\n  get: getKeyword,\n  remove: removeKeyword,\n  validate: validateKeyword\n};\n\n\n/**\n * Define custom keyword\n * @this  Ajv\n * @param {String} keyword custom keyword, should be unique (including different from all standard, custom and macro keywords).\n * @param {Object} definition keyword definition object with properties `type` (type(s) which the keyword applies to), `validate` or `compile`.\n * @return {Ajv} this for method chaining\n */\nfunction addKeyword(keyword, definition) {\n  /* jshint validthis: true */\n  /* eslint no-shadow: 0 */\n  var RULES = this.RULES;\n  if (RULES.keywords[keyword])\n    throw new Error('Keyword ' + keyword + ' is already defined');\n\n  if (!IDENTIFIER.test(keyword))\n    throw new Error('Keyword ' + keyword + ' is not a valid identifier');\n\n  if (definition) {\n    this.validateKeyword(definition, true);\n\n    var dataType = definition.type;\n    if (Array.isArray(dataType)) {\n      for (var i=0; i<dataType.length; i++)\n        _addRule(keyword, dataType[i], definition);\n    } else {\n      _addRule(keyword, dataType, definition);\n    }\n\n    var metaSchema = definition.metaSchema;\n    if (metaSchema) {\n      if (definition.$data && this._opts.$data) {\n        metaSchema = {\n          anyOf: [\n            metaSchema,\n            { '$ref': 'https://raw.githubusercontent.com/epoberezkin/ajv/master/lib/refs/data.json#' }\n          ]\n        };\n      }\n      definition.validateSchema = this.compile(metaSchema, true);\n    }\n  }\n\n  RULES.keywords[keyword] = RULES.all[keyword] = true;\n\n\n  function _addRule(keyword, dataType, definition) {\n    var ruleGroup;\n    for (var i=0; i<RULES.length; i++) {\n      var rg = RULES[i];\n      if (rg.type == dataType) {\n        ruleGroup = rg;\n        break;\n      }\n    }\n\n    if (!ruleGroup) {\n      ruleGroup = { type: dataType, rules: [] };\n      RULES.push(ruleGroup);\n    }\n\n    var rule = {\n      keyword: keyword,\n      definition: definition,\n      custom: true,\n      code: customRuleCode,\n      implements: definition.implements\n    };\n    ruleGroup.rules.push(rule);\n    RULES.custom[keyword] = rule;\n  }\n\n  return this;\n}\n\n\n/**\n * Get keyword\n * @this  Ajv\n * @param {String} keyword pre-defined or custom keyword.\n * @return {Object|Boolean} custom keyword definition, `true` if it is a predefined keyword, `false` otherwise.\n */\nfunction getKeyword(keyword) {\n  /* jshint validthis: true */\n  var rule = this.RULES.custom[keyword];\n  return rule ? rule.definition : this.RULES.keywords[keyword] || false;\n}\n\n\n/**\n * Remove keyword\n * @this  Ajv\n * @param {String} keyword pre-defined or custom keyword.\n * @return {Ajv} this for method chaining\n */\nfunction removeKeyword(keyword) {\n  /* jshint validthis: true */\n  var RULES = this.RULES;\n  delete RULES.keywords[keyword];\n  delete RULES.all[keyword];\n  delete RULES.custom[keyword];\n  for (var i=0; i<RULES.length; i++) {\n    var rules = RULES[i].rules;\n    for (var j=0; j<rules.length; j++) {\n      if (rules[j].keyword == keyword) {\n        rules.splice(j, 1);\n        break;\n      }\n    }\n  }\n  return this;\n}\n\n\n/**\n * Validate keyword definition\n * @this  Ajv\n * @param {Object} definition keyword definition object.\n * @param {Boolean} throwError true to throw exception if definition is invalid\n * @return {boolean} validation result\n */\nfunction validateKeyword(definition, throwError) {\n  validateKeyword.errors = null;\n  var v = this._validateKeyword = this._validateKeyword\n                                  || this.compile(definitionSchema, true);\n\n  if (v(definition)) return true;\n  validateKeyword.errors = v.errors;\n  if (throwError)\n    throw new Error('custom keyword definition is invalid: '  + this.errorsText(v.errors));\n  else\n    return false;\n}\n","'use strict'\n\n/**\n * Expose `arrayFlatten`.\n */\nmodule.exports = arrayFlatten\n\n/**\n * Recursive flatten function with depth.\n *\n * @param  {Array}  array\n * @param  {Array}  result\n * @param  {Number} depth\n * @return {Array}\n */\nfunction flattenWithDepth (array, result, depth) {\n  for (var i = 0; i < array.length; i++) {\n    var value = array[i]\n\n    if (depth > 0 && Array.isArray(value)) {\n      flattenWithDepth(value, result, depth - 1)\n    } else {\n      result.push(value)\n    }\n  }\n\n  return result\n}\n\n/**\n * Recursive flatten function. Omitting depth is slightly faster.\n *\n * @param  {Array} array\n * @param  {Array} result\n * @return {Array}\n */\nfunction flattenForever (array, result) {\n  for (var i = 0; i < array.length; i++) {\n    var value = array[i]\n\n    if (Array.isArray(value)) {\n      flattenForever(value, result)\n    } else {\n      result.push(value)\n    }\n  }\n\n  return result\n}\n\n/**\n * Flatten an array, with the ability to define a depth.\n *\n * @param  {Array}  array\n * @param  {Number} depth\n * @return {Array}\n */\nfunction arrayFlatten (array, depth) {\n  if (depth == null) {\n    return flattenForever(array, [])\n  }\n\n  return flattenWithDepth(array, [], depth)\n}\n","// Copyright 2011 Mark Cavage <mcavage@gmail.com> All rights reserved.\n\n\nmodule.exports = {\n\n  newInvalidAsn1Error: function (msg) {\n    var e = new Error();\n    e.name = 'InvalidAsn1Error';\n    e.message = msg || '';\n    return e;\n  }\n\n};\n","// Copyright 2011 Mark Cavage <mcavage@gmail.com> All rights reserved.\n\nvar errors = require('./errors');\nvar types = require('./types');\n\nvar Reader = require('./reader');\nvar Writer = require('./writer');\n\n\n// --- Exports\n\nmodule.exports = {\n\n  Reader: Reader,\n\n  Writer: Writer\n\n};\n\nfor (var t in types) {\n  if (types.hasOwnProperty(t))\n    module.exports[t] = types[t];\n}\nfor (var e in errors) {\n  if (errors.hasOwnProperty(e))\n    module.exports[e] = errors[e];\n}\n","// Copyright 2011 Mark Cavage <mcavage@gmail.com> All rights reserved.\n\nvar assert = require('assert');\nvar Buffer = require('safer-buffer').Buffer;\n\nvar ASN1 = require('./types');\nvar errors = require('./errors');\n\n\n// --- Globals\n\nvar newInvalidAsn1Error = errors.newInvalidAsn1Error;\n\n\n\n// --- API\n\nfunction Reader(data) {\n  if (!data || !Buffer.isBuffer(data))\n    throw new TypeError('data must be a node Buffer');\n\n  this._buf = data;\n  this._size = data.length;\n\n  // These hold the \"current\" state\n  this._len = 0;\n  this._offset = 0;\n}\n\nObject.defineProperty(Reader.prototype, 'length', {\n  enumerable: true,\n  get: function () { return (this._len); }\n});\n\nObject.defineProperty(Reader.prototype, 'offset', {\n  enumerable: true,\n  get: function () { return (this._offset); }\n});\n\nObject.defineProperty(Reader.prototype, 'remain', {\n  get: function () { return (this._size - this._offset); }\n});\n\nObject.defineProperty(Reader.prototype, 'buffer', {\n  get: function () { return (this._buf.slice(this._offset)); }\n});\n\n\n/**\n * Reads a single byte and advances offset; you can pass in `true` to make this\n * a \"peek\" operation (i.e., get the byte, but don't advance the offset).\n *\n * @param {Boolean} peek true means don't move offset.\n * @return {Number} the next byte, null if not enough data.\n */\nReader.prototype.readByte = function (peek) {\n  if (this._size - this._offset < 1)\n    return null;\n\n  var b = this._buf[this._offset] & 0xff;\n\n  if (!peek)\n    this._offset += 1;\n\n  return b;\n};\n\n\nReader.prototype.peek = function () {\n  return this.readByte(true);\n};\n\n\n/**\n * Reads a (potentially) variable length off the BER buffer.  This call is\n * not really meant to be called directly, as callers have to manipulate\n * the internal buffer afterwards.\n *\n * As a result of this call, you can call `Reader.length`, until the\n * next thing called that does a readLength.\n *\n * @return {Number} the amount of offset to advance the buffer.\n * @throws {InvalidAsn1Error} on bad ASN.1\n */\nReader.prototype.readLength = function (offset) {\n  if (offset === undefined)\n    offset = this._offset;\n\n  if (offset >= this._size)\n    return null;\n\n  var lenB = this._buf[offset++] & 0xff;\n  if (lenB === null)\n    return null;\n\n  if ((lenB & 0x80) === 0x80) {\n    lenB &= 0x7f;\n\n    if (lenB === 0)\n      throw newInvalidAsn1Error('Indefinite length not supported');\n\n    if (lenB > 4)\n      throw newInvalidAsn1Error('encoding too long');\n\n    if (this._size - offset < lenB)\n      return null;\n\n    this._len = 0;\n    for (var i = 0; i < lenB; i++)\n      this._len = (this._len << 8) + (this._buf[offset++] & 0xff);\n\n  } else {\n    // Wasn't a variable length\n    this._len = lenB;\n  }\n\n  return offset;\n};\n\n\n/**\n * Parses the next sequence in this BER buffer.\n *\n * To get the length of the sequence, call `Reader.length`.\n *\n * @return {Number} the sequence's tag.\n */\nReader.prototype.readSequence = function (tag) {\n  var seq = this.peek();\n  if (seq === null)\n    return null;\n  if (tag !== undefined && tag !== seq)\n    throw newInvalidAsn1Error('Expected 0x' + tag.toString(16) +\n                              ': got 0x' + seq.toString(16));\n\n  var o = this.readLength(this._offset + 1); // stored in `length`\n  if (o === null)\n    return null;\n\n  this._offset = o;\n  return seq;\n};\n\n\nReader.prototype.readInt = function () {\n  return this._readTag(ASN1.Integer);\n};\n\n\nReader.prototype.readBoolean = function () {\n  return (this._readTag(ASN1.Boolean) === 0 ? false : true);\n};\n\n\nReader.prototype.readEnumeration = function () {\n  return this._readTag(ASN1.Enumeration);\n};\n\n\nReader.prototype.readString = function (tag, retbuf) {\n  if (!tag)\n    tag = ASN1.OctetString;\n\n  var b = this.peek();\n  if (b === null)\n    return null;\n\n  if (b !== tag)\n    throw newInvalidAsn1Error('Expected 0x' + tag.toString(16) +\n                              ': got 0x' + b.toString(16));\n\n  var o = this.readLength(this._offset + 1); // stored in `length`\n\n  if (o === null)\n    return null;\n\n  if (this.length > this._size - o)\n    return null;\n\n  this._offset = o;\n\n  if (this.length === 0)\n    return retbuf ? Buffer.alloc(0) : '';\n\n  var str = this._buf.slice(this._offset, this._offset + this.length);\n  this._offset += this.length;\n\n  return retbuf ? str : str.toString('utf8');\n};\n\nReader.prototype.readOID = function (tag) {\n  if (!tag)\n    tag = ASN1.OID;\n\n  var b = this.readString(tag, true);\n  if (b === null)\n    return null;\n\n  var values = [];\n  var value = 0;\n\n  for (var i = 0; i < b.length; i++) {\n    var byte = b[i] & 0xff;\n\n    value <<= 7;\n    value += byte & 0x7f;\n    if ((byte & 0x80) === 0) {\n      values.push(value);\n      value = 0;\n    }\n  }\n\n  value = values.shift();\n  values.unshift(value % 40);\n  values.unshift((value / 40) >> 0);\n\n  return values.join('.');\n};\n\n\nReader.prototype._readTag = function (tag) {\n  assert.ok(tag !== undefined);\n\n  var b = this.peek();\n\n  if (b === null)\n    return null;\n\n  if (b !== tag)\n    throw newInvalidAsn1Error('Expected 0x' + tag.toString(16) +\n                              ': got 0x' + b.toString(16));\n\n  var o = this.readLength(this._offset + 1); // stored in `length`\n  if (o === null)\n    return null;\n\n  if (this.length > 4)\n    throw newInvalidAsn1Error('Integer too long: ' + this.length);\n\n  if (this.length > this._size - o)\n    return null;\n  this._offset = o;\n\n  var fb = this._buf[this._offset];\n  var value = 0;\n\n  for (var i = 0; i < this.length; i++) {\n    value <<= 8;\n    value |= (this._buf[this._offset++] & 0xff);\n  }\n\n  if ((fb & 0x80) === 0x80 && i !== 4)\n    value -= (1 << (i * 8));\n\n  return value >> 0;\n};\n\n\n\n// --- Exported API\n\nmodule.exports = Reader;\n","// Copyright 2011 Mark Cavage <mcavage@gmail.com> All rights reserved.\n\n\nmodule.exports = {\n  EOC: 0,\n  Boolean: 1,\n  Integer: 2,\n  BitString: 3,\n  OctetString: 4,\n  Null: 5,\n  OID: 6,\n  ObjectDescriptor: 7,\n  External: 8,\n  Real: 9, // float\n  Enumeration: 10,\n  PDV: 11,\n  Utf8String: 12,\n  RelativeOID: 13,\n  Sequence: 16,\n  Set: 17,\n  NumericString: 18,\n  PrintableString: 19,\n  T61String: 20,\n  VideotexString: 21,\n  IA5String: 22,\n  UTCTime: 23,\n  GeneralizedTime: 24,\n  GraphicString: 25,\n  VisibleString: 26,\n  GeneralString: 28,\n  UniversalString: 29,\n  CharacterString: 30,\n  BMPString: 31,\n  Constructor: 32,\n  Context: 128\n};\n","// Copyright 2011 Mark Cavage <mcavage@gmail.com> All rights reserved.\n\nvar assert = require('assert');\nvar Buffer = require('safer-buffer').Buffer;\nvar ASN1 = require('./types');\nvar errors = require('./errors');\n\n\n// --- Globals\n\nvar newInvalidAsn1Error = errors.newInvalidAsn1Error;\n\nvar DEFAULT_OPTS = {\n  size: 1024,\n  growthFactor: 8\n};\n\n\n// --- Helpers\n\nfunction merge(from, to) {\n  assert.ok(from);\n  assert.equal(typeof (from), 'object');\n  assert.ok(to);\n  assert.equal(typeof (to), 'object');\n\n  var keys = Object.getOwnPropertyNames(from);\n  keys.forEach(function (key) {\n    if (to[key])\n      return;\n\n    var value = Object.getOwnPropertyDescriptor(from, key);\n    Object.defineProperty(to, key, value);\n  });\n\n  return to;\n}\n\n\n\n// --- API\n\nfunction Writer(options) {\n  options = merge(DEFAULT_OPTS, options || {});\n\n  this._buf = Buffer.alloc(options.size || 1024);\n  this._size = this._buf.length;\n  this._offset = 0;\n  this._options = options;\n\n  // A list of offsets in the buffer where we need to insert\n  // sequence tag/len pairs.\n  this._seq = [];\n}\n\nObject.defineProperty(Writer.prototype, 'buffer', {\n  get: function () {\n    if (this._seq.length)\n      throw newInvalidAsn1Error(this._seq.length + ' unended sequence(s)');\n\n    return (this._buf.slice(0, this._offset));\n  }\n});\n\nWriter.prototype.writeByte = function (b) {\n  if (typeof (b) !== 'number')\n    throw new TypeError('argument must be a Number');\n\n  this._ensure(1);\n  this._buf[this._offset++] = b;\n};\n\n\nWriter.prototype.writeInt = function (i, tag) {\n  if (typeof (i) !== 'number')\n    throw new TypeError('argument must be a Number');\n  if (typeof (tag) !== 'number')\n    tag = ASN1.Integer;\n\n  var sz = 4;\n\n  while ((((i & 0xff800000) === 0) || ((i & 0xff800000) === 0xff800000 >> 0)) &&\n        (sz > 1)) {\n    sz--;\n    i <<= 8;\n  }\n\n  if (sz > 4)\n    throw newInvalidAsn1Error('BER ints cannot be > 0xffffffff');\n\n  this._ensure(2 + sz);\n  this._buf[this._offset++] = tag;\n  this._buf[this._offset++] = sz;\n\n  while (sz-- > 0) {\n    this._buf[this._offset++] = ((i & 0xff000000) >>> 24);\n    i <<= 8;\n  }\n\n};\n\n\nWriter.prototype.writeNull = function () {\n  this.writeByte(ASN1.Null);\n  this.writeByte(0x00);\n};\n\n\nWriter.prototype.writeEnumeration = function (i, tag) {\n  if (typeof (i) !== 'number')\n    throw new TypeError('argument must be a Number');\n  if (typeof (tag) !== 'number')\n    tag = ASN1.Enumeration;\n\n  return this.writeInt(i, tag);\n};\n\n\nWriter.prototype.writeBoolean = function (b, tag) {\n  if (typeof (b) !== 'boolean')\n    throw new TypeError('argument must be a Boolean');\n  if (typeof (tag) !== 'number')\n    tag = ASN1.Boolean;\n\n  this._ensure(3);\n  this._buf[this._offset++] = tag;\n  this._buf[this._offset++] = 0x01;\n  this._buf[this._offset++] = b ? 0xff : 0x00;\n};\n\n\nWriter.prototype.writeString = function (s, tag) {\n  if (typeof (s) !== 'string')\n    throw new TypeError('argument must be a string (was: ' + typeof (s) + ')');\n  if (typeof (tag) !== 'number')\n    tag = ASN1.OctetString;\n\n  var len = Buffer.byteLength(s);\n  this.writeByte(tag);\n  this.writeLength(len);\n  if (len) {\n    this._ensure(len);\n    this._buf.write(s, this._offset);\n    this._offset += len;\n  }\n};\n\n\nWriter.prototype.writeBuffer = function (buf, tag) {\n  if (typeof (tag) !== 'number')\n    throw new TypeError('tag must be a number');\n  if (!Buffer.isBuffer(buf))\n    throw new TypeError('argument must be a buffer');\n\n  this.writeByte(tag);\n  this.writeLength(buf.length);\n  this._ensure(buf.length);\n  buf.copy(this._buf, this._offset, 0, buf.length);\n  this._offset += buf.length;\n};\n\n\nWriter.prototype.writeStringArray = function (strings) {\n  if ((!strings instanceof Array))\n    throw new TypeError('argument must be an Array[String]');\n\n  var self = this;\n  strings.forEach(function (s) {\n    self.writeString(s);\n  });\n};\n\n// This is really to solve DER cases, but whatever for now\nWriter.prototype.writeOID = function (s, tag) {\n  if (typeof (s) !== 'string')\n    throw new TypeError('argument must be a string');\n  if (typeof (tag) !== 'number')\n    tag = ASN1.OID;\n\n  if (!/^([0-9]+\\.){3,}[0-9]+$/.test(s))\n    throw new Error('argument is not a valid OID string');\n\n  function encodeOctet(bytes, octet) {\n    if (octet < 128) {\n        bytes.push(octet);\n    } else if (octet < 16384) {\n        bytes.push((octet >>> 7) | 0x80);\n        bytes.push(octet & 0x7F);\n    } else if (octet < 2097152) {\n      bytes.push((octet >>> 14) | 0x80);\n      bytes.push(((octet >>> 7) | 0x80) & 0xFF);\n      bytes.push(octet & 0x7F);\n    } else if (octet < 268435456) {\n      bytes.push((octet >>> 21) | 0x80);\n      bytes.push(((octet >>> 14) | 0x80) & 0xFF);\n      bytes.push(((octet >>> 7) | 0x80) & 0xFF);\n      bytes.push(octet & 0x7F);\n    } else {\n      bytes.push(((octet >>> 28) | 0x80) & 0xFF);\n      bytes.push(((octet >>> 21) | 0x80) & 0xFF);\n      bytes.push(((octet >>> 14) | 0x80) & 0xFF);\n      bytes.push(((octet >>> 7) | 0x80) & 0xFF);\n      bytes.push(octet & 0x7F);\n    }\n  }\n\n  var tmp = s.split('.');\n  var bytes = [];\n  bytes.push(parseInt(tmp[0], 10) * 40 + parseInt(tmp[1], 10));\n  tmp.slice(2).forEach(function (b) {\n    encodeOctet(bytes, parseInt(b, 10));\n  });\n\n  var self = this;\n  this._ensure(2 + bytes.length);\n  this.writeByte(tag);\n  this.writeLength(bytes.length);\n  bytes.forEach(function (b) {\n    self.writeByte(b);\n  });\n};\n\n\nWriter.prototype.writeLength = function (len) {\n  if (typeof (len) !== 'number')\n    throw new TypeError('argument must be a Number');\n\n  this._ensure(4);\n\n  if (len <= 0x7f) {\n    this._buf[this._offset++] = len;\n  } else if (len <= 0xff) {\n    this._buf[this._offset++] = 0x81;\n    this._buf[this._offset++] = len;\n  } else if (len <= 0xffff) {\n    this._buf[this._offset++] = 0x82;\n    this._buf[this._offset++] = len >> 8;\n    this._buf[this._offset++] = len;\n  } else if (len <= 0xffffff) {\n    this._buf[this._offset++] = 0x83;\n    this._buf[this._offset++] = len >> 16;\n    this._buf[this._offset++] = len >> 8;\n    this._buf[this._offset++] = len;\n  } else {\n    throw newInvalidAsn1Error('Length too long (> 4 bytes)');\n  }\n};\n\nWriter.prototype.startSequence = function (tag) {\n  if (typeof (tag) !== 'number')\n    tag = ASN1.Sequence | ASN1.Constructor;\n\n  this.writeByte(tag);\n  this._seq.push(this._offset);\n  this._ensure(3);\n  this._offset += 3;\n};\n\n\nWriter.prototype.endSequence = function () {\n  var seq = this._seq.pop();\n  var start = seq + 3;\n  var len = this._offset - start;\n\n  if (len <= 0x7f) {\n    this._shift(start, len, -2);\n    this._buf[seq] = len;\n  } else if (len <= 0xff) {\n    this._shift(start, len, -1);\n    this._buf[seq] = 0x81;\n    this._buf[seq + 1] = len;\n  } else if (len <= 0xffff) {\n    this._buf[seq] = 0x82;\n    this._buf[seq + 1] = len >> 8;\n    this._buf[seq + 2] = len;\n  } else if (len <= 0xffffff) {\n    this._shift(start, len, 1);\n    this._buf[seq] = 0x83;\n    this._buf[seq + 1] = len >> 16;\n    this._buf[seq + 2] = len >> 8;\n    this._buf[seq + 3] = len;\n  } else {\n    throw newInvalidAsn1Error('Sequence too long');\n  }\n};\n\n\nWriter.prototype._shift = function (start, len, shift) {\n  assert.ok(start !== undefined);\n  assert.ok(len !== undefined);\n  assert.ok(shift);\n\n  this._buf.copy(this._buf, start + shift, start, start + len);\n  this._offset += shift;\n};\n\nWriter.prototype._ensure = function (len) {\n  assert.ok(len);\n\n  if (this._size - this._offset < len) {\n    var sz = this._size * this._options.growthFactor;\n    if (sz - this._offset < len)\n      sz += len;\n\n    var buf = Buffer.alloc(sz);\n\n    this._buf.copy(buf, 0, 0, this._offset);\n    this._buf = buf;\n    this._size = sz;\n  }\n};\n\n\n\n// --- Exported API\n\nmodule.exports = Writer;\n","// Copyright 2011 Mark Cavage <mcavage@gmail.com> All rights reserved.\n\n// If you have no idea what ASN.1 or BER is, see this:\n// ftp://ftp.rsa.com/pub/pkcs/ascii/layman.asc\n\nvar Ber = require('./ber/index');\n\n\n\n// --- Exported API\n\nmodule.exports = {\n\n  Ber: Ber,\n\n  BerReader: Ber.Reader,\n\n  BerWriter: Ber.Writer\n\n};\n","// Copyright (c) 2012, Mark Cavage. All rights reserved.\n// Copyright 2015 Joyent, Inc.\n\nvar assert = require('assert');\nvar Stream = require('stream').Stream;\nvar util = require('util');\n\n\n///--- Globals\n\n/* JSSTYLED */\nvar UUID_REGEXP = /^[a-fA-F0-9]{8}-[a-fA-F0-9]{4}-[a-fA-F0-9]{4}-[a-fA-F0-9]{4}-[a-fA-F0-9]{12}$/;\n\n\n///--- Internal\n\nfunction _capitalize(str) {\n    return (str.charAt(0).toUpperCase() + str.slice(1));\n}\n\nfunction _toss(name, expected, oper, arg, actual) {\n    throw new assert.AssertionError({\n        message: util.format('%s (%s) is required', name, expected),\n        actual: (actual === undefined) ? typeof (arg) : actual(arg),\n        expected: expected,\n        operator: oper || '===',\n        stackStartFunction: _toss.caller\n    });\n}\n\nfunction _getClass(arg) {\n    return (Object.prototype.toString.call(arg).slice(8, -1));\n}\n\nfunction noop() {\n    // Why even bother with asserts?\n}\n\n\n///--- Exports\n\nvar types = {\n    bool: {\n        check: function (arg) { return typeof (arg) === 'boolean'; }\n    },\n    func: {\n        check: function (arg) { return typeof (arg) === 'function'; }\n    },\n    string: {\n        check: function (arg) { return typeof (arg) === 'string'; }\n    },\n    object: {\n        check: function (arg) {\n            return typeof (arg) === 'object' && arg !== null;\n        }\n    },\n    number: {\n        check: function (arg) {\n            return typeof (arg) === 'number' && !isNaN(arg);\n        }\n    },\n    finite: {\n        check: function (arg) {\n            return typeof (arg) === 'number' && !isNaN(arg) && isFinite(arg);\n        }\n    },\n    buffer: {\n        check: function (arg) { return Buffer.isBuffer(arg); },\n        operator: 'Buffer.isBuffer'\n    },\n    array: {\n        check: function (arg) { return Array.isArray(arg); },\n        operator: 'Array.isArray'\n    },\n    stream: {\n        check: function (arg) { return arg instanceof Stream; },\n        operator: 'instanceof',\n        actual: _getClass\n    },\n    date: {\n        check: function (arg) { return arg instanceof Date; },\n        operator: 'instanceof',\n        actual: _getClass\n    },\n    regexp: {\n        check: function (arg) { return arg instanceof RegExp; },\n        operator: 'instanceof',\n        actual: _getClass\n    },\n    uuid: {\n        check: function (arg) {\n            return typeof (arg) === 'string' && UUID_REGEXP.test(arg);\n        },\n        operator: 'isUUID'\n    }\n};\n\nfunction _setExports(ndebug) {\n    var keys = Object.keys(types);\n    var out;\n\n    /* re-export standard assert */\n    if (process.env.NODE_NDEBUG) {\n        out = noop;\n    } else {\n        out = function (arg, msg) {\n            if (!arg) {\n                _toss(msg, 'true', arg);\n            }\n        };\n    }\n\n    /* standard checks */\n    keys.forEach(function (k) {\n        if (ndebug) {\n            out[k] = noop;\n            return;\n        }\n        var type = types[k];\n        out[k] = function (arg, msg) {\n            if (!type.check(arg)) {\n                _toss(msg, k, type.operator, arg, type.actual);\n            }\n        };\n    });\n\n    /* optional checks */\n    keys.forEach(function (k) {\n        var name = 'optional' + _capitalize(k);\n        if (ndebug) {\n            out[name] = noop;\n            return;\n        }\n        var type = types[k];\n        out[name] = function (arg, msg) {\n            if (arg === undefined || arg === null) {\n                return;\n            }\n            if (!type.check(arg)) {\n                _toss(msg, k, type.operator, arg, type.actual);\n            }\n        };\n    });\n\n    /* arrayOf checks */\n    keys.forEach(function (k) {\n        var name = 'arrayOf' + _capitalize(k);\n        if (ndebug) {\n            out[name] = noop;\n            return;\n        }\n        var type = types[k];\n        var expected = '[' + k + ']';\n        out[name] = function (arg, msg) {\n            if (!Array.isArray(arg)) {\n                _toss(msg, expected, type.operator, arg, type.actual);\n            }\n            var i;\n            for (i = 0; i < arg.length; i++) {\n                if (!type.check(arg[i])) {\n                    _toss(msg, expected, type.operator, arg, type.actual);\n                }\n            }\n        };\n    });\n\n    /* optionalArrayOf checks */\n    keys.forEach(function (k) {\n        var name = 'optionalArrayOf' + _capitalize(k);\n        if (ndebug) {\n            out[name] = noop;\n            return;\n        }\n        var type = types[k];\n        var expected = '[' + k + ']';\n        out[name] = function (arg, msg) {\n            if (arg === undefined || arg === null) {\n                return;\n            }\n            if (!Array.isArray(arg)) {\n                _toss(msg, expected, type.operator, arg, type.actual);\n            }\n            var i;\n            for (i = 0; i < arg.length; i++) {\n                if (!type.check(arg[i])) {\n                    _toss(msg, expected, type.operator, arg, type.actual);\n                }\n            }\n        };\n    });\n\n    /* re-export built-in assertions */\n    Object.keys(assert).forEach(function (k) {\n        if (k === 'AssertionError') {\n            out[k] = assert[k];\n            return;\n        }\n        if (ndebug) {\n            out[k] = noop;\n            return;\n        }\n        out[k] = assert[k];\n    });\n\n    /* export ourselves (for unit tests _only_) */\n    out._setExports = _setExports;\n\n    return out;\n}\n\nmodule.exports = _setExports(process.env.NODE_NDEBUG);\n","module.exports =\n{\n  parallel      : require('./parallel.js'),\n  serial        : require('./serial.js'),\n  serialOrdered : require('./serialOrdered.js')\n};\n","// API\nmodule.exports = abort;\n\n/**\n * Aborts leftover active jobs\n *\n * @param {object} state - current state object\n */\nfunction abort(state)\n{\n  Object.keys(state.jobs).forEach(clean.bind(state));\n\n  // reset leftover jobs\n  state.jobs = {};\n}\n\n/**\n * Cleans up leftover job by invoking abort function for the provided job id\n *\n * @this  state\n * @param {string|number} key - job id to abort\n */\nfunction clean(key)\n{\n  if (typeof this.jobs[key] == 'function')\n  {\n    this.jobs[key]();\n  }\n}\n","var defer = require('./defer.js');\n\n// API\nmodule.exports = async;\n\n/**\n * Runs provided callback asynchronously\n * even if callback itself is not\n *\n * @param   {function} callback - callback to invoke\n * @returns {function} - augmented callback\n */\nfunction async(callback)\n{\n  var isAsync = false;\n\n  // check if async happened\n  defer(function() { isAsync = true; });\n\n  return function async_callback(err, result)\n  {\n    if (isAsync)\n    {\n      callback(err, result);\n    }\n    else\n    {\n      defer(function nextTick_callback()\n      {\n        callback(err, result);\n      });\n    }\n  };\n}\n","module.exports = defer;\n\n/**\n * Runs provided function on next iteration of the event loop\n *\n * @param {function} fn - function to run\n */\nfunction defer(fn)\n{\n  var nextTick = typeof setImmediate == 'function'\n    ? setImmediate\n    : (\n      typeof process == 'object' && typeof process.nextTick == 'function'\n      ? process.nextTick\n      : null\n    );\n\n  if (nextTick)\n  {\n    nextTick(fn);\n  }\n  else\n  {\n    setTimeout(fn, 0);\n  }\n}\n","var async = require('./async.js')\n  , abort = require('./abort.js')\n  ;\n\n// API\nmodule.exports = iterate;\n\n/**\n * Iterates over each job object\n *\n * @param {array|object} list - array or object (named list) to iterate over\n * @param {function} iterator - iterator to run\n * @param {object} state - current job status\n * @param {function} callback - invoked when all elements processed\n */\nfunction iterate(list, iterator, state, callback)\n{\n  // store current index\n  var key = state['keyedList'] ? state['keyedList'][state.index] : state.index;\n\n  state.jobs[key] = runJob(iterator, key, list[key], function(error, output)\n  {\n    // don't repeat yourself\n    // skip secondary callbacks\n    if (!(key in state.jobs))\n    {\n      return;\n    }\n\n    // clean up jobs\n    delete state.jobs[key];\n\n    if (error)\n    {\n      // don't process rest of the results\n      // stop still active jobs\n      // and reset the list\n      abort(state);\n    }\n    else\n    {\n      state.results[key] = output;\n    }\n\n    // return salvaged results\n    callback(error, state.results);\n  });\n}\n\n/**\n * Runs iterator over provided job element\n *\n * @param   {function} iterator - iterator to invoke\n * @param   {string|number} key - key/index of the element in the list of jobs\n * @param   {mixed} item - job description\n * @param   {function} callback - invoked after iterator is done with the job\n * @returns {function|mixed} - job abort function or something else\n */\nfunction runJob(iterator, key, item, callback)\n{\n  var aborter;\n\n  // allow shortcut if iterator expects only two arguments\n  if (iterator.length == 2)\n  {\n    aborter = iterator(item, async(callback));\n  }\n  // otherwise go with full three arguments\n  else\n  {\n    aborter = iterator(item, key, async(callback));\n  }\n\n  return aborter;\n}\n","// API\nmodule.exports = state;\n\n/**\n * Creates initial state object\n * for iteration over list\n *\n * @param   {array|object} list - list to iterate over\n * @param   {function|null} sortMethod - function to use for keys sort,\n *                                     or `null` to keep them as is\n * @returns {object} - initial state object\n */\nfunction state(list, sortMethod)\n{\n  var isNamedList = !Array.isArray(list)\n    , initState =\n    {\n      index    : 0,\n      keyedList: isNamedList || sortMethod ? Object.keys(list) : null,\n      jobs     : {},\n      results  : isNamedList ? {} : [],\n      size     : isNamedList ? Object.keys(list).length : list.length\n    }\n    ;\n\n  if (sortMethod)\n  {\n    // sort array keys based on it's values\n    // sort object's keys just on own merit\n    initState.keyedList.sort(isNamedList ? sortMethod : function(a, b)\n    {\n      return sortMethod(list[a], list[b]);\n    });\n  }\n\n  return initState;\n}\n","var abort = require('./abort.js')\n  , async = require('./async.js')\n  ;\n\n// API\nmodule.exports = terminator;\n\n/**\n * Terminates jobs in the attached state context\n *\n * @this  AsyncKitState#\n * @param {function} callback - final callback to invoke after termination\n */\nfunction terminator(callback)\n{\n  if (!Object.keys(this.jobs).length)\n  {\n    return;\n  }\n\n  // fast forward iteration index\n  this.index = this.size;\n\n  // abort jobs\n  abort(this);\n\n  // send back results we have so far\n  async(callback)(null, this.results);\n}\n","var iterate    = require('./lib/iterate.js')\n  , initState  = require('./lib/state.js')\n  , terminator = require('./lib/terminator.js')\n  ;\n\n// Public API\nmodule.exports = parallel;\n\n/**\n * Runs iterator over provided array elements in parallel\n *\n * @param   {array|object} list - array or object (named list) to iterate over\n * @param   {function} iterator - iterator to run\n * @param   {function} callback - invoked when all elements processed\n * @returns {function} - jobs terminator\n */\nfunction parallel(list, iterator, callback)\n{\n  var state = initState(list);\n\n  while (state.index < (state['keyedList'] || list).length)\n  {\n    iterate(list, iterator, state, function(error, result)\n    {\n      if (error)\n      {\n        callback(error, result);\n        return;\n      }\n\n      // looks like it's the last one\n      if (Object.keys(state.jobs).length === 0)\n      {\n        callback(null, state.results);\n        return;\n      }\n    });\n\n    state.index++;\n  }\n\n  return terminator.bind(state, callback);\n}\n","var serialOrdered = require('./serialOrdered.js');\n\n// Public API\nmodule.exports = serial;\n\n/**\n * Runs iterator over provided array elements in series\n *\n * @param   {array|object} list - array or object (named list) to iterate over\n * @param   {function} iterator - iterator to run\n * @param   {function} callback - invoked when all elements processed\n * @returns {function} - jobs terminator\n */\nfunction serial(list, iterator, callback)\n{\n  return serialOrdered(list, iterator, null, callback);\n}\n","var iterate    = require('./lib/iterate.js')\n  , initState  = require('./lib/state.js')\n  , terminator = require('./lib/terminator.js')\n  ;\n\n// Public API\nmodule.exports = serialOrdered;\n// sorting helpers\nmodule.exports.ascending  = ascending;\nmodule.exports.descending = descending;\n\n/**\n * Runs iterator over provided sorted array elements in series\n *\n * @param   {array|object} list - array or object (named list) to iterate over\n * @param   {function} iterator - iterator to run\n * @param   {function} sortMethod - custom sort function\n * @param   {function} callback - invoked when all elements processed\n * @returns {function} - jobs terminator\n */\nfunction serialOrdered(list, iterator, sortMethod, callback)\n{\n  var state = initState(list, sortMethod);\n\n  iterate(list, iterator, state, function iteratorHandler(error, result)\n  {\n    if (error)\n    {\n      callback(error, result);\n      return;\n    }\n\n    state.index++;\n\n    // are we there yet?\n    if (state.index < (state['keyedList'] || list).length)\n    {\n      iterate(list, iterator, state, iteratorHandler);\n      return;\n    }\n\n    // done here\n    callback(null, state.results);\n  });\n\n  return terminator.bind(state, callback);\n}\n\n/*\n * -- Sort methods\n */\n\n/**\n * sort helper to sort array elements in ascending order\n *\n * @param   {mixed} a - an item to compare\n * @param   {mixed} b - an item to compare\n * @returns {number} - comparison result\n */\nfunction ascending(a, b)\n{\n  return a < b ? -1 : a > b ? 1 : 0;\n}\n\n/**\n * sort helper to sort array elements in descending order\n *\n * @param   {mixed} a - an item to compare\n * @param   {mixed} b - an item to compare\n * @returns {number} - comparison result\n */\nfunction descending(a, b)\n{\n  return -1 * ascending(a, b);\n}\n","\n/*!\n *  Copyright 2010 LearnBoost <dev@learnboost.com>\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * Module dependencies.\n */\n\nvar crypto = require('crypto')\n  , parse = require('url').parse\n  ;\n\n/**\n * Valid keys.\n */\n\nvar keys = \n  [ 'acl'\n  , 'location'\n  , 'logging'\n  , 'notification'\n  , 'partNumber'\n  , 'policy'\n  , 'requestPayment'\n  , 'torrent'\n  , 'uploadId'\n  , 'uploads'\n  , 'versionId'\n  , 'versioning'\n  , 'versions'\n  , 'website'\n  ]\n\n/**\n * Return an \"Authorization\" header value with the given `options`\n * in the form of \"AWS <key>:<signature>\"\n *\n * @param {Object} options\n * @return {String}\n * @api private\n */\n\nfunction authorization (options) {\n  return 'AWS ' + options.key + ':' + sign(options)\n}\n\nmodule.exports = authorization\nmodule.exports.authorization = authorization\n\n/**\n * Simple HMAC-SHA1 Wrapper\n *\n * @param {Object} options\n * @return {String}\n * @api private\n */ \n\nfunction hmacSha1 (options) {\n  return crypto.createHmac('sha1', options.secret).update(options.message).digest('base64')\n}\n\nmodule.exports.hmacSha1 = hmacSha1\n\n/**\n * Create a base64 sha1 HMAC for `options`. \n * \n * @param {Object} options\n * @return {String}\n * @api private\n */\n\nfunction sign (options) {\n  options.message = stringToSign(options)\n  return hmacSha1(options)\n}\nmodule.exports.sign = sign\n\n/**\n * Create a base64 sha1 HMAC for `options`. \n *\n * Specifically to be used with S3 presigned URLs\n * \n * @param {Object} options\n * @return {String}\n * @api private\n */\n\nfunction signQuery (options) {\n  options.message = queryStringToSign(options)\n  return hmacSha1(options)\n}\nmodule.exports.signQuery= signQuery\n\n/**\n * Return a string for sign() with the given `options`.\n *\n * Spec:\n * \n *    <verb>\\n\n *    <md5>\\n\n *    <content-type>\\n\n *    <date>\\n\n *    [headers\\n]\n *    <resource>\n *\n * @param {Object} options\n * @return {String}\n * @api private\n */\n\nfunction stringToSign (options) {\n  var headers = options.amazonHeaders || ''\n  if (headers) headers += '\\n'\n  var r = \n    [ options.verb\n    , options.md5\n    , options.contentType\n    , options.date ? options.date.toUTCString() : ''\n    , headers + options.resource\n    ]\n  return r.join('\\n')\n}\nmodule.exports.stringToSign = stringToSign\n\n/**\n * Return a string for sign() with the given `options`, but is meant exclusively\n * for S3 presigned URLs\n *\n * Spec:\n * \n *    <date>\\n\n *    <resource>\n *\n * @param {Object} options\n * @return {String}\n * @api private\n */\n\nfunction queryStringToSign (options){\n  return 'GET\\n\\n\\n' + options.date + '\\n' + options.resource\n}\nmodule.exports.queryStringToSign = queryStringToSign\n\n/**\n * Perform the following:\n *\n *  - ignore non-amazon headers\n *  - lowercase fields\n *  - sort lexicographically\n *  - trim whitespace between \":\"\n *  - join with newline\n *\n * @param {Object} headers\n * @return {String}\n * @api private\n */\n\nfunction canonicalizeHeaders (headers) {\n  var buf = []\n    , fields = Object.keys(headers)\n    ;\n  for (var i = 0, len = fields.length; i < len; ++i) {\n    var field = fields[i]\n      , val = headers[field]\n      , field = field.toLowerCase()\n      ;\n    if (0 !== field.indexOf('x-amz')) continue\n    buf.push(field + ':' + val)\n  }\n  return buf.sort().join('\\n')\n}\nmodule.exports.canonicalizeHeaders = canonicalizeHeaders\n\n/**\n * Perform the following:\n *\n *  - ignore non sub-resources\n *  - sort lexicographically\n *\n * @param {String} resource\n * @return {String}\n * @api private\n */\n\nfunction canonicalizeResource (resource) {\n  var url = parse(resource, true)\n    , path = url.pathname\n    , buf = []\n    ;\n\n  Object.keys(url.query).forEach(function(key){\n    if (!~keys.indexOf(key)) return\n    var val = '' == url.query[key] ? '' : '=' + encodeURIComponent(url.query[key])\n    buf.push(key + val)\n  })\n\n  return path + (buf.length ? '?' + buf.sort().join('&') : '')\n}\nmodule.exports.canonicalizeResource = canonicalizeResource\n","var aws4 = exports,\n    url = require('url'),\n    querystring = require('querystring'),\n    crypto = require('crypto'),\n    lru = require('./lru'),\n    credentialsCache = lru(1000)\n\n// http://docs.amazonwebservices.com/general/latest/gr/signature-version-4.html\n\nfunction hmac(key, string, encoding) {\n  return crypto.createHmac('sha256', key).update(string, 'utf8').digest(encoding)\n}\n\nfunction hash(string, encoding) {\n  return crypto.createHash('sha256').update(string, 'utf8').digest(encoding)\n}\n\n// This function assumes the string has already been percent encoded\nfunction encodeRfc3986(urlEncodedString) {\n  return urlEncodedString.replace(/[!'()*]/g, function(c) {\n    return '%' + c.charCodeAt(0).toString(16).toUpperCase()\n  })\n}\n\n// request: { path | body, [host], [method], [headers], [service], [region] }\n// credentials: { accessKeyId, secretAccessKey, [sessionToken] }\nfunction RequestSigner(request, credentials) {\n\n  if (typeof request === 'string') request = url.parse(request)\n\n  var headers = request.headers = (request.headers || {}),\n      hostParts = this.matchHost(request.hostname || request.host || headers.Host || headers.host)\n\n  this.request = request\n  this.credentials = credentials || this.defaultCredentials()\n\n  this.service = request.service || hostParts[0] || ''\n  this.region = request.region || hostParts[1] || 'us-east-1'\n\n  // SES uses a different domain from the service name\n  if (this.service === 'email') this.service = 'ses'\n\n  if (!request.method && request.body)\n    request.method = 'POST'\n\n  if (!headers.Host && !headers.host) {\n    headers.Host = request.hostname || request.host || this.createHost()\n\n    // If a port is specified explicitly, use it as is\n    if (request.port)\n      headers.Host += ':' + request.port\n  }\n  if (!request.hostname && !request.host)\n    request.hostname = headers.Host || headers.host\n\n  this.isCodeCommitGit = this.service === 'codecommit' && request.method === 'GIT'\n}\n\nRequestSigner.prototype.matchHost = function(host) {\n  var match = (host || '').match(/([^\\.]+)\\.(?:([^\\.]*)\\.)?amazonaws\\.com(\\.cn)?$/)\n  var hostParts = (match || []).slice(1, 3)\n\n  // ES's hostParts are sometimes the other way round, if the value that is expected\n  // to be region equals es switch them back\n  // e.g. search-cluster-name-aaaa00aaaa0aaa0aaaaaaa0aaa.us-east-1.es.amazonaws.com\n  if (hostParts[1] === 'es')\n    hostParts = hostParts.reverse()\n\n  return hostParts\n}\n\n// http://docs.aws.amazon.com/general/latest/gr/rande.html\nRequestSigner.prototype.isSingleRegion = function() {\n  // Special case for S3 and SimpleDB in us-east-1\n  if (['s3', 'sdb'].indexOf(this.service) >= 0 && this.region === 'us-east-1') return true\n\n  return ['cloudfront', 'ls', 'route53', 'iam', 'importexport', 'sts']\n    .indexOf(this.service) >= 0\n}\n\nRequestSigner.prototype.createHost = function() {\n  var region = this.isSingleRegion() ? '' :\n        (this.service === 's3' && this.region !== 'us-east-1' ? '-' : '.') + this.region,\n      service = this.service === 'ses' ? 'email' : this.service\n  return service + region + '.amazonaws.com'\n}\n\nRequestSigner.prototype.prepareRequest = function() {\n  this.parsePath()\n\n  var request = this.request, headers = request.headers, query\n\n  if (request.signQuery) {\n\n    this.parsedPath.query = query = this.parsedPath.query || {}\n\n    if (this.credentials.sessionToken)\n      query['X-Amz-Security-Token'] = this.credentials.sessionToken\n\n    if (this.service === 's3' && !query['X-Amz-Expires'])\n      query['X-Amz-Expires'] = 86400\n\n    if (query['X-Amz-Date'])\n      this.datetime = query['X-Amz-Date']\n    else\n      query['X-Amz-Date'] = this.getDateTime()\n\n    query['X-Amz-Algorithm'] = 'AWS4-HMAC-SHA256'\n    query['X-Amz-Credential'] = this.credentials.accessKeyId + '/' + this.credentialString()\n    query['X-Amz-SignedHeaders'] = this.signedHeaders()\n\n  } else {\n\n    if (!request.doNotModifyHeaders && !this.isCodeCommitGit) {\n      if (request.body && !headers['Content-Type'] && !headers['content-type'])\n        headers['Content-Type'] = 'application/x-www-form-urlencoded; charset=utf-8'\n\n      if (request.body && !headers['Content-Length'] && !headers['content-length'])\n        headers['Content-Length'] = Buffer.byteLength(request.body)\n\n      if (this.credentials.sessionToken && !headers['X-Amz-Security-Token'] && !headers['x-amz-security-token'])\n        headers['X-Amz-Security-Token'] = this.credentials.sessionToken\n\n      if (this.service === 's3' && !headers['X-Amz-Content-Sha256'] && !headers['x-amz-content-sha256'])\n        headers['X-Amz-Content-Sha256'] = hash(this.request.body || '', 'hex')\n\n      if (headers['X-Amz-Date'] || headers['x-amz-date'])\n        this.datetime = headers['X-Amz-Date'] || headers['x-amz-date']\n      else\n        headers['X-Amz-Date'] = this.getDateTime()\n    }\n\n    delete headers.Authorization\n    delete headers.authorization\n  }\n}\n\nRequestSigner.prototype.sign = function() {\n  if (!this.parsedPath) this.prepareRequest()\n\n  if (this.request.signQuery) {\n    this.parsedPath.query['X-Amz-Signature'] = this.signature()\n  } else {\n    this.request.headers.Authorization = this.authHeader()\n  }\n\n  this.request.path = this.formatPath()\n\n  return this.request\n}\n\nRequestSigner.prototype.getDateTime = function() {\n  if (!this.datetime) {\n    var headers = this.request.headers,\n      date = new Date(headers.Date || headers.date || new Date)\n\n    this.datetime = date.toISOString().replace(/[:\\-]|\\.\\d{3}/g, '')\n\n    // Remove the trailing 'Z' on the timestamp string for CodeCommit git access\n    if (this.isCodeCommitGit) this.datetime = this.datetime.slice(0, -1)\n  }\n  return this.datetime\n}\n\nRequestSigner.prototype.getDate = function() {\n  return this.getDateTime().substr(0, 8)\n}\n\nRequestSigner.prototype.authHeader = function() {\n  return [\n    'AWS4-HMAC-SHA256 Credential=' + this.credentials.accessKeyId + '/' + this.credentialString(),\n    'SignedHeaders=' + this.signedHeaders(),\n    'Signature=' + this.signature(),\n  ].join(', ')\n}\n\nRequestSigner.prototype.signature = function() {\n  var date = this.getDate(),\n      cacheKey = [this.credentials.secretAccessKey, date, this.region, this.service].join(),\n      kDate, kRegion, kService, kCredentials = credentialsCache.get(cacheKey)\n  if (!kCredentials) {\n    kDate = hmac('AWS4' + this.credentials.secretAccessKey, date)\n    kRegion = hmac(kDate, this.region)\n    kService = hmac(kRegion, this.service)\n    kCredentials = hmac(kService, 'aws4_request')\n    credentialsCache.set(cacheKey, kCredentials)\n  }\n  return hmac(kCredentials, this.stringToSign(), 'hex')\n}\n\nRequestSigner.prototype.stringToSign = function() {\n  return [\n    'AWS4-HMAC-SHA256',\n    this.getDateTime(),\n    this.credentialString(),\n    hash(this.canonicalString(), 'hex'),\n  ].join('\\n')\n}\n\nRequestSigner.prototype.canonicalString = function() {\n  if (!this.parsedPath) this.prepareRequest()\n\n  var pathStr = this.parsedPath.path,\n      query = this.parsedPath.query,\n      headers = this.request.headers,\n      queryStr = '',\n      normalizePath = this.service !== 's3',\n      decodePath = this.service === 's3' || this.request.doNotEncodePath,\n      decodeSlashesInPath = this.service === 's3',\n      firstValOnly = this.service === 's3',\n      bodyHash\n\n  if (this.service === 's3' && this.request.signQuery) {\n    bodyHash = 'UNSIGNED-PAYLOAD'\n  } else if (this.isCodeCommitGit) {\n    bodyHash = ''\n  } else {\n    bodyHash = headers['X-Amz-Content-Sha256'] || headers['x-amz-content-sha256'] ||\n      hash(this.request.body || '', 'hex')\n  }\n\n  if (query) {\n    var reducedQuery = Object.keys(query).reduce(function(obj, key) {\n      if (!key) return obj\n      obj[key] = !Array.isArray(query[key]) ? query[key] :\n        (firstValOnly ? query[key][0] : query[key].slice().sort())\n      return obj\n    }, {})\n    var encodedQueryPieces = []\n    Object.keys(reducedQuery).forEach(function(key) {\n      var encodedPrefix = encodeURIComponent(key) + '='\n      if (!Array.isArray(reducedQuery[key])) {\n        encodedQueryPieces.push(encodeRfc3986(encodedPrefix + encodeURIComponent(reducedQuery[key])))\n      } else {\n        reducedQuery[key].forEach(function(val) { encodedQueryPieces.push(encodeRfc3986(encodedPrefix + encodeURIComponent(val))) })\n      }\n    })\n    queryStr = encodedQueryPieces.sort().join('&')\n  }\n  if (pathStr !== '/') {\n    if (normalizePath) pathStr = pathStr.replace(/\\/{2,}/g, '/')\n    pathStr = pathStr.split('/').reduce(function(path, piece) {\n      if (normalizePath && piece === '..') {\n        path.pop()\n      } else if (!normalizePath || piece !== '.') {\n        if (decodePath) piece = decodeURIComponent(piece).replace(/\\+/g, ' ')\n        path.push(encodeRfc3986(encodeURIComponent(piece)))\n      }\n      return path\n    }, []).join('/')\n    if (pathStr[0] !== '/') pathStr = '/' + pathStr\n    if (decodeSlashesInPath) pathStr = pathStr.replace(/%2F/g, '/')\n  }\n\n  return [\n    this.request.method || 'GET',\n    pathStr,\n    queryStr,\n    this.canonicalHeaders() + '\\n',\n    this.signedHeaders(),\n    bodyHash,\n  ].join('\\n')\n}\n\nRequestSigner.prototype.canonicalHeaders = function() {\n  var headers = this.request.headers\n  function trimAll(header) {\n    return header.toString().trim().replace(/\\s+/g, ' ')\n  }\n  return Object.keys(headers)\n    .sort(function(a, b) { return a.toLowerCase() < b.toLowerCase() ? -1 : 1 })\n    .map(function(key) { return key.toLowerCase() + ':' + trimAll(headers[key]) })\n    .join('\\n')\n}\n\nRequestSigner.prototype.signedHeaders = function() {\n  return Object.keys(this.request.headers)\n    .map(function(key) { return key.toLowerCase() })\n    .sort()\n    .join(';')\n}\n\nRequestSigner.prototype.credentialString = function() {\n  return [\n    this.getDate(),\n    this.region,\n    this.service,\n    'aws4_request',\n  ].join('/')\n}\n\nRequestSigner.prototype.defaultCredentials = function() {\n  var env = process.env\n  return {\n    accessKeyId: env.AWS_ACCESS_KEY_ID || env.AWS_ACCESS_KEY,\n    secretAccessKey: env.AWS_SECRET_ACCESS_KEY || env.AWS_SECRET_KEY,\n    sessionToken: env.AWS_SESSION_TOKEN,\n  }\n}\n\nRequestSigner.prototype.parsePath = function() {\n  var path = this.request.path || '/'\n\n  // S3 doesn't always encode characters > 127 correctly and\n  // all services don't encode characters > 255 correctly\n  // So if there are non-reserved chars (and it's not already all % encoded), just encode them all\n  if (/[^0-9A-Za-z;,/?:@&=+$\\-_.!~*'()#%]/.test(path)) {\n    path = encodeURI(decodeURI(path))\n  }\n\n  var queryIx = path.indexOf('?'),\n      query = null\n\n  if (queryIx >= 0) {\n    query = querystring.parse(path.slice(queryIx + 1))\n    path = path.slice(0, queryIx)\n  }\n\n  this.parsedPath = {\n    path: path,\n    query: query,\n  }\n}\n\nRequestSigner.prototype.formatPath = function() {\n  var path = this.parsedPath.path,\n      query = this.parsedPath.query\n\n  if (!query) return path\n\n  // Services don't support empty query string keys\n  if (query[''] != null) delete query['']\n\n  return path + '?' + encodeRfc3986(querystring.stringify(query))\n}\n\naws4.RequestSigner = RequestSigner\n\naws4.sign = function(request, credentials) {\n  return new RequestSigner(request, credentials).sign()\n}\n","module.exports = function(size) {\n  return new LruCache(size)\n}\n\nfunction LruCache(size) {\n  this.capacity = size | 0\n  this.map = Object.create(null)\n  this.list = new DoublyLinkedList()\n}\n\nLruCache.prototype.get = function(key) {\n  var node = this.map[key]\n  if (node == null) return undefined\n  this.used(node)\n  return node.val\n}\n\nLruCache.prototype.set = function(key, val) {\n  var node = this.map[key]\n  if (node != null) {\n    node.val = val\n  } else {\n    if (!this.capacity) this.prune()\n    if (!this.capacity) return false\n    node = new DoublyLinkedNode(key, val)\n    this.map[key] = node\n    this.capacity--\n  }\n  this.used(node)\n  return true\n}\n\nLruCache.prototype.used = function(node) {\n  this.list.moveToFront(node)\n}\n\nLruCache.prototype.prune = function() {\n  var node = this.list.pop()\n  if (node != null) {\n    delete this.map[node.key]\n    this.capacity++\n  }\n}\n\n\nfunction DoublyLinkedList() {\n  this.firstNode = null\n  this.lastNode = null\n}\n\nDoublyLinkedList.prototype.moveToFront = function(node) {\n  if (this.firstNode == node) return\n\n  this.remove(node)\n\n  if (this.firstNode == null) {\n    this.firstNode = node\n    this.lastNode = node\n    node.prev = null\n    node.next = null\n  } else {\n    node.prev = null\n    node.next = this.firstNode\n    node.next.prev = node\n    this.firstNode = node\n  }\n}\n\nDoublyLinkedList.prototype.pop = function() {\n  var lastNode = this.lastNode\n  if (lastNode != null) {\n    this.remove(lastNode)\n  }\n  return lastNode\n}\n\nDoublyLinkedList.prototype.remove = function(node) {\n  if (this.firstNode == node) {\n    this.firstNode = node.next\n  } else if (node.prev != null) {\n    node.prev.next = node.next\n  }\n  if (this.lastNode == node) {\n    this.lastNode = node.prev\n  } else if (node.next != null) {\n    node.next.prev = node.prev\n  }\n}\n\n\nfunction DoublyLinkedNode(key, val) {\n  this.key = key\n  this.val = val\n  this.prev = null\n  this.next = null\n}\n","/*!\n * basic-auth\n * Copyright(c) 2013 TJ Holowaychuk\n * Copyright(c) 2014 Jonathan Ong\n * Copyright(c) 2015-2016 Douglas Christopher Wilson\n * MIT Licensed\n */\n\n'use strict'\n\n/**\n * Module dependencies.\n * @private\n */\n\nvar Buffer = require('safe-buffer').Buffer\n\n/**\n * Module exports.\n * @public\n */\n\nmodule.exports = auth\nmodule.exports.parse = parse\n\n/**\n * RegExp for basic auth credentials\n *\n * credentials = auth-scheme 1*SP token68\n * auth-scheme = \"Basic\" ; case insensitive\n * token68     = 1*( ALPHA / DIGIT / \"-\" / \".\" / \"_\" / \"~\" / \"+\" / \"/\" ) *\"=\"\n * @private\n */\n\nvar CREDENTIALS_REGEXP = /^ *(?:[Bb][Aa][Ss][Ii][Cc]) +([A-Za-z0-9._~+/-]+=*) *$/\n\n/**\n * RegExp for basic auth user/pass\n *\n * user-pass   = userid \":\" password\n * userid      = *<TEXT excluding \":\">\n * password    = *TEXT\n * @private\n */\n\nvar USER_PASS_REGEXP = /^([^:]*):(.*)$/\n\n/**\n * Parse the Authorization header field of a request.\n *\n * @param {object} req\n * @return {object} with .name and .pass\n * @public\n */\n\nfunction auth (req) {\n  if (!req) {\n    throw new TypeError('argument req is required')\n  }\n\n  if (typeof req !== 'object') {\n    throw new TypeError('argument req is required to be an object')\n  }\n\n  // get header\n  var header = getAuthorization(req)\n\n  // parse header\n  return parse(header)\n}\n\n/**\n * Decode base64 string.\n * @private\n */\n\nfunction decodeBase64 (str) {\n  return Buffer.from(str, 'base64').toString()\n}\n\n/**\n * Get the Authorization header from request object.\n * @private\n */\n\nfunction getAuthorization (req) {\n  if (!req.headers || typeof req.headers !== 'object') {\n    throw new TypeError('argument req is required to have headers property')\n  }\n\n  return req.headers.authorization\n}\n\n/**\n * Parse basic auth to object.\n *\n * @param {string} string\n * @return {object}\n * @public\n */\n\nfunction parse (string) {\n  if (typeof string !== 'string') {\n    return undefined\n  }\n\n  // parse header\n  var match = CREDENTIALS_REGEXP.exec(string)\n\n  if (!match) {\n    return undefined\n  }\n\n  // decode user pass\n  var userPass = USER_PASS_REGEXP.exec(decodeBase64(match[1]))\n\n  if (!userPass) {\n    return undefined\n  }\n\n  // return credentials object\n  return new Credentials(userPass[1], userPass[2])\n}\n\n/**\n * Object to represent user credentials.\n * @private\n */\n\nfunction Credentials (name, pass) {\n  this.name = name\n  this.pass = pass\n}\n","'use strict';\n\nvar crypto_hash_sha512 = require('tweetnacl').lowlevel.crypto_hash;\n\n/*\n * This file is a 1:1 port from the OpenBSD blowfish.c and bcrypt_pbkdf.c. As a\n * result, it retains the original copyright and license. The two files are\n * under slightly different (but compatible) licenses, and are here combined in\n * one file.\n *\n * Credit for the actual porting work goes to:\n *  Devi Mandiri <me@devi.web.id>\n */\n\n/*\n * The Blowfish portions are under the following license:\n *\n * Blowfish block cipher for OpenBSD\n * Copyright 1997 Niels Provos <provos@physnet.uni-hamburg.de>\n * All rights reserved.\n *\n * Implementation advice by David Mazieres <dm@lcs.mit.edu>.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions\n * are met:\n * 1. Redistributions of source code must retain the above copyright\n *    notice, this list of conditions and the following disclaimer.\n * 2. Redistributions in binary form must reproduce the above copyright\n *    notice, this list of conditions and the following disclaimer in the\n *    documentation and/or other materials provided with the distribution.\n * 3. The name of the author may not be used to endorse or promote products\n *    derived from this software without specific prior written permission.\n *\n * THIS SOFTWARE IS PROVIDED BY THE AUTHOR ``AS IS'' AND ANY EXPRESS OR\n * IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES\n * OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED.\n * IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY DIRECT, INDIRECT,\n * INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT\n * NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\n * DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\n * THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF\n * THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\n\n/*\n * The bcrypt_pbkdf portions are under the following license:\n *\n * Copyright (c) 2013 Ted Unangst <tedu@openbsd.org>\n *\n * Permission to use, copy, modify, and distribute this software for any\n * purpose with or without fee is hereby granted, provided that the above\n * copyright notice and this permission notice appear in all copies.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES\n * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF\n * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR\n * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES\n * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN\n * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF\n * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.\n */\n\n/*\n * Performance improvements (Javascript-specific):\n *\n * Copyright 2016, Joyent Inc\n * Author: Alex Wilson <alex.wilson@joyent.com>\n *\n * Permission to use, copy, modify, and distribute this software for any\n * purpose with or without fee is hereby granted, provided that the above\n * copyright notice and this permission notice appear in all copies.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES\n * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF\n * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR\n * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES\n * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN\n * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF\n * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.\n */\n\n// Ported from OpenBSD bcrypt_pbkdf.c v1.9\n\nvar BLF_J = 0;\n\nvar Blowfish = function() {\n  this.S = [\n    new Uint32Array([\n      0xd1310ba6, 0x98dfb5ac, 0x2ffd72db, 0xd01adfb7,\n      0xb8e1afed, 0x6a267e96, 0xba7c9045, 0xf12c7f99,\n      0x24a19947, 0xb3916cf7, 0x0801f2e2, 0x858efc16,\n      0x636920d8, 0x71574e69, 0xa458fea3, 0xf4933d7e,\n      0x0d95748f, 0x728eb658, 0x718bcd58, 0x82154aee,\n      0x7b54a41d, 0xc25a59b5, 0x9c30d539, 0x2af26013,\n      0xc5d1b023, 0x286085f0, 0xca417918, 0xb8db38ef,\n      0x8e79dcb0, 0x603a180e, 0x6c9e0e8b, 0xb01e8a3e,\n      0xd71577c1, 0xbd314b27, 0x78af2fda, 0x55605c60,\n      0xe65525f3, 0xaa55ab94, 0x57489862, 0x63e81440,\n      0x55ca396a, 0x2aab10b6, 0xb4cc5c34, 0x1141e8ce,\n      0xa15486af, 0x7c72e993, 0xb3ee1411, 0x636fbc2a,\n      0x2ba9c55d, 0x741831f6, 0xce5c3e16, 0x9b87931e,\n      0xafd6ba33, 0x6c24cf5c, 0x7a325381, 0x28958677,\n      0x3b8f4898, 0x6b4bb9af, 0xc4bfe81b, 0x66282193,\n      0x61d809cc, 0xfb21a991, 0x487cac60, 0x5dec8032,\n      0xef845d5d, 0xe98575b1, 0xdc262302, 0xeb651b88,\n      0x23893e81, 0xd396acc5, 0x0f6d6ff3, 0x83f44239,\n      0x2e0b4482, 0xa4842004, 0x69c8f04a, 0x9e1f9b5e,\n      0x21c66842, 0xf6e96c9a, 0x670c9c61, 0xabd388f0,\n      0x6a51a0d2, 0xd8542f68, 0x960fa728, 0xab5133a3,\n      0x6eef0b6c, 0x137a3be4, 0xba3bf050, 0x7efb2a98,\n      0xa1f1651d, 0x39af0176, 0x66ca593e, 0x82430e88,\n      0x8cee8619, 0x456f9fb4, 0x7d84a5c3, 0x3b8b5ebe,\n      0xe06f75d8, 0x85c12073, 0x401a449f, 0x56c16aa6,\n      0x4ed3aa62, 0x363f7706, 0x1bfedf72, 0x429b023d,\n      0x37d0d724, 0xd00a1248, 0xdb0fead3, 0x49f1c09b,\n      0x075372c9, 0x80991b7b, 0x25d479d8, 0xf6e8def7,\n      0xe3fe501a, 0xb6794c3b, 0x976ce0bd, 0x04c006ba,\n      0xc1a94fb6, 0x409f60c4, 0x5e5c9ec2, 0x196a2463,\n      0x68fb6faf, 0x3e6c53b5, 0x1339b2eb, 0x3b52ec6f,\n      0x6dfc511f, 0x9b30952c, 0xcc814544, 0xaf5ebd09,\n      0xbee3d004, 0xde334afd, 0x660f2807, 0x192e4bb3,\n      0xc0cba857, 0x45c8740f, 0xd20b5f39, 0xb9d3fbdb,\n      0x5579c0bd, 0x1a60320a, 0xd6a100c6, 0x402c7279,\n      0x679f25fe, 0xfb1fa3cc, 0x8ea5e9f8, 0xdb3222f8,\n      0x3c7516df, 0xfd616b15, 0x2f501ec8, 0xad0552ab,\n      0x323db5fa, 0xfd238760, 0x53317b48, 0x3e00df82,\n      0x9e5c57bb, 0xca6f8ca0, 0x1a87562e, 0xdf1769db,\n      0xd542a8f6, 0x287effc3, 0xac6732c6, 0x8c4f5573,\n      0x695b27b0, 0xbbca58c8, 0xe1ffa35d, 0xb8f011a0,\n      0x10fa3d98, 0xfd2183b8, 0x4afcb56c, 0x2dd1d35b,\n      0x9a53e479, 0xb6f84565, 0xd28e49bc, 0x4bfb9790,\n      0xe1ddf2da, 0xa4cb7e33, 0x62fb1341, 0xcee4c6e8,\n      0xef20cada, 0x36774c01, 0xd07e9efe, 0x2bf11fb4,\n      0x95dbda4d, 0xae909198, 0xeaad8e71, 0x6b93d5a0,\n      0xd08ed1d0, 0xafc725e0, 0x8e3c5b2f, 0x8e7594b7,\n      0x8ff6e2fb, 0xf2122b64, 0x8888b812, 0x900df01c,\n      0x4fad5ea0, 0x688fc31c, 0xd1cff191, 0xb3a8c1ad,\n      0x2f2f2218, 0xbe0e1777, 0xea752dfe, 0x8b021fa1,\n      0xe5a0cc0f, 0xb56f74e8, 0x18acf3d6, 0xce89e299,\n      0xb4a84fe0, 0xfd13e0b7, 0x7cc43b81, 0xd2ada8d9,\n      0x165fa266, 0x80957705, 0x93cc7314, 0x211a1477,\n      0xe6ad2065, 0x77b5fa86, 0xc75442f5, 0xfb9d35cf,\n      0xebcdaf0c, 0x7b3e89a0, 0xd6411bd3, 0xae1e7e49,\n      0x00250e2d, 0x2071b35e, 0x226800bb, 0x57b8e0af,\n      0x2464369b, 0xf009b91e, 0x5563911d, 0x59dfa6aa,\n      0x78c14389, 0xd95a537f, 0x207d5ba2, 0x02e5b9c5,\n      0x83260376, 0x6295cfa9, 0x11c81968, 0x4e734a41,\n      0xb3472dca, 0x7b14a94a, 0x1b510052, 0x9a532915,\n      0xd60f573f, 0xbc9bc6e4, 0x2b60a476, 0x81e67400,\n      0x08ba6fb5, 0x571be91f, 0xf296ec6b, 0x2a0dd915,\n      0xb6636521, 0xe7b9f9b6, 0xff34052e, 0xc5855664,\n      0x53b02d5d, 0xa99f8fa1, 0x08ba4799, 0x6e85076a]),\n    new Uint32Array([\n      0x4b7a70e9, 0xb5b32944, 0xdb75092e, 0xc4192623,\n      0xad6ea6b0, 0x49a7df7d, 0x9cee60b8, 0x8fedb266,\n      0xecaa8c71, 0x699a17ff, 0x5664526c, 0xc2b19ee1,\n      0x193602a5, 0x75094c29, 0xa0591340, 0xe4183a3e,\n      0x3f54989a, 0x5b429d65, 0x6b8fe4d6, 0x99f73fd6,\n      0xa1d29c07, 0xefe830f5, 0x4d2d38e6, 0xf0255dc1,\n      0x4cdd2086, 0x8470eb26, 0x6382e9c6, 0x021ecc5e,\n      0x09686b3f, 0x3ebaefc9, 0x3c971814, 0x6b6a70a1,\n      0x687f3584, 0x52a0e286, 0xb79c5305, 0xaa500737,\n      0x3e07841c, 0x7fdeae5c, 0x8e7d44ec, 0x5716f2b8,\n      0xb03ada37, 0xf0500c0d, 0xf01c1f04, 0x0200b3ff,\n      0xae0cf51a, 0x3cb574b2, 0x25837a58, 0xdc0921bd,\n      0xd19113f9, 0x7ca92ff6, 0x94324773, 0x22f54701,\n      0x3ae5e581, 0x37c2dadc, 0xc8b57634, 0x9af3dda7,\n      0xa9446146, 0x0fd0030e, 0xecc8c73e, 0xa4751e41,\n      0xe238cd99, 0x3bea0e2f, 0x3280bba1, 0x183eb331,\n      0x4e548b38, 0x4f6db908, 0x6f420d03, 0xf60a04bf,\n      0x2cb81290, 0x24977c79, 0x5679b072, 0xbcaf89af,\n      0xde9a771f, 0xd9930810, 0xb38bae12, 0xdccf3f2e,\n      0x5512721f, 0x2e6b7124, 0x501adde6, 0x9f84cd87,\n      0x7a584718, 0x7408da17, 0xbc9f9abc, 0xe94b7d8c,\n      0xec7aec3a, 0xdb851dfa, 0x63094366, 0xc464c3d2,\n      0xef1c1847, 0x3215d908, 0xdd433b37, 0x24c2ba16,\n      0x12a14d43, 0x2a65c451, 0x50940002, 0x133ae4dd,\n      0x71dff89e, 0x10314e55, 0x81ac77d6, 0x5f11199b,\n      0x043556f1, 0xd7a3c76b, 0x3c11183b, 0x5924a509,\n      0xf28fe6ed, 0x97f1fbfa, 0x9ebabf2c, 0x1e153c6e,\n      0x86e34570, 0xeae96fb1, 0x860e5e0a, 0x5a3e2ab3,\n      0x771fe71c, 0x4e3d06fa, 0x2965dcb9, 0x99e71d0f,\n      0x803e89d6, 0x5266c825, 0x2e4cc978, 0x9c10b36a,\n      0xc6150eba, 0x94e2ea78, 0xa5fc3c53, 0x1e0a2df4,\n      0xf2f74ea7, 0x361d2b3d, 0x1939260f, 0x19c27960,\n      0x5223a708, 0xf71312b6, 0xebadfe6e, 0xeac31f66,\n      0xe3bc4595, 0xa67bc883, 0xb17f37d1, 0x018cff28,\n      0xc332ddef, 0xbe6c5aa5, 0x65582185, 0x68ab9802,\n      0xeecea50f, 0xdb2f953b, 0x2aef7dad, 0x5b6e2f84,\n      0x1521b628, 0x29076170, 0xecdd4775, 0x619f1510,\n      0x13cca830, 0xeb61bd96, 0x0334fe1e, 0xaa0363cf,\n      0xb5735c90, 0x4c70a239, 0xd59e9e0b, 0xcbaade14,\n      0xeecc86bc, 0x60622ca7, 0x9cab5cab, 0xb2f3846e,\n      0x648b1eaf, 0x19bdf0ca, 0xa02369b9, 0x655abb50,\n      0x40685a32, 0x3c2ab4b3, 0x319ee9d5, 0xc021b8f7,\n      0x9b540b19, 0x875fa099, 0x95f7997e, 0x623d7da8,\n      0xf837889a, 0x97e32d77, 0x11ed935f, 0x16681281,\n      0x0e358829, 0xc7e61fd6, 0x96dedfa1, 0x7858ba99,\n      0x57f584a5, 0x1b227263, 0x9b83c3ff, 0x1ac24696,\n      0xcdb30aeb, 0x532e3054, 0x8fd948e4, 0x6dbc3128,\n      0x58ebf2ef, 0x34c6ffea, 0xfe28ed61, 0xee7c3c73,\n      0x5d4a14d9, 0xe864b7e3, 0x42105d14, 0x203e13e0,\n      0x45eee2b6, 0xa3aaabea, 0xdb6c4f15, 0xfacb4fd0,\n      0xc742f442, 0xef6abbb5, 0x654f3b1d, 0x41cd2105,\n      0xd81e799e, 0x86854dc7, 0xe44b476a, 0x3d816250,\n      0xcf62a1f2, 0x5b8d2646, 0xfc8883a0, 0xc1c7b6a3,\n      0x7f1524c3, 0x69cb7492, 0x47848a0b, 0x5692b285,\n      0x095bbf00, 0xad19489d, 0x1462b174, 0x23820e00,\n      0x58428d2a, 0x0c55f5ea, 0x1dadf43e, 0x233f7061,\n      0x3372f092, 0x8d937e41, 0xd65fecf1, 0x6c223bdb,\n      0x7cde3759, 0xcbee7460, 0x4085f2a7, 0xce77326e,\n      0xa6078084, 0x19f8509e, 0xe8efd855, 0x61d99735,\n      0xa969a7aa, 0xc50c06c2, 0x5a04abfc, 0x800bcadc,\n      0x9e447a2e, 0xc3453484, 0xfdd56705, 0x0e1e9ec9,\n      0xdb73dbd3, 0x105588cd, 0x675fda79, 0xe3674340,\n      0xc5c43465, 0x713e38d8, 0x3d28f89e, 0xf16dff20,\n      0x153e21e7, 0x8fb03d4a, 0xe6e39f2b, 0xdb83adf7]),\n    new Uint32Array([\n      0xe93d5a68, 0x948140f7, 0xf64c261c, 0x94692934,\n      0x411520f7, 0x7602d4f7, 0xbcf46b2e, 0xd4a20068,\n      0xd4082471, 0x3320f46a, 0x43b7d4b7, 0x500061af,\n      0x1e39f62e, 0x97244546, 0x14214f74, 0xbf8b8840,\n      0x4d95fc1d, 0x96b591af, 0x70f4ddd3, 0x66a02f45,\n      0xbfbc09ec, 0x03bd9785, 0x7fac6dd0, 0x31cb8504,\n      0x96eb27b3, 0x55fd3941, 0xda2547e6, 0xabca0a9a,\n      0x28507825, 0x530429f4, 0x0a2c86da, 0xe9b66dfb,\n      0x68dc1462, 0xd7486900, 0x680ec0a4, 0x27a18dee,\n      0x4f3ffea2, 0xe887ad8c, 0xb58ce006, 0x7af4d6b6,\n      0xaace1e7c, 0xd3375fec, 0xce78a399, 0x406b2a42,\n      0x20fe9e35, 0xd9f385b9, 0xee39d7ab, 0x3b124e8b,\n      0x1dc9faf7, 0x4b6d1856, 0x26a36631, 0xeae397b2,\n      0x3a6efa74, 0xdd5b4332, 0x6841e7f7, 0xca7820fb,\n      0xfb0af54e, 0xd8feb397, 0x454056ac, 0xba489527,\n      0x55533a3a, 0x20838d87, 0xfe6ba9b7, 0xd096954b,\n      0x55a867bc, 0xa1159a58, 0xcca92963, 0x99e1db33,\n      0xa62a4a56, 0x3f3125f9, 0x5ef47e1c, 0x9029317c,\n      0xfdf8e802, 0x04272f70, 0x80bb155c, 0x05282ce3,\n      0x95c11548, 0xe4c66d22, 0x48c1133f, 0xc70f86dc,\n      0x07f9c9ee, 0x41041f0f, 0x404779a4, 0x5d886e17,\n      0x325f51eb, 0xd59bc0d1, 0xf2bcc18f, 0x41113564,\n      0x257b7834, 0x602a9c60, 0xdff8e8a3, 0x1f636c1b,\n      0x0e12b4c2, 0x02e1329e, 0xaf664fd1, 0xcad18115,\n      0x6b2395e0, 0x333e92e1, 0x3b240b62, 0xeebeb922,\n      0x85b2a20e, 0xe6ba0d99, 0xde720c8c, 0x2da2f728,\n      0xd0127845, 0x95b794fd, 0x647d0862, 0xe7ccf5f0,\n      0x5449a36f, 0x877d48fa, 0xc39dfd27, 0xf33e8d1e,\n      0x0a476341, 0x992eff74, 0x3a6f6eab, 0xf4f8fd37,\n      0xa812dc60, 0xa1ebddf8, 0x991be14c, 0xdb6e6b0d,\n      0xc67b5510, 0x6d672c37, 0x2765d43b, 0xdcd0e804,\n      0xf1290dc7, 0xcc00ffa3, 0xb5390f92, 0x690fed0b,\n      0x667b9ffb, 0xcedb7d9c, 0xa091cf0b, 0xd9155ea3,\n      0xbb132f88, 0x515bad24, 0x7b9479bf, 0x763bd6eb,\n      0x37392eb3, 0xcc115979, 0x8026e297, 0xf42e312d,\n      0x6842ada7, 0xc66a2b3b, 0x12754ccc, 0x782ef11c,\n      0x6a124237, 0xb79251e7, 0x06a1bbe6, 0x4bfb6350,\n      0x1a6b1018, 0x11caedfa, 0x3d25bdd8, 0xe2e1c3c9,\n      0x44421659, 0x0a121386, 0xd90cec6e, 0xd5abea2a,\n      0x64af674e, 0xda86a85f, 0xbebfe988, 0x64e4c3fe,\n      0x9dbc8057, 0xf0f7c086, 0x60787bf8, 0x6003604d,\n      0xd1fd8346, 0xf6381fb0, 0x7745ae04, 0xd736fccc,\n      0x83426b33, 0xf01eab71, 0xb0804187, 0x3c005e5f,\n      0x77a057be, 0xbde8ae24, 0x55464299, 0xbf582e61,\n      0x4e58f48f, 0xf2ddfda2, 0xf474ef38, 0x8789bdc2,\n      0x5366f9c3, 0xc8b38e74, 0xb475f255, 0x46fcd9b9,\n      0x7aeb2661, 0x8b1ddf84, 0x846a0e79, 0x915f95e2,\n      0x466e598e, 0x20b45770, 0x8cd55591, 0xc902de4c,\n      0xb90bace1, 0xbb8205d0, 0x11a86248, 0x7574a99e,\n      0xb77f19b6, 0xe0a9dc09, 0x662d09a1, 0xc4324633,\n      0xe85a1f02, 0x09f0be8c, 0x4a99a025, 0x1d6efe10,\n      0x1ab93d1d, 0x0ba5a4df, 0xa186f20f, 0x2868f169,\n      0xdcb7da83, 0x573906fe, 0xa1e2ce9b, 0x4fcd7f52,\n      0x50115e01, 0xa70683fa, 0xa002b5c4, 0x0de6d027,\n      0x9af88c27, 0x773f8641, 0xc3604c06, 0x61a806b5,\n      0xf0177a28, 0xc0f586e0, 0x006058aa, 0x30dc7d62,\n      0x11e69ed7, 0x2338ea63, 0x53c2dd94, 0xc2c21634,\n      0xbbcbee56, 0x90bcb6de, 0xebfc7da1, 0xce591d76,\n      0x6f05e409, 0x4b7c0188, 0x39720a3d, 0x7c927c24,\n      0x86e3725f, 0x724d9db9, 0x1ac15bb4, 0xd39eb8fc,\n      0xed545578, 0x08fca5b5, 0xd83d7cd3, 0x4dad0fc4,\n      0x1e50ef5e, 0xb161e6f8, 0xa28514d9, 0x6c51133c,\n      0x6fd5c7e7, 0x56e14ec4, 0x362abfce, 0xddc6c837,\n      0xd79a3234, 0x92638212, 0x670efa8e, 0x406000e0]),\n    new Uint32Array([\n      0x3a39ce37, 0xd3faf5cf, 0xabc27737, 0x5ac52d1b,\n      0x5cb0679e, 0x4fa33742, 0xd3822740, 0x99bc9bbe,\n      0xd5118e9d, 0xbf0f7315, 0xd62d1c7e, 0xc700c47b,\n      0xb78c1b6b, 0x21a19045, 0xb26eb1be, 0x6a366eb4,\n      0x5748ab2f, 0xbc946e79, 0xc6a376d2, 0x6549c2c8,\n      0x530ff8ee, 0x468dde7d, 0xd5730a1d, 0x4cd04dc6,\n      0x2939bbdb, 0xa9ba4650, 0xac9526e8, 0xbe5ee304,\n      0xa1fad5f0, 0x6a2d519a, 0x63ef8ce2, 0x9a86ee22,\n      0xc089c2b8, 0x43242ef6, 0xa51e03aa, 0x9cf2d0a4,\n      0x83c061ba, 0x9be96a4d, 0x8fe51550, 0xba645bd6,\n      0x2826a2f9, 0xa73a3ae1, 0x4ba99586, 0xef5562e9,\n      0xc72fefd3, 0xf752f7da, 0x3f046f69, 0x77fa0a59,\n      0x80e4a915, 0x87b08601, 0x9b09e6ad, 0x3b3ee593,\n      0xe990fd5a, 0x9e34d797, 0x2cf0b7d9, 0x022b8b51,\n      0x96d5ac3a, 0x017da67d, 0xd1cf3ed6, 0x7c7d2d28,\n      0x1f9f25cf, 0xadf2b89b, 0x5ad6b472, 0x5a88f54c,\n      0xe029ac71, 0xe019a5e6, 0x47b0acfd, 0xed93fa9b,\n      0xe8d3c48d, 0x283b57cc, 0xf8d56629, 0x79132e28,\n      0x785f0191, 0xed756055, 0xf7960e44, 0xe3d35e8c,\n      0x15056dd4, 0x88f46dba, 0x03a16125, 0x0564f0bd,\n      0xc3eb9e15, 0x3c9057a2, 0x97271aec, 0xa93a072a,\n      0x1b3f6d9b, 0x1e6321f5, 0xf59c66fb, 0x26dcf319,\n      0x7533d928, 0xb155fdf5, 0x03563482, 0x8aba3cbb,\n      0x28517711, 0xc20ad9f8, 0xabcc5167, 0xccad925f,\n      0x4de81751, 0x3830dc8e, 0x379d5862, 0x9320f991,\n      0xea7a90c2, 0xfb3e7bce, 0x5121ce64, 0x774fbe32,\n      0xa8b6e37e, 0xc3293d46, 0x48de5369, 0x6413e680,\n      0xa2ae0810, 0xdd6db224, 0x69852dfd, 0x09072166,\n      0xb39a460a, 0x6445c0dd, 0x586cdecf, 0x1c20c8ae,\n      0x5bbef7dd, 0x1b588d40, 0xccd2017f, 0x6bb4e3bb,\n      0xdda26a7e, 0x3a59ff45, 0x3e350a44, 0xbcb4cdd5,\n      0x72eacea8, 0xfa6484bb, 0x8d6612ae, 0xbf3c6f47,\n      0xd29be463, 0x542f5d9e, 0xaec2771b, 0xf64e6370,\n      0x740e0d8d, 0xe75b1357, 0xf8721671, 0xaf537d5d,\n      0x4040cb08, 0x4eb4e2cc, 0x34d2466a, 0x0115af84,\n      0xe1b00428, 0x95983a1d, 0x06b89fb4, 0xce6ea048,\n      0x6f3f3b82, 0x3520ab82, 0x011a1d4b, 0x277227f8,\n      0x611560b1, 0xe7933fdc, 0xbb3a792b, 0x344525bd,\n      0xa08839e1, 0x51ce794b, 0x2f32c9b7, 0xa01fbac9,\n      0xe01cc87e, 0xbcc7d1f6, 0xcf0111c3, 0xa1e8aac7,\n      0x1a908749, 0xd44fbd9a, 0xd0dadecb, 0xd50ada38,\n      0x0339c32a, 0xc6913667, 0x8df9317c, 0xe0b12b4f,\n      0xf79e59b7, 0x43f5bb3a, 0xf2d519ff, 0x27d9459c,\n      0xbf97222c, 0x15e6fc2a, 0x0f91fc71, 0x9b941525,\n      0xfae59361, 0xceb69ceb, 0xc2a86459, 0x12baa8d1,\n      0xb6c1075e, 0xe3056a0c, 0x10d25065, 0xcb03a442,\n      0xe0ec6e0e, 0x1698db3b, 0x4c98a0be, 0x3278e964,\n      0x9f1f9532, 0xe0d392df, 0xd3a0342b, 0x8971f21e,\n      0x1b0a7441, 0x4ba3348c, 0xc5be7120, 0xc37632d8,\n      0xdf359f8d, 0x9b992f2e, 0xe60b6f47, 0x0fe3f11d,\n      0xe54cda54, 0x1edad891, 0xce6279cf, 0xcd3e7e6f,\n      0x1618b166, 0xfd2c1d05, 0x848fd2c5, 0xf6fb2299,\n      0xf523f357, 0xa6327623, 0x93a83531, 0x56cccd02,\n      0xacf08162, 0x5a75ebb5, 0x6e163697, 0x88d273cc,\n      0xde966292, 0x81b949d0, 0x4c50901b, 0x71c65614,\n      0xe6c6c7bd, 0x327a140a, 0x45e1d006, 0xc3f27b9a,\n      0xc9aa53fd, 0x62a80f00, 0xbb25bfe2, 0x35bdd2f6,\n      0x71126905, 0xb2040222, 0xb6cbcf7c, 0xcd769c2b,\n      0x53113ec0, 0x1640e3d3, 0x38abbd60, 0x2547adf0,\n      0xba38209c, 0xf746ce76, 0x77afa1c5, 0x20756060,\n      0x85cbfe4e, 0x8ae88dd8, 0x7aaaf9b0, 0x4cf9aa7e,\n      0x1948c25c, 0x02fb8a8c, 0x01c36ae4, 0xd6ebe1f9,\n      0x90d4f869, 0xa65cdea0, 0x3f09252d, 0xc208e69f,\n      0xb74e6132, 0xce77e25b, 0x578fdfe3, 0x3ac372e6])\n    ];\n  this.P = new Uint32Array([\n    0x243f6a88, 0x85a308d3, 0x13198a2e, 0x03707344,\n    0xa4093822, 0x299f31d0, 0x082efa98, 0xec4e6c89,\n    0x452821e6, 0x38d01377, 0xbe5466cf, 0x34e90c6c,\n    0xc0ac29b7, 0xc97c50dd, 0x3f84d5b5, 0xb5470917,\n    0x9216d5d9, 0x8979fb1b]);\n};\n\nfunction F(S, x8, i) {\n  return (((S[0][x8[i+3]] +\n            S[1][x8[i+2]]) ^\n            S[2][x8[i+1]]) +\n            S[3][x8[i]]);\n};\n\nBlowfish.prototype.encipher = function(x, x8) {\n  if (x8 === undefined) {\n    x8 = new Uint8Array(x.buffer);\n    if (x.byteOffset !== 0)\n      x8 = x8.subarray(x.byteOffset);\n  }\n  x[0] ^= this.P[0];\n  for (var i = 1; i < 16; i += 2) {\n    x[1] ^= F(this.S, x8, 0) ^ this.P[i];\n    x[0] ^= F(this.S, x8, 4) ^ this.P[i+1];\n  }\n  var t = x[0];\n  x[0] = x[1] ^ this.P[17];\n  x[1] = t;\n};\n\nBlowfish.prototype.decipher = function(x) {\n  var x8 = new Uint8Array(x.buffer);\n  if (x.byteOffset !== 0)\n    x8 = x8.subarray(x.byteOffset);\n  x[0] ^= this.P[17];\n  for (var i = 16; i > 0; i -= 2) {\n    x[1] ^= F(this.S, x8, 0) ^ this.P[i];\n    x[0] ^= F(this.S, x8, 4) ^ this.P[i-1];\n  }\n  var t = x[0];\n  x[0] = x[1] ^ this.P[0];\n  x[1] = t;\n};\n\nfunction stream2word(data, databytes){\n  var i, temp = 0;\n  for (i = 0; i < 4; i++, BLF_J++) {\n    if (BLF_J >= databytes) BLF_J = 0;\n    temp = (temp << 8) | data[BLF_J];\n  }\n  return temp;\n};\n\nBlowfish.prototype.expand0state = function(key, keybytes) {\n  var d = new Uint32Array(2), i, k;\n  var d8 = new Uint8Array(d.buffer);\n\n  for (i = 0, BLF_J = 0; i < 18; i++) {\n    this.P[i] ^= stream2word(key, keybytes);\n  }\n  BLF_J = 0;\n\n  for (i = 0; i < 18; i += 2) {\n    this.encipher(d, d8);\n    this.P[i]   = d[0];\n    this.P[i+1] = d[1];\n  }\n\n  for (i = 0; i < 4; i++) {\n    for (k = 0; k < 256; k += 2) {\n      this.encipher(d, d8);\n      this.S[i][k]   = d[0];\n      this.S[i][k+1] = d[1];\n    }\n  }\n};\n\nBlowfish.prototype.expandstate = function(data, databytes, key, keybytes) {\n  var d = new Uint32Array(2), i, k;\n\n  for (i = 0, BLF_J = 0; i < 18; i++) {\n    this.P[i] ^= stream2word(key, keybytes);\n  }\n\n  for (i = 0, BLF_J = 0; i < 18; i += 2) {\n    d[0] ^= stream2word(data, databytes);\n    d[1] ^= stream2word(data, databytes);\n    this.encipher(d);\n    this.P[i]   = d[0];\n    this.P[i+1] = d[1];\n  }\n\n  for (i = 0; i < 4; i++) {\n    for (k = 0; k < 256; k += 2) {\n      d[0] ^= stream2word(data, databytes);\n      d[1] ^= stream2word(data, databytes);\n      this.encipher(d);\n      this.S[i][k]   = d[0];\n      this.S[i][k+1] = d[1];\n    }\n  }\n  BLF_J = 0;\n};\n\nBlowfish.prototype.enc = function(data, blocks) {\n  for (var i = 0; i < blocks; i++) {\n    this.encipher(data.subarray(i*2));\n  }\n};\n\nBlowfish.prototype.dec = function(data, blocks) {\n  for (var i = 0; i < blocks; i++) {\n    this.decipher(data.subarray(i*2));\n  }\n};\n\nvar BCRYPT_BLOCKS = 8,\n    BCRYPT_HASHSIZE = 32;\n\nfunction bcrypt_hash(sha2pass, sha2salt, out) {\n  var state = new Blowfish(),\n      cdata = new Uint32Array(BCRYPT_BLOCKS), i,\n      ciphertext = new Uint8Array([79,120,121,99,104,114,111,109,97,116,105,\n            99,66,108,111,119,102,105,115,104,83,119,97,116,68,121,110,97,109,\n            105,116,101]); //\"OxychromaticBlowfishSwatDynamite\"\n\n  state.expandstate(sha2salt, 64, sha2pass, 64);\n  for (i = 0; i < 64; i++) {\n    state.expand0state(sha2salt, 64);\n    state.expand0state(sha2pass, 64);\n  }\n\n  for (i = 0; i < BCRYPT_BLOCKS; i++)\n    cdata[i] = stream2word(ciphertext, ciphertext.byteLength);\n  for (i = 0; i < 64; i++)\n    state.enc(cdata, cdata.byteLength / 8);\n\n  for (i = 0; i < BCRYPT_BLOCKS; i++) {\n    out[4*i+3] = cdata[i] >>> 24;\n    out[4*i+2] = cdata[i] >>> 16;\n    out[4*i+1] = cdata[i] >>> 8;\n    out[4*i+0] = cdata[i];\n  }\n};\n\nfunction bcrypt_pbkdf(pass, passlen, salt, saltlen, key, keylen, rounds) {\n  var sha2pass = new Uint8Array(64),\n      sha2salt = new Uint8Array(64),\n      out = new Uint8Array(BCRYPT_HASHSIZE),\n      tmpout = new Uint8Array(BCRYPT_HASHSIZE),\n      countsalt = new Uint8Array(saltlen+4),\n      i, j, amt, stride, dest, count,\n      origkeylen = keylen;\n\n  if (rounds < 1)\n    return -1;\n  if (passlen === 0 || saltlen === 0 || keylen === 0 ||\n      keylen > (out.byteLength * out.byteLength) || saltlen > (1<<20))\n    return -1;\n\n  stride = Math.floor((keylen + out.byteLength - 1) / out.byteLength);\n  amt = Math.floor((keylen + stride - 1) / stride);\n\n  for (i = 0; i < saltlen; i++)\n    countsalt[i] = salt[i];\n\n  crypto_hash_sha512(sha2pass, pass, passlen);\n\n  for (count = 1; keylen > 0; count++) {\n    countsalt[saltlen+0] = count >>> 24;\n    countsalt[saltlen+1] = count >>> 16;\n    countsalt[saltlen+2] = count >>>  8;\n    countsalt[saltlen+3] = count;\n\n    crypto_hash_sha512(sha2salt, countsalt, saltlen + 4);\n    bcrypt_hash(sha2pass, sha2salt, tmpout);\n    for (i = out.byteLength; i--;)\n      out[i] = tmpout[i];\n\n    for (i = 1; i < rounds; i++) {\n      crypto_hash_sha512(sha2salt, tmpout, tmpout.byteLength);\n      bcrypt_hash(sha2pass, sha2salt, tmpout);\n      for (j = 0; j < out.byteLength; j++)\n        out[j] ^= tmpout[j];\n    }\n\n    amt = Math.min(amt, keylen);\n    for (i = 0; i < amt; i++) {\n      dest = i * stride + (count - 1);\n      if (dest >= origkeylen)\n        break;\n      key[dest] = out[i];\n    }\n    keylen -= i;\n  }\n\n  return 0;\n};\n\nmodule.exports = {\n      BLOCKS: BCRYPT_BLOCKS,\n      HASHSIZE: BCRYPT_HASHSIZE,\n      hash: bcrypt_hash,\n      pbkdf: bcrypt_pbkdf\n};\n","/*!\n * body-parser\n * Copyright(c) 2014-2015 Douglas Christopher Wilson\n * MIT Licensed\n */\n\n'use strict'\n\n/**\n * Module dependencies.\n * @private\n */\n\nvar deprecate = require('depd')('body-parser')\n\n/**\n * Cache of loaded parsers.\n * @private\n */\n\nvar parsers = Object.create(null)\n\n/**\n * @typedef Parsers\n * @type {function}\n * @property {function} json\n * @property {function} raw\n * @property {function} text\n * @property {function} urlencoded\n */\n\n/**\n * Module exports.\n * @type {Parsers}\n */\n\nexports = module.exports = deprecate.function(bodyParser,\n  'bodyParser: use individual json/urlencoded middlewares')\n\n/**\n * JSON parser.\n * @public\n */\n\nObject.defineProperty(exports, 'json', {\n  configurable: true,\n  enumerable: true,\n  get: createParserGetter('json')\n})\n\n/**\n * Raw parser.\n * @public\n */\n\nObject.defineProperty(exports, 'raw', {\n  configurable: true,\n  enumerable: true,\n  get: createParserGetter('raw')\n})\n\n/**\n * Text parser.\n * @public\n */\n\nObject.defineProperty(exports, 'text', {\n  configurable: true,\n  enumerable: true,\n  get: createParserGetter('text')\n})\n\n/**\n * URL-encoded parser.\n * @public\n */\n\nObject.defineProperty(exports, 'urlencoded', {\n  configurable: true,\n  enumerable: true,\n  get: createParserGetter('urlencoded')\n})\n\n/**\n * Create a middleware to parse json and urlencoded bodies.\n *\n * @param {object} [options]\n * @return {function}\n * @deprecated\n * @public\n */\n\nfunction bodyParser (options) {\n  var opts = {}\n\n  // exclude type option\n  if (options) {\n    for (var prop in options) {\n      if (prop !== 'type') {\n        opts[prop] = options[prop]\n      }\n    }\n  }\n\n  var _urlencoded = exports.urlencoded(opts)\n  var _json = exports.json(opts)\n\n  return function bodyParser (req, res, next) {\n    _json(req, res, function (err) {\n      if (err) return next(err)\n      _urlencoded(req, res, next)\n    })\n  }\n}\n\n/**\n * Create a getter for loading a parser.\n * @private\n */\n\nfunction createParserGetter (name) {\n  return function get () {\n    return loadParser(name)\n  }\n}\n\n/**\n * Load a parser module.\n * @private\n */\n\nfunction loadParser (parserName) {\n  var parser = parsers[parserName]\n\n  if (parser !== undefined) {\n    return parser\n  }\n\n  // this uses a switch for static require analysis\n  switch (parserName) {\n    case 'json':\n      parser = require('./lib/types/json')\n      break\n    case 'raw':\n      parser = require('./lib/types/raw')\n      break\n    case 'text':\n      parser = require('./lib/types/text')\n      break\n    case 'urlencoded':\n      parser = require('./lib/types/urlencoded')\n      break\n  }\n\n  // store to prevent invoking require()\n  return (parsers[parserName] = parser)\n}\n","/*!\n * body-parser\n * Copyright(c) 2014-2015 Douglas Christopher Wilson\n * MIT Licensed\n */\n\n'use strict'\n\n/**\n * Module dependencies.\n * @private\n */\n\nvar createError = require('http-errors')\nvar getBody = require('raw-body')\nvar iconv = require('iconv-lite')\nvar onFinished = require('on-finished')\nvar zlib = require('zlib')\n\n/**\n * Module exports.\n */\n\nmodule.exports = read\n\n/**\n * Read a request into a buffer and parse.\n *\n * @param {object} req\n * @param {object} res\n * @param {function} next\n * @param {function} parse\n * @param {function} debug\n * @param {object} options\n * @private\n */\n\nfunction read (req, res, next, parse, debug, options) {\n  var length\n  var opts = options\n  var stream\n\n  // flag as parsed\n  req._body = true\n\n  // read options\n  var encoding = opts.encoding !== null\n    ? opts.encoding\n    : null\n  var verify = opts.verify\n\n  try {\n    // get the content stream\n    stream = contentstream(req, debug, opts.inflate)\n    length = stream.length\n    stream.length = undefined\n  } catch (err) {\n    return next(err)\n  }\n\n  // set raw-body options\n  opts.length = length\n  opts.encoding = verify\n    ? null\n    : encoding\n\n  // assert charset is supported\n  if (opts.encoding === null && encoding !== null && !iconv.encodingExists(encoding)) {\n    return next(createError(415, 'unsupported charset \"' + encoding.toUpperCase() + '\"', {\n      charset: encoding.toLowerCase(),\n      type: 'charset.unsupported'\n    }))\n  }\n\n  // read body\n  debug('read body')\n  getBody(stream, opts, function (error, body) {\n    if (error) {\n      var _error\n\n      if (error.type === 'encoding.unsupported') {\n        // echo back charset\n        _error = createError(415, 'unsupported charset \"' + encoding.toUpperCase() + '\"', {\n          charset: encoding.toLowerCase(),\n          type: 'charset.unsupported'\n        })\n      } else {\n        // set status code on error\n        _error = createError(400, error)\n      }\n\n      // read off entire request\n      stream.resume()\n      onFinished(req, function onfinished () {\n        next(createError(400, _error))\n      })\n      return\n    }\n\n    // verify\n    if (verify) {\n      try {\n        debug('verify body')\n        verify(req, res, body, encoding)\n      } catch (err) {\n        next(createError(403, err, {\n          body: body,\n          type: err.type || 'entity.verify.failed'\n        }))\n        return\n      }\n    }\n\n    // parse\n    var str = body\n    try {\n      debug('parse body')\n      str = typeof body !== 'string' && encoding !== null\n        ? iconv.decode(body, encoding)\n        : body\n      req.body = parse(str)\n    } catch (err) {\n      next(createError(400, err, {\n        body: str,\n        type: err.type || 'entity.parse.failed'\n      }))\n      return\n    }\n\n    next()\n  })\n}\n\n/**\n * Get the content stream of the request.\n *\n * @param {object} req\n * @param {function} debug\n * @param {boolean} [inflate=true]\n * @return {object}\n * @api private\n */\n\nfunction contentstream (req, debug, inflate) {\n  var encoding = (req.headers['content-encoding'] || 'identity').toLowerCase()\n  var length = req.headers['content-length']\n  var stream\n\n  debug('content-encoding \"%s\"', encoding)\n\n  if (inflate === false && encoding !== 'identity') {\n    throw createError(415, 'content encoding unsupported', {\n      encoding: encoding,\n      type: 'encoding.unsupported'\n    })\n  }\n\n  switch (encoding) {\n    case 'deflate':\n      stream = zlib.createInflate()\n      debug('inflate body')\n      req.pipe(stream)\n      break\n    case 'gzip':\n      stream = zlib.createGunzip()\n      debug('gunzip body')\n      req.pipe(stream)\n      break\n    case 'identity':\n      stream = req\n      stream.length = length\n      break\n    default:\n      throw createError(415, 'unsupported content encoding \"' + encoding + '\"', {\n        encoding: encoding,\n        type: 'encoding.unsupported'\n      })\n  }\n\n  return stream\n}\n","/*!\n * body-parser\n * Copyright(c) 2014 Jonathan Ong\n * Copyright(c) 2014-2015 Douglas Christopher Wilson\n * MIT Licensed\n */\n\n'use strict'\n\n/**\n * Module dependencies.\n * @private\n */\n\nvar bytes = require('bytes')\nvar contentType = require('content-type')\nvar createError = require('http-errors')\nvar debug = require('debug')('body-parser:json')\nvar read = require('../read')\nvar typeis = require('type-is')\n\n/**\n * Module exports.\n */\n\nmodule.exports = json\n\n/**\n * RegExp to match the first non-space in a string.\n *\n * Allowed whitespace is defined in RFC 7159:\n *\n *    ws = *(\n *            %x20 /              ; Space\n *            %x09 /              ; Horizontal tab\n *            %x0A /              ; Line feed or New line\n *            %x0D )              ; Carriage return\n */\n\nvar FIRST_CHAR_REGEXP = /^[\\x20\\x09\\x0a\\x0d]*(.)/ // eslint-disable-line no-control-regex\n\n/**\n * Create a middleware to parse JSON bodies.\n *\n * @param {object} [options]\n * @return {function}\n * @public\n */\n\nfunction json (options) {\n  var opts = options || {}\n\n  var limit = typeof opts.limit !== 'number'\n    ? bytes.parse(opts.limit || '100kb')\n    : opts.limit\n  var inflate = opts.inflate !== false\n  var reviver = opts.reviver\n  var strict = opts.strict !== false\n  var type = opts.type || 'application/json'\n  var verify = opts.verify || false\n\n  if (verify !== false && typeof verify !== 'function') {\n    throw new TypeError('option verify must be function')\n  }\n\n  // create the appropriate type checking function\n  var shouldParse = typeof type !== 'function'\n    ? typeChecker(type)\n    : type\n\n  function parse (body) {\n    if (body.length === 0) {\n      // special-case empty json body, as it's a common client-side mistake\n      // TODO: maybe make this configurable or part of \"strict\" option\n      return {}\n    }\n\n    if (strict) {\n      var first = firstchar(body)\n\n      if (first !== '{' && first !== '[') {\n        debug('strict violation')\n        throw createStrictSyntaxError(body, first)\n      }\n    }\n\n    try {\n      debug('parse json')\n      return JSON.parse(body, reviver)\n    } catch (e) {\n      throw normalizeJsonSyntaxError(e, {\n        message: e.message,\n        stack: e.stack\n      })\n    }\n  }\n\n  return function jsonParser (req, res, next) {\n    if (req._body) {\n      debug('body already parsed')\n      next()\n      return\n    }\n\n    req.body = req.body || {}\n\n    // skip requests without bodies\n    if (!typeis.hasBody(req)) {\n      debug('skip empty body')\n      next()\n      return\n    }\n\n    debug('content-type %j', req.headers['content-type'])\n\n    // determine if request should be parsed\n    if (!shouldParse(req)) {\n      debug('skip parsing')\n      next()\n      return\n    }\n\n    // assert charset per RFC 7159 sec 8.1\n    var charset = getCharset(req) || 'utf-8'\n    if (charset.substr(0, 4) !== 'utf-') {\n      debug('invalid charset')\n      next(createError(415, 'unsupported charset \"' + charset.toUpperCase() + '\"', {\n        charset: charset,\n        type: 'charset.unsupported'\n      }))\n      return\n    }\n\n    // read\n    read(req, res, next, parse, debug, {\n      encoding: charset,\n      inflate: inflate,\n      limit: limit,\n      verify: verify\n    })\n  }\n}\n\n/**\n * Create strict violation syntax error matching native error.\n *\n * @param {string} str\n * @param {string} char\n * @return {Error}\n * @private\n */\n\nfunction createStrictSyntaxError (str, char) {\n  var index = str.indexOf(char)\n  var partial = str.substring(0, index) + '#'\n\n  try {\n    JSON.parse(partial); /* istanbul ignore next */ throw new SyntaxError('strict violation')\n  } catch (e) {\n    return normalizeJsonSyntaxError(e, {\n      message: e.message.replace('#', char),\n      stack: e.stack\n    })\n  }\n}\n\n/**\n * Get the first non-whitespace character in a string.\n *\n * @param {string} str\n * @return {function}\n * @private\n */\n\nfunction firstchar (str) {\n  return FIRST_CHAR_REGEXP.exec(str)[1]\n}\n\n/**\n * Get the charset of a request.\n *\n * @param {object} req\n * @api private\n */\n\nfunction getCharset (req) {\n  try {\n    return (contentType.parse(req).parameters.charset || '').toLowerCase()\n  } catch (e) {\n    return undefined\n  }\n}\n\n/**\n * Normalize a SyntaxError for JSON.parse.\n *\n * @param {SyntaxError} error\n * @param {object} obj\n * @return {SyntaxError}\n */\n\nfunction normalizeJsonSyntaxError (error, obj) {\n  var keys = Object.getOwnPropertyNames(error)\n\n  for (var i = 0; i < keys.length; i++) {\n    var key = keys[i]\n    if (key !== 'stack' && key !== 'message') {\n      delete error[key]\n    }\n  }\n\n  // replace stack before message for Node.js 0.10 and below\n  error.stack = obj.stack.replace(error.message, obj.message)\n  error.message = obj.message\n\n  return error\n}\n\n/**\n * Get the simple type checker.\n *\n * @param {string} type\n * @return {function}\n */\n\nfunction typeChecker (type) {\n  return function checkType (req) {\n    return Boolean(typeis(req, type))\n  }\n}\n","/*!\n * body-parser\n * Copyright(c) 2014-2015 Douglas Christopher Wilson\n * MIT Licensed\n */\n\n'use strict'\n\n/**\n * Module dependencies.\n */\n\nvar bytes = require('bytes')\nvar debug = require('debug')('body-parser:raw')\nvar read = require('../read')\nvar typeis = require('type-is')\n\n/**\n * Module exports.\n */\n\nmodule.exports = raw\n\n/**\n * Create a middleware to parse raw bodies.\n *\n * @param {object} [options]\n * @return {function}\n * @api public\n */\n\nfunction raw (options) {\n  var opts = options || {}\n\n  var inflate = opts.inflate !== false\n  var limit = typeof opts.limit !== 'number'\n    ? bytes.parse(opts.limit || '100kb')\n    : opts.limit\n  var type = opts.type || 'application/octet-stream'\n  var verify = opts.verify || false\n\n  if (verify !== false && typeof verify !== 'function') {\n    throw new TypeError('option verify must be function')\n  }\n\n  // create the appropriate type checking function\n  var shouldParse = typeof type !== 'function'\n    ? typeChecker(type)\n    : type\n\n  function parse (buf) {\n    return buf\n  }\n\n  return function rawParser (req, res, next) {\n    if (req._body) {\n      debug('body already parsed')\n      next()\n      return\n    }\n\n    req.body = req.body || {}\n\n    // skip requests without bodies\n    if (!typeis.hasBody(req)) {\n      debug('skip empty body')\n      next()\n      return\n    }\n\n    debug('content-type %j', req.headers['content-type'])\n\n    // determine if request should be parsed\n    if (!shouldParse(req)) {\n      debug('skip parsing')\n      next()\n      return\n    }\n\n    // read\n    read(req, res, next, parse, debug, {\n      encoding: null,\n      inflate: inflate,\n      limit: limit,\n      verify: verify\n    })\n  }\n}\n\n/**\n * Get the simple type checker.\n *\n * @param {string} type\n * @return {function}\n */\n\nfunction typeChecker (type) {\n  return function checkType (req) {\n    return Boolean(typeis(req, type))\n  }\n}\n","/*!\n * body-parser\n * Copyright(c) 2014-2015 Douglas Christopher Wilson\n * MIT Licensed\n */\n\n'use strict'\n\n/**\n * Module dependencies.\n */\n\nvar bytes = require('bytes')\nvar contentType = require('content-type')\nvar debug = require('debug')('body-parser:text')\nvar read = require('../read')\nvar typeis = require('type-is')\n\n/**\n * Module exports.\n */\n\nmodule.exports = text\n\n/**\n * Create a middleware to parse text bodies.\n *\n * @param {object} [options]\n * @return {function}\n * @api public\n */\n\nfunction text (options) {\n  var opts = options || {}\n\n  var defaultCharset = opts.defaultCharset || 'utf-8'\n  var inflate = opts.inflate !== false\n  var limit = typeof opts.limit !== 'number'\n    ? bytes.parse(opts.limit || '100kb')\n    : opts.limit\n  var type = opts.type || 'text/plain'\n  var verify = opts.verify || false\n\n  if (verify !== false && typeof verify !== 'function') {\n    throw new TypeError('option verify must be function')\n  }\n\n  // create the appropriate type checking function\n  var shouldParse = typeof type !== 'function'\n    ? typeChecker(type)\n    : type\n\n  function parse (buf) {\n    return buf\n  }\n\n  return function textParser (req, res, next) {\n    if (req._body) {\n      debug('body already parsed')\n      next()\n      return\n    }\n\n    req.body = req.body || {}\n\n    // skip requests without bodies\n    if (!typeis.hasBody(req)) {\n      debug('skip empty body')\n      next()\n      return\n    }\n\n    debug('content-type %j', req.headers['content-type'])\n\n    // determine if request should be parsed\n    if (!shouldParse(req)) {\n      debug('skip parsing')\n      next()\n      return\n    }\n\n    // get charset\n    var charset = getCharset(req) || defaultCharset\n\n    // read\n    read(req, res, next, parse, debug, {\n      encoding: charset,\n      inflate: inflate,\n      limit: limit,\n      verify: verify\n    })\n  }\n}\n\n/**\n * Get the charset of a request.\n *\n * @param {object} req\n * @api private\n */\n\nfunction getCharset (req) {\n  try {\n    return (contentType.parse(req).parameters.charset || '').toLowerCase()\n  } catch (e) {\n    return undefined\n  }\n}\n\n/**\n * Get the simple type checker.\n *\n * @param {string} type\n * @return {function}\n */\n\nfunction typeChecker (type) {\n  return function checkType (req) {\n    return Boolean(typeis(req, type))\n  }\n}\n","/*!\n * body-parser\n * Copyright(c) 2014 Jonathan Ong\n * Copyright(c) 2014-2015 Douglas Christopher Wilson\n * MIT Licensed\n */\n\n'use strict'\n\n/**\n * Module dependencies.\n * @private\n */\n\nvar bytes = require('bytes')\nvar contentType = require('content-type')\nvar createError = require('http-errors')\nvar debug = require('debug')('body-parser:urlencoded')\nvar deprecate = require('depd')('body-parser')\nvar read = require('../read')\nvar typeis = require('type-is')\n\n/**\n * Module exports.\n */\n\nmodule.exports = urlencoded\n\n/**\n * Cache of parser modules.\n */\n\nvar parsers = Object.create(null)\n\n/**\n * Create a middleware to parse urlencoded bodies.\n *\n * @param {object} [options]\n * @return {function}\n * @public\n */\n\nfunction urlencoded (options) {\n  var opts = options || {}\n\n  // notice because option default will flip in next major\n  if (opts.extended === undefined) {\n    deprecate('undefined extended: provide extended option')\n  }\n\n  var extended = opts.extended !== false\n  var inflate = opts.inflate !== false\n  var limit = typeof opts.limit !== 'number'\n    ? bytes.parse(opts.limit || '100kb')\n    : opts.limit\n  var type = opts.type || 'application/x-www-form-urlencoded'\n  var verify = opts.verify || false\n\n  if (verify !== false && typeof verify !== 'function') {\n    throw new TypeError('option verify must be function')\n  }\n\n  // create the appropriate query parser\n  var queryparse = extended\n    ? extendedparser(opts)\n    : simpleparser(opts)\n\n  // create the appropriate type checking function\n  var shouldParse = typeof type !== 'function'\n    ? typeChecker(type)\n    : type\n\n  function parse (body) {\n    return body.length\n      ? queryparse(body)\n      : {}\n  }\n\n  return function urlencodedParser (req, res, next) {\n    if (req._body) {\n      debug('body already parsed')\n      next()\n      return\n    }\n\n    req.body = req.body || {}\n\n    // skip requests without bodies\n    if (!typeis.hasBody(req)) {\n      debug('skip empty body')\n      next()\n      return\n    }\n\n    debug('content-type %j', req.headers['content-type'])\n\n    // determine if request should be parsed\n    if (!shouldParse(req)) {\n      debug('skip parsing')\n      next()\n      return\n    }\n\n    // assert charset\n    var charset = getCharset(req) || 'utf-8'\n    if (charset !== 'utf-8') {\n      debug('invalid charset')\n      next(createError(415, 'unsupported charset \"' + charset.toUpperCase() + '\"', {\n        charset: charset,\n        type: 'charset.unsupported'\n      }))\n      return\n    }\n\n    // read\n    read(req, res, next, parse, debug, {\n      debug: debug,\n      encoding: charset,\n      inflate: inflate,\n      limit: limit,\n      verify: verify\n    })\n  }\n}\n\n/**\n * Get the extended query parser.\n *\n * @param {object} options\n */\n\nfunction extendedparser (options) {\n  var parameterLimit = options.parameterLimit !== undefined\n    ? options.parameterLimit\n    : 1000\n  var parse = parser('qs')\n\n  if (isNaN(parameterLimit) || parameterLimit < 1) {\n    throw new TypeError('option parameterLimit must be a positive number')\n  }\n\n  if (isFinite(parameterLimit)) {\n    parameterLimit = parameterLimit | 0\n  }\n\n  return function queryparse (body) {\n    var paramCount = parameterCount(body, parameterLimit)\n\n    if (paramCount === undefined) {\n      debug('too many parameters')\n      throw createError(413, 'too many parameters', {\n        type: 'parameters.too.many'\n      })\n    }\n\n    var arrayLimit = Math.max(100, paramCount)\n\n    debug('parse extended urlencoding')\n    return parse(body, {\n      allowPrototypes: true,\n      arrayLimit: arrayLimit,\n      depth: Infinity,\n      parameterLimit: parameterLimit\n    })\n  }\n}\n\n/**\n * Get the charset of a request.\n *\n * @param {object} req\n * @api private\n */\n\nfunction getCharset (req) {\n  try {\n    return (contentType.parse(req).parameters.charset || '').toLowerCase()\n  } catch (e) {\n    return undefined\n  }\n}\n\n/**\n * Count the number of parameters, stopping once limit reached\n *\n * @param {string} body\n * @param {number} limit\n * @api private\n */\n\nfunction parameterCount (body, limit) {\n  var count = 0\n  var index = 0\n\n  while ((index = body.indexOf('&', index)) !== -1) {\n    count++\n    index++\n\n    if (count === limit) {\n      return undefined\n    }\n  }\n\n  return count\n}\n\n/**\n * Get parser for module name dynamically.\n *\n * @param {string} name\n * @return {function}\n * @api private\n */\n\nfunction parser (name) {\n  var mod = parsers[name]\n\n  if (mod !== undefined) {\n    return mod.parse\n  }\n\n  // this uses a switch for static require analysis\n  switch (name) {\n    case 'qs':\n      mod = require('qs')\n      break\n    case 'querystring':\n      mod = require('querystring')\n      break\n  }\n\n  // store to prevent invoking require()\n  parsers[name] = mod\n\n  return mod.parse\n}\n\n/**\n * Get the simple query parser.\n *\n * @param {object} options\n */\n\nfunction simpleparser (options) {\n  var parameterLimit = options.parameterLimit !== undefined\n    ? options.parameterLimit\n    : 1000\n  var parse = parser('querystring')\n\n  if (isNaN(parameterLimit) || parameterLimit < 1) {\n    throw new TypeError('option parameterLimit must be a positive number')\n  }\n\n  if (isFinite(parameterLimit)) {\n    parameterLimit = parameterLimit | 0\n  }\n\n  return function queryparse (body) {\n    var paramCount = parameterCount(body, parameterLimit)\n\n    if (paramCount === undefined) {\n      debug('too many parameters')\n      throw createError(413, 'too many parameters', {\n        type: 'parameters.too.many'\n      })\n    }\n\n    debug('parse urlencoding')\n    return parse(body, undefined, undefined, { maxKeys: parameterLimit })\n  }\n}\n\n/**\n * Get the simple type checker.\n *\n * @param {string} type\n * @return {function}\n */\n\nfunction typeChecker (type) {\n  return function checkType (req) {\n    return Boolean(typeis(req, type))\n  }\n}\n","/*!\n * bytes\n * Copyright(c) 2012-2014 TJ Holowaychuk\n * Copyright(c) 2015 Jed Watson\n * MIT Licensed\n */\n\n'use strict';\n\n/**\n * Module exports.\n * @public\n */\n\nmodule.exports = bytes;\nmodule.exports.format = format;\nmodule.exports.parse = parse;\n\n/**\n * Module variables.\n * @private\n */\n\nvar formatThousandsRegExp = /\\B(?=(\\d{3})+(?!\\d))/g;\n\nvar formatDecimalsRegExp = /(?:\\.0*|(\\.[^0]+)0+)$/;\n\nvar map = {\n  b:  1,\n  kb: 1 << 10,\n  mb: 1 << 20,\n  gb: 1 << 30,\n  tb: Math.pow(1024, 4),\n  pb: Math.pow(1024, 5),\n};\n\nvar parseRegExp = /^((-|\\+)?(\\d+(?:\\.\\d+)?)) *(kb|mb|gb|tb|pb)$/i;\n\n/**\n * Convert the given value in bytes into a string or parse to string to an integer in bytes.\n *\n * @param {string|number} value\n * @param {{\n *  case: [string],\n *  decimalPlaces: [number]\n *  fixedDecimals: [boolean]\n *  thousandsSeparator: [string]\n *  unitSeparator: [string]\n *  }} [options] bytes options.\n *\n * @returns {string|number|null}\n */\n\nfunction bytes(value, options) {\n  if (typeof value === 'string') {\n    return parse(value);\n  }\n\n  if (typeof value === 'number') {\n    return format(value, options);\n  }\n\n  return null;\n}\n\n/**\n * Format the given value in bytes into a string.\n *\n * If the value is negative, it is kept as such. If it is a float,\n * it is rounded.\n *\n * @param {number} value\n * @param {object} [options]\n * @param {number} [options.decimalPlaces=2]\n * @param {number} [options.fixedDecimals=false]\n * @param {string} [options.thousandsSeparator=]\n * @param {string} [options.unit=]\n * @param {string} [options.unitSeparator=]\n *\n * @returns {string|null}\n * @public\n */\n\nfunction format(value, options) {\n  if (!Number.isFinite(value)) {\n    return null;\n  }\n\n  var mag = Math.abs(value);\n  var thousandsSeparator = (options && options.thousandsSeparator) || '';\n  var unitSeparator = (options && options.unitSeparator) || '';\n  var decimalPlaces = (options && options.decimalPlaces !== undefined) ? options.decimalPlaces : 2;\n  var fixedDecimals = Boolean(options && options.fixedDecimals);\n  var unit = (options && options.unit) || '';\n\n  if (!unit || !map[unit.toLowerCase()]) {\n    if (mag >= map.pb) {\n      unit = 'PB';\n    } else if (mag >= map.tb) {\n      unit = 'TB';\n    } else if (mag >= map.gb) {\n      unit = 'GB';\n    } else if (mag >= map.mb) {\n      unit = 'MB';\n    } else if (mag >= map.kb) {\n      unit = 'KB';\n    } else {\n      unit = 'B';\n    }\n  }\n\n  var val = value / map[unit.toLowerCase()];\n  var str = val.toFixed(decimalPlaces);\n\n  if (!fixedDecimals) {\n    str = str.replace(formatDecimalsRegExp, '$1');\n  }\n\n  if (thousandsSeparator) {\n    str = str.replace(formatThousandsRegExp, thousandsSeparator);\n  }\n\n  return str + unitSeparator + unit;\n}\n\n/**\n * Parse the string value into an integer in bytes.\n *\n * If no unit is given, it is assumed the value is in bytes.\n *\n * @param {number|string} val\n *\n * @returns {number|null}\n * @public\n */\n\nfunction parse(val) {\n  if (typeof val === 'number' && !isNaN(val)) {\n    return val;\n  }\n\n  if (typeof val !== 'string') {\n    return null;\n  }\n\n  // Test if the string passed is valid\n  var results = parseRegExp.exec(val);\n  var floatValue;\n  var unit = 'b';\n\n  if (!results) {\n    // Nothing could be extracted from the given string\n    floatValue = parseInt(val, 10);\n    unit = 'b'\n  } else {\n    // Retrieve the value and the unit\n    floatValue = parseFloat(results[1]);\n    unit = results[4].toLowerCase();\n  }\n\n  return Math.floor(map[unit] * floatValue);\n}\n","function Caseless (dict) {\n  this.dict = dict || {}\n}\nCaseless.prototype.set = function (name, value, clobber) {\n  if (typeof name === 'object') {\n    for (var i in name) {\n      this.set(i, name[i], value)\n    }\n  } else {\n    if (typeof clobber === 'undefined') clobber = true\n    var has = this.has(name)\n\n    if (!clobber && has) this.dict[has] = this.dict[has] + ',' + value\n    else this.dict[has || name] = value\n    return has\n  }\n}\nCaseless.prototype.has = function (name) {\n  var keys = Object.keys(this.dict)\n    , name = name.toLowerCase()\n    ;\n  for (var i=0;i<keys.length;i++) {\n    if (keys[i].toLowerCase() === name) return keys[i]\n  }\n  return false\n}\nCaseless.prototype.get = function (name) {\n  name = name.toLowerCase()\n  var result, _key\n  var headers = this.dict\n  Object.keys(headers).forEach(function (key) {\n    _key = key.toLowerCase()\n    if (name === _key) result = headers[key]\n  })\n  return result\n}\nCaseless.prototype.swap = function (name) {\n  var has = this.has(name)\n  if (has === name) return\n  if (!has) throw new Error('There is no header than matches \"'+name+'\"')\n  this.dict[name] = this.dict[has]\n  delete this.dict[has]\n}\nCaseless.prototype.del = function (name) {\n  var has = this.has(name)\n  return delete this.dict[has || name]\n}\n\nmodule.exports = function (dict) {return new Caseless(dict)}\nmodule.exports.httpify = function (resp, headers) {\n  var c = new Caseless(headers)\n  resp.setHeader = function (key, value, clobber) {\n    if (typeof value === 'undefined') return\n    return c.set(key, value, clobber)\n  }\n  resp.hasHeader = function (key) {\n    return c.has(key)\n  }\n  resp.getHeader = function (key) {\n    return c.get(key)\n  }\n  resp.removeHeader = function (key) {\n    return c.del(key)\n  }\n  resp.headers = c.dict\n  return c\n}\n","var charenc = {\n  // UTF-8 encoding\n  utf8: {\n    // Convert a string to a byte array\n    stringToBytes: function(str) {\n      return charenc.bin.stringToBytes(unescape(encodeURIComponent(str)));\n    },\n\n    // Convert a byte array to a string\n    bytesToString: function(bytes) {\n      return decodeURIComponent(escape(charenc.bin.bytesToString(bytes)));\n    }\n  },\n\n  // Binary encoding\n  bin: {\n    // Convert a string to a byte array\n    stringToBytes: function(str) {\n      for (var bytes = [], i = 0; i < str.length; i++)\n        bytes.push(str.charCodeAt(i) & 0xFF);\n      return bytes;\n    },\n\n    // Convert a byte array to a string\n    bytesToString: function(bytes) {\n      for (var str = [], i = 0; i < bytes.length; i++)\n        str.push(String.fromCharCode(bytes[i]));\n      return str.join('');\n    }\n  }\n};\n\nmodule.exports = charenc;\n","var util = require('util');\nvar Stream = require('stream').Stream;\nvar DelayedStream = require('delayed-stream');\n\nmodule.exports = CombinedStream;\nfunction CombinedStream() {\n  this.writable = false;\n  this.readable = true;\n  this.dataSize = 0;\n  this.maxDataSize = 2 * 1024 * 1024;\n  this.pauseStreams = true;\n\n  this._released = false;\n  this._streams = [];\n  this._currentStream = null;\n  this._insideLoop = false;\n  this._pendingNext = false;\n}\nutil.inherits(CombinedStream, Stream);\n\nCombinedStream.create = function(options) {\n  var combinedStream = new this();\n\n  options = options || {};\n  for (var option in options) {\n    combinedStream[option] = options[option];\n  }\n\n  return combinedStream;\n};\n\nCombinedStream.isStreamLike = function(stream) {\n  return (typeof stream !== 'function')\n    && (typeof stream !== 'string')\n    && (typeof stream !== 'boolean')\n    && (typeof stream !== 'number')\n    && (!Buffer.isBuffer(stream));\n};\n\nCombinedStream.prototype.append = function(stream) {\n  var isStreamLike = CombinedStream.isStreamLike(stream);\n\n  if (isStreamLike) {\n    if (!(stream instanceof DelayedStream)) {\n      var newStream = DelayedStream.create(stream, {\n        maxDataSize: Infinity,\n        pauseStream: this.pauseStreams,\n      });\n      stream.on('data', this._checkDataSize.bind(this));\n      stream = newStream;\n    }\n\n    this._handleErrors(stream);\n\n    if (this.pauseStreams) {\n      stream.pause();\n    }\n  }\n\n  this._streams.push(stream);\n  return this;\n};\n\nCombinedStream.prototype.pipe = function(dest, options) {\n  Stream.prototype.pipe.call(this, dest, options);\n  this.resume();\n  return dest;\n};\n\nCombinedStream.prototype._getNext = function() {\n  this._currentStream = null;\n\n  if (this._insideLoop) {\n    this._pendingNext = true;\n    return; // defer call\n  }\n\n  this._insideLoop = true;\n  try {\n    do {\n      this._pendingNext = false;\n      this._realGetNext();\n    } while (this._pendingNext);\n  } finally {\n    this._insideLoop = false;\n  }\n};\n\nCombinedStream.prototype._realGetNext = function() {\n  var stream = this._streams.shift();\n\n\n  if (typeof stream == 'undefined') {\n    this.end();\n    return;\n  }\n\n  if (typeof stream !== 'function') {\n    this._pipeNext(stream);\n    return;\n  }\n\n  var getStream = stream;\n  getStream(function(stream) {\n    var isStreamLike = CombinedStream.isStreamLike(stream);\n    if (isStreamLike) {\n      stream.on('data', this._checkDataSize.bind(this));\n      this._handleErrors(stream);\n    }\n\n    this._pipeNext(stream);\n  }.bind(this));\n};\n\nCombinedStream.prototype._pipeNext = function(stream) {\n  this._currentStream = stream;\n\n  var isStreamLike = CombinedStream.isStreamLike(stream);\n  if (isStreamLike) {\n    stream.on('end', this._getNext.bind(this));\n    stream.pipe(this, {end: false});\n    return;\n  }\n\n  var value = stream;\n  this.write(value);\n  this._getNext();\n};\n\nCombinedStream.prototype._handleErrors = function(stream) {\n  var self = this;\n  stream.on('error', function(err) {\n    self._emitError(err);\n  });\n};\n\nCombinedStream.prototype.write = function(data) {\n  this.emit('data', data);\n};\n\nCombinedStream.prototype.pause = function() {\n  if (!this.pauseStreams) {\n    return;\n  }\n\n  if(this.pauseStreams && this._currentStream && typeof(this._currentStream.pause) == 'function') this._currentStream.pause();\n  this.emit('pause');\n};\n\nCombinedStream.prototype.resume = function() {\n  if (!this._released) {\n    this._released = true;\n    this.writable = true;\n    this._getNext();\n  }\n\n  if(this.pauseStreams && this._currentStream && typeof(this._currentStream.resume) == 'function') this._currentStream.resume();\n  this.emit('resume');\n};\n\nCombinedStream.prototype.end = function() {\n  this._reset();\n  this.emit('end');\n};\n\nCombinedStream.prototype.destroy = function() {\n  this._reset();\n  this.emit('close');\n};\n\nCombinedStream.prototype._reset = function() {\n  this.writable = false;\n  this._streams = [];\n  this._currentStream = null;\n};\n\nCombinedStream.prototype._checkDataSize = function() {\n  this._updateDataSize();\n  if (this.dataSize <= this.maxDataSize) {\n    return;\n  }\n\n  var message =\n    'DelayedStream#maxDataSize of ' + this.maxDataSize + ' bytes exceeded.';\n  this._emitError(new Error(message));\n};\n\nCombinedStream.prototype._updateDataSize = function() {\n  this.dataSize = 0;\n\n  var self = this;\n  this._streams.forEach(function(stream) {\n    if (!stream.dataSize) {\n      return;\n    }\n\n    self.dataSize += stream.dataSize;\n  });\n\n  if (this._currentStream && this._currentStream.dataSize) {\n    this.dataSize += this._currentStream.dataSize;\n  }\n};\n\nCombinedStream.prototype._emitError = function(err) {\n  this._reset();\n  this.emit('error', err);\n};\n","/*!\n * content-disposition\n * Copyright(c) 2014-2017 Douglas Christopher Wilson\n * MIT Licensed\n */\n\n'use strict'\n\n/**\n * Module exports.\n * @public\n */\n\nmodule.exports = contentDisposition\nmodule.exports.parse = parse\n\n/**\n * Module dependencies.\n * @private\n */\n\nvar basename = require('path').basename\nvar Buffer = require('safe-buffer').Buffer\n\n/**\n * RegExp to match non attr-char, *after* encodeURIComponent (i.e. not including \"%\")\n * @private\n */\n\nvar ENCODE_URL_ATTR_CHAR_REGEXP = /[\\x00-\\x20\"'()*,/:;<=>?@[\\\\\\]{}\\x7f]/g // eslint-disable-line no-control-regex\n\n/**\n * RegExp to match percent encoding escape.\n * @private\n */\n\nvar HEX_ESCAPE_REGEXP = /%[0-9A-Fa-f]{2}/\nvar HEX_ESCAPE_REPLACE_REGEXP = /%([0-9A-Fa-f]{2})/g\n\n/**\n * RegExp to match non-latin1 characters.\n * @private\n */\n\nvar NON_LATIN1_REGEXP = /[^\\x20-\\x7e\\xa0-\\xff]/g\n\n/**\n * RegExp to match quoted-pair in RFC 2616\n *\n * quoted-pair = \"\\\" CHAR\n * CHAR        = <any US-ASCII character (octets 0 - 127)>\n * @private\n */\n\nvar QESC_REGEXP = /\\\\([\\u0000-\\u007f])/g // eslint-disable-line no-control-regex\n\n/**\n * RegExp to match chars that must be quoted-pair in RFC 2616\n * @private\n */\n\nvar QUOTE_REGEXP = /([\\\\\"])/g\n\n/**\n * RegExp for various RFC 2616 grammar\n *\n * parameter     = token \"=\" ( token | quoted-string )\n * token         = 1*<any CHAR except CTLs or separators>\n * separators    = \"(\" | \")\" | \"<\" | \">\" | \"@\"\n *               | \",\" | \";\" | \":\" | \"\\\" | <\">\n *               | \"/\" | \"[\" | \"]\" | \"?\" | \"=\"\n *               | \"{\" | \"}\" | SP | HT\n * quoted-string = ( <\"> *(qdtext | quoted-pair ) <\"> )\n * qdtext        = <any TEXT except <\">>\n * quoted-pair   = \"\\\" CHAR\n * CHAR          = <any US-ASCII character (octets 0 - 127)>\n * TEXT          = <any OCTET except CTLs, but including LWS>\n * LWS           = [CRLF] 1*( SP | HT )\n * CRLF          = CR LF\n * CR            = <US-ASCII CR, carriage return (13)>\n * LF            = <US-ASCII LF, linefeed (10)>\n * SP            = <US-ASCII SP, space (32)>\n * HT            = <US-ASCII HT, horizontal-tab (9)>\n * CTL           = <any US-ASCII control character (octets 0 - 31) and DEL (127)>\n * OCTET         = <any 8-bit sequence of data>\n * @private\n */\n\nvar PARAM_REGEXP = /;[\\x09\\x20]*([!#$%&'*+.0-9A-Z^_`a-z|~-]+)[\\x09\\x20]*=[\\x09\\x20]*(\"(?:[\\x20!\\x23-\\x5b\\x5d-\\x7e\\x80-\\xff]|\\\\[\\x20-\\x7e])*\"|[!#$%&'*+.0-9A-Z^_`a-z|~-]+)[\\x09\\x20]*/g // eslint-disable-line no-control-regex\nvar TEXT_REGEXP = /^[\\x20-\\x7e\\x80-\\xff]+$/\nvar TOKEN_REGEXP = /^[!#$%&'*+.0-9A-Z^_`a-z|~-]+$/\n\n/**\n * RegExp for various RFC 5987 grammar\n *\n * ext-value     = charset  \"'\" [ language ] \"'\" value-chars\n * charset       = \"UTF-8\" / \"ISO-8859-1\" / mime-charset\n * mime-charset  = 1*mime-charsetc\n * mime-charsetc = ALPHA / DIGIT\n *               / \"!\" / \"#\" / \"$\" / \"%\" / \"&\"\n *               / \"+\" / \"-\" / \"^\" / \"_\" / \"`\"\n *               / \"{\" / \"}\" / \"~\"\n * language      = ( 2*3ALPHA [ extlang ] )\n *               / 4ALPHA\n *               / 5*8ALPHA\n * extlang       = *3( \"-\" 3ALPHA )\n * value-chars   = *( pct-encoded / attr-char )\n * pct-encoded   = \"%\" HEXDIG HEXDIG\n * attr-char     = ALPHA / DIGIT\n *               / \"!\" / \"#\" / \"$\" / \"&\" / \"+\" / \"-\" / \".\"\n *               / \"^\" / \"_\" / \"`\" / \"|\" / \"~\"\n * @private\n */\n\nvar EXT_VALUE_REGEXP = /^([A-Za-z0-9!#$%&+\\-^_`{}~]+)'(?:[A-Za-z]{2,3}(?:-[A-Za-z]{3}){0,3}|[A-Za-z]{4,8}|)'((?:%[0-9A-Fa-f]{2}|[A-Za-z0-9!#$&+.^_`|~-])+)$/\n\n/**\n * RegExp for various RFC 6266 grammar\n *\n * disposition-type = \"inline\" | \"attachment\" | disp-ext-type\n * disp-ext-type    = token\n * disposition-parm = filename-parm | disp-ext-parm\n * filename-parm    = \"filename\" \"=\" value\n *                  | \"filename*\" \"=\" ext-value\n * disp-ext-parm    = token \"=\" value\n *                  | ext-token \"=\" ext-value\n * ext-token        = <the characters in token, followed by \"*\">\n * @private\n */\n\nvar DISPOSITION_TYPE_REGEXP = /^([!#$%&'*+.0-9A-Z^_`a-z|~-]+)[\\x09\\x20]*(?:$|;)/ // eslint-disable-line no-control-regex\n\n/**\n * Create an attachment Content-Disposition header.\n *\n * @param {string} [filename]\n * @param {object} [options]\n * @param {string} [options.type=attachment]\n * @param {string|boolean} [options.fallback=true]\n * @return {string}\n * @public\n */\n\nfunction contentDisposition (filename, options) {\n  var opts = options || {}\n\n  // get type\n  var type = opts.type || 'attachment'\n\n  // get parameters\n  var params = createparams(filename, opts.fallback)\n\n  // format into string\n  return format(new ContentDisposition(type, params))\n}\n\n/**\n * Create parameters object from filename and fallback.\n *\n * @param {string} [filename]\n * @param {string|boolean} [fallback=true]\n * @return {object}\n * @private\n */\n\nfunction createparams (filename, fallback) {\n  if (filename === undefined) {\n    return\n  }\n\n  var params = {}\n\n  if (typeof filename !== 'string') {\n    throw new TypeError('filename must be a string')\n  }\n\n  // fallback defaults to true\n  if (fallback === undefined) {\n    fallback = true\n  }\n\n  if (typeof fallback !== 'string' && typeof fallback !== 'boolean') {\n    throw new TypeError('fallback must be a string or boolean')\n  }\n\n  if (typeof fallback === 'string' && NON_LATIN1_REGEXP.test(fallback)) {\n    throw new TypeError('fallback must be ISO-8859-1 string')\n  }\n\n  // restrict to file base name\n  var name = basename(filename)\n\n  // determine if name is suitable for quoted string\n  var isQuotedString = TEXT_REGEXP.test(name)\n\n  // generate fallback name\n  var fallbackName = typeof fallback !== 'string'\n    ? fallback && getlatin1(name)\n    : basename(fallback)\n  var hasFallback = typeof fallbackName === 'string' && fallbackName !== name\n\n  // set extended filename parameter\n  if (hasFallback || !isQuotedString || HEX_ESCAPE_REGEXP.test(name)) {\n    params['filename*'] = name\n  }\n\n  // set filename parameter\n  if (isQuotedString || hasFallback) {\n    params.filename = hasFallback\n      ? fallbackName\n      : name\n  }\n\n  return params\n}\n\n/**\n * Format object to Content-Disposition header.\n *\n * @param {object} obj\n * @param {string} obj.type\n * @param {object} [obj.parameters]\n * @return {string}\n * @private\n */\n\nfunction format (obj) {\n  var parameters = obj.parameters\n  var type = obj.type\n\n  if (!type || typeof type !== 'string' || !TOKEN_REGEXP.test(type)) {\n    throw new TypeError('invalid type')\n  }\n\n  // start with normalized type\n  var string = String(type).toLowerCase()\n\n  // append parameters\n  if (parameters && typeof parameters === 'object') {\n    var param\n    var params = Object.keys(parameters).sort()\n\n    for (var i = 0; i < params.length; i++) {\n      param = params[i]\n\n      var val = param.substr(-1) === '*'\n        ? ustring(parameters[param])\n        : qstring(parameters[param])\n\n      string += '; ' + param + '=' + val\n    }\n  }\n\n  return string\n}\n\n/**\n * Decode a RFC 6987 field value (gracefully).\n *\n * @param {string} str\n * @return {string}\n * @private\n */\n\nfunction decodefield (str) {\n  var match = EXT_VALUE_REGEXP.exec(str)\n\n  if (!match) {\n    throw new TypeError('invalid extended field value')\n  }\n\n  var charset = match[1].toLowerCase()\n  var encoded = match[2]\n  var value\n\n  // to binary string\n  var binary = encoded.replace(HEX_ESCAPE_REPLACE_REGEXP, pdecode)\n\n  switch (charset) {\n    case 'iso-8859-1':\n      value = getlatin1(binary)\n      break\n    case 'utf-8':\n      value = Buffer.from(binary, 'binary').toString('utf8')\n      break\n    default:\n      throw new TypeError('unsupported charset in extended field')\n  }\n\n  return value\n}\n\n/**\n * Get ISO-8859-1 version of string.\n *\n * @param {string} val\n * @return {string}\n * @private\n */\n\nfunction getlatin1 (val) {\n  // simple Unicode -> ISO-8859-1 transformation\n  return String(val).replace(NON_LATIN1_REGEXP, '?')\n}\n\n/**\n * Parse Content-Disposition header string.\n *\n * @param {string} string\n * @return {object}\n * @public\n */\n\nfunction parse (string) {\n  if (!string || typeof string !== 'string') {\n    throw new TypeError('argument string is required')\n  }\n\n  var match = DISPOSITION_TYPE_REGEXP.exec(string)\n\n  if (!match) {\n    throw new TypeError('invalid type format')\n  }\n\n  // normalize type\n  var index = match[0].length\n  var type = match[1].toLowerCase()\n\n  var key\n  var names = []\n  var params = {}\n  var value\n\n  // calculate index to start at\n  index = PARAM_REGEXP.lastIndex = match[0].substr(-1) === ';'\n    ? index - 1\n    : index\n\n  // match parameters\n  while ((match = PARAM_REGEXP.exec(string))) {\n    if (match.index !== index) {\n      throw new TypeError('invalid parameter format')\n    }\n\n    index += match[0].length\n    key = match[1].toLowerCase()\n    value = match[2]\n\n    if (names.indexOf(key) !== -1) {\n      throw new TypeError('invalid duplicate parameter')\n    }\n\n    names.push(key)\n\n    if (key.indexOf('*') + 1 === key.length) {\n      // decode extended value\n      key = key.slice(0, -1)\n      value = decodefield(value)\n\n      // overwrite existing value\n      params[key] = value\n      continue\n    }\n\n    if (typeof params[key] === 'string') {\n      continue\n    }\n\n    if (value[0] === '\"') {\n      // remove quotes and escapes\n      value = value\n        .substr(1, value.length - 2)\n        .replace(QESC_REGEXP, '$1')\n    }\n\n    params[key] = value\n  }\n\n  if (index !== -1 && index !== string.length) {\n    throw new TypeError('invalid parameter format')\n  }\n\n  return new ContentDisposition(type, params)\n}\n\n/**\n * Percent decode a single character.\n *\n * @param {string} str\n * @param {string} hex\n * @return {string}\n * @private\n */\n\nfunction pdecode (str, hex) {\n  return String.fromCharCode(parseInt(hex, 16))\n}\n\n/**\n * Percent encode a single character.\n *\n * @param {string} char\n * @return {string}\n * @private\n */\n\nfunction pencode (char) {\n  return '%' + String(char)\n    .charCodeAt(0)\n    .toString(16)\n    .toUpperCase()\n}\n\n/**\n * Quote a string for HTTP.\n *\n * @param {string} val\n * @return {string}\n * @private\n */\n\nfunction qstring (val) {\n  var str = String(val)\n\n  return '\"' + str.replace(QUOTE_REGEXP, '\\\\$1') + '\"'\n}\n\n/**\n * Encode a Unicode string for HTTP (RFC 5987).\n *\n * @param {string} val\n * @return {string}\n * @private\n */\n\nfunction ustring (val) {\n  var str = String(val)\n\n  // percent encode as UTF-8\n  var encoded = encodeURIComponent(str)\n    .replace(ENCODE_URL_ATTR_CHAR_REGEXP, pencode)\n\n  return 'UTF-8\\'\\'' + encoded\n}\n\n/**\n * Class for parsed Content-Disposition header for v8 optimization\n *\n * @public\n * @param {string} type\n * @param {object} parameters\n * @constructor\n */\n\nfunction ContentDisposition (type, parameters) {\n  this.type = type\n  this.parameters = parameters\n}\n","/*!\n * content-type\n * Copyright(c) 2015 Douglas Christopher Wilson\n * MIT Licensed\n */\n\n'use strict'\n\n/**\n * RegExp to match *( \";\" parameter ) in RFC 7231 sec 3.1.1.1\n *\n * parameter     = token \"=\" ( token / quoted-string )\n * token         = 1*tchar\n * tchar         = \"!\" / \"#\" / \"$\" / \"%\" / \"&\" / \"'\" / \"*\"\n *               / \"+\" / \"-\" / \".\" / \"^\" / \"_\" / \"`\" / \"|\" / \"~\"\n *               / DIGIT / ALPHA\n *               ; any VCHAR, except delimiters\n * quoted-string = DQUOTE *( qdtext / quoted-pair ) DQUOTE\n * qdtext        = HTAB / SP / %x21 / %x23-5B / %x5D-7E / obs-text\n * obs-text      = %x80-FF\n * quoted-pair   = \"\\\" ( HTAB / SP / VCHAR / obs-text )\n */\nvar PARAM_REGEXP = /; *([!#$%&'*+.^_`|~0-9A-Za-z-]+) *= *(\"(?:[\\u000b\\u0020\\u0021\\u0023-\\u005b\\u005d-\\u007e\\u0080-\\u00ff]|\\\\[\\u000b\\u0020-\\u00ff])*\"|[!#$%&'*+.^_`|~0-9A-Za-z-]+) */g\nvar TEXT_REGEXP = /^[\\u000b\\u0020-\\u007e\\u0080-\\u00ff]+$/\nvar TOKEN_REGEXP = /^[!#$%&'*+.^_`|~0-9A-Za-z-]+$/\n\n/**\n * RegExp to match quoted-pair in RFC 7230 sec 3.2.6\n *\n * quoted-pair = \"\\\" ( HTAB / SP / VCHAR / obs-text )\n * obs-text    = %x80-FF\n */\nvar QESC_REGEXP = /\\\\([\\u000b\\u0020-\\u00ff])/g\n\n/**\n * RegExp to match chars that must be quoted-pair in RFC 7230 sec 3.2.6\n */\nvar QUOTE_REGEXP = /([\\\\\"])/g\n\n/**\n * RegExp to match type in RFC 7231 sec 3.1.1.1\n *\n * media-type = type \"/\" subtype\n * type       = token\n * subtype    = token\n */\nvar TYPE_REGEXP = /^[!#$%&'*+.^_`|~0-9A-Za-z-]+\\/[!#$%&'*+.^_`|~0-9A-Za-z-]+$/\n\n/**\n * Module exports.\n * @public\n */\n\nexports.format = format\nexports.parse = parse\n\n/**\n * Format object to media type.\n *\n * @param {object} obj\n * @return {string}\n * @public\n */\n\nfunction format (obj) {\n  if (!obj || typeof obj !== 'object') {\n    throw new TypeError('argument obj is required')\n  }\n\n  var parameters = obj.parameters\n  var type = obj.type\n\n  if (!type || !TYPE_REGEXP.test(type)) {\n    throw new TypeError('invalid type')\n  }\n\n  var string = type\n\n  // append parameters\n  if (parameters && typeof parameters === 'object') {\n    var param\n    var params = Object.keys(parameters).sort()\n\n    for (var i = 0; i < params.length; i++) {\n      param = params[i]\n\n      if (!TOKEN_REGEXP.test(param)) {\n        throw new TypeError('invalid parameter name')\n      }\n\n      string += '; ' + param + '=' + qstring(parameters[param])\n    }\n  }\n\n  return string\n}\n\n/**\n * Parse media type to object.\n *\n * @param {string|object} string\n * @return {Object}\n * @public\n */\n\nfunction parse (string) {\n  if (!string) {\n    throw new TypeError('argument string is required')\n  }\n\n  // support req/res-like objects as argument\n  var header = typeof string === 'object'\n    ? getcontenttype(string)\n    : string\n\n  if (typeof header !== 'string') {\n    throw new TypeError('argument string is required to be a string')\n  }\n\n  var index = header.indexOf(';')\n  var type = index !== -1\n    ? header.substr(0, index).trim()\n    : header.trim()\n\n  if (!TYPE_REGEXP.test(type)) {\n    throw new TypeError('invalid media type')\n  }\n\n  var obj = new ContentType(type.toLowerCase())\n\n  // parse parameters\n  if (index !== -1) {\n    var key\n    var match\n    var value\n\n    PARAM_REGEXP.lastIndex = index\n\n    while ((match = PARAM_REGEXP.exec(header))) {\n      if (match.index !== index) {\n        throw new TypeError('invalid parameter format')\n      }\n\n      index += match[0].length\n      key = match[1].toLowerCase()\n      value = match[2]\n\n      if (value[0] === '\"') {\n        // remove quotes and escapes\n        value = value\n          .substr(1, value.length - 2)\n          .replace(QESC_REGEXP, '$1')\n      }\n\n      obj.parameters[key] = value\n    }\n\n    if (index !== header.length) {\n      throw new TypeError('invalid parameter format')\n    }\n  }\n\n  return obj\n}\n\n/**\n * Get content-type from req/res objects.\n *\n * @param {object}\n * @return {Object}\n * @private\n */\n\nfunction getcontenttype (obj) {\n  var header\n\n  if (typeof obj.getHeader === 'function') {\n    // res-like\n    header = obj.getHeader('content-type')\n  } else if (typeof obj.headers === 'object') {\n    // req-like\n    header = obj.headers && obj.headers['content-type']\n  }\n\n  if (typeof header !== 'string') {\n    throw new TypeError('content-type header is missing from object')\n  }\n\n  return header\n}\n\n/**\n * Quote a string if necessary.\n *\n * @param {string} val\n * @return {string}\n * @private\n */\n\nfunction qstring (val) {\n  var str = String(val)\n\n  // no need to quote tokens\n  if (TOKEN_REGEXP.test(str)) {\n    return str\n  }\n\n  if (str.length > 0 && !TEXT_REGEXP.test(str)) {\n    throw new TypeError('invalid parameter value')\n  }\n\n  return '\"' + str.replace(QUOTE_REGEXP, '\\\\$1') + '\"'\n}\n\n/**\n * Class to represent a content type.\n * @private\n */\nfunction ContentType (type) {\n  this.parameters = Object.create(null)\n  this.type = type\n}\n","/**\n * Module dependencies.\n */\n\nvar crypto = require('crypto');\n\n/**\n * Sign the given `val` with `secret`.\n *\n * @param {String} val\n * @param {String} secret\n * @return {String}\n * @api private\n */\n\nexports.sign = function(val, secret){\n  if ('string' != typeof val) throw new TypeError(\"Cookie value must be provided as a string.\");\n  if ('string' != typeof secret) throw new TypeError(\"Secret string must be provided.\");\n  return val + '.' + crypto\n    .createHmac('sha256', secret)\n    .update(val)\n    .digest('base64')\n    .replace(/\\=+$/, '');\n};\n\n/**\n * Unsign and decode the given `val` with `secret`,\n * returning `false` if the signature is invalid.\n *\n * @param {String} val\n * @param {String} secret\n * @return {String|Boolean}\n * @api private\n */\n\nexports.unsign = function(val, secret){\n  if ('string' != typeof val) throw new TypeError(\"Signed cookie string must be provided.\");\n  if ('string' != typeof secret) throw new TypeError(\"Secret string must be provided.\");\n  var str = val.slice(0, val.lastIndexOf('.'))\n    , mac = exports.sign(str, secret);\n  \n  return sha1(mac) == sha1(val) ? str : false;\n};\n\n/**\n * Private\n */\n\nfunction sha1(str){\n  return crypto.createHash('sha1').update(str).digest('hex');\n}\n","/*!\n * cookie\n * Copyright(c) 2012-2014 Roman Shtylman\n * Copyright(c) 2015 Douglas Christopher Wilson\n * MIT Licensed\n */\n\n'use strict';\n\n/**\n * Module exports.\n * @public\n */\n\nexports.parse = parse;\nexports.serialize = serialize;\n\n/**\n * Module variables.\n * @private\n */\n\nvar decode = decodeURIComponent;\nvar encode = encodeURIComponent;\nvar pairSplitRegExp = /; */;\n\n/**\n * RegExp to match field-content in RFC 7230 sec 3.2\n *\n * field-content = field-vchar [ 1*( SP / HTAB ) field-vchar ]\n * field-vchar   = VCHAR / obs-text\n * obs-text      = %x80-FF\n */\n\nvar fieldContentRegExp = /^[\\u0009\\u0020-\\u007e\\u0080-\\u00ff]+$/;\n\n/**\n * Parse a cookie header.\n *\n * Parse the given cookie header string into an object\n * The object has the various cookies as keys(names) => values\n *\n * @param {string} str\n * @param {object} [options]\n * @return {object}\n * @public\n */\n\nfunction parse(str, options) {\n  if (typeof str !== 'string') {\n    throw new TypeError('argument str must be a string');\n  }\n\n  var obj = {}\n  var opt = options || {};\n  var pairs = str.split(pairSplitRegExp);\n  var dec = opt.decode || decode;\n\n  for (var i = 0; i < pairs.length; i++) {\n    var pair = pairs[i];\n    var eq_idx = pair.indexOf('=');\n\n    // skip things that don't look like key=value\n    if (eq_idx < 0) {\n      continue;\n    }\n\n    var key = pair.substr(0, eq_idx).trim()\n    var val = pair.substr(++eq_idx, pair.length).trim();\n\n    // quoted values\n    if ('\"' == val[0]) {\n      val = val.slice(1, -1);\n    }\n\n    // only assign once\n    if (undefined == obj[key]) {\n      obj[key] = tryDecode(val, dec);\n    }\n  }\n\n  return obj;\n}\n\n/**\n * Serialize data into a cookie header.\n *\n * Serialize the a name value pair into a cookie string suitable for\n * http headers. An optional options object specified cookie parameters.\n *\n * serialize('foo', 'bar', { httpOnly: true })\n *   => \"foo=bar; httpOnly\"\n *\n * @param {string} name\n * @param {string} val\n * @param {object} [options]\n * @return {string}\n * @public\n */\n\nfunction serialize(name, val, options) {\n  var opt = options || {};\n  var enc = opt.encode || encode;\n\n  if (typeof enc !== 'function') {\n    throw new TypeError('option encode is invalid');\n  }\n\n  if (!fieldContentRegExp.test(name)) {\n    throw new TypeError('argument name is invalid');\n  }\n\n  var value = enc(val);\n\n  if (value && !fieldContentRegExp.test(value)) {\n    throw new TypeError('argument val is invalid');\n  }\n\n  var str = name + '=' + value;\n\n  if (null != opt.maxAge) {\n    var maxAge = opt.maxAge - 0;\n    if (isNaN(maxAge)) throw new Error('maxAge should be a Number');\n    str += '; Max-Age=' + Math.floor(maxAge);\n  }\n\n  if (opt.domain) {\n    if (!fieldContentRegExp.test(opt.domain)) {\n      throw new TypeError('option domain is invalid');\n    }\n\n    str += '; Domain=' + opt.domain;\n  }\n\n  if (opt.path) {\n    if (!fieldContentRegExp.test(opt.path)) {\n      throw new TypeError('option path is invalid');\n    }\n\n    str += '; Path=' + opt.path;\n  }\n\n  if (opt.expires) {\n    if (typeof opt.expires.toUTCString !== 'function') {\n      throw new TypeError('option expires is invalid');\n    }\n\n    str += '; Expires=' + opt.expires.toUTCString();\n  }\n\n  if (opt.httpOnly) {\n    str += '; HttpOnly';\n  }\n\n  if (opt.secure) {\n    str += '; Secure';\n  }\n\n  if (opt.sameSite) {\n    var sameSite = typeof opt.sameSite === 'string'\n      ? opt.sameSite.toLowerCase() : opt.sameSite;\n\n    switch (sameSite) {\n      case true:\n        str += '; SameSite=Strict';\n        break;\n      case 'lax':\n        str += '; SameSite=Lax';\n        break;\n      case 'strict':\n        str += '; SameSite=Strict';\n        break;\n      case 'none':\n        str += '; SameSite=None';\n        break;\n      default:\n        throw new TypeError('option sameSite is invalid');\n    }\n  }\n\n  return str;\n}\n\n/**\n * Try decoding a string using a decoding function.\n *\n * @param {string} str\n * @param {function} decode\n * @private\n */\n\nfunction tryDecode(str, decode) {\n  try {\n    return decode(str);\n  } catch (e) {\n    return str;\n  }\n}\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n// NOTE: These type checking functions intentionally don't use `instanceof`\n// because it is fragile and can be easily faked with `Object.create()`.\n\nfunction isArray(arg) {\n  if (Array.isArray) {\n    return Array.isArray(arg);\n  }\n  return objectToString(arg) === '[object Array]';\n}\nexports.isArray = isArray;\n\nfunction isBoolean(arg) {\n  return typeof arg === 'boolean';\n}\nexports.isBoolean = isBoolean;\n\nfunction isNull(arg) {\n  return arg === null;\n}\nexports.isNull = isNull;\n\nfunction isNullOrUndefined(arg) {\n  return arg == null;\n}\nexports.isNullOrUndefined = isNullOrUndefined;\n\nfunction isNumber(arg) {\n  return typeof arg === 'number';\n}\nexports.isNumber = isNumber;\n\nfunction isString(arg) {\n  return typeof arg === 'string';\n}\nexports.isString = isString;\n\nfunction isSymbol(arg) {\n  return typeof arg === 'symbol';\n}\nexports.isSymbol = isSymbol;\n\nfunction isUndefined(arg) {\n  return arg === void 0;\n}\nexports.isUndefined = isUndefined;\n\nfunction isRegExp(re) {\n  return objectToString(re) === '[object RegExp]';\n}\nexports.isRegExp = isRegExp;\n\nfunction isObject(arg) {\n  return typeof arg === 'object' && arg !== null;\n}\nexports.isObject = isObject;\n\nfunction isDate(d) {\n  return objectToString(d) === '[object Date]';\n}\nexports.isDate = isDate;\n\nfunction isError(e) {\n  return (objectToString(e) === '[object Error]' || e instanceof Error);\n}\nexports.isError = isError;\n\nfunction isFunction(arg) {\n  return typeof arg === 'function';\n}\nexports.isFunction = isFunction;\n\nfunction isPrimitive(arg) {\n  return arg === null ||\n         typeof arg === 'boolean' ||\n         typeof arg === 'number' ||\n         typeof arg === 'string' ||\n         typeof arg === 'symbol' ||  // ES6 symbol\n         typeof arg === 'undefined';\n}\nexports.isPrimitive = isPrimitive;\n\nexports.isBuffer = Buffer.isBuffer;\n\nfunction objectToString(o) {\n  return Object.prototype.toString.call(o);\n}\n","(function () {\n\n  'use strict';\n\n  var assign = require('object-assign');\n  var vary = require('vary');\n\n  var defaults = {\n    origin: '*',\n    methods: 'GET,HEAD,PUT,PATCH,POST,DELETE',\n    preflightContinue: false,\n    optionsSuccessStatus: 204\n  };\n\n  function isString(s) {\n    return typeof s === 'string' || s instanceof String;\n  }\n\n  function isOriginAllowed(origin, allowedOrigin) {\n    if (Array.isArray(allowedOrigin)) {\n      for (var i = 0; i < allowedOrigin.length; ++i) {\n        if (isOriginAllowed(origin, allowedOrigin[i])) {\n          return true;\n        }\n      }\n      return false;\n    } else if (isString(allowedOrigin)) {\n      return origin === allowedOrigin;\n    } else if (allowedOrigin instanceof RegExp) {\n      return allowedOrigin.test(origin);\n    } else {\n      return !!allowedOrigin;\n    }\n  }\n\n  function configureOrigin(options, req) {\n    var requestOrigin = req.headers.origin,\n      headers = [],\n      isAllowed;\n\n    if (!options.origin || options.origin === '*') {\n      // allow any origin\n      headers.push([{\n        key: 'Access-Control-Allow-Origin',\n        value: '*'\n      }]);\n    } else if (isString(options.origin)) {\n      // fixed origin\n      headers.push([{\n        key: 'Access-Control-Allow-Origin',\n        value: options.origin\n      }]);\n      headers.push([{\n        key: 'Vary',\n        value: 'Origin'\n      }]);\n    } else {\n      isAllowed = isOriginAllowed(requestOrigin, options.origin);\n      // reflect origin\n      headers.push([{\n        key: 'Access-Control-Allow-Origin',\n        value: isAllowed ? requestOrigin : false\n      }]);\n      headers.push([{\n        key: 'Vary',\n        value: 'Origin'\n      }]);\n    }\n\n    return headers;\n  }\n\n  function configureMethods(options) {\n    var methods = options.methods;\n    if (methods.join) {\n      methods = options.methods.join(','); // .methods is an array, so turn it into a string\n    }\n    return {\n      key: 'Access-Control-Allow-Methods',\n      value: methods\n    };\n  }\n\n  function configureCredentials(options) {\n    if (options.credentials === true) {\n      return {\n        key: 'Access-Control-Allow-Credentials',\n        value: 'true'\n      };\n    }\n    return null;\n  }\n\n  function configureAllowedHeaders(options, req) {\n    var allowedHeaders = options.allowedHeaders || options.headers;\n    var headers = [];\n\n    if (!allowedHeaders) {\n      allowedHeaders = req.headers['access-control-request-headers']; // .headers wasn't specified, so reflect the request headers\n      headers.push([{\n        key: 'Vary',\n        value: 'Access-Control-Request-Headers'\n      }]);\n    } else if (allowedHeaders.join) {\n      allowedHeaders = allowedHeaders.join(','); // .headers is an array, so turn it into a string\n    }\n    if (allowedHeaders && allowedHeaders.length) {\n      headers.push([{\n        key: 'Access-Control-Allow-Headers',\n        value: allowedHeaders\n      }]);\n    }\n\n    return headers;\n  }\n\n  function configureExposedHeaders(options) {\n    var headers = options.exposedHeaders;\n    if (!headers) {\n      return null;\n    } else if (headers.join) {\n      headers = headers.join(','); // .headers is an array, so turn it into a string\n    }\n    if (headers && headers.length) {\n      return {\n        key: 'Access-Control-Expose-Headers',\n        value: headers\n      };\n    }\n    return null;\n  }\n\n  function configureMaxAge(options) {\n    var maxAge = (typeof options.maxAge === 'number' || options.maxAge) && options.maxAge.toString()\n    if (maxAge && maxAge.length) {\n      return {\n        key: 'Access-Control-Max-Age',\n        value: maxAge\n      };\n    }\n    return null;\n  }\n\n  function applyHeaders(headers, res) {\n    for (var i = 0, n = headers.length; i < n; i++) {\n      var header = headers[i];\n      if (header) {\n        if (Array.isArray(header)) {\n          applyHeaders(header, res);\n        } else if (header.key === 'Vary' && header.value) {\n          vary(res, header.value);\n        } else if (header.value) {\n          res.setHeader(header.key, header.value);\n        }\n      }\n    }\n  }\n\n  function cors(options, req, res, next) {\n    var headers = [],\n      method = req.method && req.method.toUpperCase && req.method.toUpperCase();\n\n    if (method === 'OPTIONS') {\n      // preflight\n      headers.push(configureOrigin(options, req));\n      headers.push(configureCredentials(options, req));\n      headers.push(configureMethods(options, req));\n      headers.push(configureAllowedHeaders(options, req));\n      headers.push(configureMaxAge(options, req));\n      headers.push(configureExposedHeaders(options, req));\n      applyHeaders(headers, res);\n\n      if (options.preflightContinue) {\n        next();\n      } else {\n        // Safari (and potentially other browsers) need content-length 0,\n        //   for 204 or they just hang waiting for a body\n        res.statusCode = options.optionsSuccessStatus;\n        res.setHeader('Content-Length', '0');\n        res.end();\n      }\n    } else {\n      // actual response\n      headers.push(configureOrigin(options, req));\n      headers.push(configureCredentials(options, req));\n      headers.push(configureExposedHeaders(options, req));\n      applyHeaders(headers, res);\n      next();\n    }\n  }\n\n  function middlewareWrapper(o) {\n    // if options are static (either via defaults or custom options passed in), wrap in a function\n    var optionsCallback = null;\n    if (typeof o === 'function') {\n      optionsCallback = o;\n    } else {\n      optionsCallback = function (req, cb) {\n        cb(null, o);\n      };\n    }\n\n    return function corsMiddleware(req, res, next) {\n      optionsCallback(req, function (err, options) {\n        if (err) {\n          next(err);\n        } else {\n          var corsOptions = assign({}, defaults, options);\n          var originCallback = null;\n          if (corsOptions.origin && typeof corsOptions.origin === 'function') {\n            originCallback = corsOptions.origin;\n          } else if (corsOptions.origin) {\n            originCallback = function (origin, cb) {\n              cb(null, corsOptions.origin);\n            };\n          }\n\n          if (originCallback) {\n            originCallback(req.headers.origin, function (err2, origin) {\n              if (err2 || !origin) {\n                next(err2);\n              } else {\n                corsOptions.origin = origin;\n                cors(corsOptions, req, res, next);\n              }\n            });\n          } else {\n            next();\n          }\n        }\n      });\n    };\n  }\n\n  // can pass either an options hash, an options delegate, or nothing\n  module.exports = middlewareWrapper;\n\n}());\n","(function() {\n  var base64map\n      = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/',\n\n  crypt = {\n    // Bit-wise rotation left\n    rotl: function(n, b) {\n      return (n << b) | (n >>> (32 - b));\n    },\n\n    // Bit-wise rotation right\n    rotr: function(n, b) {\n      return (n << (32 - b)) | (n >>> b);\n    },\n\n    // Swap big-endian to little-endian and vice versa\n    endian: function(n) {\n      // If number given, swap endian\n      if (n.constructor == Number) {\n        return crypt.rotl(n, 8) & 0x00FF00FF | crypt.rotl(n, 24) & 0xFF00FF00;\n      }\n\n      // Else, assume array and swap all items\n      for (var i = 0; i < n.length; i++)\n        n[i] = crypt.endian(n[i]);\n      return n;\n    },\n\n    // Generate an array of any length of random bytes\n    randomBytes: function(n) {\n      for (var bytes = []; n > 0; n--)\n        bytes.push(Math.floor(Math.random() * 256));\n      return bytes;\n    },\n\n    // Convert a byte array to big-endian 32-bit words\n    bytesToWords: function(bytes) {\n      for (var words = [], i = 0, b = 0; i < bytes.length; i++, b += 8)\n        words[b >>> 5] |= bytes[i] << (24 - b % 32);\n      return words;\n    },\n\n    // Convert big-endian 32-bit words to a byte array\n    wordsToBytes: function(words) {\n      for (var bytes = [], b = 0; b < words.length * 32; b += 8)\n        bytes.push((words[b >>> 5] >>> (24 - b % 32)) & 0xFF);\n      return bytes;\n    },\n\n    // Convert a byte array to a hex string\n    bytesToHex: function(bytes) {\n      for (var hex = [], i = 0; i < bytes.length; i++) {\n        hex.push((bytes[i] >>> 4).toString(16));\n        hex.push((bytes[i] & 0xF).toString(16));\n      }\n      return hex.join('');\n    },\n\n    // Convert a hex string to a byte array\n    hexToBytes: function(hex) {\n      for (var bytes = [], c = 0; c < hex.length; c += 2)\n        bytes.push(parseInt(hex.substr(c, 2), 16));\n      return bytes;\n    },\n\n    // Convert a byte array to a base-64 string\n    bytesToBase64: function(bytes) {\n      for (var base64 = [], i = 0; i < bytes.length; i += 3) {\n        var triplet = (bytes[i] << 16) | (bytes[i + 1] << 8) | bytes[i + 2];\n        for (var j = 0; j < 4; j++)\n          if (i * 8 + j * 6 <= bytes.length * 8)\n            base64.push(base64map.charAt((triplet >>> 6 * (3 - j)) & 0x3F));\n          else\n            base64.push('=');\n      }\n      return base64.join('');\n    },\n\n    // Convert a base-64 string to a byte array\n    base64ToBytes: function(base64) {\n      // Remove non-base-64 characters\n      base64 = base64.replace(/[^A-Z0-9+\\/]/ig, '');\n\n      for (var bytes = [], i = 0, imod4 = 0; i < base64.length;\n          imod4 = ++i % 4) {\n        if (imod4 == 0) continue;\n        bytes.push(((base64map.indexOf(base64.charAt(i - 1))\n            & (Math.pow(2, -2 * imod4 + 8) - 1)) << (imod4 * 2))\n            | (base64map.indexOf(base64.charAt(i)) >>> (6 - imod4 * 2)));\n      }\n      return bytes;\n    }\n  };\n\n  module.exports = crypt;\n})();\n","/**\n * This is the web browser implementation of `debug()`.\n *\n * Expose `debug()` as the module.\n */\n\nexports = module.exports = require('./debug');\nexports.log = log;\nexports.formatArgs = formatArgs;\nexports.save = save;\nexports.load = load;\nexports.useColors = useColors;\nexports.storage = 'undefined' != typeof chrome\n               && 'undefined' != typeof chrome.storage\n                  ? chrome.storage.local\n                  : localstorage();\n\n/**\n * Colors.\n */\n\nexports.colors = [\n  'lightseagreen',\n  'forestgreen',\n  'goldenrod',\n  'dodgerblue',\n  'darkorchid',\n  'crimson'\n];\n\n/**\n * Currently only WebKit-based Web Inspectors, Firefox >= v31,\n * and the Firebug extension (any Firefox version) are known\n * to support \"%c\" CSS customizations.\n *\n * TODO: add a `localStorage` variable to explicitly enable/disable colors\n */\n\nfunction useColors() {\n  // NB: In an Electron preload script, document will be defined but not fully\n  // initialized. Since we know we're in Chrome, we'll just detect this case\n  // explicitly\n  if (typeof window !== 'undefined' && window.process && window.process.type === 'renderer') {\n    return true;\n  }\n\n  // is webkit? http://stackoverflow.com/a/16459606/376773\n  // document is undefined in react-native: https://github.com/facebook/react-native/pull/1632\n  return (typeof document !== 'undefined' && document.documentElement && document.documentElement.style && document.documentElement.style.WebkitAppearance) ||\n    // is firebug? http://stackoverflow.com/a/398120/376773\n    (typeof window !== 'undefined' && window.console && (window.console.firebug || (window.console.exception && window.console.table))) ||\n    // is firefox >= v31?\n    // https://developer.mozilla.org/en-US/docs/Tools/Web_Console#Styling_messages\n    (typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/firefox\\/(\\d+)/) && parseInt(RegExp.$1, 10) >= 31) ||\n    // double check webkit in userAgent just in case we are in a worker\n    (typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/applewebkit\\/(\\d+)/));\n}\n\n/**\n * Map %j to `JSON.stringify()`, since no Web Inspectors do that by default.\n */\n\nexports.formatters.j = function(v) {\n  try {\n    return JSON.stringify(v);\n  } catch (err) {\n    return '[UnexpectedJSONParseError]: ' + err.message;\n  }\n};\n\n\n/**\n * Colorize log arguments if enabled.\n *\n * @api public\n */\n\nfunction formatArgs(args) {\n  var useColors = this.useColors;\n\n  args[0] = (useColors ? '%c' : '')\n    + this.namespace\n    + (useColors ? ' %c' : ' ')\n    + args[0]\n    + (useColors ? '%c ' : ' ')\n    + '+' + exports.humanize(this.diff);\n\n  if (!useColors) return;\n\n  var c = 'color: ' + this.color;\n  args.splice(1, 0, c, 'color: inherit')\n\n  // the final \"%c\" is somewhat tricky, because there could be other\n  // arguments passed either before or after the %c, so we need to\n  // figure out the correct index to insert the CSS into\n  var index = 0;\n  var lastC = 0;\n  args[0].replace(/%[a-zA-Z%]/g, function(match) {\n    if ('%%' === match) return;\n    index++;\n    if ('%c' === match) {\n      // we only are interested in the *last* %c\n      // (the user may have provided their own)\n      lastC = index;\n    }\n  });\n\n  args.splice(lastC, 0, c);\n}\n\n/**\n * Invokes `console.log()` when available.\n * No-op when `console.log` is not a \"function\".\n *\n * @api public\n */\n\nfunction log() {\n  // this hackery is required for IE8/9, where\n  // the `console.log` function doesn't have 'apply'\n  return 'object' === typeof console\n    && console.log\n    && Function.prototype.apply.call(console.log, console, arguments);\n}\n\n/**\n * Save `namespaces`.\n *\n * @param {String} namespaces\n * @api private\n */\n\nfunction save(namespaces) {\n  try {\n    if (null == namespaces) {\n      exports.storage.removeItem('debug');\n    } else {\n      exports.storage.debug = namespaces;\n    }\n  } catch(e) {}\n}\n\n/**\n * Load `namespaces`.\n *\n * @return {String} returns the previously persisted debug modes\n * @api private\n */\n\nfunction load() {\n  var r;\n  try {\n    r = exports.storage.debug;\n  } catch(e) {}\n\n  // If debug isn't set in LS, and we're in Electron, try to load $DEBUG\n  if (!r && typeof process !== 'undefined' && 'env' in process) {\n    r = process.env.DEBUG;\n  }\n\n  return r;\n}\n\n/**\n * Enable namespaces listed in `localStorage.debug` initially.\n */\n\nexports.enable(load());\n\n/**\n * Localstorage attempts to return the localstorage.\n *\n * This is necessary because safari throws\n * when a user disables cookies/localstorage\n * and you attempt to access it.\n *\n * @return {LocalStorage}\n * @api private\n */\n\nfunction localstorage() {\n  try {\n    return window.localStorage;\n  } catch (e) {}\n}\n","\n/**\n * This is the common logic for both the Node.js and web browser\n * implementations of `debug()`.\n *\n * Expose `debug()` as the module.\n */\n\nexports = module.exports = createDebug.debug = createDebug['default'] = createDebug;\nexports.coerce = coerce;\nexports.disable = disable;\nexports.enable = enable;\nexports.enabled = enabled;\nexports.humanize = require('ms');\n\n/**\n * The currently active debug mode names, and names to skip.\n */\n\nexports.names = [];\nexports.skips = [];\n\n/**\n * Map of special \"%n\" handling functions, for the debug \"format\" argument.\n *\n * Valid key names are a single, lower or upper-case letter, i.e. \"n\" and \"N\".\n */\n\nexports.formatters = {};\n\n/**\n * Previous log timestamp.\n */\n\nvar prevTime;\n\n/**\n * Select a color.\n * @param {String} namespace\n * @return {Number}\n * @api private\n */\n\nfunction selectColor(namespace) {\n  var hash = 0, i;\n\n  for (i in namespace) {\n    hash  = ((hash << 5) - hash) + namespace.charCodeAt(i);\n    hash |= 0; // Convert to 32bit integer\n  }\n\n  return exports.colors[Math.abs(hash) % exports.colors.length];\n}\n\n/**\n * Create a debugger with the given `namespace`.\n *\n * @param {String} namespace\n * @return {Function}\n * @api public\n */\n\nfunction createDebug(namespace) {\n\n  function debug() {\n    // disabled?\n    if (!debug.enabled) return;\n\n    var self = debug;\n\n    // set `diff` timestamp\n    var curr = +new Date();\n    var ms = curr - (prevTime || curr);\n    self.diff = ms;\n    self.prev = prevTime;\n    self.curr = curr;\n    prevTime = curr;\n\n    // turn the `arguments` into a proper Array\n    var args = new Array(arguments.length);\n    for (var i = 0; i < args.length; i++) {\n      args[i] = arguments[i];\n    }\n\n    args[0] = exports.coerce(args[0]);\n\n    if ('string' !== typeof args[0]) {\n      // anything else let's inspect with %O\n      args.unshift('%O');\n    }\n\n    // apply any `formatters` transformations\n    var index = 0;\n    args[0] = args[0].replace(/%([a-zA-Z%])/g, function(match, format) {\n      // if we encounter an escaped % then don't increase the array index\n      if (match === '%%') return match;\n      index++;\n      var formatter = exports.formatters[format];\n      if ('function' === typeof formatter) {\n        var val = args[index];\n        match = formatter.call(self, val);\n\n        // now we need to remove `args[index]` since it's inlined in the `format`\n        args.splice(index, 1);\n        index--;\n      }\n      return match;\n    });\n\n    // apply env-specific formatting (colors, etc.)\n    exports.formatArgs.call(self, args);\n\n    var logFn = debug.log || exports.log || console.log.bind(console);\n    logFn.apply(self, args);\n  }\n\n  debug.namespace = namespace;\n  debug.enabled = exports.enabled(namespace);\n  debug.useColors = exports.useColors();\n  debug.color = selectColor(namespace);\n\n  // env-specific initialization logic for debug instances\n  if ('function' === typeof exports.init) {\n    exports.init(debug);\n  }\n\n  return debug;\n}\n\n/**\n * Enables a debug mode by namespaces. This can include modes\n * separated by a colon and wildcards.\n *\n * @param {String} namespaces\n * @api public\n */\n\nfunction enable(namespaces) {\n  exports.save(namespaces);\n\n  exports.names = [];\n  exports.skips = [];\n\n  var split = (typeof namespaces === 'string' ? namespaces : '').split(/[\\s,]+/);\n  var len = split.length;\n\n  for (var i = 0; i < len; i++) {\n    if (!split[i]) continue; // ignore empty strings\n    namespaces = split[i].replace(/\\*/g, '.*?');\n    if (namespaces[0] === '-') {\n      exports.skips.push(new RegExp('^' + namespaces.substr(1) + '$'));\n    } else {\n      exports.names.push(new RegExp('^' + namespaces + '$'));\n    }\n  }\n}\n\n/**\n * Disable debug output.\n *\n * @api public\n */\n\nfunction disable() {\n  exports.enable('');\n}\n\n/**\n * Returns true if the given mode name is enabled, false otherwise.\n *\n * @param {String} name\n * @return {Boolean}\n * @api public\n */\n\nfunction enabled(name) {\n  var i, len;\n  for (i = 0, len = exports.skips.length; i < len; i++) {\n    if (exports.skips[i].test(name)) {\n      return false;\n    }\n  }\n  for (i = 0, len = exports.names.length; i < len; i++) {\n    if (exports.names[i].test(name)) {\n      return true;\n    }\n  }\n  return false;\n}\n\n/**\n * Coerce `val`.\n *\n * @param {Mixed} val\n * @return {Mixed}\n * @api private\n */\n\nfunction coerce(val) {\n  if (val instanceof Error) return val.stack || val.message;\n  return val;\n}\n","/**\n * Detect Electron renderer process, which is node, but we should\n * treat as a browser.\n */\n\nif (typeof process !== 'undefined' && process.type === 'renderer') {\n  module.exports = require('./browser.js');\n} else {\n  module.exports = require('./node.js');\n}\n","/**\n * Module dependencies.\n */\n\nvar tty = require('tty');\nvar util = require('util');\n\n/**\n * This is the Node.js implementation of `debug()`.\n *\n * Expose `debug()` as the module.\n */\n\nexports = module.exports = require('./debug');\nexports.init = init;\nexports.log = log;\nexports.formatArgs = formatArgs;\nexports.save = save;\nexports.load = load;\nexports.useColors = useColors;\n\n/**\n * Colors.\n */\n\nexports.colors = [6, 2, 3, 4, 5, 1];\n\n/**\n * Build up the default `inspectOpts` object from the environment variables.\n *\n *   $ DEBUG_COLORS=no DEBUG_DEPTH=10 DEBUG_SHOW_HIDDEN=enabled node script.js\n */\n\nexports.inspectOpts = Object.keys(process.env).filter(function (key) {\n  return /^debug_/i.test(key);\n}).reduce(function (obj, key) {\n  // camel-case\n  var prop = key\n    .substring(6)\n    .toLowerCase()\n    .replace(/_([a-z])/g, function (_, k) { return k.toUpperCase() });\n\n  // coerce string value into JS value\n  var val = process.env[key];\n  if (/^(yes|on|true|enabled)$/i.test(val)) val = true;\n  else if (/^(no|off|false|disabled)$/i.test(val)) val = false;\n  else if (val === 'null') val = null;\n  else val = Number(val);\n\n  obj[prop] = val;\n  return obj;\n}, {});\n\n/**\n * The file descriptor to write the `debug()` calls to.\n * Set the `DEBUG_FD` env variable to override with another value. i.e.:\n *\n *   $ DEBUG_FD=3 node script.js 3>debug.log\n */\n\nvar fd = parseInt(process.env.DEBUG_FD, 10) || 2;\n\nif (1 !== fd && 2 !== fd) {\n  util.deprecate(function(){}, 'except for stderr(2) and stdout(1), any other usage of DEBUG_FD is deprecated. Override debug.log if you want to use a different log function (https://git.io/debug_fd)')()\n}\n\nvar stream = 1 === fd ? process.stdout :\n             2 === fd ? process.stderr :\n             createWritableStdioStream(fd);\n\n/**\n * Is stdout a TTY? Colored output is enabled when `true`.\n */\n\nfunction useColors() {\n  return 'colors' in exports.inspectOpts\n    ? Boolean(exports.inspectOpts.colors)\n    : tty.isatty(fd);\n}\n\n/**\n * Map %o to `util.inspect()`, all on a single line.\n */\n\nexports.formatters.o = function(v) {\n  this.inspectOpts.colors = this.useColors;\n  return util.inspect(v, this.inspectOpts)\n    .split('\\n').map(function(str) {\n      return str.trim()\n    }).join(' ');\n};\n\n/**\n * Map %o to `util.inspect()`, allowing multiple lines if needed.\n */\n\nexports.formatters.O = function(v) {\n  this.inspectOpts.colors = this.useColors;\n  return util.inspect(v, this.inspectOpts);\n};\n\n/**\n * Adds ANSI color escape codes if enabled.\n *\n * @api public\n */\n\nfunction formatArgs(args) {\n  var name = this.namespace;\n  var useColors = this.useColors;\n\n  if (useColors) {\n    var c = this.color;\n    var prefix = '  \\u001b[3' + c + ';1m' + name + ' ' + '\\u001b[0m';\n\n    args[0] = prefix + args[0].split('\\n').join('\\n' + prefix);\n    args.push('\\u001b[3' + c + 'm+' + exports.humanize(this.diff) + '\\u001b[0m');\n  } else {\n    args[0] = new Date().toUTCString()\n      + ' ' + name + ' ' + args[0];\n  }\n}\n\n/**\n * Invokes `util.format()` with the specified arguments and writes to `stream`.\n */\n\nfunction log() {\n  return stream.write(util.format.apply(util, arguments) + '\\n');\n}\n\n/**\n * Save `namespaces`.\n *\n * @param {String} namespaces\n * @api private\n */\n\nfunction save(namespaces) {\n  if (null == namespaces) {\n    // If you set a process.env field to null or undefined, it gets cast to the\n    // string 'null' or 'undefined'. Just delete instead.\n    delete process.env.DEBUG;\n  } else {\n    process.env.DEBUG = namespaces;\n  }\n}\n\n/**\n * Load `namespaces`.\n *\n * @return {String} returns the previously persisted debug modes\n * @api private\n */\n\nfunction load() {\n  return process.env.DEBUG;\n}\n\n/**\n * Copied from `node/src/node.js`.\n *\n * XXX: It's lame that node doesn't expose this API out-of-the-box. It also\n * relies on the undocumented `tty_wrap.guessHandleType()` which is also lame.\n */\n\nfunction createWritableStdioStream (fd) {\n  var stream;\n  var tty_wrap = process.binding('tty_wrap');\n\n  // Note stream._type is used for test-module-load-list.js\n\n  switch (tty_wrap.guessHandleType(fd)) {\n    case 'TTY':\n      stream = new tty.WriteStream(fd);\n      stream._type = 'tty';\n\n      // Hack to have stream not keep the event loop alive.\n      // See https://github.com/joyent/node/issues/1726\n      if (stream._handle && stream._handle.unref) {\n        stream._handle.unref();\n      }\n      break;\n\n    case 'FILE':\n      var fs = require('fs');\n      stream = new fs.SyncWriteStream(fd, { autoClose: false });\n      stream._type = 'fs';\n      break;\n\n    case 'PIPE':\n    case 'TCP':\n      var net = require('net');\n      stream = new net.Socket({\n        fd: fd,\n        readable: false,\n        writable: true\n      });\n\n      // FIXME Should probably have an option in net.Socket to create a\n      // stream from an existing fd which is writable only. But for now\n      // we'll just add this hack and set the `readable` member to false.\n      // Test: ./node test/fixtures/echo.js < /etc/passwd\n      stream.readable = false;\n      stream.read = null;\n      stream._type = 'pipe';\n\n      // FIXME Hack to have stream not keep the event loop alive.\n      // See https://github.com/joyent/node/issues/1726\n      if (stream._handle && stream._handle.unref) {\n        stream._handle.unref();\n      }\n      break;\n\n    default:\n      // Probably an error on in uv_guess_handle()\n      throw new Error('Implement me. Unknown stream file type!');\n  }\n\n  // For supporting legacy API we put the FD here.\n  stream.fd = fd;\n\n  stream._isStdio = true;\n\n  return stream;\n}\n\n/**\n * Init logic for `debug` instances.\n *\n * Create a new `inspectOpts` object in case `useColors` is set\n * differently for a particular `debug` instance.\n */\n\nfunction init (debug) {\n  debug.inspectOpts = {};\n\n  var keys = Object.keys(exports.inspectOpts);\n  for (var i = 0; i < keys.length; i++) {\n    debug.inspectOpts[keys[i]] = exports.inspectOpts[keys[i]];\n  }\n}\n\n/**\n * Enable namespaces listed in `process.env.DEBUG` initially.\n */\n\nexports.enable(load());\n","var Stream = require('stream').Stream;\nvar util = require('util');\n\nmodule.exports = DelayedStream;\nfunction DelayedStream() {\n  this.source = null;\n  this.dataSize = 0;\n  this.maxDataSize = 1024 * 1024;\n  this.pauseStream = true;\n\n  this._maxDataSizeExceeded = false;\n  this._released = false;\n  this._bufferedEvents = [];\n}\nutil.inherits(DelayedStream, Stream);\n\nDelayedStream.create = function(source, options) {\n  var delayedStream = new this();\n\n  options = options || {};\n  for (var option in options) {\n    delayedStream[option] = options[option];\n  }\n\n  delayedStream.source = source;\n\n  var realEmit = source.emit;\n  source.emit = function() {\n    delayedStream._handleEmit(arguments);\n    return realEmit.apply(source, arguments);\n  };\n\n  source.on('error', function() {});\n  if (delayedStream.pauseStream) {\n    source.pause();\n  }\n\n  return delayedStream;\n};\n\nObject.defineProperty(DelayedStream.prototype, 'readable', {\n  configurable: true,\n  enumerable: true,\n  get: function() {\n    return this.source.readable;\n  }\n});\n\nDelayedStream.prototype.setEncoding = function() {\n  return this.source.setEncoding.apply(this.source, arguments);\n};\n\nDelayedStream.prototype.resume = function() {\n  if (!this._released) {\n    this.release();\n  }\n\n  this.source.resume();\n};\n\nDelayedStream.prototype.pause = function() {\n  this.source.pause();\n};\n\nDelayedStream.prototype.release = function() {\n  this._released = true;\n\n  this._bufferedEvents.forEach(function(args) {\n    this.emit.apply(this, args);\n  }.bind(this));\n  this._bufferedEvents = [];\n};\n\nDelayedStream.prototype.pipe = function() {\n  var r = Stream.prototype.pipe.apply(this, arguments);\n  this.resume();\n  return r;\n};\n\nDelayedStream.prototype._handleEmit = function(args) {\n  if (this._released) {\n    this.emit.apply(this, args);\n    return;\n  }\n\n  if (args[0] === 'data') {\n    this.dataSize += args[1].length;\n    this._checkIfMaxDataSizeExceeded();\n  }\n\n  this._bufferedEvents.push(args);\n};\n\nDelayedStream.prototype._checkIfMaxDataSizeExceeded = function() {\n  if (this._maxDataSizeExceeded) {\n    return;\n  }\n\n  if (this.dataSize <= this.maxDataSize) {\n    return;\n  }\n\n  this._maxDataSizeExceeded = true;\n  var message =\n    'DelayedStream#maxDataSize of ' + this.maxDataSize + ' bytes exceeded.'\n  this.emit('error', new Error(message));\n};\n","/*!\n * depd\n * Copyright(c) 2014-2017 Douglas Christopher Wilson\n * MIT Licensed\n */\n\n/**\n * Module dependencies.\n */\n\nvar callSiteToString = require('./lib/compat').callSiteToString\nvar eventListenerCount = require('./lib/compat').eventListenerCount\nvar relative = require('path').relative\n\n/**\n * Module exports.\n */\n\nmodule.exports = depd\n\n/**\n * Get the path to base files on.\n */\n\nvar basePath = process.cwd()\n\n/**\n * Determine if namespace is contained in the string.\n */\n\nfunction containsNamespace (str, namespace) {\n  var vals = str.split(/[ ,]+/)\n  var ns = String(namespace).toLowerCase()\n\n  for (var i = 0; i < vals.length; i++) {\n    var val = vals[i]\n\n    // namespace contained\n    if (val && (val === '*' || val.toLowerCase() === ns)) {\n      return true\n    }\n  }\n\n  return false\n}\n\n/**\n * Convert a data descriptor to accessor descriptor.\n */\n\nfunction convertDataDescriptorToAccessor (obj, prop, message) {\n  var descriptor = Object.getOwnPropertyDescriptor(obj, prop)\n  var value = descriptor.value\n\n  descriptor.get = function getter () { return value }\n\n  if (descriptor.writable) {\n    descriptor.set = function setter (val) { return (value = val) }\n  }\n\n  delete descriptor.value\n  delete descriptor.writable\n\n  Object.defineProperty(obj, prop, descriptor)\n\n  return descriptor\n}\n\n/**\n * Create arguments string to keep arity.\n */\n\nfunction createArgumentsString (arity) {\n  var str = ''\n\n  for (var i = 0; i < arity; i++) {\n    str += ', arg' + i\n  }\n\n  return str.substr(2)\n}\n\n/**\n * Create stack string from stack.\n */\n\nfunction createStackString (stack) {\n  var str = this.name + ': ' + this.namespace\n\n  if (this.message) {\n    str += ' deprecated ' + this.message\n  }\n\n  for (var i = 0; i < stack.length; i++) {\n    str += '\\n    at ' + callSiteToString(stack[i])\n  }\n\n  return str\n}\n\n/**\n * Create deprecate for namespace in caller.\n */\n\nfunction depd (namespace) {\n  if (!namespace) {\n    throw new TypeError('argument namespace is required')\n  }\n\n  var stack = getStack()\n  var site = callSiteLocation(stack[1])\n  var file = site[0]\n\n  function deprecate (message) {\n    // call to self as log\n    log.call(deprecate, message)\n  }\n\n  deprecate._file = file\n  deprecate._ignored = isignored(namespace)\n  deprecate._namespace = namespace\n  deprecate._traced = istraced(namespace)\n  deprecate._warned = Object.create(null)\n\n  deprecate.function = wrapfunction\n  deprecate.property = wrapproperty\n\n  return deprecate\n}\n\n/**\n * Determine if namespace is ignored.\n */\n\nfunction isignored (namespace) {\n  /* istanbul ignore next: tested in a child processs */\n  if (process.noDeprecation) {\n    // --no-deprecation support\n    return true\n  }\n\n  var str = process.env.NO_DEPRECATION || ''\n\n  // namespace ignored\n  return containsNamespace(str, namespace)\n}\n\n/**\n * Determine if namespace is traced.\n */\n\nfunction istraced (namespace) {\n  /* istanbul ignore next: tested in a child processs */\n  if (process.traceDeprecation) {\n    // --trace-deprecation support\n    return true\n  }\n\n  var str = process.env.TRACE_DEPRECATION || ''\n\n  // namespace traced\n  return containsNamespace(str, namespace)\n}\n\n/**\n * Display deprecation message.\n */\n\nfunction log (message, site) {\n  var haslisteners = eventListenerCount(process, 'deprecation') !== 0\n\n  // abort early if no destination\n  if (!haslisteners && this._ignored) {\n    return\n  }\n\n  var caller\n  var callFile\n  var callSite\n  var depSite\n  var i = 0\n  var seen = false\n  var stack = getStack()\n  var file = this._file\n\n  if (site) {\n    // provided site\n    depSite = site\n    callSite = callSiteLocation(stack[1])\n    callSite.name = depSite.name\n    file = callSite[0]\n  } else {\n    // get call site\n    i = 2\n    depSite = callSiteLocation(stack[i])\n    callSite = depSite\n  }\n\n  // get caller of deprecated thing in relation to file\n  for (; i < stack.length; i++) {\n    caller = callSiteLocation(stack[i])\n    callFile = caller[0]\n\n    if (callFile === file) {\n      seen = true\n    } else if (callFile === this._file) {\n      file = this._file\n    } else if (seen) {\n      break\n    }\n  }\n\n  var key = caller\n    ? depSite.join(':') + '__' + caller.join(':')\n    : undefined\n\n  if (key !== undefined && key in this._warned) {\n    // already warned\n    return\n  }\n\n  this._warned[key] = true\n\n  // generate automatic message from call site\n  var msg = message\n  if (!msg) {\n    msg = callSite === depSite || !callSite.name\n      ? defaultMessage(depSite)\n      : defaultMessage(callSite)\n  }\n\n  // emit deprecation if listeners exist\n  if (haslisteners) {\n    var err = DeprecationError(this._namespace, msg, stack.slice(i))\n    process.emit('deprecation', err)\n    return\n  }\n\n  // format and write message\n  var format = process.stderr.isTTY\n    ? formatColor\n    : formatPlain\n  var output = format.call(this, msg, caller, stack.slice(i))\n  process.stderr.write(output + '\\n', 'utf8')\n}\n\n/**\n * Get call site location as array.\n */\n\nfunction callSiteLocation (callSite) {\n  var file = callSite.getFileName() || '<anonymous>'\n  var line = callSite.getLineNumber()\n  var colm = callSite.getColumnNumber()\n\n  if (callSite.isEval()) {\n    file = callSite.getEvalOrigin() + ', ' + file\n  }\n\n  var site = [file, line, colm]\n\n  site.callSite = callSite\n  site.name = callSite.getFunctionName()\n\n  return site\n}\n\n/**\n * Generate a default message from the site.\n */\n\nfunction defaultMessage (site) {\n  var callSite = site.callSite\n  var funcName = site.name\n\n  // make useful anonymous name\n  if (!funcName) {\n    funcName = '<anonymous@' + formatLocation(site) + '>'\n  }\n\n  var context = callSite.getThis()\n  var typeName = context && callSite.getTypeName()\n\n  // ignore useless type name\n  if (typeName === 'Object') {\n    typeName = undefined\n  }\n\n  // make useful type name\n  if (typeName === 'Function') {\n    typeName = context.name || typeName\n  }\n\n  return typeName && callSite.getMethodName()\n    ? typeName + '.' + funcName\n    : funcName\n}\n\n/**\n * Format deprecation message without color.\n */\n\nfunction formatPlain (msg, caller, stack) {\n  var timestamp = new Date().toUTCString()\n\n  var formatted = timestamp +\n    ' ' + this._namespace +\n    ' deprecated ' + msg\n\n  // add stack trace\n  if (this._traced) {\n    for (var i = 0; i < stack.length; i++) {\n      formatted += '\\n    at ' + callSiteToString(stack[i])\n    }\n\n    return formatted\n  }\n\n  if (caller) {\n    formatted += ' at ' + formatLocation(caller)\n  }\n\n  return formatted\n}\n\n/**\n * Format deprecation message with color.\n */\n\nfunction formatColor (msg, caller, stack) {\n  var formatted = '\\x1b[36;1m' + this._namespace + '\\x1b[22;39m' + // bold cyan\n    ' \\x1b[33;1mdeprecated\\x1b[22;39m' + // bold yellow\n    ' \\x1b[0m' + msg + '\\x1b[39m' // reset\n\n  // add stack trace\n  if (this._traced) {\n    for (var i = 0; i < stack.length; i++) {\n      formatted += '\\n    \\x1b[36mat ' + callSiteToString(stack[i]) + '\\x1b[39m' // cyan\n    }\n\n    return formatted\n  }\n\n  if (caller) {\n    formatted += ' \\x1b[36m' + formatLocation(caller) + '\\x1b[39m' // cyan\n  }\n\n  return formatted\n}\n\n/**\n * Format call site location.\n */\n\nfunction formatLocation (callSite) {\n  return relative(basePath, callSite[0]) +\n    ':' + callSite[1] +\n    ':' + callSite[2]\n}\n\n/**\n * Get the stack as array of call sites.\n */\n\nfunction getStack () {\n  var limit = Error.stackTraceLimit\n  var obj = {}\n  var prep = Error.prepareStackTrace\n\n  Error.prepareStackTrace = prepareObjectStackTrace\n  Error.stackTraceLimit = Math.max(10, limit)\n\n  // capture the stack\n  Error.captureStackTrace(obj)\n\n  // slice this function off the top\n  var stack = obj.stack.slice(1)\n\n  Error.prepareStackTrace = prep\n  Error.stackTraceLimit = limit\n\n  return stack\n}\n\n/**\n * Capture call site stack from v8.\n */\n\nfunction prepareObjectStackTrace (obj, stack) {\n  return stack\n}\n\n/**\n * Return a wrapped function in a deprecation message.\n */\n\nfunction wrapfunction (fn, message) {\n  if (typeof fn !== 'function') {\n    throw new TypeError('argument fn must be a function')\n  }\n\n  var args = createArgumentsString(fn.length)\n  var deprecate = this // eslint-disable-line no-unused-vars\n  var stack = getStack()\n  var site = callSiteLocation(stack[1])\n\n  site.name = fn.name\n\n   // eslint-disable-next-line no-eval\n  var deprecatedfn = eval('(function (' + args + ') {\\n' +\n    '\"use strict\"\\n' +\n    'log.call(deprecate, message, site)\\n' +\n    'return fn.apply(this, arguments)\\n' +\n    '})')\n\n  return deprecatedfn\n}\n\n/**\n * Wrap property in a deprecation message.\n */\n\nfunction wrapproperty (obj, prop, message) {\n  if (!obj || (typeof obj !== 'object' && typeof obj !== 'function')) {\n    throw new TypeError('argument obj must be object')\n  }\n\n  var descriptor = Object.getOwnPropertyDescriptor(obj, prop)\n\n  if (!descriptor) {\n    throw new TypeError('must call property on owner object')\n  }\n\n  if (!descriptor.configurable) {\n    throw new TypeError('property must be configurable')\n  }\n\n  var deprecate = this\n  var stack = getStack()\n  var site = callSiteLocation(stack[1])\n\n  // set site name\n  site.name = prop\n\n  // convert data descriptor\n  if ('value' in descriptor) {\n    descriptor = convertDataDescriptorToAccessor(obj, prop, message)\n  }\n\n  var get = descriptor.get\n  var set = descriptor.set\n\n  // wrap getter\n  if (typeof get === 'function') {\n    descriptor.get = function getter () {\n      log.call(deprecate, message, site)\n      return get.apply(this, arguments)\n    }\n  }\n\n  // wrap setter\n  if (typeof set === 'function') {\n    descriptor.set = function setter () {\n      log.call(deprecate, message, site)\n      return set.apply(this, arguments)\n    }\n  }\n\n  Object.defineProperty(obj, prop, descriptor)\n}\n\n/**\n * Create DeprecationError for deprecation\n */\n\nfunction DeprecationError (namespace, message, stack) {\n  var error = new Error()\n  var stackString\n\n  Object.defineProperty(error, 'constructor', {\n    value: DeprecationError\n  })\n\n  Object.defineProperty(error, 'message', {\n    configurable: true,\n    enumerable: false,\n    value: message,\n    writable: true\n  })\n\n  Object.defineProperty(error, 'name', {\n    enumerable: false,\n    configurable: true,\n    value: 'DeprecationError',\n    writable: true\n  })\n\n  Object.defineProperty(error, 'namespace', {\n    configurable: true,\n    enumerable: false,\n    value: namespace,\n    writable: true\n  })\n\n  Object.defineProperty(error, 'stack', {\n    configurable: true,\n    enumerable: false,\n    get: function () {\n      if (stackString !== undefined) {\n        return stackString\n      }\n\n      // prepare stack trace\n      return (stackString = createStackString.call(this, stack))\n    },\n    set: function setter (val) {\n      stackString = val\n    }\n  })\n\n  return error\n}\n","/*!\n * depd\n * Copyright(c) 2014 Douglas Christopher Wilson\n * MIT Licensed\n */\n\n'use strict'\n\n/**\n * Module exports.\n */\n\nmodule.exports = callSiteToString\n\n/**\n * Format a CallSite file location to a string.\n */\n\nfunction callSiteFileLocation (callSite) {\n  var fileName\n  var fileLocation = ''\n\n  if (callSite.isNative()) {\n    fileLocation = 'native'\n  } else if (callSite.isEval()) {\n    fileName = callSite.getScriptNameOrSourceURL()\n    if (!fileName) {\n      fileLocation = callSite.getEvalOrigin()\n    }\n  } else {\n    fileName = callSite.getFileName()\n  }\n\n  if (fileName) {\n    fileLocation += fileName\n\n    var lineNumber = callSite.getLineNumber()\n    if (lineNumber != null) {\n      fileLocation += ':' + lineNumber\n\n      var columnNumber = callSite.getColumnNumber()\n      if (columnNumber) {\n        fileLocation += ':' + columnNumber\n      }\n    }\n  }\n\n  return fileLocation || 'unknown source'\n}\n\n/**\n * Format a CallSite to a string.\n */\n\nfunction callSiteToString (callSite) {\n  var addSuffix = true\n  var fileLocation = callSiteFileLocation(callSite)\n  var functionName = callSite.getFunctionName()\n  var isConstructor = callSite.isConstructor()\n  var isMethodCall = !(callSite.isToplevel() || isConstructor)\n  var line = ''\n\n  if (isMethodCall) {\n    var methodName = callSite.getMethodName()\n    var typeName = getConstructorName(callSite)\n\n    if (functionName) {\n      if (typeName && functionName.indexOf(typeName) !== 0) {\n        line += typeName + '.'\n      }\n\n      line += functionName\n\n      if (methodName && functionName.lastIndexOf('.' + methodName) !== functionName.length - methodName.length - 1) {\n        line += ' [as ' + methodName + ']'\n      }\n    } else {\n      line += typeName + '.' + (methodName || '<anonymous>')\n    }\n  } else if (isConstructor) {\n    line += 'new ' + (functionName || '<anonymous>')\n  } else if (functionName) {\n    line += functionName\n  } else {\n    addSuffix = false\n    line += fileLocation\n  }\n\n  if (addSuffix) {\n    line += ' (' + fileLocation + ')'\n  }\n\n  return line\n}\n\n/**\n * Get constructor name of reviver.\n */\n\nfunction getConstructorName (obj) {\n  var receiver = obj.receiver\n  return (receiver.constructor && receiver.constructor.name) || null\n}\n","/*!\n * depd\n * Copyright(c) 2015 Douglas Christopher Wilson\n * MIT Licensed\n */\n\n'use strict'\n\n/**\n * Module exports.\n * @public\n */\n\nmodule.exports = eventListenerCount\n\n/**\n * Get the count of listeners on an event emitter of a specific type.\n */\n\nfunction eventListenerCount (emitter, type) {\n  return emitter.listeners(type).length\n}\n","/*!\n * depd\n * Copyright(c) 2014-2015 Douglas Christopher Wilson\n * MIT Licensed\n */\n\n'use strict'\n\n/**\n * Module dependencies.\n * @private\n */\n\nvar EventEmitter = require('events').EventEmitter\n\n/**\n * Module exports.\n * @public\n */\n\nlazyProperty(module.exports, 'callSiteToString', function callSiteToString () {\n  var limit = Error.stackTraceLimit\n  var obj = {}\n  var prep = Error.prepareStackTrace\n\n  function prepareObjectStackTrace (obj, stack) {\n    return stack\n  }\n\n  Error.prepareStackTrace = prepareObjectStackTrace\n  Error.stackTraceLimit = 2\n\n  // capture the stack\n  Error.captureStackTrace(obj)\n\n  // slice the stack\n  var stack = obj.stack.slice()\n\n  Error.prepareStackTrace = prep\n  Error.stackTraceLimit = limit\n\n  return stack[0].toString ? toString : require('./callsite-tostring')\n})\n\nlazyProperty(module.exports, 'eventListenerCount', function eventListenerCount () {\n  return EventEmitter.listenerCount || require('./event-listener-count')\n})\n\n/**\n * Define a lazy property.\n */\n\nfunction lazyProperty (obj, prop, getter) {\n  function get () {\n    var val = getter()\n\n    Object.defineProperty(obj, prop, {\n      configurable: true,\n      enumerable: true,\n      value: val\n    })\n\n    return val\n  }\n\n  Object.defineProperty(obj, prop, {\n    configurable: true,\n    enumerable: true,\n    get: get\n  })\n}\n\n/**\n * Call toString() on the obj\n */\n\nfunction toString (obj) {\n  return obj.toString()\n}\n","/*!\n * destroy\n * Copyright(c) 2014 Jonathan Ong\n * MIT Licensed\n */\n\n'use strict'\n\n/**\n * Module dependencies.\n * @private\n */\n\nvar ReadStream = require('fs').ReadStream\nvar Stream = require('stream')\n\n/**\n * Module exports.\n * @public\n */\n\nmodule.exports = destroy\n\n/**\n * Destroy a stream.\n *\n * @param {object} stream\n * @public\n */\n\nfunction destroy(stream) {\n  if (stream instanceof ReadStream) {\n    return destroyReadStream(stream)\n  }\n\n  if (!(stream instanceof Stream)) {\n    return stream\n  }\n\n  if (typeof stream.destroy === 'function') {\n    stream.destroy()\n  }\n\n  return stream\n}\n\n/**\n * Destroy a ReadStream.\n *\n * @param {object} stream\n * @private\n */\n\nfunction destroyReadStream(stream) {\n  stream.destroy()\n\n  if (typeof stream.close === 'function') {\n    // node.js core bug work-around\n    stream.on('open', onOpenClose)\n  }\n\n  return stream\n}\n\n/**\n * On open handler to close stream.\n * @private\n */\n\nfunction onOpenClose() {\n  if (typeof this.fd === 'number') {\n    // actually close down the fd\n    this.close()\n  }\n}\n","var crypto = require(\"crypto\");\nvar BigInteger = require(\"jsbn\").BigInteger;\nvar ECPointFp = require(\"./lib/ec.js\").ECPointFp;\nvar Buffer = require(\"safer-buffer\").Buffer;\nexports.ECCurves = require(\"./lib/sec.js\");\n\n// zero prepad\nfunction unstupid(hex,len)\n{\n\treturn (hex.length >= len) ? hex : unstupid(\"0\"+hex,len);\n}\n\nexports.ECKey = function(curve, key, isPublic)\n{\n  var priv;\n\tvar c = curve();\n\tvar n = c.getN();\n  var bytes = Math.floor(n.bitLength()/8);\n\n  if(key)\n  {\n    if(isPublic)\n    {\n      var curve = c.getCurve();\n//      var x = key.slice(1,bytes+1); // skip the 04 for uncompressed format\n//      var y = key.slice(bytes+1);\n//      this.P = new ECPointFp(curve,\n//        curve.fromBigInteger(new BigInteger(x.toString(\"hex\"), 16)),\n//        curve.fromBigInteger(new BigInteger(y.toString(\"hex\"), 16)));      \n      this.P = curve.decodePointHex(key.toString(\"hex\"));\n    }else{\n      if(key.length != bytes) return false;\n      priv = new BigInteger(key.toString(\"hex\"), 16);      \n    }\n  }else{\n    var n1 = n.subtract(BigInteger.ONE);\n    var r = new BigInteger(crypto.randomBytes(n.bitLength()));\n    priv = r.mod(n1).add(BigInteger.ONE);\n    this.P = c.getG().multiply(priv);\n  }\n  if(this.P)\n  {\n//  var pubhex = unstupid(this.P.getX().toBigInteger().toString(16),bytes*2)+unstupid(this.P.getY().toBigInteger().toString(16),bytes*2);\n//  this.PublicKey = Buffer.from(\"04\"+pubhex,\"hex\");\n    this.PublicKey = Buffer.from(c.getCurve().encodeCompressedPointHex(this.P),\"hex\");\n  }\n  if(priv)\n  {\n    this.PrivateKey = Buffer.from(unstupid(priv.toString(16),bytes*2),\"hex\");\n    this.deriveSharedSecret = function(key)\n    {\n      if(!key || !key.P) return false;\n      var S = key.P.multiply(priv);\n      return Buffer.from(unstupid(S.getX().toBigInteger().toString(16),bytes*2),\"hex\");\n   }     \n  }\n}\n\n","// Basic Javascript Elliptic Curve implementation\n// Ported loosely from BouncyCastle's Java EC code\n// Only Fp curves implemented for now\n\n// Requires jsbn.js and jsbn2.js\nvar BigInteger = require('jsbn').BigInteger\nvar Barrett = BigInteger.prototype.Barrett\n\n// ----------------\n// ECFieldElementFp\n\n// constructor\nfunction ECFieldElementFp(q,x) {\n    this.x = x;\n    // TODO if(x.compareTo(q) >= 0) error\n    this.q = q;\n}\n\nfunction feFpEquals(other) {\n    if(other == this) return true;\n    return (this.q.equals(other.q) && this.x.equals(other.x));\n}\n\nfunction feFpToBigInteger() {\n    return this.x;\n}\n\nfunction feFpNegate() {\n    return new ECFieldElementFp(this.q, this.x.negate().mod(this.q));\n}\n\nfunction feFpAdd(b) {\n    return new ECFieldElementFp(this.q, this.x.add(b.toBigInteger()).mod(this.q));\n}\n\nfunction feFpSubtract(b) {\n    return new ECFieldElementFp(this.q, this.x.subtract(b.toBigInteger()).mod(this.q));\n}\n\nfunction feFpMultiply(b) {\n    return new ECFieldElementFp(this.q, this.x.multiply(b.toBigInteger()).mod(this.q));\n}\n\nfunction feFpSquare() {\n    return new ECFieldElementFp(this.q, this.x.square().mod(this.q));\n}\n\nfunction feFpDivide(b) {\n    return new ECFieldElementFp(this.q, this.x.multiply(b.toBigInteger().modInverse(this.q)).mod(this.q));\n}\n\nECFieldElementFp.prototype.equals = feFpEquals;\nECFieldElementFp.prototype.toBigInteger = feFpToBigInteger;\nECFieldElementFp.prototype.negate = feFpNegate;\nECFieldElementFp.prototype.add = feFpAdd;\nECFieldElementFp.prototype.subtract = feFpSubtract;\nECFieldElementFp.prototype.multiply = feFpMultiply;\nECFieldElementFp.prototype.square = feFpSquare;\nECFieldElementFp.prototype.divide = feFpDivide;\n\n// ----------------\n// ECPointFp\n\n// constructor\nfunction ECPointFp(curve,x,y,z) {\n    this.curve = curve;\n    this.x = x;\n    this.y = y;\n    // Projective coordinates: either zinv == null or z * zinv == 1\n    // z and zinv are just BigIntegers, not fieldElements\n    if(z == null) {\n      this.z = BigInteger.ONE;\n    }\n    else {\n      this.z = z;\n    }\n    this.zinv = null;\n    //TODO: compression flag\n}\n\nfunction pointFpGetX() {\n    if(this.zinv == null) {\n      this.zinv = this.z.modInverse(this.curve.q);\n    }\n    var r = this.x.toBigInteger().multiply(this.zinv);\n    this.curve.reduce(r);\n    return this.curve.fromBigInteger(r);\n}\n\nfunction pointFpGetY() {\n    if(this.zinv == null) {\n      this.zinv = this.z.modInverse(this.curve.q);\n    }\n    var r = this.y.toBigInteger().multiply(this.zinv);\n    this.curve.reduce(r);\n    return this.curve.fromBigInteger(r);\n}\n\nfunction pointFpEquals(other) {\n    if(other == this) return true;\n    if(this.isInfinity()) return other.isInfinity();\n    if(other.isInfinity()) return this.isInfinity();\n    var u, v;\n    // u = Y2 * Z1 - Y1 * Z2\n    u = other.y.toBigInteger().multiply(this.z).subtract(this.y.toBigInteger().multiply(other.z)).mod(this.curve.q);\n    if(!u.equals(BigInteger.ZERO)) return false;\n    // v = X2 * Z1 - X1 * Z2\n    v = other.x.toBigInteger().multiply(this.z).subtract(this.x.toBigInteger().multiply(other.z)).mod(this.curve.q);\n    return v.equals(BigInteger.ZERO);\n}\n\nfunction pointFpIsInfinity() {\n    if((this.x == null) && (this.y == null)) return true;\n    return this.z.equals(BigInteger.ZERO) && !this.y.toBigInteger().equals(BigInteger.ZERO);\n}\n\nfunction pointFpNegate() {\n    return new ECPointFp(this.curve, this.x, this.y.negate(), this.z);\n}\n\nfunction pointFpAdd(b) {\n    if(this.isInfinity()) return b;\n    if(b.isInfinity()) return this;\n\n    // u = Y2 * Z1 - Y1 * Z2\n    var u = b.y.toBigInteger().multiply(this.z).subtract(this.y.toBigInteger().multiply(b.z)).mod(this.curve.q);\n    // v = X2 * Z1 - X1 * Z2\n    var v = b.x.toBigInteger().multiply(this.z).subtract(this.x.toBigInteger().multiply(b.z)).mod(this.curve.q);\n\n    if(BigInteger.ZERO.equals(v)) {\n        if(BigInteger.ZERO.equals(u)) {\n            return this.twice(); // this == b, so double\n        }\n\treturn this.curve.getInfinity(); // this = -b, so infinity\n    }\n\n    var THREE = new BigInteger(\"3\");\n    var x1 = this.x.toBigInteger();\n    var y1 = this.y.toBigInteger();\n    var x2 = b.x.toBigInteger();\n    var y2 = b.y.toBigInteger();\n\n    var v2 = v.square();\n    var v3 = v2.multiply(v);\n    var x1v2 = x1.multiply(v2);\n    var zu2 = u.square().multiply(this.z);\n\n    // x3 = v * (z2 * (z1 * u^2 - 2 * x1 * v^2) - v^3)\n    var x3 = zu2.subtract(x1v2.shiftLeft(1)).multiply(b.z).subtract(v3).multiply(v).mod(this.curve.q);\n    // y3 = z2 * (3 * x1 * u * v^2 - y1 * v^3 - z1 * u^3) + u * v^3\n    var y3 = x1v2.multiply(THREE).multiply(u).subtract(y1.multiply(v3)).subtract(zu2.multiply(u)).multiply(b.z).add(u.multiply(v3)).mod(this.curve.q);\n    // z3 = v^3 * z1 * z2\n    var z3 = v3.multiply(this.z).multiply(b.z).mod(this.curve.q);\n\n    return new ECPointFp(this.curve, this.curve.fromBigInteger(x3), this.curve.fromBigInteger(y3), z3);\n}\n\nfunction pointFpTwice() {\n    if(this.isInfinity()) return this;\n    if(this.y.toBigInteger().signum() == 0) return this.curve.getInfinity();\n\n    // TODO: optimized handling of constants\n    var THREE = new BigInteger(\"3\");\n    var x1 = this.x.toBigInteger();\n    var y1 = this.y.toBigInteger();\n\n    var y1z1 = y1.multiply(this.z);\n    var y1sqz1 = y1z1.multiply(y1).mod(this.curve.q);\n    var a = this.curve.a.toBigInteger();\n\n    // w = 3 * x1^2 + a * z1^2\n    var w = x1.square().multiply(THREE);\n    if(!BigInteger.ZERO.equals(a)) {\n      w = w.add(this.z.square().multiply(a));\n    }\n    w = w.mod(this.curve.q);\n    //this.curve.reduce(w);\n    // x3 = 2 * y1 * z1 * (w^2 - 8 * x1 * y1^2 * z1)\n    var x3 = w.square().subtract(x1.shiftLeft(3).multiply(y1sqz1)).shiftLeft(1).multiply(y1z1).mod(this.curve.q);\n    // y3 = 4 * y1^2 * z1 * (3 * w * x1 - 2 * y1^2 * z1) - w^3\n    var y3 = w.multiply(THREE).multiply(x1).subtract(y1sqz1.shiftLeft(1)).shiftLeft(2).multiply(y1sqz1).subtract(w.square().multiply(w)).mod(this.curve.q);\n    // z3 = 8 * (y1 * z1)^3\n    var z3 = y1z1.square().multiply(y1z1).shiftLeft(3).mod(this.curve.q);\n\n    return new ECPointFp(this.curve, this.curve.fromBigInteger(x3), this.curve.fromBigInteger(y3), z3);\n}\n\n// Simple NAF (Non-Adjacent Form) multiplication algorithm\n// TODO: modularize the multiplication algorithm\nfunction pointFpMultiply(k) {\n    if(this.isInfinity()) return this;\n    if(k.signum() == 0) return this.curve.getInfinity();\n\n    var e = k;\n    var h = e.multiply(new BigInteger(\"3\"));\n\n    var neg = this.negate();\n    var R = this;\n\n    var i;\n    for(i = h.bitLength() - 2; i > 0; --i) {\n\tR = R.twice();\n\n\tvar hBit = h.testBit(i);\n\tvar eBit = e.testBit(i);\n\n\tif (hBit != eBit) {\n\t    R = R.add(hBit ? this : neg);\n\t}\n    }\n\n    return R;\n}\n\n// Compute this*j + x*k (simultaneous multiplication)\nfunction pointFpMultiplyTwo(j,x,k) {\n  var i;\n  if(j.bitLength() > k.bitLength())\n    i = j.bitLength() - 1;\n  else\n    i = k.bitLength() - 1;\n\n  var R = this.curve.getInfinity();\n  var both = this.add(x);\n  while(i >= 0) {\n    R = R.twice();\n    if(j.testBit(i)) {\n      if(k.testBit(i)) {\n        R = R.add(both);\n      }\n      else {\n        R = R.add(this);\n      }\n    }\n    else {\n      if(k.testBit(i)) {\n        R = R.add(x);\n      }\n    }\n    --i;\n  }\n\n  return R;\n}\n\nECPointFp.prototype.getX = pointFpGetX;\nECPointFp.prototype.getY = pointFpGetY;\nECPointFp.prototype.equals = pointFpEquals;\nECPointFp.prototype.isInfinity = pointFpIsInfinity;\nECPointFp.prototype.negate = pointFpNegate;\nECPointFp.prototype.add = pointFpAdd;\nECPointFp.prototype.twice = pointFpTwice;\nECPointFp.prototype.multiply = pointFpMultiply;\nECPointFp.prototype.multiplyTwo = pointFpMultiplyTwo;\n\n// ----------------\n// ECCurveFp\n\n// constructor\nfunction ECCurveFp(q,a,b) {\n    this.q = q;\n    this.a = this.fromBigInteger(a);\n    this.b = this.fromBigInteger(b);\n    this.infinity = new ECPointFp(this, null, null);\n    this.reducer = new Barrett(this.q);\n}\n\nfunction curveFpGetQ() {\n    return this.q;\n}\n\nfunction curveFpGetA() {\n    return this.a;\n}\n\nfunction curveFpGetB() {\n    return this.b;\n}\n\nfunction curveFpEquals(other) {\n    if(other == this) return true;\n    return(this.q.equals(other.q) && this.a.equals(other.a) && this.b.equals(other.b));\n}\n\nfunction curveFpGetInfinity() {\n    return this.infinity;\n}\n\nfunction curveFpFromBigInteger(x) {\n    return new ECFieldElementFp(this.q, x);\n}\n\nfunction curveReduce(x) {\n    this.reducer.reduce(x);\n}\n\n// for now, work with hex strings because they're easier in JS\nfunction curveFpDecodePointHex(s) {\n    switch(parseInt(s.substr(0,2), 16)) { // first byte\n    case 0:\n\treturn this.infinity;\n    case 2:\n    case 3:\n\t// point compression not supported yet\n\treturn null;\n    case 4:\n    case 6:\n    case 7:\n\tvar len = (s.length - 2) / 2;\n\tvar xHex = s.substr(2, len);\n\tvar yHex = s.substr(len+2, len);\n\n\treturn new ECPointFp(this,\n\t\t\t     this.fromBigInteger(new BigInteger(xHex, 16)),\n\t\t\t     this.fromBigInteger(new BigInteger(yHex, 16)));\n\n    default: // unsupported\n\treturn null;\n    }\n}\n\nfunction curveFpEncodePointHex(p) {\n\tif (p.isInfinity()) return \"00\";\n\tvar xHex = p.getX().toBigInteger().toString(16);\n\tvar yHex = p.getY().toBigInteger().toString(16);\n\tvar oLen = this.getQ().toString(16).length;\n\tif ((oLen % 2) != 0) oLen++;\n\twhile (xHex.length < oLen) {\n\t\txHex = \"0\" + xHex;\n\t}\n\twhile (yHex.length < oLen) {\n\t\tyHex = \"0\" + yHex;\n\t}\n\treturn \"04\" + xHex + yHex;\n}\n\nECCurveFp.prototype.getQ = curveFpGetQ;\nECCurveFp.prototype.getA = curveFpGetA;\nECCurveFp.prototype.getB = curveFpGetB;\nECCurveFp.prototype.equals = curveFpEquals;\nECCurveFp.prototype.getInfinity = curveFpGetInfinity;\nECCurveFp.prototype.fromBigInteger = curveFpFromBigInteger;\nECCurveFp.prototype.reduce = curveReduce;\n//ECCurveFp.prototype.decodePointHex = curveFpDecodePointHex;\nECCurveFp.prototype.encodePointHex = curveFpEncodePointHex;\n\n// from: https://github.com/kaielvin/jsbn-ec-point-compression\nECCurveFp.prototype.decodePointHex = function(s)\n{\n\tvar yIsEven;\n    switch(parseInt(s.substr(0,2), 16)) { // first byte\n    case 0:\n\treturn this.infinity;\n    case 2:\n\tyIsEven = false;\n    case 3:\n\tif(yIsEven == undefined) yIsEven = true;\n\tvar len = s.length - 2;\n\tvar xHex = s.substr(2, len);\n\tvar x = this.fromBigInteger(new BigInteger(xHex,16));\n\tvar alpha = x.multiply(x.square().add(this.getA())).add(this.getB());\n\tvar beta = alpha.sqrt();\n\n    if (beta == null) throw \"Invalid point compression\";\n\n    var betaValue = beta.toBigInteger();\n    if (betaValue.testBit(0) != yIsEven)\n    {\n        // Use the other root\n        beta = this.fromBigInteger(this.getQ().subtract(betaValue));\n    }\n    return new ECPointFp(this,x,beta);\n    case 4:\n    case 6:\n    case 7:\n\tvar len = (s.length - 2) / 2;\n\tvar xHex = s.substr(2, len);\n\tvar yHex = s.substr(len+2, len);\n\n\treturn new ECPointFp(this,\n\t\t\t     this.fromBigInteger(new BigInteger(xHex, 16)),\n\t\t\t     this.fromBigInteger(new BigInteger(yHex, 16)));\n\n    default: // unsupported\n\treturn null;\n    }\n}\nECCurveFp.prototype.encodeCompressedPointHex = function(p)\n{\n\tif (p.isInfinity()) return \"00\";\n\tvar xHex = p.getX().toBigInteger().toString(16);\n\tvar oLen = this.getQ().toString(16).length;\n\tif ((oLen % 2) != 0) oLen++;\n\twhile (xHex.length < oLen)\n\t\txHex = \"0\" + xHex;\n\tvar yPrefix;\n\tif(p.getY().toBigInteger().isEven()) yPrefix = \"02\";\n\telse                                 yPrefix = \"03\";\n\n\treturn yPrefix + xHex;\n}\n\n\nECFieldElementFp.prototype.getR = function()\n{\n\tif(this.r != undefined) return this.r;\n\n    this.r = null;\n    var bitLength = this.q.bitLength();\n    if (bitLength > 128)\n    {\n        var firstWord = this.q.shiftRight(bitLength - 64);\n        if (firstWord.intValue() == -1)\n        {\n            this.r = BigInteger.ONE.shiftLeft(bitLength).subtract(this.q);\n        }\n    }\n    return this.r;\n}\nECFieldElementFp.prototype.modMult = function(x1,x2)\n{\n    return this.modReduce(x1.multiply(x2));\n}\nECFieldElementFp.prototype.modReduce = function(x)\n{\n    if (this.getR() != null)\n    {\n        var qLen = q.bitLength();\n        while (x.bitLength() > (qLen + 1))\n        {\n            var u = x.shiftRight(qLen);\n            var v = x.subtract(u.shiftLeft(qLen));\n            if (!this.getR().equals(BigInteger.ONE))\n            {\n                u = u.multiply(this.getR());\n            }\n            x = u.add(v); \n        }\n        while (x.compareTo(q) >= 0)\n        {\n            x = x.subtract(q);\n        }\n    }\n    else\n    {\n        x = x.mod(q);\n    }\n    return x;\n}\nECFieldElementFp.prototype.sqrt = function()\n{\n    if (!this.q.testBit(0)) throw \"unsupported\";\n\n    // p mod 4 == 3\n    if (this.q.testBit(1))\n    {\n    \tvar z = new ECFieldElementFp(this.q,this.x.modPow(this.q.shiftRight(2).add(BigInteger.ONE),this.q));\n    \treturn z.square().equals(this) ? z : null;\n    }\n\n    // p mod 4 == 1\n    var qMinusOne = this.q.subtract(BigInteger.ONE);\n\n    var legendreExponent = qMinusOne.shiftRight(1);\n    if (!(this.x.modPow(legendreExponent, this.q).equals(BigInteger.ONE)))\n    {\n        return null;\n    }\n\n    var u = qMinusOne.shiftRight(2);\n    var k = u.shiftLeft(1).add(BigInteger.ONE);\n\n    var Q = this.x;\n    var fourQ = modDouble(modDouble(Q));\n\n    var U, V;\n    do\n    {\n        var P;\n        do\n        {\n            P = new BigInteger(this.q.bitLength(), new SecureRandom());\n        }\n        while (P.compareTo(this.q) >= 0\n            || !(P.multiply(P).subtract(fourQ).modPow(legendreExponent, this.q).equals(qMinusOne)));\n\n        var result = this.lucasSequence(P, Q, k);\n        U = result[0];\n        V = result[1];\n\n        if (this.modMult(V, V).equals(fourQ))\n        {\n            // Integer division by 2, mod q\n            if (V.testBit(0))\n            {\n                V = V.add(q);\n            }\n\n            V = V.shiftRight(1);\n\n            return new ECFieldElementFp(q,V);\n        }\n    }\n    while (U.equals(BigInteger.ONE) || U.equals(qMinusOne));\n\n    return null;\n}\nECFieldElementFp.prototype.lucasSequence = function(P,Q,k)\n{\n    var n = k.bitLength();\n    var s = k.getLowestSetBit();\n\n    var Uh = BigInteger.ONE;\n    var Vl = BigInteger.TWO;\n    var Vh = P;\n    var Ql = BigInteger.ONE;\n    var Qh = BigInteger.ONE;\n\n    for (var j = n - 1; j >= s + 1; --j)\n    {\n        Ql = this.modMult(Ql, Qh);\n\n        if (k.testBit(j))\n        {\n            Qh = this.modMult(Ql, Q);\n            Uh = this.modMult(Uh, Vh);\n            Vl = this.modReduce(Vh.multiply(Vl).subtract(P.multiply(Ql)));\n            Vh = this.modReduce(Vh.multiply(Vh).subtract(Qh.shiftLeft(1)));\n        }\n        else\n        {\n            Qh = Ql;\n            Uh = this.modReduce(Uh.multiply(Vl).subtract(Ql));\n            Vh = this.modReduce(Vh.multiply(Vl).subtract(P.multiply(Ql)));\n            Vl = this.modReduce(Vl.multiply(Vl).subtract(Ql.shiftLeft(1)));\n        }\n    }\n\n    Ql = this.modMult(Ql, Qh);\n    Qh = this.modMult(Ql, Q);\n    Uh = this.modReduce(Uh.multiply(Vl).subtract(Ql));\n    Vl = this.modReduce(Vh.multiply(Vl).subtract(P.multiply(Ql)));\n    Ql = this.modMult(Ql, Qh);\n\n    for (var j = 1; j <= s; ++j)\n    {\n        Uh = this.modMult(Uh, Vl);\n        Vl = this.modReduce(Vl.multiply(Vl).subtract(Ql.shiftLeft(1)));\n        Ql = this.modMult(Ql, Ql);\n    }\n\n    return [ Uh, Vl ];\n}\n\nvar exports = {\n  ECCurveFp: ECCurveFp,\n  ECPointFp: ECPointFp,\n  ECFieldElementFp: ECFieldElementFp\n}\n\nmodule.exports = exports\n","// Named EC curves\n\n// Requires ec.js, jsbn.js, and jsbn2.js\nvar BigInteger = require('jsbn').BigInteger\nvar ECCurveFp = require('./ec.js').ECCurveFp\n\n\n// ----------------\n// X9ECParameters\n\n// constructor\nfunction X9ECParameters(curve,g,n,h) {\n    this.curve = curve;\n    this.g = g;\n    this.n = n;\n    this.h = h;\n}\n\nfunction x9getCurve() {\n    return this.curve;\n}\n\nfunction x9getG() {\n    return this.g;\n}\n\nfunction x9getN() {\n    return this.n;\n}\n\nfunction x9getH() {\n    return this.h;\n}\n\nX9ECParameters.prototype.getCurve = x9getCurve;\nX9ECParameters.prototype.getG = x9getG;\nX9ECParameters.prototype.getN = x9getN;\nX9ECParameters.prototype.getH = x9getH;\n\n// ----------------\n// SECNamedCurves\n\nfunction fromHex(s) { return new BigInteger(s, 16); }\n\nfunction secp128r1() {\n    // p = 2^128 - 2^97 - 1\n    var p = fromHex(\"FFFFFFFDFFFFFFFFFFFFFFFFFFFFFFFF\");\n    var a = fromHex(\"FFFFFFFDFFFFFFFFFFFFFFFFFFFFFFFC\");\n    var b = fromHex(\"E87579C11079F43DD824993C2CEE5ED3\");\n    //byte[] S = Hex.decode(\"000E0D4D696E6768756151750CC03A4473D03679\");\n    var n = fromHex(\"FFFFFFFE0000000075A30D1B9038A115\");\n    var h = BigInteger.ONE;\n    var curve = new ECCurveFp(p, a, b);\n    var G = curve.decodePointHex(\"04\"\n                + \"161FF7528B899B2D0C28607CA52C5B86\"\n\t\t+ \"CF5AC8395BAFEB13C02DA292DDED7A83\");\n    return new X9ECParameters(curve, G, n, h);\n}\n\nfunction secp160k1() {\n    // p = 2^160 - 2^32 - 2^14 - 2^12 - 2^9 - 2^8 - 2^7 - 2^3 - 2^2 - 1\n    var p = fromHex(\"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFAC73\");\n    var a = BigInteger.ZERO;\n    var b = fromHex(\"7\");\n    //byte[] S = null;\n    var n = fromHex(\"0100000000000000000001B8FA16DFAB9ACA16B6B3\");\n    var h = BigInteger.ONE;\n    var curve = new ECCurveFp(p, a, b);\n    var G = curve.decodePointHex(\"04\"\n                + \"3B4C382CE37AA192A4019E763036F4F5DD4D7EBB\"\n                + \"938CF935318FDCED6BC28286531733C3F03C4FEE\");\n    return new X9ECParameters(curve, G, n, h);\n}\n\nfunction secp160r1() {\n    // p = 2^160 - 2^31 - 1\n    var p = fromHex(\"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF7FFFFFFF\");\n    var a = fromHex(\"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF7FFFFFFC\");\n    var b = fromHex(\"1C97BEFC54BD7A8B65ACF89F81D4D4ADC565FA45\");\n    //byte[] S = Hex.decode(\"1053CDE42C14D696E67687561517533BF3F83345\");\n    var n = fromHex(\"0100000000000000000001F4C8F927AED3CA752257\");\n    var h = BigInteger.ONE;\n    var curve = new ECCurveFp(p, a, b);\n    var G = curve.decodePointHex(\"04\"\n\t\t+ \"4A96B5688EF573284664698968C38BB913CBFC82\"\n\t\t+ \"23A628553168947D59DCC912042351377AC5FB32\");\n    return new X9ECParameters(curve, G, n, h);\n}\n\nfunction secp192k1() {\n    // p = 2^192 - 2^32 - 2^12 - 2^8 - 2^7 - 2^6 - 2^3 - 1\n    var p = fromHex(\"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFEE37\");\n    var a = BigInteger.ZERO;\n    var b = fromHex(\"3\");\n    //byte[] S = null;\n    var n = fromHex(\"FFFFFFFFFFFFFFFFFFFFFFFE26F2FC170F69466A74DEFD8D\");\n    var h = BigInteger.ONE;\n    var curve = new ECCurveFp(p, a, b);\n    var G = curve.decodePointHex(\"04\"\n                + \"DB4FF10EC057E9AE26B07D0280B7F4341DA5D1B1EAE06C7D\"\n                + \"9B2F2F6D9C5628A7844163D015BE86344082AA88D95E2F9D\");\n    return new X9ECParameters(curve, G, n, h);\n}\n\nfunction secp192r1() {\n    // p = 2^192 - 2^64 - 1\n    var p = fromHex(\"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFFFFFFFFFF\");\n    var a = fromHex(\"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFFFFFFFFFC\");\n    var b = fromHex(\"64210519E59C80E70FA7E9AB72243049FEB8DEECC146B9B1\");\n    //byte[] S = Hex.decode(\"3045AE6FC8422F64ED579528D38120EAE12196D5\");\n    var n = fromHex(\"FFFFFFFFFFFFFFFFFFFFFFFF99DEF836146BC9B1B4D22831\");\n    var h = BigInteger.ONE;\n    var curve = new ECCurveFp(p, a, b);\n    var G = curve.decodePointHex(\"04\"\n                + \"188DA80EB03090F67CBF20EB43A18800F4FF0AFD82FF1012\"\n                + \"07192B95FFC8DA78631011ED6B24CDD573F977A11E794811\");\n    return new X9ECParameters(curve, G, n, h);\n}\n\nfunction secp224r1() {\n    // p = 2^224 - 2^96 + 1\n    var p = fromHex(\"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF000000000000000000000001\");\n    var a = fromHex(\"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFFFFFFFFFFFFFFFFFE\");\n    var b = fromHex(\"B4050A850C04B3ABF54132565044B0B7D7BFD8BA270B39432355FFB4\");\n    //byte[] S = Hex.decode(\"BD71344799D5C7FCDC45B59FA3B9AB8F6A948BC5\");\n    var n = fromHex(\"FFFFFFFFFFFFFFFFFFFFFFFFFFFF16A2E0B8F03E13DD29455C5C2A3D\");\n    var h = BigInteger.ONE;\n    var curve = new ECCurveFp(p, a, b);\n    var G = curve.decodePointHex(\"04\"\n                + \"B70E0CBD6BB4BF7F321390B94A03C1D356C21122343280D6115C1D21\"\n                + \"BD376388B5F723FB4C22DFE6CD4375A05A07476444D5819985007E34\");\n    return new X9ECParameters(curve, G, n, h);\n}\n\nfunction secp256r1() {\n    // p = 2^224 (2^32 - 1) + 2^192 + 2^96 - 1\n    var p = fromHex(\"FFFFFFFF00000001000000000000000000000000FFFFFFFFFFFFFFFFFFFFFFFF\");\n    var a = fromHex(\"FFFFFFFF00000001000000000000000000000000FFFFFFFFFFFFFFFFFFFFFFFC\");\n    var b = fromHex(\"5AC635D8AA3A93E7B3EBBD55769886BC651D06B0CC53B0F63BCE3C3E27D2604B\");\n    //byte[] S = Hex.decode(\"C49D360886E704936A6678E1139D26B7819F7E90\");\n    var n = fromHex(\"FFFFFFFF00000000FFFFFFFFFFFFFFFFBCE6FAADA7179E84F3B9CAC2FC632551\");\n    var h = BigInteger.ONE;\n    var curve = new ECCurveFp(p, a, b);\n    var G = curve.decodePointHex(\"04\"\n                + \"6B17D1F2E12C4247F8BCE6E563A440F277037D812DEB33A0F4A13945D898C296\"\n\t\t+ \"4FE342E2FE1A7F9B8EE7EB4A7C0F9E162BCE33576B315ECECBB6406837BF51F5\");\n    return new X9ECParameters(curve, G, n, h);\n}\n\n// TODO: make this into a proper hashtable\nfunction getSECCurveByName(name) {\n    if(name == \"secp128r1\") return secp128r1();\n    if(name == \"secp160k1\") return secp160k1();\n    if(name == \"secp160r1\") return secp160r1();\n    if(name == \"secp192k1\") return secp192k1();\n    if(name == \"secp192r1\") return secp192r1();\n    if(name == \"secp224r1\") return secp224r1();\n    if(name == \"secp256r1\") return secp256r1();\n    return null;\n}\n\nmodule.exports = {\n  \"secp128r1\":secp128r1,\n  \"secp160k1\":secp160k1,\n  \"secp160r1\":secp160r1,\n  \"secp192k1\":secp192k1,\n  \"secp192r1\":secp192r1,\n  \"secp224r1\":secp224r1,\n  \"secp256r1\":secp256r1\n}\n","/*!\n * ee-first\n * Copyright(c) 2014 Jonathan Ong\n * MIT Licensed\n */\n\n'use strict'\n\n/**\n * Module exports.\n * @public\n */\n\nmodule.exports = first\n\n/**\n * Get the first event in a set of event emitters and event pairs.\n *\n * @param {array} stuff\n * @param {function} done\n * @public\n */\n\nfunction first(stuff, done) {\n  if (!Array.isArray(stuff))\n    throw new TypeError('arg must be an array of [ee, events...] arrays')\n\n  var cleanups = []\n\n  for (var i = 0; i < stuff.length; i++) {\n    var arr = stuff[i]\n\n    if (!Array.isArray(arr) || arr.length < 2)\n      throw new TypeError('each array member must be [ee, events...]')\n\n    var ee = arr[0]\n\n    for (var j = 1; j < arr.length; j++) {\n      var event = arr[j]\n      var fn = listener(event, callback)\n\n      // listen to the event\n      ee.on(event, fn)\n      // push this listener to the list of cleanups\n      cleanups.push({\n        ee: ee,\n        event: event,\n        fn: fn,\n      })\n    }\n  }\n\n  function callback() {\n    cleanup()\n    done.apply(null, arguments)\n  }\n\n  function cleanup() {\n    var x\n    for (var i = 0; i < cleanups.length; i++) {\n      x = cleanups[i]\n      x.ee.removeListener(x.event, x.fn)\n    }\n  }\n\n  function thunk(fn) {\n    done = fn\n  }\n\n  thunk.cancel = cleanup\n\n  return thunk\n}\n\n/**\n * Create the event listener.\n * @private\n */\n\nfunction listener(event, done) {\n  return function onevent(arg1) {\n    var args = new Array(arguments.length)\n    var ee = this\n    var err = event === 'error'\n      ? arg1\n      : null\n\n    // copy args to prevent arguments escaping scope\n    for (var i = 0; i < args.length; i++) {\n      args[i] = arguments[i]\n    }\n\n    done(err, ee, event, args)\n  }\n}\n","/*!\n * encodeurl\n * Copyright(c) 2016 Douglas Christopher Wilson\n * MIT Licensed\n */\n\n'use strict'\n\n/**\n * Module exports.\n * @public\n */\n\nmodule.exports = encodeUrl\n\n/**\n * RegExp to match non-URL code points, *after* encoding (i.e. not including \"%\")\n * and including invalid escape sequences.\n * @private\n */\n\nvar ENCODE_CHARS_REGEXP = /(?:[^\\x21\\x25\\x26-\\x3B\\x3D\\x3F-\\x5B\\x5D\\x5F\\x61-\\x7A\\x7E]|%(?:[^0-9A-Fa-f]|[0-9A-Fa-f][^0-9A-Fa-f]|$))+/g\n\n/**\n * RegExp to match unmatched surrogate pair.\n * @private\n */\n\nvar UNMATCHED_SURROGATE_PAIR_REGEXP = /(^|[^\\uD800-\\uDBFF])[\\uDC00-\\uDFFF]|[\\uD800-\\uDBFF]([^\\uDC00-\\uDFFF]|$)/g\n\n/**\n * String to replace unmatched surrogate pair with.\n * @private\n */\n\nvar UNMATCHED_SURROGATE_PAIR_REPLACE = '$1\\uFFFD$2'\n\n/**\n * Encode a URL to a percent-encoded form, excluding already-encoded sequences.\n *\n * This function will take an already-encoded URL and encode all the non-URL\n * code points. This function will not encode the \"%\" character unless it is\n * not part of a valid sequence (`%20` will be left as-is, but `%foo` will\n * be encoded as `%25foo`).\n *\n * This encode is meant to be \"safe\" and does not throw errors. It will try as\n * hard as it can to properly encode the given URL, including replacing any raw,\n * unpaired surrogate pairs with the Unicode replacement character prior to\n * encoding.\n *\n * @param {string} url\n * @return {string}\n * @public\n */\n\nfunction encodeUrl (url) {\n  return String(url)\n    .replace(UNMATCHED_SURROGATE_PAIR_REGEXP, UNMATCHED_SURROGATE_PAIR_REPLACE)\n    .replace(ENCODE_CHARS_REGEXP, encodeURI)\n}\n","/*!\n * escape-html\n * Copyright(c) 2012-2013 TJ Holowaychuk\n * Copyright(c) 2015 Andreas Lubbe\n * Copyright(c) 2015 Tiancheng \"Timothy\" Gu\n * MIT Licensed\n */\n\n'use strict';\n\n/**\n * Module variables.\n * @private\n */\n\nvar matchHtmlRegExp = /[\"'&<>]/;\n\n/**\n * Module exports.\n * @public\n */\n\nmodule.exports = escapeHtml;\n\n/**\n * Escape special characters in the given string of html.\n *\n * @param  {string} string The string to escape for inserting into HTML\n * @return {string}\n * @public\n */\n\nfunction escapeHtml(string) {\n  var str = '' + string;\n  var match = matchHtmlRegExp.exec(str);\n\n  if (!match) {\n    return str;\n  }\n\n  var escape;\n  var html = '';\n  var index = 0;\n  var lastIndex = 0;\n\n  for (index = match.index; index < str.length; index++) {\n    switch (str.charCodeAt(index)) {\n      case 34: // \"\n        escape = '&quot;';\n        break;\n      case 38: // &\n        escape = '&amp;';\n        break;\n      case 39: // '\n        escape = '&#39;';\n        break;\n      case 60: // <\n        escape = '&lt;';\n        break;\n      case 62: // >\n        escape = '&gt;';\n        break;\n      default:\n        continue;\n    }\n\n    if (lastIndex !== index) {\n      html += str.substring(lastIndex, index);\n    }\n\n    lastIndex = index + 1;\n    html += escape;\n  }\n\n  return lastIndex !== index\n    ? html + str.substring(lastIndex, index)\n    : html;\n}\n","/*!\n * etag\n * Copyright(c) 2014-2016 Douglas Christopher Wilson\n * MIT Licensed\n */\n\n'use strict'\n\n/**\n * Module exports.\n * @public\n */\n\nmodule.exports = etag\n\n/**\n * Module dependencies.\n * @private\n */\n\nvar crypto = require('crypto')\nvar Stats = require('fs').Stats\n\n/**\n * Module variables.\n * @private\n */\n\nvar toString = Object.prototype.toString\n\n/**\n * Generate an entity tag.\n *\n * @param {Buffer|string} entity\n * @return {string}\n * @private\n */\n\nfunction entitytag (entity) {\n  if (entity.length === 0) {\n    // fast-path empty\n    return '\"0-2jmj7l5rSw0yVb/vlWAYkK/YBwk\"'\n  }\n\n  // compute hash of entity\n  var hash = crypto\n    .createHash('sha1')\n    .update(entity, 'utf8')\n    .digest('base64')\n    .substring(0, 27)\n\n  // compute length of entity\n  var len = typeof entity === 'string'\n    ? Buffer.byteLength(entity, 'utf8')\n    : entity.length\n\n  return '\"' + len.toString(16) + '-' + hash + '\"'\n}\n\n/**\n * Create a simple ETag.\n *\n * @param {string|Buffer|Stats} entity\n * @param {object} [options]\n * @param {boolean} [options.weak]\n * @return {String}\n * @public\n */\n\nfunction etag (entity, options) {\n  if (entity == null) {\n    throw new TypeError('argument entity is required')\n  }\n\n  // support fs.Stats object\n  var isStats = isstats(entity)\n  var weak = options && typeof options.weak === 'boolean'\n    ? options.weak\n    : isStats\n\n  // validate argument\n  if (!isStats && typeof entity !== 'string' && !Buffer.isBuffer(entity)) {\n    throw new TypeError('argument entity must be string, Buffer, or fs.Stats')\n  }\n\n  // generate entity tag\n  var tag = isStats\n    ? stattag(entity)\n    : entitytag(entity)\n\n  return weak\n    ? 'W/' + tag\n    : tag\n}\n\n/**\n * Determine if object is a Stats object.\n *\n * @param {object} obj\n * @return {boolean}\n * @api private\n */\n\nfunction isstats (obj) {\n  // genuine fs.Stats\n  if (typeof Stats === 'function' && obj instanceof Stats) {\n    return true\n  }\n\n  // quack quack\n  return obj && typeof obj === 'object' &&\n    'ctime' in obj && toString.call(obj.ctime) === '[object Date]' &&\n    'mtime' in obj && toString.call(obj.mtime) === '[object Date]' &&\n    'ino' in obj && typeof obj.ino === 'number' &&\n    'size' in obj && typeof obj.size === 'number'\n}\n\n/**\n * Generate a tag for a stat.\n *\n * @param {object} stat\n * @return {string}\n * @private\n */\n\nfunction stattag (stat) {\n  var mtime = stat.mtime.getTime().toString(16)\n  var size = stat.size.toString(16)\n\n  return '\"' + size + '-' + mtime + '\"'\n}\n","/*!\n * express\n * Copyright(c) 2009-2013 TJ Holowaychuk\n * Copyright(c) 2013 Roman Shtylman\n * Copyright(c) 2014-2015 Douglas Christopher Wilson\n * MIT Licensed\n */\n\n'use strict';\n\nmodule.exports = require('./lib/express');\n","function webpackEmptyContext(req) {\n\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\te.code = 'MODULE_NOT_FOUND';\n\tthrow e;\n}\nwebpackEmptyContext.keys = function() { return []; };\nwebpackEmptyContext.resolve = webpackEmptyContext;\nmodule.exports = webpackEmptyContext;\nwebpackEmptyContext.id = \"./node_modules/express/lib sync recursive\";","/*!\n * express\n * Copyright(c) 2009-2013 TJ Holowaychuk\n * Copyright(c) 2013 Roman Shtylman\n * Copyright(c) 2014-2015 Douglas Christopher Wilson\n * MIT Licensed\n */\n\n'use strict';\n\n/**\n * Module dependencies.\n * @private\n */\n\nvar finalhandler = require('finalhandler');\nvar Router = require('./router');\nvar methods = require('methods');\nvar middleware = require('./middleware/init');\nvar query = require('./middleware/query');\nvar debug = require('debug')('express:application');\nvar View = require('./view');\nvar http = require('http');\nvar compileETag = require('./utils').compileETag;\nvar compileQueryParser = require('./utils').compileQueryParser;\nvar compileTrust = require('./utils').compileTrust;\nvar deprecate = require('depd')('express');\nvar flatten = require('array-flatten');\nvar merge = require('utils-merge');\nvar resolve = require('path').resolve;\nvar setPrototypeOf = require('setprototypeof')\nvar slice = Array.prototype.slice;\n\n/**\n * Application prototype.\n */\n\nvar app = exports = module.exports = {};\n\n/**\n * Variable for trust proxy inheritance back-compat\n * @private\n */\n\nvar trustProxyDefaultSymbol = '@@symbol:trust_proxy_default';\n\n/**\n * Initialize the server.\n *\n *   - setup default configuration\n *   - setup default middleware\n *   - setup route reflection methods\n *\n * @private\n */\n\napp.init = function init() {\n  this.cache = {};\n  this.engines = {};\n  this.settings = {};\n\n  this.defaultConfiguration();\n};\n\n/**\n * Initialize application configuration.\n * @private\n */\n\napp.defaultConfiguration = function defaultConfiguration() {\n  var env = process.env.NODE_ENV || 'development';\n\n  // default settings\n  this.enable('x-powered-by');\n  this.set('etag', 'weak');\n  this.set('env', env);\n  this.set('query parser', 'extended');\n  this.set('subdomain offset', 2);\n  this.set('trust proxy', false);\n\n  // trust proxy inherit back-compat\n  Object.defineProperty(this.settings, trustProxyDefaultSymbol, {\n    configurable: true,\n    value: true\n  });\n\n  debug('booting in %s mode', env);\n\n  this.on('mount', function onmount(parent) {\n    // inherit trust proxy\n    if (this.settings[trustProxyDefaultSymbol] === true\n      && typeof parent.settings['trust proxy fn'] === 'function') {\n      delete this.settings['trust proxy'];\n      delete this.settings['trust proxy fn'];\n    }\n\n    // inherit protos\n    setPrototypeOf(this.request, parent.request)\n    setPrototypeOf(this.response, parent.response)\n    setPrototypeOf(this.engines, parent.engines)\n    setPrototypeOf(this.settings, parent.settings)\n  });\n\n  // setup locals\n  this.locals = Object.create(null);\n\n  // top-most app is mounted at /\n  this.mountpath = '/';\n\n  // default locals\n  this.locals.settings = this.settings;\n\n  // default configuration\n  this.set('view', View);\n  this.set('views', resolve('views'));\n  this.set('jsonp callback name', 'callback');\n\n  if (env === 'production') {\n    this.enable('view cache');\n  }\n\n  Object.defineProperty(this, 'router', {\n    get: function() {\n      throw new Error('\\'app.router\\' is deprecated!\\nPlease see the 3.x to 4.x migration guide for details on how to update your app.');\n    }\n  });\n};\n\n/**\n * lazily adds the base router if it has not yet been added.\n *\n * We cannot add the base router in the defaultConfiguration because\n * it reads app settings which might be set after that has run.\n *\n * @private\n */\napp.lazyrouter = function lazyrouter() {\n  if (!this._router) {\n    this._router = new Router({\n      caseSensitive: this.enabled('case sensitive routing'),\n      strict: this.enabled('strict routing')\n    });\n\n    this._router.use(query(this.get('query parser fn')));\n    this._router.use(middleware.init(this));\n  }\n};\n\n/**\n * Dispatch a req, res pair into the application. Starts pipeline processing.\n *\n * If no callback is provided, then default error handlers will respond\n * in the event of an error bubbling through the stack.\n *\n * @private\n */\n\napp.handle = function handle(req, res, callback) {\n  var router = this._router;\n\n  // final handler\n  var done = callback || finalhandler(req, res, {\n    env: this.get('env'),\n    onerror: logerror.bind(this)\n  });\n\n  // no routes\n  if (!router) {\n    debug('no routes defined on app');\n    done();\n    return;\n  }\n\n  router.handle(req, res, done);\n};\n\n/**\n * Proxy `Router#use()` to add middleware to the app router.\n * See Router#use() documentation for details.\n *\n * If the _fn_ parameter is an express app, then it will be\n * mounted at the _route_ specified.\n *\n * @public\n */\n\napp.use = function use(fn) {\n  var offset = 0;\n  var path = '/';\n\n  // default path to '/'\n  // disambiguate app.use([fn])\n  if (typeof fn !== 'function') {\n    var arg = fn;\n\n    while (Array.isArray(arg) && arg.length !== 0) {\n      arg = arg[0];\n    }\n\n    // first arg is the path\n    if (typeof arg !== 'function') {\n      offset = 1;\n      path = fn;\n    }\n  }\n\n  var fns = flatten(slice.call(arguments, offset));\n\n  if (fns.length === 0) {\n    throw new TypeError('app.use() requires a middleware function')\n  }\n\n  // setup router\n  this.lazyrouter();\n  var router = this._router;\n\n  fns.forEach(function (fn) {\n    // non-express app\n    if (!fn || !fn.handle || !fn.set) {\n      return router.use(path, fn);\n    }\n\n    debug('.use app under %s', path);\n    fn.mountpath = path;\n    fn.parent = this;\n\n    // restore .app property on req and res\n    router.use(path, function mounted_app(req, res, next) {\n      var orig = req.app;\n      fn.handle(req, res, function (err) {\n        setPrototypeOf(req, orig.request)\n        setPrototypeOf(res, orig.response)\n        next(err);\n      });\n    });\n\n    // mounted an app\n    fn.emit('mount', this);\n  }, this);\n\n  return this;\n};\n\n/**\n * Proxy to the app `Router#route()`\n * Returns a new `Route` instance for the _path_.\n *\n * Routes are isolated middleware stacks for specific paths.\n * See the Route api docs for details.\n *\n * @public\n */\n\napp.route = function route(path) {\n  this.lazyrouter();\n  return this._router.route(path);\n};\n\n/**\n * Register the given template engine callback `fn`\n * as `ext`.\n *\n * By default will `require()` the engine based on the\n * file extension. For example if you try to render\n * a \"foo.ejs\" file Express will invoke the following internally:\n *\n *     app.engine('ejs', require('ejs').__express);\n *\n * For engines that do not provide `.__express` out of the box,\n * or if you wish to \"map\" a different extension to the template engine\n * you may use this method. For example mapping the EJS template engine to\n * \".html\" files:\n *\n *     app.engine('html', require('ejs').renderFile);\n *\n * In this case EJS provides a `.renderFile()` method with\n * the same signature that Express expects: `(path, options, callback)`,\n * though note that it aliases this method as `ejs.__express` internally\n * so if you're using \".ejs\" extensions you dont need to do anything.\n *\n * Some template engines do not follow this convention, the\n * [Consolidate.js](https://github.com/tj/consolidate.js)\n * library was created to map all of node's popular template\n * engines to follow this convention, thus allowing them to\n * work seamlessly within Express.\n *\n * @param {String} ext\n * @param {Function} fn\n * @return {app} for chaining\n * @public\n */\n\napp.engine = function engine(ext, fn) {\n  if (typeof fn !== 'function') {\n    throw new Error('callback function required');\n  }\n\n  // get file extension\n  var extension = ext[0] !== '.'\n    ? '.' + ext\n    : ext;\n\n  // store engine\n  this.engines[extension] = fn;\n\n  return this;\n};\n\n/**\n * Proxy to `Router#param()` with one added api feature. The _name_ parameter\n * can be an array of names.\n *\n * See the Router#param() docs for more details.\n *\n * @param {String|Array} name\n * @param {Function} fn\n * @return {app} for chaining\n * @public\n */\n\napp.param = function param(name, fn) {\n  this.lazyrouter();\n\n  if (Array.isArray(name)) {\n    for (var i = 0; i < name.length; i++) {\n      this.param(name[i], fn);\n    }\n\n    return this;\n  }\n\n  this._router.param(name, fn);\n\n  return this;\n};\n\n/**\n * Assign `setting` to `val`, or return `setting`'s value.\n *\n *    app.set('foo', 'bar');\n *    app.set('foo');\n *    // => \"bar\"\n *\n * Mounted servers inherit their parent server's settings.\n *\n * @param {String} setting\n * @param {*} [val]\n * @return {Server} for chaining\n * @public\n */\n\napp.set = function set(setting, val) {\n  if (arguments.length === 1) {\n    // app.get(setting)\n    return this.settings[setting];\n  }\n\n  debug('set \"%s\" to %o', setting, val);\n\n  // set value\n  this.settings[setting] = val;\n\n  // trigger matched settings\n  switch (setting) {\n    case 'etag':\n      this.set('etag fn', compileETag(val));\n      break;\n    case 'query parser':\n      this.set('query parser fn', compileQueryParser(val));\n      break;\n    case 'trust proxy':\n      this.set('trust proxy fn', compileTrust(val));\n\n      // trust proxy inherit back-compat\n      Object.defineProperty(this.settings, trustProxyDefaultSymbol, {\n        configurable: true,\n        value: false\n      });\n\n      break;\n  }\n\n  return this;\n};\n\n/**\n * Return the app's absolute pathname\n * based on the parent(s) that have\n * mounted it.\n *\n * For example if the application was\n * mounted as \"/admin\", which itself\n * was mounted as \"/blog\" then the\n * return value would be \"/blog/admin\".\n *\n * @return {String}\n * @private\n */\n\napp.path = function path() {\n  return this.parent\n    ? this.parent.path() + this.mountpath\n    : '';\n};\n\n/**\n * Check if `setting` is enabled (truthy).\n *\n *    app.enabled('foo')\n *    // => false\n *\n *    app.enable('foo')\n *    app.enabled('foo')\n *    // => true\n *\n * @param {String} setting\n * @return {Boolean}\n * @public\n */\n\napp.enabled = function enabled(setting) {\n  return Boolean(this.set(setting));\n};\n\n/**\n * Check if `setting` is disabled.\n *\n *    app.disabled('foo')\n *    // => true\n *\n *    app.enable('foo')\n *    app.disabled('foo')\n *    // => false\n *\n * @param {String} setting\n * @return {Boolean}\n * @public\n */\n\napp.disabled = function disabled(setting) {\n  return !this.set(setting);\n};\n\n/**\n * Enable `setting`.\n *\n * @param {String} setting\n * @return {app} for chaining\n * @public\n */\n\napp.enable = function enable(setting) {\n  return this.set(setting, true);\n};\n\n/**\n * Disable `setting`.\n *\n * @param {String} setting\n * @return {app} for chaining\n * @public\n */\n\napp.disable = function disable(setting) {\n  return this.set(setting, false);\n};\n\n/**\n * Delegate `.VERB(...)` calls to `router.VERB(...)`.\n */\n\nmethods.forEach(function(method){\n  app[method] = function(path){\n    if (method === 'get' && arguments.length === 1) {\n      // app.get(setting)\n      return this.set(path);\n    }\n\n    this.lazyrouter();\n\n    var route = this._router.route(path);\n    route[method].apply(route, slice.call(arguments, 1));\n    return this;\n  };\n});\n\n/**\n * Special-cased \"all\" method, applying the given route `path`,\n * middleware, and callback to _every_ HTTP method.\n *\n * @param {String} path\n * @param {Function} ...\n * @return {app} for chaining\n * @public\n */\n\napp.all = function all(path) {\n  this.lazyrouter();\n\n  var route = this._router.route(path);\n  var args = slice.call(arguments, 1);\n\n  for (var i = 0; i < methods.length; i++) {\n    route[methods[i]].apply(route, args);\n  }\n\n  return this;\n};\n\n// del -> delete alias\n\napp.del = deprecate.function(app.delete, 'app.del: Use app.delete instead');\n\n/**\n * Render the given view `name` name with `options`\n * and a callback accepting an error and the\n * rendered template string.\n *\n * Example:\n *\n *    app.render('email', { name: 'Tobi' }, function(err, html){\n *      // ...\n *    })\n *\n * @param {String} name\n * @param {Object|Function} options or fn\n * @param {Function} callback\n * @public\n */\n\napp.render = function render(name, options, callback) {\n  var cache = this.cache;\n  var done = callback;\n  var engines = this.engines;\n  var opts = options;\n  var renderOptions = {};\n  var view;\n\n  // support callback function as second arg\n  if (typeof options === 'function') {\n    done = options;\n    opts = {};\n  }\n\n  // merge app.locals\n  merge(renderOptions, this.locals);\n\n  // merge options._locals\n  if (opts._locals) {\n    merge(renderOptions, opts._locals);\n  }\n\n  // merge options\n  merge(renderOptions, opts);\n\n  // set .cache unless explicitly provided\n  if (renderOptions.cache == null) {\n    renderOptions.cache = this.enabled('view cache');\n  }\n\n  // primed cache\n  if (renderOptions.cache) {\n    view = cache[name];\n  }\n\n  // view\n  if (!view) {\n    var View = this.get('view');\n\n    view = new View(name, {\n      defaultEngine: this.get('view engine'),\n      root: this.get('views'),\n      engines: engines\n    });\n\n    if (!view.path) {\n      var dirs = Array.isArray(view.root) && view.root.length > 1\n        ? 'directories \"' + view.root.slice(0, -1).join('\", \"') + '\" or \"' + view.root[view.root.length - 1] + '\"'\n        : 'directory \"' + view.root + '\"'\n      var err = new Error('Failed to lookup view \"' + name + '\" in views ' + dirs);\n      err.view = view;\n      return done(err);\n    }\n\n    // prime the cache\n    if (renderOptions.cache) {\n      cache[name] = view;\n    }\n  }\n\n  // render\n  tryRender(view, renderOptions, done);\n};\n\n/**\n * Listen for connections.\n *\n * A node `http.Server` is returned, with this\n * application (which is a `Function`) as its\n * callback. If you wish to create both an HTTP\n * and HTTPS server you may do so with the \"http\"\n * and \"https\" modules as shown here:\n *\n *    var http = require('http')\n *      , https = require('https')\n *      , express = require('express')\n *      , app = express();\n *\n *    http.createServer(app).listen(80);\n *    https.createServer({ ... }, app).listen(443);\n *\n * @return {http.Server}\n * @public\n */\n\napp.listen = function listen() {\n  var server = http.createServer(this);\n  return server.listen.apply(server, arguments);\n};\n\n/**\n * Log error using console.error.\n *\n * @param {Error} err\n * @private\n */\n\nfunction logerror(err) {\n  /* istanbul ignore next */\n  if (this.get('env') !== 'test') console.error(err.stack || err.toString());\n}\n\n/**\n * Try rendering a view.\n * @private\n */\n\nfunction tryRender(view, options, callback) {\n  try {\n    view.render(options, callback);\n  } catch (err) {\n    callback(err);\n  }\n}\n","/*!\n * express\n * Copyright(c) 2009-2013 TJ Holowaychuk\n * Copyright(c) 2013 Roman Shtylman\n * Copyright(c) 2014-2015 Douglas Christopher Wilson\n * MIT Licensed\n */\n\n'use strict';\n\n/**\n * Module dependencies.\n */\n\nvar bodyParser = require('body-parser')\nvar EventEmitter = require('events').EventEmitter;\nvar mixin = require('merge-descriptors');\nvar proto = require('./application');\nvar Route = require('./router/route');\nvar Router = require('./router');\nvar req = require('./request');\nvar res = require('./response');\n\n/**\n * Expose `createApplication()`.\n */\n\nexports = module.exports = createApplication;\n\n/**\n * Create an express application.\n *\n * @return {Function}\n * @api public\n */\n\nfunction createApplication() {\n  var app = function(req, res, next) {\n    app.handle(req, res, next);\n  };\n\n  mixin(app, EventEmitter.prototype, false);\n  mixin(app, proto, false);\n\n  // expose the prototype that will get set on requests\n  app.request = Object.create(req, {\n    app: { configurable: true, enumerable: true, writable: true, value: app }\n  })\n\n  // expose the prototype that will get set on responses\n  app.response = Object.create(res, {\n    app: { configurable: true, enumerable: true, writable: true, value: app }\n  })\n\n  app.init();\n  return app;\n}\n\n/**\n * Expose the prototypes.\n */\n\nexports.application = proto;\nexports.request = req;\nexports.response = res;\n\n/**\n * Expose constructors.\n */\n\nexports.Route = Route;\nexports.Router = Router;\n\n/**\n * Expose middleware\n */\n\nexports.json = bodyParser.json\nexports.query = require('./middleware/query');\nexports.raw = bodyParser.raw\nexports.static = require('serve-static');\nexports.text = bodyParser.text\nexports.urlencoded = bodyParser.urlencoded\n\n/**\n * Replace removed middleware with an appropriate error message.\n */\n\nvar removedMiddlewares = [\n  'bodyParser',\n  'compress',\n  'cookieSession',\n  'session',\n  'logger',\n  'cookieParser',\n  'favicon',\n  'responseTime',\n  'errorHandler',\n  'timeout',\n  'methodOverride',\n  'vhost',\n  'csrf',\n  'directory',\n  'limit',\n  'multipart',\n  'staticCache'\n]\n\nremovedMiddlewares.forEach(function (name) {\n  Object.defineProperty(exports, name, {\n    get: function () {\n      throw new Error('Most middleware (like ' + name + ') is no longer bundled with Express and must be installed separately. Please see https://github.com/senchalabs/connect#middleware.');\n    },\n    configurable: true\n  });\n});\n","/*!\n * express\n * Copyright(c) 2009-2013 TJ Holowaychuk\n * Copyright(c) 2013 Roman Shtylman\n * Copyright(c) 2014-2015 Douglas Christopher Wilson\n * MIT Licensed\n */\n\n'use strict';\n\n/**\n * Module dependencies.\n * @private\n */\n\nvar setPrototypeOf = require('setprototypeof')\n\n/**\n * Initialization middleware, exposing the\n * request and response to each other, as well\n * as defaulting the X-Powered-By header field.\n *\n * @param {Function} app\n * @return {Function}\n * @api private\n */\n\nexports.init = function(app){\n  return function expressInit(req, res, next){\n    if (app.enabled('x-powered-by')) res.setHeader('X-Powered-By', 'Express');\n    req.res = res;\n    res.req = req;\n    req.next = next;\n\n    setPrototypeOf(req, app.request)\n    setPrototypeOf(res, app.response)\n\n    res.locals = res.locals || Object.create(null);\n\n    next();\n  };\n};\n\n","/*!\n * express\n * Copyright(c) 2009-2013 TJ Holowaychuk\n * Copyright(c) 2013 Roman Shtylman\n * Copyright(c) 2014-2015 Douglas Christopher Wilson\n * MIT Licensed\n */\n\n'use strict';\n\n/**\n * Module dependencies.\n */\n\nvar merge = require('utils-merge')\nvar parseUrl = require('parseurl');\nvar qs = require('qs');\n\n/**\n * @param {Object} options\n * @return {Function}\n * @api public\n */\n\nmodule.exports = function query(options) {\n  var opts = merge({}, options)\n  var queryparse = qs.parse;\n\n  if (typeof options === 'function') {\n    queryparse = options;\n    opts = undefined;\n  }\n\n  if (opts !== undefined && opts.allowPrototypes === undefined) {\n    // back-compat for qs module\n    opts.allowPrototypes = true;\n  }\n\n  return function query(req, res, next){\n    if (!req.query) {\n      var val = parseUrl(req).query;\n      req.query = queryparse(val, opts);\n    }\n\n    next();\n  };\n};\n","/*!\n * express\n * Copyright(c) 2009-2013 TJ Holowaychuk\n * Copyright(c) 2013 Roman Shtylman\n * Copyright(c) 2014-2015 Douglas Christopher Wilson\n * MIT Licensed\n */\n\n'use strict';\n\n/**\n * Module dependencies.\n * @private\n */\n\nvar accepts = require('accepts');\nvar deprecate = require('depd')('express');\nvar isIP = require('net').isIP;\nvar typeis = require('type-is');\nvar http = require('http');\nvar fresh = require('fresh');\nvar parseRange = require('range-parser');\nvar parse = require('parseurl');\nvar proxyaddr = require('proxy-addr');\n\n/**\n * Request prototype.\n * @public\n */\n\nvar req = Object.create(http.IncomingMessage.prototype)\n\n/**\n * Module exports.\n * @public\n */\n\nmodule.exports = req\n\n/**\n * Return request header.\n *\n * The `Referrer` header field is special-cased,\n * both `Referrer` and `Referer` are interchangeable.\n *\n * Examples:\n *\n *     req.get('Content-Type');\n *     // => \"text/plain\"\n *\n *     req.get('content-type');\n *     // => \"text/plain\"\n *\n *     req.get('Something');\n *     // => undefined\n *\n * Aliased as `req.header()`.\n *\n * @param {String} name\n * @return {String}\n * @public\n */\n\nreq.get =\nreq.header = function header(name) {\n  if (!name) {\n    throw new TypeError('name argument is required to req.get');\n  }\n\n  if (typeof name !== 'string') {\n    throw new TypeError('name must be a string to req.get');\n  }\n\n  var lc = name.toLowerCase();\n\n  switch (lc) {\n    case 'referer':\n    case 'referrer':\n      return this.headers.referrer\n        || this.headers.referer;\n    default:\n      return this.headers[lc];\n  }\n};\n\n/**\n * To do: update docs.\n *\n * Check if the given `type(s)` is acceptable, returning\n * the best match when true, otherwise `undefined`, in which\n * case you should respond with 406 \"Not Acceptable\".\n *\n * The `type` value may be a single MIME type string\n * such as \"application/json\", an extension name\n * such as \"json\", a comma-delimited list such as \"json, html, text/plain\",\n * an argument list such as `\"json\", \"html\", \"text/plain\"`,\n * or an array `[\"json\", \"html\", \"text/plain\"]`. When a list\n * or array is given, the _best_ match, if any is returned.\n *\n * Examples:\n *\n *     // Accept: text/html\n *     req.accepts('html');\n *     // => \"html\"\n *\n *     // Accept: text/*, application/json\n *     req.accepts('html');\n *     // => \"html\"\n *     req.accepts('text/html');\n *     // => \"text/html\"\n *     req.accepts('json, text');\n *     // => \"json\"\n *     req.accepts('application/json');\n *     // => \"application/json\"\n *\n *     // Accept: text/*, application/json\n *     req.accepts('image/png');\n *     req.accepts('png');\n *     // => undefined\n *\n *     // Accept: text/*;q=.5, application/json\n *     req.accepts(['html', 'json']);\n *     req.accepts('html', 'json');\n *     req.accepts('html, json');\n *     // => \"json\"\n *\n * @param {String|Array} type(s)\n * @return {String|Array|Boolean}\n * @public\n */\n\nreq.accepts = function(){\n  var accept = accepts(this);\n  return accept.types.apply(accept, arguments);\n};\n\n/**\n * Check if the given `encoding`s are accepted.\n *\n * @param {String} ...encoding\n * @return {String|Array}\n * @public\n */\n\nreq.acceptsEncodings = function(){\n  var accept = accepts(this);\n  return accept.encodings.apply(accept, arguments);\n};\n\nreq.acceptsEncoding = deprecate.function(req.acceptsEncodings,\n  'req.acceptsEncoding: Use acceptsEncodings instead');\n\n/**\n * Check if the given `charset`s are acceptable,\n * otherwise you should respond with 406 \"Not Acceptable\".\n *\n * @param {String} ...charset\n * @return {String|Array}\n * @public\n */\n\nreq.acceptsCharsets = function(){\n  var accept = accepts(this);\n  return accept.charsets.apply(accept, arguments);\n};\n\nreq.acceptsCharset = deprecate.function(req.acceptsCharsets,\n  'req.acceptsCharset: Use acceptsCharsets instead');\n\n/**\n * Check if the given `lang`s are acceptable,\n * otherwise you should respond with 406 \"Not Acceptable\".\n *\n * @param {String} ...lang\n * @return {String|Array}\n * @public\n */\n\nreq.acceptsLanguages = function(){\n  var accept = accepts(this);\n  return accept.languages.apply(accept, arguments);\n};\n\nreq.acceptsLanguage = deprecate.function(req.acceptsLanguages,\n  'req.acceptsLanguage: Use acceptsLanguages instead');\n\n/**\n * Parse Range header field, capping to the given `size`.\n *\n * Unspecified ranges such as \"0-\" require knowledge of your resource length. In\n * the case of a byte range this is of course the total number of bytes. If the\n * Range header field is not given `undefined` is returned, `-1` when unsatisfiable,\n * and `-2` when syntactically invalid.\n *\n * When ranges are returned, the array has a \"type\" property which is the type of\n * range that is required (most commonly, \"bytes\"). Each array element is an object\n * with a \"start\" and \"end\" property for the portion of the range.\n *\n * The \"combine\" option can be set to `true` and overlapping & adjacent ranges\n * will be combined into a single range.\n *\n * NOTE: remember that ranges are inclusive, so for example \"Range: users=0-3\"\n * should respond with 4 users when available, not 3.\n *\n * @param {number} size\n * @param {object} [options]\n * @param {boolean} [options.combine=false]\n * @return {number|array}\n * @public\n */\n\nreq.range = function range(size, options) {\n  var range = this.get('Range');\n  if (!range) return;\n  return parseRange(size, range, options);\n};\n\n/**\n * Return the value of param `name` when present or `defaultValue`.\n *\n *  - Checks route placeholders, ex: _/user/:id_\n *  - Checks body params, ex: id=12, {\"id\":12}\n *  - Checks query string params, ex: ?id=12\n *\n * To utilize request bodies, `req.body`\n * should be an object. This can be done by using\n * the `bodyParser()` middleware.\n *\n * @param {String} name\n * @param {Mixed} [defaultValue]\n * @return {String}\n * @public\n */\n\nreq.param = function param(name, defaultValue) {\n  var params = this.params || {};\n  var body = this.body || {};\n  var query = this.query || {};\n\n  var args = arguments.length === 1\n    ? 'name'\n    : 'name, default';\n  deprecate('req.param(' + args + '): Use req.params, req.body, or req.query instead');\n\n  if (null != params[name] && params.hasOwnProperty(name)) return params[name];\n  if (null != body[name]) return body[name];\n  if (null != query[name]) return query[name];\n\n  return defaultValue;\n};\n\n/**\n * Check if the incoming request contains the \"Content-Type\"\n * header field, and it contains the give mime `type`.\n *\n * Examples:\n *\n *      // With Content-Type: text/html; charset=utf-8\n *      req.is('html');\n *      req.is('text/html');\n *      req.is('text/*');\n *      // => true\n *\n *      // When Content-Type is application/json\n *      req.is('json');\n *      req.is('application/json');\n *      req.is('application/*');\n *      // => true\n *\n *      req.is('html');\n *      // => false\n *\n * @param {String|Array} types...\n * @return {String|false|null}\n * @public\n */\n\nreq.is = function is(types) {\n  var arr = types;\n\n  // support flattened arguments\n  if (!Array.isArray(types)) {\n    arr = new Array(arguments.length);\n    for (var i = 0; i < arr.length; i++) {\n      arr[i] = arguments[i];\n    }\n  }\n\n  return typeis(this, arr);\n};\n\n/**\n * Return the protocol string \"http\" or \"https\"\n * when requested with TLS. When the \"trust proxy\"\n * setting trusts the socket address, the\n * \"X-Forwarded-Proto\" header field will be trusted\n * and used if present.\n *\n * If you're running behind a reverse proxy that\n * supplies https for you this may be enabled.\n *\n * @return {String}\n * @public\n */\n\ndefineGetter(req, 'protocol', function protocol(){\n  var proto = this.connection.encrypted\n    ? 'https'\n    : 'http';\n  var trust = this.app.get('trust proxy fn');\n\n  if (!trust(this.connection.remoteAddress, 0)) {\n    return proto;\n  }\n\n  // Note: X-Forwarded-Proto is normally only ever a\n  //       single value, but this is to be safe.\n  var header = this.get('X-Forwarded-Proto') || proto\n  var index = header.indexOf(',')\n\n  return index !== -1\n    ? header.substring(0, index).trim()\n    : header.trim()\n});\n\n/**\n * Short-hand for:\n *\n *    req.protocol === 'https'\n *\n * @return {Boolean}\n * @public\n */\n\ndefineGetter(req, 'secure', function secure(){\n  return this.protocol === 'https';\n});\n\n/**\n * Return the remote address from the trusted proxy.\n *\n * The is the remote address on the socket unless\n * \"trust proxy\" is set.\n *\n * @return {String}\n * @public\n */\n\ndefineGetter(req, 'ip', function ip(){\n  var trust = this.app.get('trust proxy fn');\n  return proxyaddr(this, trust);\n});\n\n/**\n * When \"trust proxy\" is set, trusted proxy addresses + client.\n *\n * For example if the value were \"client, proxy1, proxy2\"\n * you would receive the array `[\"client\", \"proxy1\", \"proxy2\"]`\n * where \"proxy2\" is the furthest down-stream and \"proxy1\" and\n * \"proxy2\" were trusted.\n *\n * @return {Array}\n * @public\n */\n\ndefineGetter(req, 'ips', function ips() {\n  var trust = this.app.get('trust proxy fn');\n  var addrs = proxyaddr.all(this, trust);\n\n  // reverse the order (to farthest -> closest)\n  // and remove socket address\n  addrs.reverse().pop()\n\n  return addrs\n});\n\n/**\n * Return subdomains as an array.\n *\n * Subdomains are the dot-separated parts of the host before the main domain of\n * the app. By default, the domain of the app is assumed to be the last two\n * parts of the host. This can be changed by setting \"subdomain offset\".\n *\n * For example, if the domain is \"tobi.ferrets.example.com\":\n * If \"subdomain offset\" is not set, req.subdomains is `[\"ferrets\", \"tobi\"]`.\n * If \"subdomain offset\" is 3, req.subdomains is `[\"tobi\"]`.\n *\n * @return {Array}\n * @public\n */\n\ndefineGetter(req, 'subdomains', function subdomains() {\n  var hostname = this.hostname;\n\n  if (!hostname) return [];\n\n  var offset = this.app.get('subdomain offset');\n  var subdomains = !isIP(hostname)\n    ? hostname.split('.').reverse()\n    : [hostname];\n\n  return subdomains.slice(offset);\n});\n\n/**\n * Short-hand for `url.parse(req.url).pathname`.\n *\n * @return {String}\n * @public\n */\n\ndefineGetter(req, 'path', function path() {\n  return parse(this).pathname;\n});\n\n/**\n * Parse the \"Host\" header field to a hostname.\n *\n * When the \"trust proxy\" setting trusts the socket\n * address, the \"X-Forwarded-Host\" header field will\n * be trusted.\n *\n * @return {String}\n * @public\n */\n\ndefineGetter(req, 'hostname', function hostname(){\n  var trust = this.app.get('trust proxy fn');\n  var host = this.get('X-Forwarded-Host');\n\n  if (!host || !trust(this.connection.remoteAddress, 0)) {\n    host = this.get('Host');\n  } else if (host.indexOf(',') !== -1) {\n    // Note: X-Forwarded-Host is normally only ever a\n    //       single value, but this is to be safe.\n    host = host.substring(0, host.indexOf(',')).trimRight()\n  }\n\n  if (!host) return;\n\n  // IPv6 literal support\n  var offset = host[0] === '['\n    ? host.indexOf(']') + 1\n    : 0;\n  var index = host.indexOf(':', offset);\n\n  return index !== -1\n    ? host.substring(0, index)\n    : host;\n});\n\n// TODO: change req.host to return host in next major\n\ndefineGetter(req, 'host', deprecate.function(function host(){\n  return this.hostname;\n}, 'req.host: Use req.hostname instead'));\n\n/**\n * Check if the request is fresh, aka\n * Last-Modified and/or the ETag\n * still match.\n *\n * @return {Boolean}\n * @public\n */\n\ndefineGetter(req, 'fresh', function(){\n  var method = this.method;\n  var res = this.res\n  var status = res.statusCode\n\n  // GET or HEAD for weak freshness validation only\n  if ('GET' !== method && 'HEAD' !== method) return false;\n\n  // 2xx or 304 as per rfc2616 14.26\n  if ((status >= 200 && status < 300) || 304 === status) {\n    return fresh(this.headers, {\n      'etag': res.get('ETag'),\n      'last-modified': res.get('Last-Modified')\n    })\n  }\n\n  return false;\n});\n\n/**\n * Check if the request is stale, aka\n * \"Last-Modified\" and / or the \"ETag\" for the\n * resource has changed.\n *\n * @return {Boolean}\n * @public\n */\n\ndefineGetter(req, 'stale', function stale(){\n  return !this.fresh;\n});\n\n/**\n * Check if the request was an _XMLHttpRequest_.\n *\n * @return {Boolean}\n * @public\n */\n\ndefineGetter(req, 'xhr', function xhr(){\n  var val = this.get('X-Requested-With') || '';\n  return val.toLowerCase() === 'xmlhttprequest';\n});\n\n/**\n * Helper function for creating a getter on an object.\n *\n * @param {Object} obj\n * @param {String} name\n * @param {Function} getter\n * @private\n */\nfunction defineGetter(obj, name, getter) {\n  Object.defineProperty(obj, name, {\n    configurable: true,\n    enumerable: true,\n    get: getter\n  });\n}\n","/*!\n * express\n * Copyright(c) 2009-2013 TJ Holowaychuk\n * Copyright(c) 2014-2015 Douglas Christopher Wilson\n * MIT Licensed\n */\n\n'use strict';\n\n/**\n * Module dependencies.\n * @private\n */\n\nvar Buffer = require('safe-buffer').Buffer\nvar contentDisposition = require('content-disposition');\nvar deprecate = require('depd')('express');\nvar encodeUrl = require('encodeurl');\nvar escapeHtml = require('escape-html');\nvar http = require('http');\nvar isAbsolute = require('./utils').isAbsolute;\nvar onFinished = require('on-finished');\nvar path = require('path');\nvar statuses = require('statuses')\nvar merge = require('utils-merge');\nvar sign = require('cookie-signature').sign;\nvar normalizeType = require('./utils').normalizeType;\nvar normalizeTypes = require('./utils').normalizeTypes;\nvar setCharset = require('./utils').setCharset;\nvar cookie = require('cookie');\nvar send = require('send');\nvar extname = path.extname;\nvar mime = send.mime;\nvar resolve = path.resolve;\nvar vary = require('vary');\n\n/**\n * Response prototype.\n * @public\n */\n\nvar res = Object.create(http.ServerResponse.prototype)\n\n/**\n * Module exports.\n * @public\n */\n\nmodule.exports = res\n\n/**\n * Module variables.\n * @private\n */\n\nvar charsetRegExp = /;\\s*charset\\s*=/;\n\n/**\n * Set status `code`.\n *\n * @param {Number} code\n * @return {ServerResponse}\n * @public\n */\n\nres.status = function status(code) {\n  this.statusCode = code;\n  return this;\n};\n\n/**\n * Set Link header field with the given `links`.\n *\n * Examples:\n *\n *    res.links({\n *      next: 'http://api.example.com/users?page=2',\n *      last: 'http://api.example.com/users?page=5'\n *    });\n *\n * @param {Object} links\n * @return {ServerResponse}\n * @public\n */\n\nres.links = function(links){\n  var link = this.get('Link') || '';\n  if (link) link += ', ';\n  return this.set('Link', link + Object.keys(links).map(function(rel){\n    return '<' + links[rel] + '>; rel=\"' + rel + '\"';\n  }).join(', '));\n};\n\n/**\n * Send a response.\n *\n * Examples:\n *\n *     res.send(Buffer.from('wahoo'));\n *     res.send({ some: 'json' });\n *     res.send('<p>some html</p>');\n *\n * @param {string|number|boolean|object|Buffer} body\n * @public\n */\n\nres.send = function send(body) {\n  var chunk = body;\n  var encoding;\n  var req = this.req;\n  var type;\n\n  // settings\n  var app = this.app;\n\n  // allow status / body\n  if (arguments.length === 2) {\n    // res.send(body, status) backwards compat\n    if (typeof arguments[0] !== 'number' && typeof arguments[1] === 'number') {\n      deprecate('res.send(body, status): Use res.status(status).send(body) instead');\n      this.statusCode = arguments[1];\n    } else {\n      deprecate('res.send(status, body): Use res.status(status).send(body) instead');\n      this.statusCode = arguments[0];\n      chunk = arguments[1];\n    }\n  }\n\n  // disambiguate res.send(status) and res.send(status, num)\n  if (typeof chunk === 'number' && arguments.length === 1) {\n    // res.send(status) will set status message as text string\n    if (!this.get('Content-Type')) {\n      this.type('txt');\n    }\n\n    deprecate('res.send(status): Use res.sendStatus(status) instead');\n    this.statusCode = chunk;\n    chunk = statuses[chunk]\n  }\n\n  switch (typeof chunk) {\n    // string defaulting to html\n    case 'string':\n      if (!this.get('Content-Type')) {\n        this.type('html');\n      }\n      break;\n    case 'boolean':\n    case 'number':\n    case 'object':\n      if (chunk === null) {\n        chunk = '';\n      } else if (Buffer.isBuffer(chunk)) {\n        if (!this.get('Content-Type')) {\n          this.type('bin');\n        }\n      } else {\n        return this.json(chunk);\n      }\n      break;\n  }\n\n  // write strings in utf-8\n  if (typeof chunk === 'string') {\n    encoding = 'utf8';\n    type = this.get('Content-Type');\n\n    // reflect this in content-type\n    if (typeof type === 'string') {\n      this.set('Content-Type', setCharset(type, 'utf-8'));\n    }\n  }\n\n  // determine if ETag should be generated\n  var etagFn = app.get('etag fn')\n  var generateETag = !this.get('ETag') && typeof etagFn === 'function'\n\n  // populate Content-Length\n  var len\n  if (chunk !== undefined) {\n    if (Buffer.isBuffer(chunk)) {\n      // get length of Buffer\n      len = chunk.length\n    } else if (!generateETag && chunk.length < 1000) {\n      // just calculate length when no ETag + small chunk\n      len = Buffer.byteLength(chunk, encoding)\n    } else {\n      // convert chunk to Buffer and calculate\n      chunk = Buffer.from(chunk, encoding)\n      encoding = undefined;\n      len = chunk.length\n    }\n\n    this.set('Content-Length', len);\n  }\n\n  // populate ETag\n  var etag;\n  if (generateETag && len !== undefined) {\n    if ((etag = etagFn(chunk, encoding))) {\n      this.set('ETag', etag);\n    }\n  }\n\n  // freshness\n  if (req.fresh) this.statusCode = 304;\n\n  // strip irrelevant headers\n  if (204 === this.statusCode || 304 === this.statusCode) {\n    this.removeHeader('Content-Type');\n    this.removeHeader('Content-Length');\n    this.removeHeader('Transfer-Encoding');\n    chunk = '';\n  }\n\n  if (req.method === 'HEAD') {\n    // skip body for HEAD\n    this.end();\n  } else {\n    // respond\n    this.end(chunk, encoding);\n  }\n\n  return this;\n};\n\n/**\n * Send JSON response.\n *\n * Examples:\n *\n *     res.json(null);\n *     res.json({ user: 'tj' });\n *\n * @param {string|number|boolean|object} obj\n * @public\n */\n\nres.json = function json(obj) {\n  var val = obj;\n\n  // allow status / body\n  if (arguments.length === 2) {\n    // res.json(body, status) backwards compat\n    if (typeof arguments[1] === 'number') {\n      deprecate('res.json(obj, status): Use res.status(status).json(obj) instead');\n      this.statusCode = arguments[1];\n    } else {\n      deprecate('res.json(status, obj): Use res.status(status).json(obj) instead');\n      this.statusCode = arguments[0];\n      val = arguments[1];\n    }\n  }\n\n  // settings\n  var app = this.app;\n  var escape = app.get('json escape')\n  var replacer = app.get('json replacer');\n  var spaces = app.get('json spaces');\n  var body = stringify(val, replacer, spaces, escape)\n\n  // content-type\n  if (!this.get('Content-Type')) {\n    this.set('Content-Type', 'application/json');\n  }\n\n  return this.send(body);\n};\n\n/**\n * Send JSON response with JSONP callback support.\n *\n * Examples:\n *\n *     res.jsonp(null);\n *     res.jsonp({ user: 'tj' });\n *\n * @param {string|number|boolean|object} obj\n * @public\n */\n\nres.jsonp = function jsonp(obj) {\n  var val = obj;\n\n  // allow status / body\n  if (arguments.length === 2) {\n    // res.json(body, status) backwards compat\n    if (typeof arguments[1] === 'number') {\n      deprecate('res.jsonp(obj, status): Use res.status(status).json(obj) instead');\n      this.statusCode = arguments[1];\n    } else {\n      deprecate('res.jsonp(status, obj): Use res.status(status).jsonp(obj) instead');\n      this.statusCode = arguments[0];\n      val = arguments[1];\n    }\n  }\n\n  // settings\n  var app = this.app;\n  var escape = app.get('json escape')\n  var replacer = app.get('json replacer');\n  var spaces = app.get('json spaces');\n  var body = stringify(val, replacer, spaces, escape)\n  var callback = this.req.query[app.get('jsonp callback name')];\n\n  // content-type\n  if (!this.get('Content-Type')) {\n    this.set('X-Content-Type-Options', 'nosniff');\n    this.set('Content-Type', 'application/json');\n  }\n\n  // fixup callback\n  if (Array.isArray(callback)) {\n    callback = callback[0];\n  }\n\n  // jsonp\n  if (typeof callback === 'string' && callback.length !== 0) {\n    this.set('X-Content-Type-Options', 'nosniff');\n    this.set('Content-Type', 'text/javascript');\n\n    // restrict callback charset\n    callback = callback.replace(/[^\\[\\]\\w$.]/g, '');\n\n    // replace chars not allowed in JavaScript that are in JSON\n    body = body\n      .replace(/\\u2028/g, '\\\\u2028')\n      .replace(/\\u2029/g, '\\\\u2029');\n\n    // the /**/ is a specific security mitigation for \"Rosetta Flash JSONP abuse\"\n    // the typeof check is just to reduce client error noise\n    body = '/**/ typeof ' + callback + ' === \\'function\\' && ' + callback + '(' + body + ');';\n  }\n\n  return this.send(body);\n};\n\n/**\n * Send given HTTP status code.\n *\n * Sets the response status to `statusCode` and the body of the\n * response to the standard description from node's http.STATUS_CODES\n * or the statusCode number if no description.\n *\n * Examples:\n *\n *     res.sendStatus(200);\n *\n * @param {number} statusCode\n * @public\n */\n\nres.sendStatus = function sendStatus(statusCode) {\n  var body = statuses[statusCode] || String(statusCode)\n\n  this.statusCode = statusCode;\n  this.type('txt');\n\n  return this.send(body);\n};\n\n/**\n * Transfer the file at the given `path`.\n *\n * Automatically sets the _Content-Type_ response header field.\n * The callback `callback(err)` is invoked when the transfer is complete\n * or when an error occurs. Be sure to check `res.sentHeader`\n * if you wish to attempt responding, as the header and some data\n * may have already been transferred.\n *\n * Options:\n *\n *   - `maxAge`   defaulting to 0 (can be string converted by `ms`)\n *   - `root`     root directory for relative filenames\n *   - `headers`  object of headers to serve with file\n *   - `dotfiles` serve dotfiles, defaulting to false; can be `\"allow\"` to send them\n *\n * Other options are passed along to `send`.\n *\n * Examples:\n *\n *  The following example illustrates how `res.sendFile()` may\n *  be used as an alternative for the `static()` middleware for\n *  dynamic situations. The code backing `res.sendFile()` is actually\n *  the same code, so HTTP cache support etc is identical.\n *\n *     app.get('/user/:uid/photos/:file', function(req, res){\n *       var uid = req.params.uid\n *         , file = req.params.file;\n *\n *       req.user.mayViewFilesFrom(uid, function(yes){\n *         if (yes) {\n *           res.sendFile('/uploads/' + uid + '/' + file);\n *         } else {\n *           res.send(403, 'Sorry! you cant see that.');\n *         }\n *       });\n *     });\n *\n * @public\n */\n\nres.sendFile = function sendFile(path, options, callback) {\n  var done = callback;\n  var req = this.req;\n  var res = this;\n  var next = req.next;\n  var opts = options || {};\n\n  if (!path) {\n    throw new TypeError('path argument is required to res.sendFile');\n  }\n\n  if (typeof path !== 'string') {\n    throw new TypeError('path must be a string to res.sendFile')\n  }\n\n  // support function as second arg\n  if (typeof options === 'function') {\n    done = options;\n    opts = {};\n  }\n\n  if (!opts.root && !isAbsolute(path)) {\n    throw new TypeError('path must be absolute or specify root to res.sendFile');\n  }\n\n  // create file stream\n  var pathname = encodeURI(path);\n  var file = send(req, pathname, opts);\n\n  // transfer\n  sendfile(res, file, opts, function (err) {\n    if (done) return done(err);\n    if (err && err.code === 'EISDIR') return next();\n\n    // next() all but write errors\n    if (err && err.code !== 'ECONNABORTED' && err.syscall !== 'write') {\n      next(err);\n    }\n  });\n};\n\n/**\n * Transfer the file at the given `path`.\n *\n * Automatically sets the _Content-Type_ response header field.\n * The callback `callback(err)` is invoked when the transfer is complete\n * or when an error occurs. Be sure to check `res.sentHeader`\n * if you wish to attempt responding, as the header and some data\n * may have already been transferred.\n *\n * Options:\n *\n *   - `maxAge`   defaulting to 0 (can be string converted by `ms`)\n *   - `root`     root directory for relative filenames\n *   - `headers`  object of headers to serve with file\n *   - `dotfiles` serve dotfiles, defaulting to false; can be `\"allow\"` to send them\n *\n * Other options are passed along to `send`.\n *\n * Examples:\n *\n *  The following example illustrates how `res.sendfile()` may\n *  be used as an alternative for the `static()` middleware for\n *  dynamic situations. The code backing `res.sendfile()` is actually\n *  the same code, so HTTP cache support etc is identical.\n *\n *     app.get('/user/:uid/photos/:file', function(req, res){\n *       var uid = req.params.uid\n *         , file = req.params.file;\n *\n *       req.user.mayViewFilesFrom(uid, function(yes){\n *         if (yes) {\n *           res.sendfile('/uploads/' + uid + '/' + file);\n *         } else {\n *           res.send(403, 'Sorry! you cant see that.');\n *         }\n *       });\n *     });\n *\n * @public\n */\n\nres.sendfile = function (path, options, callback) {\n  var done = callback;\n  var req = this.req;\n  var res = this;\n  var next = req.next;\n  var opts = options || {};\n\n  // support function as second arg\n  if (typeof options === 'function') {\n    done = options;\n    opts = {};\n  }\n\n  // create file stream\n  var file = send(req, path, opts);\n\n  // transfer\n  sendfile(res, file, opts, function (err) {\n    if (done) return done(err);\n    if (err && err.code === 'EISDIR') return next();\n\n    // next() all but write errors\n    if (err && err.code !== 'ECONNABORTED' && err.syscall !== 'write') {\n      next(err);\n    }\n  });\n};\n\nres.sendfile = deprecate.function(res.sendfile,\n  'res.sendfile: Use res.sendFile instead');\n\n/**\n * Transfer the file at the given `path` as an attachment.\n *\n * Optionally providing an alternate attachment `filename`,\n * and optional callback `callback(err)`. The callback is invoked\n * when the data transfer is complete, or when an error has\n * ocurred. Be sure to check `res.headersSent` if you plan to respond.\n *\n * Optionally providing an `options` object to use with `res.sendFile()`.\n * This function will set the `Content-Disposition` header, overriding\n * any `Content-Disposition` header passed as header options in order\n * to set the attachment and filename.\n *\n * This method uses `res.sendFile()`.\n *\n * @public\n */\n\nres.download = function download (path, filename, options, callback) {\n  var done = callback;\n  var name = filename;\n  var opts = options || null\n\n  // support function as second or third arg\n  if (typeof filename === 'function') {\n    done = filename;\n    name = null;\n    opts = null\n  } else if (typeof options === 'function') {\n    done = options\n    opts = null\n  }\n\n  // set Content-Disposition when file is sent\n  var headers = {\n    'Content-Disposition': contentDisposition(name || path)\n  };\n\n  // merge user-provided headers\n  if (opts && opts.headers) {\n    var keys = Object.keys(opts.headers)\n    for (var i = 0; i < keys.length; i++) {\n      var key = keys[i]\n      if (key.toLowerCase() !== 'content-disposition') {\n        headers[key] = opts.headers[key]\n      }\n    }\n  }\n\n  // merge user-provided options\n  opts = Object.create(opts)\n  opts.headers = headers\n\n  // Resolve the full path for sendFile\n  var fullPath = resolve(path);\n\n  // send file\n  return this.sendFile(fullPath, opts, done)\n};\n\n/**\n * Set _Content-Type_ response header with `type` through `mime.lookup()`\n * when it does not contain \"/\", or set the Content-Type to `type` otherwise.\n *\n * Examples:\n *\n *     res.type('.html');\n *     res.type('html');\n *     res.type('json');\n *     res.type('application/json');\n *     res.type('png');\n *\n * @param {String} type\n * @return {ServerResponse} for chaining\n * @public\n */\n\nres.contentType =\nres.type = function contentType(type) {\n  var ct = type.indexOf('/') === -1\n    ? mime.lookup(type)\n    : type;\n\n  return this.set('Content-Type', ct);\n};\n\n/**\n * Respond to the Acceptable formats using an `obj`\n * of mime-type callbacks.\n *\n * This method uses `req.accepted`, an array of\n * acceptable types ordered by their quality values.\n * When \"Accept\" is not present the _first_ callback\n * is invoked, otherwise the first match is used. When\n * no match is performed the server responds with\n * 406 \"Not Acceptable\".\n *\n * Content-Type is set for you, however if you choose\n * you may alter this within the callback using `res.type()`\n * or `res.set('Content-Type', ...)`.\n *\n *    res.format({\n *      'text/plain': function(){\n *        res.send('hey');\n *      },\n *\n *      'text/html': function(){\n *        res.send('<p>hey</p>');\n *      },\n *\n *      'appliation/json': function(){\n *        res.send({ message: 'hey' });\n *      }\n *    });\n *\n * In addition to canonicalized MIME types you may\n * also use extnames mapped to these types:\n *\n *    res.format({\n *      text: function(){\n *        res.send('hey');\n *      },\n *\n *      html: function(){\n *        res.send('<p>hey</p>');\n *      },\n *\n *      json: function(){\n *        res.send({ message: 'hey' });\n *      }\n *    });\n *\n * By default Express passes an `Error`\n * with a `.status` of 406 to `next(err)`\n * if a match is not made. If you provide\n * a `.default` callback it will be invoked\n * instead.\n *\n * @param {Object} obj\n * @return {ServerResponse} for chaining\n * @public\n */\n\nres.format = function(obj){\n  var req = this.req;\n  var next = req.next;\n\n  var fn = obj.default;\n  if (fn) delete obj.default;\n  var keys = Object.keys(obj);\n\n  var key = keys.length > 0\n    ? req.accepts(keys)\n    : false;\n\n  this.vary(\"Accept\");\n\n  if (key) {\n    this.set('Content-Type', normalizeType(key).value);\n    obj[key](req, this, next);\n  } else if (fn) {\n    fn();\n  } else {\n    var err = new Error('Not Acceptable');\n    err.status = err.statusCode = 406;\n    err.types = normalizeTypes(keys).map(function(o){ return o.value });\n    next(err);\n  }\n\n  return this;\n};\n\n/**\n * Set _Content-Disposition_ header to _attachment_ with optional `filename`.\n *\n * @param {String} filename\n * @return {ServerResponse}\n * @public\n */\n\nres.attachment = function attachment(filename) {\n  if (filename) {\n    this.type(extname(filename));\n  }\n\n  this.set('Content-Disposition', contentDisposition(filename));\n\n  return this;\n};\n\n/**\n * Append additional header `field` with value `val`.\n *\n * Example:\n *\n *    res.append('Link', ['<http://localhost/>', '<http://localhost:3000/>']);\n *    res.append('Set-Cookie', 'foo=bar; Path=/; HttpOnly');\n *    res.append('Warning', '199 Miscellaneous warning');\n *\n * @param {String} field\n * @param {String|Array} val\n * @return {ServerResponse} for chaining\n * @public\n */\n\nres.append = function append(field, val) {\n  var prev = this.get(field);\n  var value = val;\n\n  if (prev) {\n    // concat the new and prev vals\n    value = Array.isArray(prev) ? prev.concat(val)\n      : Array.isArray(val) ? [prev].concat(val)\n      : [prev, val];\n  }\n\n  return this.set(field, value);\n};\n\n/**\n * Set header `field` to `val`, or pass\n * an object of header fields.\n *\n * Examples:\n *\n *    res.set('Foo', ['bar', 'baz']);\n *    res.set('Accept', 'application/json');\n *    res.set({ Accept: 'text/plain', 'X-API-Key': 'tobi' });\n *\n * Aliased as `res.header()`.\n *\n * @param {String|Object} field\n * @param {String|Array} val\n * @return {ServerResponse} for chaining\n * @public\n */\n\nres.set =\nres.header = function header(field, val) {\n  if (arguments.length === 2) {\n    var value = Array.isArray(val)\n      ? val.map(String)\n      : String(val);\n\n    // add charset to content-type\n    if (field.toLowerCase() === 'content-type') {\n      if (Array.isArray(value)) {\n        throw new TypeError('Content-Type cannot be set to an Array');\n      }\n      if (!charsetRegExp.test(value)) {\n        var charset = mime.charsets.lookup(value.split(';')[0]);\n        if (charset) value += '; charset=' + charset.toLowerCase();\n      }\n    }\n\n    this.setHeader(field, value);\n  } else {\n    for (var key in field) {\n      this.set(key, field[key]);\n    }\n  }\n  return this;\n};\n\n/**\n * Get value for header `field`.\n *\n * @param {String} field\n * @return {String}\n * @public\n */\n\nres.get = function(field){\n  return this.getHeader(field);\n};\n\n/**\n * Clear cookie `name`.\n *\n * @param {String} name\n * @param {Object} [options]\n * @return {ServerResponse} for chaining\n * @public\n */\n\nres.clearCookie = function clearCookie(name, options) {\n  var opts = merge({ expires: new Date(1), path: '/' }, options);\n\n  return this.cookie(name, '', opts);\n};\n\n/**\n * Set cookie `name` to `value`, with the given `options`.\n *\n * Options:\n *\n *    - `maxAge`   max-age in milliseconds, converted to `expires`\n *    - `signed`   sign the cookie\n *    - `path`     defaults to \"/\"\n *\n * Examples:\n *\n *    // \"Remember Me\" for 15 minutes\n *    res.cookie('rememberme', '1', { expires: new Date(Date.now() + 900000), httpOnly: true });\n *\n *    // same as above\n *    res.cookie('rememberme', '1', { maxAge: 900000, httpOnly: true })\n *\n * @param {String} name\n * @param {String|Object} value\n * @param {Object} [options]\n * @return {ServerResponse} for chaining\n * @public\n */\n\nres.cookie = function (name, value, options) {\n  var opts = merge({}, options);\n  var secret = this.req.secret;\n  var signed = opts.signed;\n\n  if (signed && !secret) {\n    throw new Error('cookieParser(\"secret\") required for signed cookies');\n  }\n\n  var val = typeof value === 'object'\n    ? 'j:' + JSON.stringify(value)\n    : String(value);\n\n  if (signed) {\n    val = 's:' + sign(val, secret);\n  }\n\n  if ('maxAge' in opts) {\n    opts.expires = new Date(Date.now() + opts.maxAge);\n    opts.maxAge /= 1000;\n  }\n\n  if (opts.path == null) {\n    opts.path = '/';\n  }\n\n  this.append('Set-Cookie', cookie.serialize(name, String(val), opts));\n\n  return this;\n};\n\n/**\n * Set the location header to `url`.\n *\n * The given `url` can also be \"back\", which redirects\n * to the _Referrer_ or _Referer_ headers or \"/\".\n *\n * Examples:\n *\n *    res.location('/foo/bar').;\n *    res.location('http://example.com');\n *    res.location('../login');\n *\n * @param {String} url\n * @return {ServerResponse} for chaining\n * @public\n */\n\nres.location = function location(url) {\n  var loc = url;\n\n  // \"back\" is an alias for the referrer\n  if (url === 'back') {\n    loc = this.req.get('Referrer') || '/';\n  }\n\n  // set location\n  return this.set('Location', encodeUrl(loc));\n};\n\n/**\n * Redirect to the given `url` with optional response `status`\n * defaulting to 302.\n *\n * The resulting `url` is determined by `res.location()`, so\n * it will play nicely with mounted apps, relative paths,\n * `\"back\"` etc.\n *\n * Examples:\n *\n *    res.redirect('/foo/bar');\n *    res.redirect('http://example.com');\n *    res.redirect(301, 'http://example.com');\n *    res.redirect('../login'); // /blog/post/1 -> /blog/login\n *\n * @public\n */\n\nres.redirect = function redirect(url) {\n  var address = url;\n  var body;\n  var status = 302;\n\n  // allow status / url\n  if (arguments.length === 2) {\n    if (typeof arguments[0] === 'number') {\n      status = arguments[0];\n      address = arguments[1];\n    } else {\n      deprecate('res.redirect(url, status): Use res.redirect(status, url) instead');\n      status = arguments[1];\n    }\n  }\n\n  // Set location header\n  address = this.location(address).get('Location');\n\n  // Support text/{plain,html} by default\n  this.format({\n    text: function(){\n      body = statuses[status] + '. Redirecting to ' + address\n    },\n\n    html: function(){\n      var u = escapeHtml(address);\n      body = '<p>' + statuses[status] + '. Redirecting to <a href=\"' + u + '\">' + u + '</a></p>'\n    },\n\n    default: function(){\n      body = '';\n    }\n  });\n\n  // Respond\n  this.statusCode = status;\n  this.set('Content-Length', Buffer.byteLength(body));\n\n  if (this.req.method === 'HEAD') {\n    this.end();\n  } else {\n    this.end(body);\n  }\n};\n\n/**\n * Add `field` to Vary. If already present in the Vary set, then\n * this call is simply ignored.\n *\n * @param {Array|String} field\n * @return {ServerResponse} for chaining\n * @public\n */\n\nres.vary = function(field){\n  // checks for back-compat\n  if (!field || (Array.isArray(field) && !field.length)) {\n    deprecate('res.vary(): Provide a field name');\n    return this;\n  }\n\n  vary(this, field);\n\n  return this;\n};\n\n/**\n * Render `view` with the given `options` and optional callback `fn`.\n * When a callback function is given a response will _not_ be made\n * automatically, otherwise a response of _200_ and _text/html_ is given.\n *\n * Options:\n *\n *  - `cache`     boolean hinting to the engine it should cache\n *  - `filename`  filename of the view being rendered\n *\n * @public\n */\n\nres.render = function render(view, options, callback) {\n  var app = this.req.app;\n  var done = callback;\n  var opts = options || {};\n  var req = this.req;\n  var self = this;\n\n  // support callback function as second arg\n  if (typeof options === 'function') {\n    done = options;\n    opts = {};\n  }\n\n  // merge res.locals\n  opts._locals = self.locals;\n\n  // default callback to respond\n  done = done || function (err, str) {\n    if (err) return req.next(err);\n    self.send(str);\n  };\n\n  // render\n  app.render(view, opts, done);\n};\n\n// pipe the send file stream\nfunction sendfile(res, file, options, callback) {\n  var done = false;\n  var streaming;\n\n  // request aborted\n  function onaborted() {\n    if (done) return;\n    done = true;\n\n    var err = new Error('Request aborted');\n    err.code = 'ECONNABORTED';\n    callback(err);\n  }\n\n  // directory\n  function ondirectory() {\n    if (done) return;\n    done = true;\n\n    var err = new Error('EISDIR, read');\n    err.code = 'EISDIR';\n    callback(err);\n  }\n\n  // errors\n  function onerror(err) {\n    if (done) return;\n    done = true;\n    callback(err);\n  }\n\n  // ended\n  function onend() {\n    if (done) return;\n    done = true;\n    callback();\n  }\n\n  // file\n  function onfile() {\n    streaming = false;\n  }\n\n  // finished\n  function onfinish(err) {\n    if (err && err.code === 'ECONNRESET') return onaborted();\n    if (err) return onerror(err);\n    if (done) return;\n\n    setImmediate(function () {\n      if (streaming !== false && !done) {\n        onaborted();\n        return;\n      }\n\n      if (done) return;\n      done = true;\n      callback();\n    });\n  }\n\n  // streaming\n  function onstream() {\n    streaming = true;\n  }\n\n  file.on('directory', ondirectory);\n  file.on('end', onend);\n  file.on('error', onerror);\n  file.on('file', onfile);\n  file.on('stream', onstream);\n  onFinished(res, onfinish);\n\n  if (options.headers) {\n    // set headers on successful transfer\n    file.on('headers', function headers(res) {\n      var obj = options.headers;\n      var keys = Object.keys(obj);\n\n      for (var i = 0; i < keys.length; i++) {\n        var k = keys[i];\n        res.setHeader(k, obj[k]);\n      }\n    });\n  }\n\n  // pipe\n  file.pipe(res);\n}\n\n/**\n * Stringify JSON, like JSON.stringify, but v8 optimized, with the\n * ability to escape characters that can trigger HTML sniffing.\n *\n * @param {*} value\n * @param {function} replaces\n * @param {number} spaces\n * @param {boolean} escape\n * @returns {string}\n * @private\n */\n\nfunction stringify (value, replacer, spaces, escape) {\n  // v8 checks arguments.length for optimizing simple call\n  // https://bugs.chromium.org/p/v8/issues/detail?id=4730\n  var json = replacer || spaces\n    ? JSON.stringify(value, replacer, spaces)\n    : JSON.stringify(value);\n\n  if (escape) {\n    json = json.replace(/[<>&]/g, function (c) {\n      switch (c.charCodeAt(0)) {\n        case 0x3c:\n          return '\\\\u003c'\n        case 0x3e:\n          return '\\\\u003e'\n        case 0x26:\n          return '\\\\u0026'\n        /* istanbul ignore next: unreachable default */\n        default:\n          return c\n      }\n    })\n  }\n\n  return json\n}\n","/*!\n * express\n * Copyright(c) 2009-2013 TJ Holowaychuk\n * Copyright(c) 2013 Roman Shtylman\n * Copyright(c) 2014-2015 Douglas Christopher Wilson\n * MIT Licensed\n */\n\n'use strict';\n\n/**\n * Module dependencies.\n * @private\n */\n\nvar Route = require('./route');\nvar Layer = require('./layer');\nvar methods = require('methods');\nvar mixin = require('utils-merge');\nvar debug = require('debug')('express:router');\nvar deprecate = require('depd')('express');\nvar flatten = require('array-flatten');\nvar parseUrl = require('parseurl');\nvar setPrototypeOf = require('setprototypeof')\n\n/**\n * Module variables.\n * @private\n */\n\nvar objectRegExp = /^\\[object (\\S+)\\]$/;\nvar slice = Array.prototype.slice;\nvar toString = Object.prototype.toString;\n\n/**\n * Initialize a new `Router` with the given `options`.\n *\n * @param {Object} [options]\n * @return {Router} which is an callable function\n * @public\n */\n\nvar proto = module.exports = function(options) {\n  var opts = options || {};\n\n  function router(req, res, next) {\n    router.handle(req, res, next);\n  }\n\n  // mixin Router class functions\n  setPrototypeOf(router, proto)\n\n  router.params = {};\n  router._params = [];\n  router.caseSensitive = opts.caseSensitive;\n  router.mergeParams = opts.mergeParams;\n  router.strict = opts.strict;\n  router.stack = [];\n\n  return router;\n};\n\n/**\n * Map the given param placeholder `name`(s) to the given callback.\n *\n * Parameter mapping is used to provide pre-conditions to routes\n * which use normalized placeholders. For example a _:user_id_ parameter\n * could automatically load a user's information from the database without\n * any additional code,\n *\n * The callback uses the same signature as middleware, the only difference\n * being that the value of the placeholder is passed, in this case the _id_\n * of the user. Once the `next()` function is invoked, just like middleware\n * it will continue on to execute the route, or subsequent parameter functions.\n *\n * Just like in middleware, you must either respond to the request or call next\n * to avoid stalling the request.\n *\n *  app.param('user_id', function(req, res, next, id){\n *    User.find(id, function(err, user){\n *      if (err) {\n *        return next(err);\n *      } else if (!user) {\n *        return next(new Error('failed to load user'));\n *      }\n *      req.user = user;\n *      next();\n *    });\n *  });\n *\n * @param {String} name\n * @param {Function} fn\n * @return {app} for chaining\n * @public\n */\n\nproto.param = function param(name, fn) {\n  // param logic\n  if (typeof name === 'function') {\n    deprecate('router.param(fn): Refactor to use path params');\n    this._params.push(name);\n    return;\n  }\n\n  // apply param functions\n  var params = this._params;\n  var len = params.length;\n  var ret;\n\n  if (name[0] === ':') {\n    deprecate('router.param(' + JSON.stringify(name) + ', fn): Use router.param(' + JSON.stringify(name.substr(1)) + ', fn) instead');\n    name = name.substr(1);\n  }\n\n  for (var i = 0; i < len; ++i) {\n    if (ret = params[i](name, fn)) {\n      fn = ret;\n    }\n  }\n\n  // ensure we end up with a\n  // middleware function\n  if ('function' !== typeof fn) {\n    throw new Error('invalid param() call for ' + name + ', got ' + fn);\n  }\n\n  (this.params[name] = this.params[name] || []).push(fn);\n  return this;\n};\n\n/**\n * Dispatch a req, res into the router.\n * @private\n */\n\nproto.handle = function handle(req, res, out) {\n  var self = this;\n\n  debug('dispatching %s %s', req.method, req.url);\n\n  var idx = 0;\n  var protohost = getProtohost(req.url) || ''\n  var removed = '';\n  var slashAdded = false;\n  var paramcalled = {};\n\n  // store options for OPTIONS request\n  // only used if OPTIONS request\n  var options = [];\n\n  // middleware and routes\n  var stack = self.stack;\n\n  // manage inter-router variables\n  var parentParams = req.params;\n  var parentUrl = req.baseUrl || '';\n  var done = restore(out, req, 'baseUrl', 'next', 'params');\n\n  // setup next layer\n  req.next = next;\n\n  // for options requests, respond with a default if nothing else responds\n  if (req.method === 'OPTIONS') {\n    done = wrap(done, function(old, err) {\n      if (err || options.length === 0) return old(err);\n      sendOptionsResponse(res, options, old);\n    });\n  }\n\n  // setup basic req values\n  req.baseUrl = parentUrl;\n  req.originalUrl = req.originalUrl || req.url;\n\n  next();\n\n  function next(err) {\n    var layerError = err === 'route'\n      ? null\n      : err;\n\n    // remove added slash\n    if (slashAdded) {\n      req.url = req.url.substr(1);\n      slashAdded = false;\n    }\n\n    // restore altered req.url\n    if (removed.length !== 0) {\n      req.baseUrl = parentUrl;\n      req.url = protohost + removed + req.url.substr(protohost.length);\n      removed = '';\n    }\n\n    // signal to exit router\n    if (layerError === 'router') {\n      setImmediate(done, null)\n      return\n    }\n\n    // no more matching layers\n    if (idx >= stack.length) {\n      setImmediate(done, layerError);\n      return;\n    }\n\n    // get pathname of request\n    var path = getPathname(req);\n\n    if (path == null) {\n      return done(layerError);\n    }\n\n    // find next matching layer\n    var layer;\n    var match;\n    var route;\n\n    while (match !== true && idx < stack.length) {\n      layer = stack[idx++];\n      match = matchLayer(layer, path);\n      route = layer.route;\n\n      if (typeof match !== 'boolean') {\n        // hold on to layerError\n        layerError = layerError || match;\n      }\n\n      if (match !== true) {\n        continue;\n      }\n\n      if (!route) {\n        // process non-route handlers normally\n        continue;\n      }\n\n      if (layerError) {\n        // routes do not match with a pending error\n        match = false;\n        continue;\n      }\n\n      var method = req.method;\n      var has_method = route._handles_method(method);\n\n      // build up automatic options response\n      if (!has_method && method === 'OPTIONS') {\n        appendMethods(options, route._options());\n      }\n\n      // don't even bother matching route\n      if (!has_method && method !== 'HEAD') {\n        match = false;\n        continue;\n      }\n    }\n\n    // no match\n    if (match !== true) {\n      return done(layerError);\n    }\n\n    // store route for dispatch on change\n    if (route) {\n      req.route = route;\n    }\n\n    // Capture one-time layer values\n    req.params = self.mergeParams\n      ? mergeParams(layer.params, parentParams)\n      : layer.params;\n    var layerPath = layer.path;\n\n    // this should be done for the layer\n    self.process_params(layer, paramcalled, req, res, function (err) {\n      if (err) {\n        return next(layerError || err);\n      }\n\n      if (route) {\n        return layer.handle_request(req, res, next);\n      }\n\n      trim_prefix(layer, layerError, layerPath, path);\n    });\n  }\n\n  function trim_prefix(layer, layerError, layerPath, path) {\n    if (layerPath.length !== 0) {\n      // Validate path breaks on a path separator\n      var c = path[layerPath.length]\n      if (c && c !== '/' && c !== '.') return next(layerError)\n\n      // Trim off the part of the url that matches the route\n      // middleware (.use stuff) needs to have the path stripped\n      debug('trim prefix (%s) from url %s', layerPath, req.url);\n      removed = layerPath;\n      req.url = protohost + req.url.substr(protohost.length + removed.length);\n\n      // Ensure leading slash\n      if (!protohost && req.url[0] !== '/') {\n        req.url = '/' + req.url;\n        slashAdded = true;\n      }\n\n      // Setup base URL (no trailing slash)\n      req.baseUrl = parentUrl + (removed[removed.length - 1] === '/'\n        ? removed.substring(0, removed.length - 1)\n        : removed);\n    }\n\n    debug('%s %s : %s', layer.name, layerPath, req.originalUrl);\n\n    if (layerError) {\n      layer.handle_error(layerError, req, res, next);\n    } else {\n      layer.handle_request(req, res, next);\n    }\n  }\n};\n\n/**\n * Process any parameters for the layer.\n * @private\n */\n\nproto.process_params = function process_params(layer, called, req, res, done) {\n  var params = this.params;\n\n  // captured parameters from the layer, keys and values\n  var keys = layer.keys;\n\n  // fast track\n  if (!keys || keys.length === 0) {\n    return done();\n  }\n\n  var i = 0;\n  var name;\n  var paramIndex = 0;\n  var key;\n  var paramVal;\n  var paramCallbacks;\n  var paramCalled;\n\n  // process params in order\n  // param callbacks can be async\n  function param(err) {\n    if (err) {\n      return done(err);\n    }\n\n    if (i >= keys.length ) {\n      return done();\n    }\n\n    paramIndex = 0;\n    key = keys[i++];\n    name = key.name;\n    paramVal = req.params[name];\n    paramCallbacks = params[name];\n    paramCalled = called[name];\n\n    if (paramVal === undefined || !paramCallbacks) {\n      return param();\n    }\n\n    // param previously called with same value or error occurred\n    if (paramCalled && (paramCalled.match === paramVal\n      || (paramCalled.error && paramCalled.error !== 'route'))) {\n      // restore value\n      req.params[name] = paramCalled.value;\n\n      // next param\n      return param(paramCalled.error);\n    }\n\n    called[name] = paramCalled = {\n      error: null,\n      match: paramVal,\n      value: paramVal\n    };\n\n    paramCallback();\n  }\n\n  // single param callbacks\n  function paramCallback(err) {\n    var fn = paramCallbacks[paramIndex++];\n\n    // store updated value\n    paramCalled.value = req.params[key.name];\n\n    if (err) {\n      // store error\n      paramCalled.error = err;\n      param(err);\n      return;\n    }\n\n    if (!fn) return param();\n\n    try {\n      fn(req, res, paramCallback, paramVal, key.name);\n    } catch (e) {\n      paramCallback(e);\n    }\n  }\n\n  param();\n};\n\n/**\n * Use the given middleware function, with optional path, defaulting to \"/\".\n *\n * Use (like `.all`) will run for any http METHOD, but it will not add\n * handlers for those methods so OPTIONS requests will not consider `.use`\n * functions even if they could respond.\n *\n * The other difference is that _route_ path is stripped and not visible\n * to the handler function. The main effect of this feature is that mounted\n * handlers can operate without any code changes regardless of the \"prefix\"\n * pathname.\n *\n * @public\n */\n\nproto.use = function use(fn) {\n  var offset = 0;\n  var path = '/';\n\n  // default path to '/'\n  // disambiguate router.use([fn])\n  if (typeof fn !== 'function') {\n    var arg = fn;\n\n    while (Array.isArray(arg) && arg.length !== 0) {\n      arg = arg[0];\n    }\n\n    // first arg is the path\n    if (typeof arg !== 'function') {\n      offset = 1;\n      path = fn;\n    }\n  }\n\n  var callbacks = flatten(slice.call(arguments, offset));\n\n  if (callbacks.length === 0) {\n    throw new TypeError('Router.use() requires a middleware function')\n  }\n\n  for (var i = 0; i < callbacks.length; i++) {\n    var fn = callbacks[i];\n\n    if (typeof fn !== 'function') {\n      throw new TypeError('Router.use() requires a middleware function but got a ' + gettype(fn))\n    }\n\n    // add the middleware\n    debug('use %o %s', path, fn.name || '<anonymous>')\n\n    var layer = new Layer(path, {\n      sensitive: this.caseSensitive,\n      strict: false,\n      end: false\n    }, fn);\n\n    layer.route = undefined;\n\n    this.stack.push(layer);\n  }\n\n  return this;\n};\n\n/**\n * Create a new Route for the given path.\n *\n * Each route contains a separate middleware stack and VERB handlers.\n *\n * See the Route api documentation for details on adding handlers\n * and middleware to routes.\n *\n * @param {String} path\n * @return {Route}\n * @public\n */\n\nproto.route = function route(path) {\n  var route = new Route(path);\n\n  var layer = new Layer(path, {\n    sensitive: this.caseSensitive,\n    strict: this.strict,\n    end: true\n  }, route.dispatch.bind(route));\n\n  layer.route = route;\n\n  this.stack.push(layer);\n  return route;\n};\n\n// create Router#VERB functions\nmethods.concat('all').forEach(function(method){\n  proto[method] = function(path){\n    var route = this.route(path)\n    route[method].apply(route, slice.call(arguments, 1));\n    return this;\n  };\n});\n\n// append methods to a list of methods\nfunction appendMethods(list, addition) {\n  for (var i = 0; i < addition.length; i++) {\n    var method = addition[i];\n    if (list.indexOf(method) === -1) {\n      list.push(method);\n    }\n  }\n}\n\n// get pathname of request\nfunction getPathname(req) {\n  try {\n    return parseUrl(req).pathname;\n  } catch (err) {\n    return undefined;\n  }\n}\n\n// Get get protocol + host for a URL\nfunction getProtohost(url) {\n  if (typeof url !== 'string' || url.length === 0 || url[0] === '/') {\n    return undefined\n  }\n\n  var searchIndex = url.indexOf('?')\n  var pathLength = searchIndex !== -1\n    ? searchIndex\n    : url.length\n  var fqdnIndex = url.substr(0, pathLength).indexOf('://')\n\n  return fqdnIndex !== -1\n    ? url.substr(0, url.indexOf('/', 3 + fqdnIndex))\n    : undefined\n}\n\n// get type for error message\nfunction gettype(obj) {\n  var type = typeof obj;\n\n  if (type !== 'object') {\n    return type;\n  }\n\n  // inspect [[Class]] for objects\n  return toString.call(obj)\n    .replace(objectRegExp, '$1');\n}\n\n/**\n * Match path to a layer.\n *\n * @param {Layer} layer\n * @param {string} path\n * @private\n */\n\nfunction matchLayer(layer, path) {\n  try {\n    return layer.match(path);\n  } catch (err) {\n    return err;\n  }\n}\n\n// merge params with parent params\nfunction mergeParams(params, parent) {\n  if (typeof parent !== 'object' || !parent) {\n    return params;\n  }\n\n  // make copy of parent for base\n  var obj = mixin({}, parent);\n\n  // simple non-numeric merging\n  if (!(0 in params) || !(0 in parent)) {\n    return mixin(obj, params);\n  }\n\n  var i = 0;\n  var o = 0;\n\n  // determine numeric gaps\n  while (i in params) {\n    i++;\n  }\n\n  while (o in parent) {\n    o++;\n  }\n\n  // offset numeric indices in params before merge\n  for (i--; i >= 0; i--) {\n    params[i + o] = params[i];\n\n    // create holes for the merge when necessary\n    if (i < o) {\n      delete params[i];\n    }\n  }\n\n  return mixin(obj, params);\n}\n\n// restore obj props after function\nfunction restore(fn, obj) {\n  var props = new Array(arguments.length - 2);\n  var vals = new Array(arguments.length - 2);\n\n  for (var i = 0; i < props.length; i++) {\n    props[i] = arguments[i + 2];\n    vals[i] = obj[props[i]];\n  }\n\n  return function () {\n    // restore vals\n    for (var i = 0; i < props.length; i++) {\n      obj[props[i]] = vals[i];\n    }\n\n    return fn.apply(this, arguments);\n  };\n}\n\n// send an OPTIONS response\nfunction sendOptionsResponse(res, options, next) {\n  try {\n    var body = options.join(',');\n    res.set('Allow', body);\n    res.send(body);\n  } catch (err) {\n    next(err);\n  }\n}\n\n// wrap a function\nfunction wrap(old, fn) {\n  return function proxy() {\n    var args = new Array(arguments.length + 1);\n\n    args[0] = old;\n    for (var i = 0, len = arguments.length; i < len; i++) {\n      args[i + 1] = arguments[i];\n    }\n\n    fn.apply(this, args);\n  };\n}\n","/*!\n * express\n * Copyright(c) 2009-2013 TJ Holowaychuk\n * Copyright(c) 2013 Roman Shtylman\n * Copyright(c) 2014-2015 Douglas Christopher Wilson\n * MIT Licensed\n */\n\n'use strict';\n\n/**\n * Module dependencies.\n * @private\n */\n\nvar pathRegexp = require('path-to-regexp');\nvar debug = require('debug')('express:router:layer');\n\n/**\n * Module variables.\n * @private\n */\n\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\n\n/**\n * Module exports.\n * @public\n */\n\nmodule.exports = Layer;\n\nfunction Layer(path, options, fn) {\n  if (!(this instanceof Layer)) {\n    return new Layer(path, options, fn);\n  }\n\n  debug('new %o', path)\n  var opts = options || {};\n\n  this.handle = fn;\n  this.name = fn.name || '<anonymous>';\n  this.params = undefined;\n  this.path = undefined;\n  this.regexp = pathRegexp(path, this.keys = [], opts);\n\n  // set fast path flags\n  this.regexp.fast_star = path === '*'\n  this.regexp.fast_slash = path === '/' && opts.end === false\n}\n\n/**\n * Handle the error for the layer.\n *\n * @param {Error} error\n * @param {Request} req\n * @param {Response} res\n * @param {function} next\n * @api private\n */\n\nLayer.prototype.handle_error = function handle_error(error, req, res, next) {\n  var fn = this.handle;\n\n  if (fn.length !== 4) {\n    // not a standard error handler\n    return next(error);\n  }\n\n  try {\n    fn(error, req, res, next);\n  } catch (err) {\n    next(err);\n  }\n};\n\n/**\n * Handle the request for the layer.\n *\n * @param {Request} req\n * @param {Response} res\n * @param {function} next\n * @api private\n */\n\nLayer.prototype.handle_request = function handle(req, res, next) {\n  var fn = this.handle;\n\n  if (fn.length > 3) {\n    // not a standard request handler\n    return next();\n  }\n\n  try {\n    fn(req, res, next);\n  } catch (err) {\n    next(err);\n  }\n};\n\n/**\n * Check if this route matches `path`, if so\n * populate `.params`.\n *\n * @param {String} path\n * @return {Boolean}\n * @api private\n */\n\nLayer.prototype.match = function match(path) {\n  var match\n\n  if (path != null) {\n    // fast path non-ending match for / (any path matches)\n    if (this.regexp.fast_slash) {\n      this.params = {}\n      this.path = ''\n      return true\n    }\n\n    // fast path for * (everything matched in a param)\n    if (this.regexp.fast_star) {\n      this.params = {'0': decode_param(path)}\n      this.path = path\n      return true\n    }\n\n    // match the path\n    match = this.regexp.exec(path)\n  }\n\n  if (!match) {\n    this.params = undefined;\n    this.path = undefined;\n    return false;\n  }\n\n  // store values\n  this.params = {};\n  this.path = match[0]\n\n  var keys = this.keys;\n  var params = this.params;\n\n  for (var i = 1; i < match.length; i++) {\n    var key = keys[i - 1];\n    var prop = key.name;\n    var val = decode_param(match[i])\n\n    if (val !== undefined || !(hasOwnProperty.call(params, prop))) {\n      params[prop] = val;\n    }\n  }\n\n  return true;\n};\n\n/**\n * Decode param value.\n *\n * @param {string} val\n * @return {string}\n * @private\n */\n\nfunction decode_param(val) {\n  if (typeof val !== 'string' || val.length === 0) {\n    return val;\n  }\n\n  try {\n    return decodeURIComponent(val);\n  } catch (err) {\n    if (err instanceof URIError) {\n      err.message = 'Failed to decode param \\'' + val + '\\'';\n      err.status = err.statusCode = 400;\n    }\n\n    throw err;\n  }\n}\n","/*!\n * express\n * Copyright(c) 2009-2013 TJ Holowaychuk\n * Copyright(c) 2013 Roman Shtylman\n * Copyright(c) 2014-2015 Douglas Christopher Wilson\n * MIT Licensed\n */\n\n'use strict';\n\n/**\n * Module dependencies.\n * @private\n */\n\nvar debug = require('debug')('express:router:route');\nvar flatten = require('array-flatten');\nvar Layer = require('./layer');\nvar methods = require('methods');\n\n/**\n * Module variables.\n * @private\n */\n\nvar slice = Array.prototype.slice;\nvar toString = Object.prototype.toString;\n\n/**\n * Module exports.\n * @public\n */\n\nmodule.exports = Route;\n\n/**\n * Initialize `Route` with the given `path`,\n *\n * @param {String} path\n * @public\n */\n\nfunction Route(path) {\n  this.path = path;\n  this.stack = [];\n\n  debug('new %o', path)\n\n  // route handlers for various http methods\n  this.methods = {};\n}\n\n/**\n * Determine if the route handles a given method.\n * @private\n */\n\nRoute.prototype._handles_method = function _handles_method(method) {\n  if (this.methods._all) {\n    return true;\n  }\n\n  var name = method.toLowerCase();\n\n  if (name === 'head' && !this.methods['head']) {\n    name = 'get';\n  }\n\n  return Boolean(this.methods[name]);\n};\n\n/**\n * @return {Array} supported HTTP methods\n * @private\n */\n\nRoute.prototype._options = function _options() {\n  var methods = Object.keys(this.methods);\n\n  // append automatic head\n  if (this.methods.get && !this.methods.head) {\n    methods.push('head');\n  }\n\n  for (var i = 0; i < methods.length; i++) {\n    // make upper case\n    methods[i] = methods[i].toUpperCase();\n  }\n\n  return methods;\n};\n\n/**\n * dispatch req, res into this route\n * @private\n */\n\nRoute.prototype.dispatch = function dispatch(req, res, done) {\n  var idx = 0;\n  var stack = this.stack;\n  if (stack.length === 0) {\n    return done();\n  }\n\n  var method = req.method.toLowerCase();\n  if (method === 'head' && !this.methods['head']) {\n    method = 'get';\n  }\n\n  req.route = this;\n\n  next();\n\n  function next(err) {\n    // signal to exit route\n    if (err && err === 'route') {\n      return done();\n    }\n\n    // signal to exit router\n    if (err && err === 'router') {\n      return done(err)\n    }\n\n    var layer = stack[idx++];\n    if (!layer) {\n      return done(err);\n    }\n\n    if (layer.method && layer.method !== method) {\n      return next(err);\n    }\n\n    if (err) {\n      layer.handle_error(err, req, res, next);\n    } else {\n      layer.handle_request(req, res, next);\n    }\n  }\n};\n\n/**\n * Add a handler for all HTTP verbs to this route.\n *\n * Behaves just like middleware and can respond or call `next`\n * to continue processing.\n *\n * You can use multiple `.all` call to add multiple handlers.\n *\n *   function check_something(req, res, next){\n *     next();\n *   };\n *\n *   function validate_user(req, res, next){\n *     next();\n *   };\n *\n *   route\n *   .all(validate_user)\n *   .all(check_something)\n *   .get(function(req, res, next){\n *     res.send('hello world');\n *   });\n *\n * @param {function} handler\n * @return {Route} for chaining\n * @api public\n */\n\nRoute.prototype.all = function all() {\n  var handles = flatten(slice.call(arguments));\n\n  for (var i = 0; i < handles.length; i++) {\n    var handle = handles[i];\n\n    if (typeof handle !== 'function') {\n      var type = toString.call(handle);\n      var msg = 'Route.all() requires a callback function but got a ' + type\n      throw new TypeError(msg);\n    }\n\n    var layer = Layer('/', {}, handle);\n    layer.method = undefined;\n\n    this.methods._all = true;\n    this.stack.push(layer);\n  }\n\n  return this;\n};\n\nmethods.forEach(function(method){\n  Route.prototype[method] = function(){\n    var handles = flatten(slice.call(arguments));\n\n    for (var i = 0; i < handles.length; i++) {\n      var handle = handles[i];\n\n      if (typeof handle !== 'function') {\n        var type = toString.call(handle);\n        var msg = 'Route.' + method + '() requires a callback function but got a ' + type\n        throw new Error(msg);\n      }\n\n      debug('%s %o', method, this.path)\n\n      var layer = Layer('/', {}, handle);\n      layer.method = method;\n\n      this.methods[method] = true;\n      this.stack.push(layer);\n    }\n\n    return this;\n  };\n});\n","/*!\n * express\n * Copyright(c) 2009-2013 TJ Holowaychuk\n * Copyright(c) 2014-2015 Douglas Christopher Wilson\n * MIT Licensed\n */\n\n'use strict';\n\n/**\n * Module dependencies.\n * @api private\n */\n\nvar Buffer = require('safe-buffer').Buffer\nvar contentDisposition = require('content-disposition');\nvar contentType = require('content-type');\nvar deprecate = require('depd')('express');\nvar flatten = require('array-flatten');\nvar mime = require('send').mime;\nvar etag = require('etag');\nvar proxyaddr = require('proxy-addr');\nvar qs = require('qs');\nvar querystring = require('querystring');\n\n/**\n * Return strong ETag for `body`.\n *\n * @param {String|Buffer} body\n * @param {String} [encoding]\n * @return {String}\n * @api private\n */\n\nexports.etag = createETagGenerator({ weak: false })\n\n/**\n * Return weak ETag for `body`.\n *\n * @param {String|Buffer} body\n * @param {String} [encoding]\n * @return {String}\n * @api private\n */\n\nexports.wetag = createETagGenerator({ weak: true })\n\n/**\n * Check if `path` looks absolute.\n *\n * @param {String} path\n * @return {Boolean}\n * @api private\n */\n\nexports.isAbsolute = function(path){\n  if ('/' === path[0]) return true;\n  if (':' === path[1] && ('\\\\' === path[2] || '/' === path[2])) return true; // Windows device path\n  if ('\\\\\\\\' === path.substring(0, 2)) return true; // Microsoft Azure absolute path\n};\n\n/**\n * Flatten the given `arr`.\n *\n * @param {Array} arr\n * @return {Array}\n * @api private\n */\n\nexports.flatten = deprecate.function(flatten,\n  'utils.flatten: use array-flatten npm module instead');\n\n/**\n * Normalize the given `type`, for example \"html\" becomes \"text/html\".\n *\n * @param {String} type\n * @return {Object}\n * @api private\n */\n\nexports.normalizeType = function(type){\n  return ~type.indexOf('/')\n    ? acceptParams(type)\n    : { value: mime.lookup(type), params: {} };\n};\n\n/**\n * Normalize `types`, for example \"html\" becomes \"text/html\".\n *\n * @param {Array} types\n * @return {Array}\n * @api private\n */\n\nexports.normalizeTypes = function(types){\n  var ret = [];\n\n  for (var i = 0; i < types.length; ++i) {\n    ret.push(exports.normalizeType(types[i]));\n  }\n\n  return ret;\n};\n\n/**\n * Generate Content-Disposition header appropriate for the filename.\n * non-ascii filenames are urlencoded and a filename* parameter is added\n *\n * @param {String} filename\n * @return {String}\n * @api private\n */\n\nexports.contentDisposition = deprecate.function(contentDisposition,\n  'utils.contentDisposition: use content-disposition npm module instead');\n\n/**\n * Parse accept params `str` returning an\n * object with `.value`, `.quality` and `.params`.\n * also includes `.originalIndex` for stable sorting\n *\n * @param {String} str\n * @return {Object}\n * @api private\n */\n\nfunction acceptParams(str, index) {\n  var parts = str.split(/ *; */);\n  var ret = { value: parts[0], quality: 1, params: {}, originalIndex: index };\n\n  for (var i = 1; i < parts.length; ++i) {\n    var pms = parts[i].split(/ *= */);\n    if ('q' === pms[0]) {\n      ret.quality = parseFloat(pms[1]);\n    } else {\n      ret.params[pms[0]] = pms[1];\n    }\n  }\n\n  return ret;\n}\n\n/**\n * Compile \"etag\" value to function.\n *\n * @param  {Boolean|String|Function} val\n * @return {Function}\n * @api private\n */\n\nexports.compileETag = function(val) {\n  var fn;\n\n  if (typeof val === 'function') {\n    return val;\n  }\n\n  switch (val) {\n    case true:\n      fn = exports.wetag;\n      break;\n    case false:\n      break;\n    case 'strong':\n      fn = exports.etag;\n      break;\n    case 'weak':\n      fn = exports.wetag;\n      break;\n    default:\n      throw new TypeError('unknown value for etag function: ' + val);\n  }\n\n  return fn;\n}\n\n/**\n * Compile \"query parser\" value to function.\n *\n * @param  {String|Function} val\n * @return {Function}\n * @api private\n */\n\nexports.compileQueryParser = function compileQueryParser(val) {\n  var fn;\n\n  if (typeof val === 'function') {\n    return val;\n  }\n\n  switch (val) {\n    case true:\n      fn = querystring.parse;\n      break;\n    case false:\n      fn = newObject;\n      break;\n    case 'extended':\n      fn = parseExtendedQueryString;\n      break;\n    case 'simple':\n      fn = querystring.parse;\n      break;\n    default:\n      throw new TypeError('unknown value for query parser function: ' + val);\n  }\n\n  return fn;\n}\n\n/**\n * Compile \"proxy trust\" value to function.\n *\n * @param  {Boolean|String|Number|Array|Function} val\n * @return {Function}\n * @api private\n */\n\nexports.compileTrust = function(val) {\n  if (typeof val === 'function') return val;\n\n  if (val === true) {\n    // Support plain true/false\n    return function(){ return true };\n  }\n\n  if (typeof val === 'number') {\n    // Support trusting hop count\n    return function(a, i){ return i < val };\n  }\n\n  if (typeof val === 'string') {\n    // Support comma-separated values\n    val = val.split(/ *, */);\n  }\n\n  return proxyaddr.compile(val || []);\n}\n\n/**\n * Set the charset in a given Content-Type string.\n *\n * @param {String} type\n * @param {String} charset\n * @return {String}\n * @api private\n */\n\nexports.setCharset = function setCharset(type, charset) {\n  if (!type || !charset) {\n    return type;\n  }\n\n  // parse type\n  var parsed = contentType.parse(type);\n\n  // set charset\n  parsed.parameters.charset = charset;\n\n  // format type\n  return contentType.format(parsed);\n};\n\n/**\n * Create an ETag generator function, generating ETags with\n * the given options.\n *\n * @param {object} options\n * @return {function}\n * @private\n */\n\nfunction createETagGenerator (options) {\n  return function generateETag (body, encoding) {\n    var buf = !Buffer.isBuffer(body)\n      ? Buffer.from(body, encoding)\n      : body\n\n    return etag(buf, options)\n  }\n}\n\n/**\n * Parse an extended query string with qs.\n *\n * @return {Object}\n * @private\n */\n\nfunction parseExtendedQueryString(str) {\n  return qs.parse(str, {\n    allowPrototypes: true\n  });\n}\n\n/**\n * Return new empty object.\n *\n * @return {Object}\n * @api private\n */\n\nfunction newObject() {\n  return {};\n}\n","/*!\n * express\n * Copyright(c) 2009-2013 TJ Holowaychuk\n * Copyright(c) 2013 Roman Shtylman\n * Copyright(c) 2014-2015 Douglas Christopher Wilson\n * MIT Licensed\n */\n\n'use strict';\n\n/**\n * Module dependencies.\n * @private\n */\n\nvar debug = require('debug')('express:view');\nvar path = require('path');\nvar fs = require('fs');\n\n/**\n * Module variables.\n * @private\n */\n\nvar dirname = path.dirname;\nvar basename = path.basename;\nvar extname = path.extname;\nvar join = path.join;\nvar resolve = path.resolve;\n\n/**\n * Module exports.\n * @public\n */\n\nmodule.exports = View;\n\n/**\n * Initialize a new `View` with the given `name`.\n *\n * Options:\n *\n *   - `defaultEngine` the default template engine name\n *   - `engines` template engine require() cache\n *   - `root` root path for view lookup\n *\n * @param {string} name\n * @param {object} options\n * @public\n */\n\nfunction View(name, options) {\n  var opts = options || {};\n\n  this.defaultEngine = opts.defaultEngine;\n  this.ext = extname(name);\n  this.name = name;\n  this.root = opts.root;\n\n  if (!this.ext && !this.defaultEngine) {\n    throw new Error('No default engine was specified and no extension was provided.');\n  }\n\n  var fileName = name;\n\n  if (!this.ext) {\n    // get extension from default engine name\n    this.ext = this.defaultEngine[0] !== '.'\n      ? '.' + this.defaultEngine\n      : this.defaultEngine;\n\n    fileName += this.ext;\n  }\n\n  if (!opts.engines[this.ext]) {\n    // load engine\n    var mod = this.ext.substr(1)\n    debug('require \"%s\"', mod)\n\n    // default engine export\n    var fn = require(mod).__express\n\n    if (typeof fn !== 'function') {\n      throw new Error('Module \"' + mod + '\" does not provide a view engine.')\n    }\n\n    opts.engines[this.ext] = fn\n  }\n\n  // store loaded engine\n  this.engine = opts.engines[this.ext];\n\n  // lookup path\n  this.path = this.lookup(fileName);\n}\n\n/**\n * Lookup view by the given `name`\n *\n * @param {string} name\n * @private\n */\n\nView.prototype.lookup = function lookup(name) {\n  var path;\n  var roots = [].concat(this.root);\n\n  debug('lookup \"%s\"', name);\n\n  for (var i = 0; i < roots.length && !path; i++) {\n    var root = roots[i];\n\n    // resolve the path\n    var loc = resolve(root, name);\n    var dir = dirname(loc);\n    var file = basename(loc);\n\n    // resolve the file\n    path = this.resolve(dir, file);\n  }\n\n  return path;\n};\n\n/**\n * Render with the given options.\n *\n * @param {object} options\n * @param {function} callback\n * @private\n */\n\nView.prototype.render = function render(options, callback) {\n  debug('render \"%s\"', this.path);\n  this.engine(this.path, options, callback);\n};\n\n/**\n * Resolve the file within the given directory.\n *\n * @param {string} dir\n * @param {string} file\n * @private\n */\n\nView.prototype.resolve = function resolve(dir, file) {\n  var ext = this.ext;\n\n  // <path>.<ext>\n  var path = join(dir, file);\n  var stat = tryStat(path);\n\n  if (stat && stat.isFile()) {\n    return path;\n  }\n\n  // <path>/index.<ext>\n  path = join(dir, basename(file, ext), 'index' + ext);\n  stat = tryStat(path);\n\n  if (stat && stat.isFile()) {\n    return path;\n  }\n};\n\n/**\n * Return a stat, maybe.\n *\n * @param {string} path\n * @return {fs.Stats}\n * @private\n */\n\nfunction tryStat(path) {\n  debug('stat \"%s\"', path);\n\n  try {\n    return fs.statSync(path);\n  } catch (e) {\n    return undefined;\n  }\n}\n","'use strict';\n\nvar hasOwn = Object.prototype.hasOwnProperty;\nvar toStr = Object.prototype.toString;\nvar defineProperty = Object.defineProperty;\nvar gOPD = Object.getOwnPropertyDescriptor;\n\nvar isArray = function isArray(arr) {\n\tif (typeof Array.isArray === 'function') {\n\t\treturn Array.isArray(arr);\n\t}\n\n\treturn toStr.call(arr) === '[object Array]';\n};\n\nvar isPlainObject = function isPlainObject(obj) {\n\tif (!obj || toStr.call(obj) !== '[object Object]') {\n\t\treturn false;\n\t}\n\n\tvar hasOwnConstructor = hasOwn.call(obj, 'constructor');\n\tvar hasIsPrototypeOf = obj.constructor && obj.constructor.prototype && hasOwn.call(obj.constructor.prototype, 'isPrototypeOf');\n\t// Not own constructor property must be Object\n\tif (obj.constructor && !hasOwnConstructor && !hasIsPrototypeOf) {\n\t\treturn false;\n\t}\n\n\t// Own properties are enumerated firstly, so to speed up,\n\t// if last one is own, then all properties are own.\n\tvar key;\n\tfor (key in obj) { /**/ }\n\n\treturn typeof key === 'undefined' || hasOwn.call(obj, key);\n};\n\n// If name is '__proto__', and Object.defineProperty is available, define __proto__ as an own property on target\nvar setProperty = function setProperty(target, options) {\n\tif (defineProperty && options.name === '__proto__') {\n\t\tdefineProperty(target, options.name, {\n\t\t\tenumerable: true,\n\t\t\tconfigurable: true,\n\t\t\tvalue: options.newValue,\n\t\t\twritable: true\n\t\t});\n\t} else {\n\t\ttarget[options.name] = options.newValue;\n\t}\n};\n\n// Return undefined instead of __proto__ if '__proto__' is not an own property\nvar getProperty = function getProperty(obj, name) {\n\tif (name === '__proto__') {\n\t\tif (!hasOwn.call(obj, name)) {\n\t\t\treturn void 0;\n\t\t} else if (gOPD) {\n\t\t\t// In early versions of node, obj['__proto__'] is buggy when obj has\n\t\t\t// __proto__ as an own property. Object.getOwnPropertyDescriptor() works.\n\t\t\treturn gOPD(obj, name).value;\n\t\t}\n\t}\n\n\treturn obj[name];\n};\n\nmodule.exports = function extend() {\n\tvar options, name, src, copy, copyIsArray, clone;\n\tvar target = arguments[0];\n\tvar i = 1;\n\tvar length = arguments.length;\n\tvar deep = false;\n\n\t// Handle a deep copy situation\n\tif (typeof target === 'boolean') {\n\t\tdeep = target;\n\t\ttarget = arguments[1] || {};\n\t\t// skip the boolean and the target\n\t\ti = 2;\n\t}\n\tif (target == null || (typeof target !== 'object' && typeof target !== 'function')) {\n\t\ttarget = {};\n\t}\n\n\tfor (; i < length; ++i) {\n\t\toptions = arguments[i];\n\t\t// Only deal with non-null/undefined values\n\t\tif (options != null) {\n\t\t\t// Extend the base object\n\t\t\tfor (name in options) {\n\t\t\t\tsrc = getProperty(target, name);\n\t\t\t\tcopy = getProperty(options, name);\n\n\t\t\t\t// Prevent never-ending loop\n\t\t\t\tif (target !== copy) {\n\t\t\t\t\t// Recurse if we're merging plain objects or arrays\n\t\t\t\t\tif (deep && copy && (isPlainObject(copy) || (copyIsArray = isArray(copy)))) {\n\t\t\t\t\t\tif (copyIsArray) {\n\t\t\t\t\t\t\tcopyIsArray = false;\n\t\t\t\t\t\t\tclone = src && isArray(src) ? src : [];\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tclone = src && isPlainObject(src) ? src : {};\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// Never move original objects, clone them\n\t\t\t\t\t\tsetProperty(target, { name: name, newValue: extend(deep, clone, copy) });\n\n\t\t\t\t\t// Don't bring in undefined values\n\t\t\t\t\t} else if (typeof copy !== 'undefined') {\n\t\t\t\t\t\tsetProperty(target, { name: name, newValue: copy });\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t// Return the modified object\n\treturn target;\n};\n","/*\n * extsprintf.js: extended POSIX-style sprintf\n */\n\nvar mod_assert = require('assert');\nvar mod_util = require('util');\n\n/*\n * Public interface\n */\nexports.sprintf = jsSprintf;\nexports.printf = jsPrintf;\nexports.fprintf = jsFprintf;\n\n/*\n * Stripped down version of s[n]printf(3c).  We make a best effort to throw an\n * exception when given a format string we don't understand, rather than\n * ignoring it, so that we won't break existing programs if/when we go implement\n * the rest of this.\n *\n * This implementation currently supports specifying\n *\t- field alignment ('-' flag),\n * \t- zero-pad ('0' flag)\n *\t- always show numeric sign ('+' flag),\n *\t- field width\n *\t- conversions for strings, decimal integers, and floats (numbers).\n *\t- argument size specifiers.  These are all accepted but ignored, since\n *\t  Javascript has no notion of the physical size of an argument.\n *\n * Everything else is currently unsupported, most notably precision, unsigned\n * numbers, non-decimal numbers, and characters.\n */\nfunction jsSprintf(fmt)\n{\n\tvar regex = [\n\t    '([^%]*)',\t\t\t\t/* normal text */\n\t    '%',\t\t\t\t/* start of format */\n\t    '([\\'\\\\-+ #0]*?)',\t\t\t/* flags (optional) */\n\t    '([1-9]\\\\d*)?',\t\t\t/* width (optional) */\n\t    '(\\\\.([1-9]\\\\d*))?',\t\t/* precision (optional) */\n\t    '[lhjztL]*?',\t\t\t/* length mods (ignored) */\n\t    '([diouxXfFeEgGaAcCsSp%jr])'\t/* conversion */\n\t].join('');\n\n\tvar re = new RegExp(regex);\n\tvar args = Array.prototype.slice.call(arguments, 1);\n\tvar flags, width, precision, conversion;\n\tvar left, pad, sign, arg, match;\n\tvar ret = '';\n\tvar argn = 1;\n\n\tmod_assert.equal('string', typeof (fmt));\n\n\twhile ((match = re.exec(fmt)) !== null) {\n\t\tret += match[1];\n\t\tfmt = fmt.substring(match[0].length);\n\n\t\tflags = match[2] || '';\n\t\twidth = match[3] || 0;\n\t\tprecision = match[4] || '';\n\t\tconversion = match[6];\n\t\tleft = false;\n\t\tsign = false;\n\t\tpad = ' ';\n\n\t\tif (conversion == '%') {\n\t\t\tret += '%';\n\t\t\tcontinue;\n\t\t}\n\n\t\tif (args.length === 0)\n\t\t\tthrow (new Error('too few args to sprintf'));\n\n\t\targ = args.shift();\n\t\targn++;\n\n\t\tif (flags.match(/[\\' #]/))\n\t\t\tthrow (new Error(\n\t\t\t    'unsupported flags: ' + flags));\n\n\t\tif (precision.length > 0)\n\t\t\tthrow (new Error(\n\t\t\t    'non-zero precision not supported'));\n\n\t\tif (flags.match(/-/))\n\t\t\tleft = true;\n\n\t\tif (flags.match(/0/))\n\t\t\tpad = '0';\n\n\t\tif (flags.match(/\\+/))\n\t\t\tsign = true;\n\n\t\tswitch (conversion) {\n\t\tcase 's':\n\t\t\tif (arg === undefined || arg === null)\n\t\t\t\tthrow (new Error('argument ' + argn +\n\t\t\t\t    ': attempted to print undefined or null ' +\n\t\t\t\t    'as a string'));\n\t\t\tret += doPad(pad, width, left, arg.toString());\n\t\t\tbreak;\n\n\t\tcase 'd':\n\t\t\targ = Math.floor(arg);\n\t\t\t/*jsl:fallthru*/\n\t\tcase 'f':\n\t\t\tsign = sign && arg > 0 ? '+' : '';\n\t\t\tret += sign + doPad(pad, width, left,\n\t\t\t    arg.toString());\n\t\t\tbreak;\n\n\t\tcase 'x':\n\t\t\tret += doPad(pad, width, left, arg.toString(16));\n\t\t\tbreak;\n\n\t\tcase 'j': /* non-standard */\n\t\t\tif (width === 0)\n\t\t\t\twidth = 10;\n\t\t\tret += mod_util.inspect(arg, false, width);\n\t\t\tbreak;\n\n\t\tcase 'r': /* non-standard */\n\t\t\tret += dumpException(arg);\n\t\t\tbreak;\n\n\t\tdefault:\n\t\t\tthrow (new Error('unsupported conversion: ' +\n\t\t\t    conversion));\n\t\t}\n\t}\n\n\tret += fmt;\n\treturn (ret);\n}\n\nfunction jsPrintf() {\n\tvar args = Array.prototype.slice.call(arguments);\n\targs.unshift(process.stdout);\n\tjsFprintf.apply(null, args);\n}\n\nfunction jsFprintf(stream) {\n\tvar args = Array.prototype.slice.call(arguments, 1);\n\treturn (stream.write(jsSprintf.apply(this, args)));\n}\n\nfunction doPad(chr, width, left, str)\n{\n\tvar ret = str;\n\n\twhile (ret.length < width) {\n\t\tif (left)\n\t\t\tret += chr;\n\t\telse\n\t\t\tret = chr + ret;\n\t}\n\n\treturn (ret);\n}\n\n/*\n * This function dumps long stack traces for exceptions having a cause() method.\n * See node-verror for an example.\n */\nfunction dumpException(ex)\n{\n\tvar ret;\n\n\tif (!(ex instanceof Error))\n\t\tthrow (new Error(jsSprintf('invalid type for %%r: %j', ex)));\n\n\t/* Note that V8 prepends \"ex.stack\" with ex.toString(). */\n\tret = 'EXCEPTION: ' + ex.constructor.name + ': ' + ex.stack;\n\n\tif (ex.cause && typeof (ex.cause) === 'function') {\n\t\tvar cex = ex.cause();\n\t\tif (cex) {\n\t\t\tret += '\\nCaused by: ' + dumpException(cex);\n\t\t}\n\t}\n\n\treturn (ret);\n}\n","'use strict';\n\nvar isArray = Array.isArray;\nvar keyList = Object.keys;\nvar hasProp = Object.prototype.hasOwnProperty;\n\nmodule.exports = function equal(a, b) {\n  if (a === b) return true;\n\n  if (a && b && typeof a == 'object' && typeof b == 'object') {\n    var arrA = isArray(a)\n      , arrB = isArray(b)\n      , i\n      , length\n      , key;\n\n    if (arrA && arrB) {\n      length = a.length;\n      if (length != b.length) return false;\n      for (i = length; i-- !== 0;)\n        if (!equal(a[i], b[i])) return false;\n      return true;\n    }\n\n    if (arrA != arrB) return false;\n\n    var dateA = a instanceof Date\n      , dateB = b instanceof Date;\n    if (dateA != dateB) return false;\n    if (dateA && dateB) return a.getTime() == b.getTime();\n\n    var regexpA = a instanceof RegExp\n      , regexpB = b instanceof RegExp;\n    if (regexpA != regexpB) return false;\n    if (regexpA && regexpB) return a.toString() == b.toString();\n\n    var keys = keyList(a);\n    length = keys.length;\n\n    if (length !== keyList(b).length)\n      return false;\n\n    for (i = length; i-- !== 0;)\n      if (!hasProp.call(b, keys[i])) return false;\n\n    for (i = length; i-- !== 0;) {\n      key = keys[i];\n      if (!equal(a[key], b[key])) return false;\n    }\n\n    return true;\n  }\n\n  return a!==a && b!==b;\n};\n","'use strict';\n\nmodule.exports = function (data, opts) {\n    if (!opts) opts = {};\n    if (typeof opts === 'function') opts = { cmp: opts };\n    var cycles = (typeof opts.cycles === 'boolean') ? opts.cycles : false;\n\n    var cmp = opts.cmp && (function (f) {\n        return function (node) {\n            return function (a, b) {\n                var aobj = { key: a, value: node[a] };\n                var bobj = { key: b, value: node[b] };\n                return f(aobj, bobj);\n            };\n        };\n    })(opts.cmp);\n\n    var seen = [];\n    return (function stringify (node) {\n        if (node && node.toJSON && typeof node.toJSON === 'function') {\n            node = node.toJSON();\n        }\n\n        if (node === undefined) return;\n        if (typeof node == 'number') return isFinite(node) ? '' + node : 'null';\n        if (typeof node !== 'object') return JSON.stringify(node);\n\n        var i, out;\n        if (Array.isArray(node)) {\n            out = '[';\n            for (i = 0; i < node.length; i++) {\n                if (i) out += ',';\n                out += stringify(node[i]) || 'null';\n            }\n            return out + ']';\n        }\n\n        if (node === null) return 'null';\n\n        if (seen.indexOf(node) !== -1) {\n            if (cycles) return JSON.stringify('__cycle__');\n            throw new TypeError('Converting circular structure to JSON');\n        }\n\n        var seenIndex = seen.push(node) - 1;\n        var keys = Object.keys(node).sort(cmp && cmp(node));\n        out = '';\n        for (i = 0; i < keys.length; i++) {\n            var key = keys[i];\n            var value = stringify(node[key]);\n\n            if (!value) continue;\n            if (out) out += ',';\n            out += JSON.stringify(key) + ':' + value;\n        }\n        seen.splice(seenIndex, 1);\n        return '{' + out + '}';\n    })(data);\n};\n","/*!\n * finalhandler\n * Copyright(c) 2014-2017 Douglas Christopher Wilson\n * MIT Licensed\n */\n\n'use strict'\n\n/**\n * Module dependencies.\n * @private\n */\n\nvar debug = require('debug')('finalhandler')\nvar encodeUrl = require('encodeurl')\nvar escapeHtml = require('escape-html')\nvar onFinished = require('on-finished')\nvar parseUrl = require('parseurl')\nvar statuses = require('statuses')\nvar unpipe = require('unpipe')\n\n/**\n * Module variables.\n * @private\n */\n\nvar DOUBLE_SPACE_REGEXP = /\\x20{2}/g\nvar NEWLINE_REGEXP = /\\n/g\n\n/* istanbul ignore next */\nvar defer = typeof setImmediate === 'function'\n  ? setImmediate\n  : function (fn) { process.nextTick(fn.bind.apply(fn, arguments)) }\nvar isFinished = onFinished.isFinished\n\n/**\n * Create a minimal HTML document.\n *\n * @param {string} message\n * @private\n */\n\nfunction createHtmlDocument (message) {\n  var body = escapeHtml(message)\n    .replace(NEWLINE_REGEXP, '<br>')\n    .replace(DOUBLE_SPACE_REGEXP, ' &nbsp;')\n\n  return '<!DOCTYPE html>\\n' +\n    '<html lang=\"en\">\\n' +\n    '<head>\\n' +\n    '<meta charset=\"utf-8\">\\n' +\n    '<title>Error</title>\\n' +\n    '</head>\\n' +\n    '<body>\\n' +\n    '<pre>' + body + '</pre>\\n' +\n    '</body>\\n' +\n    '</html>\\n'\n}\n\n/**\n * Module exports.\n * @public\n */\n\nmodule.exports = finalhandler\n\n/**\n * Create a function to handle the final response.\n *\n * @param {Request} req\n * @param {Response} res\n * @param {Object} [options]\n * @return {Function}\n * @public\n */\n\nfunction finalhandler (req, res, options) {\n  var opts = options || {}\n\n  // get environment\n  var env = opts.env || process.env.NODE_ENV || 'development'\n\n  // get error callback\n  var onerror = opts.onerror\n\n  return function (err) {\n    var headers\n    var msg\n    var status\n\n    // ignore 404 on in-flight response\n    if (!err && headersSent(res)) {\n      debug('cannot 404 after headers sent')\n      return\n    }\n\n    // unhandled error\n    if (err) {\n      // respect status code from error\n      status = getErrorStatusCode(err)\n\n      if (status === undefined) {\n        // fallback to status code on response\n        status = getResponseStatusCode(res)\n      } else {\n        // respect headers from error\n        headers = getErrorHeaders(err)\n      }\n\n      // get error message\n      msg = getErrorMessage(err, status, env)\n    } else {\n      // not found\n      status = 404\n      msg = 'Cannot ' + req.method + ' ' + encodeUrl(getResourceName(req))\n    }\n\n    debug('default %s', status)\n\n    // schedule onerror callback\n    if (err && onerror) {\n      defer(onerror, err, req, res)\n    }\n\n    // cannot actually respond\n    if (headersSent(res)) {\n      debug('cannot %d after headers sent', status)\n      req.socket.destroy()\n      return\n    }\n\n    // send response\n    send(req, res, status, headers, msg)\n  }\n}\n\n/**\n * Get headers from Error object.\n *\n * @param {Error} err\n * @return {object}\n * @private\n */\n\nfunction getErrorHeaders (err) {\n  if (!err.headers || typeof err.headers !== 'object') {\n    return undefined\n  }\n\n  var headers = Object.create(null)\n  var keys = Object.keys(err.headers)\n\n  for (var i = 0; i < keys.length; i++) {\n    var key = keys[i]\n    headers[key] = err.headers[key]\n  }\n\n  return headers\n}\n\n/**\n * Get message from Error object, fallback to status message.\n *\n * @param {Error} err\n * @param {number} status\n * @param {string} env\n * @return {string}\n * @private\n */\n\nfunction getErrorMessage (err, status, env) {\n  var msg\n\n  if (env !== 'production') {\n    // use err.stack, which typically includes err.message\n    msg = err.stack\n\n    // fallback to err.toString() when possible\n    if (!msg && typeof err.toString === 'function') {\n      msg = err.toString()\n    }\n  }\n\n  return msg || statuses[status]\n}\n\n/**\n * Get status code from Error object.\n *\n * @param {Error} err\n * @return {number}\n * @private\n */\n\nfunction getErrorStatusCode (err) {\n  // check err.status\n  if (typeof err.status === 'number' && err.status >= 400 && err.status < 600) {\n    return err.status\n  }\n\n  // check err.statusCode\n  if (typeof err.statusCode === 'number' && err.statusCode >= 400 && err.statusCode < 600) {\n    return err.statusCode\n  }\n\n  return undefined\n}\n\n/**\n * Get resource name for the request.\n *\n * This is typically just the original pathname of the request\n * but will fallback to \"resource\" is that cannot be determined.\n *\n * @param {IncomingMessage} req\n * @return {string}\n * @private\n */\n\nfunction getResourceName (req) {\n  try {\n    return parseUrl.original(req).pathname\n  } catch (e) {\n    return 'resource'\n  }\n}\n\n/**\n * Get status code from response.\n *\n * @param {OutgoingMessage} res\n * @return {number}\n * @private\n */\n\nfunction getResponseStatusCode (res) {\n  var status = res.statusCode\n\n  // default status code to 500 if outside valid range\n  if (typeof status !== 'number' || status < 400 || status > 599) {\n    status = 500\n  }\n\n  return status\n}\n\n/**\n * Determine if the response headers have been sent.\n *\n * @param {object} res\n * @returns {boolean}\n * @private\n */\n\nfunction headersSent (res) {\n  return typeof res.headersSent !== 'boolean'\n    ? Boolean(res._header)\n    : res.headersSent\n}\n\n/**\n * Send response.\n *\n * @param {IncomingMessage} req\n * @param {OutgoingMessage} res\n * @param {number} status\n * @param {object} headers\n * @param {string} message\n * @private\n */\n\nfunction send (req, res, status, headers, message) {\n  function write () {\n    // response body\n    var body = createHtmlDocument(message)\n\n    // response status\n    res.statusCode = status\n    res.statusMessage = statuses[status]\n\n    // response headers\n    setHeaders(res, headers)\n\n    // security headers\n    res.setHeader('Content-Security-Policy', \"default-src 'none'\")\n    res.setHeader('X-Content-Type-Options', 'nosniff')\n\n    // standard headers\n    res.setHeader('Content-Type', 'text/html; charset=utf-8')\n    res.setHeader('Content-Length', Buffer.byteLength(body, 'utf8'))\n\n    if (req.method === 'HEAD') {\n      res.end()\n      return\n    }\n\n    res.end(body, 'utf8')\n  }\n\n  if (isFinished(req)) {\n    write()\n    return\n  }\n\n  // unpipe everything from the request\n  unpipe(req)\n\n  // flush the request\n  onFinished(req, write)\n  req.resume()\n}\n\n/**\n * Set response headers from an object.\n *\n * @param {OutgoingMessage} res\n * @param {object} headers\n * @private\n */\n\nfunction setHeaders (res, headers) {\n  if (!headers) {\n    return\n  }\n\n  var keys = Object.keys(headers)\n  for (var i = 0; i < keys.length; i++) {\n    var key = keys[i]\n    res.setHeader(key, headers[key])\n  }\n}\n","module.exports = ForeverAgent\nForeverAgent.SSL = ForeverAgentSSL\n\nvar util = require('util')\n  , Agent = require('http').Agent\n  , net = require('net')\n  , tls = require('tls')\n  , AgentSSL = require('https').Agent\n  \nfunction getConnectionName(host, port) {  \n  var name = ''\n  if (typeof host === 'string') {\n    name = host + ':' + port\n  } else {\n    // For node.js v012.0 and iojs-v1.5.1, host is an object. And any existing localAddress is part of the connection name.\n    name = host.host + ':' + host.port + ':' + (host.localAddress ? (host.localAddress + ':') : ':')\n  }\n  return name\n}    \n\nfunction ForeverAgent(options) {\n  var self = this\n  self.options = options || {}\n  self.requests = {}\n  self.sockets = {}\n  self.freeSockets = {}\n  self.maxSockets = self.options.maxSockets || Agent.defaultMaxSockets\n  self.minSockets = self.options.minSockets || ForeverAgent.defaultMinSockets\n  self.on('free', function(socket, host, port) {\n    var name = getConnectionName(host, port)\n\n    if (self.requests[name] && self.requests[name].length) {\n      self.requests[name].shift().onSocket(socket)\n    } else if (self.sockets[name].length < self.minSockets) {\n      if (!self.freeSockets[name]) self.freeSockets[name] = []\n      self.freeSockets[name].push(socket)\n      \n      // if an error happens while we don't use the socket anyway, meh, throw the socket away\n      var onIdleError = function() {\n        socket.destroy()\n      }\n      socket._onIdleError = onIdleError\n      socket.on('error', onIdleError)\n    } else {\n      // If there are no pending requests just destroy the\n      // socket and it will get removed from the pool. This\n      // gets us out of timeout issues and allows us to\n      // default to Connection:keep-alive.\n      socket.destroy()\n    }\n  })\n\n}\nutil.inherits(ForeverAgent, Agent)\n\nForeverAgent.defaultMinSockets = 5\n\n\nForeverAgent.prototype.createConnection = net.createConnection\nForeverAgent.prototype.addRequestNoreuse = Agent.prototype.addRequest\nForeverAgent.prototype.addRequest = function(req, host, port) {\n  var name = getConnectionName(host, port)\n  \n  if (typeof host !== 'string') {\n    var options = host\n    port = options.port\n    host = options.host\n  }\n\n  if (this.freeSockets[name] && this.freeSockets[name].length > 0 && !req.useChunkedEncodingByDefault) {\n    var idleSocket = this.freeSockets[name].pop()\n    idleSocket.removeListener('error', idleSocket._onIdleError)\n    delete idleSocket._onIdleError\n    req._reusedSocket = true\n    req.onSocket(idleSocket)\n  } else {\n    this.addRequestNoreuse(req, host, port)\n  }\n}\n\nForeverAgent.prototype.removeSocket = function(s, name, host, port) {\n  if (this.sockets[name]) {\n    var index = this.sockets[name].indexOf(s)\n    if (index !== -1) {\n      this.sockets[name].splice(index, 1)\n    }\n  } else if (this.sockets[name] && this.sockets[name].length === 0) {\n    // don't leak\n    delete this.sockets[name]\n    delete this.requests[name]\n  }\n  \n  if (this.freeSockets[name]) {\n    var index = this.freeSockets[name].indexOf(s)\n    if (index !== -1) {\n      this.freeSockets[name].splice(index, 1)\n      if (this.freeSockets[name].length === 0) {\n        delete this.freeSockets[name]\n      }\n    }\n  }\n\n  if (this.requests[name] && this.requests[name].length) {\n    // If we have pending requests and a socket gets closed a new one\n    // needs to be created to take over in the pool for the one that closed.\n    this.createSocket(name, host, port).emit('free')\n  }\n}\n\nfunction ForeverAgentSSL (options) {\n  ForeverAgent.call(this, options)\n}\nutil.inherits(ForeverAgentSSL, ForeverAgent)\n\nForeverAgentSSL.prototype.createConnection = createConnectionSSL\nForeverAgentSSL.prototype.addRequestNoreuse = AgentSSL.prototype.addRequest\n\nfunction createConnectionSSL (port, host, options) {\n  if (typeof port === 'object') {\n    options = port;\n  } else if (typeof host === 'object') {\n    options = host;\n  } else if (typeof options === 'object') {\n    options = options;\n  } else {\n    options = {};\n  }\n\n  if (typeof port === 'number') {\n    options.port = port;\n  }\n\n  if (typeof host === 'string') {\n    options.host = host;\n  }\n\n  return tls.connect(options);\n}\n","var CombinedStream = require('combined-stream');\nvar util = require('util');\nvar path = require('path');\nvar http = require('http');\nvar https = require('https');\nvar parseUrl = require('url').parse;\nvar fs = require('fs');\nvar mime = require('mime-types');\nvar asynckit = require('asynckit');\nvar populate = require('./populate.js');\n\n// Public API\nmodule.exports = FormData;\n\n// make it a Stream\nutil.inherits(FormData, CombinedStream);\n\n/**\n * Create readable \"multipart/form-data\" streams.\n * Can be used to submit forms\n * and file uploads to other web applications.\n *\n * @constructor\n * @param {Object} options - Properties to be added/overriden for FormData and CombinedStream\n */\nfunction FormData(options) {\n  if (!(this instanceof FormData)) {\n    return new FormData();\n  }\n\n  this._overheadLength = 0;\n  this._valueLength = 0;\n  this._valuesToMeasure = [];\n\n  CombinedStream.call(this);\n\n  options = options || {};\n  for (var option in options) {\n    this[option] = options[option];\n  }\n}\n\nFormData.LINE_BREAK = '\\r\\n';\nFormData.DEFAULT_CONTENT_TYPE = 'application/octet-stream';\n\nFormData.prototype.append = function(field, value, options) {\n\n  options = options || {};\n\n  // allow filename as single option\n  if (typeof options == 'string') {\n    options = {filename: options};\n  }\n\n  var append = CombinedStream.prototype.append.bind(this);\n\n  // all that streamy business can't handle numbers\n  if (typeof value == 'number') {\n    value = '' + value;\n  }\n\n  // https://github.com/felixge/node-form-data/issues/38\n  if (util.isArray(value)) {\n    // Please convert your array into string\n    // the way web server expects it\n    this._error(new Error('Arrays are not supported.'));\n    return;\n  }\n\n  var header = this._multiPartHeader(field, value, options);\n  var footer = this._multiPartFooter();\n\n  append(header);\n  append(value);\n  append(footer);\n\n  // pass along options.knownLength\n  this._trackLength(header, value, options);\n};\n\nFormData.prototype._trackLength = function(header, value, options) {\n  var valueLength = 0;\n\n  // used w/ getLengthSync(), when length is known.\n  // e.g. for streaming directly from a remote server,\n  // w/ a known file a size, and not wanting to wait for\n  // incoming file to finish to get its size.\n  if (options.knownLength != null) {\n    valueLength += +options.knownLength;\n  } else if (Buffer.isBuffer(value)) {\n    valueLength = value.length;\n  } else if (typeof value === 'string') {\n    valueLength = Buffer.byteLength(value);\n  }\n\n  this._valueLength += valueLength;\n\n  // @check why add CRLF? does this account for custom/multiple CRLFs?\n  this._overheadLength +=\n    Buffer.byteLength(header) +\n    FormData.LINE_BREAK.length;\n\n  // empty or either doesn't have path or not an http response\n  if (!value || ( !value.path && !(value.readable && value.hasOwnProperty('httpVersion')) )) {\n    return;\n  }\n\n  // no need to bother with the length\n  if (!options.knownLength) {\n    this._valuesToMeasure.push(value);\n  }\n};\n\nFormData.prototype._lengthRetriever = function(value, callback) {\n\n  if (value.hasOwnProperty('fd')) {\n\n    // take read range into a account\n    // `end` = Infinity > read file till the end\n    //\n    // TODO: Looks like there is bug in Node fs.createReadStream\n    // it doesn't respect `end` options without `start` options\n    // Fix it when node fixes it.\n    // https://github.com/joyent/node/issues/7819\n    if (value.end != undefined && value.end != Infinity && value.start != undefined) {\n\n      // when end specified\n      // no need to calculate range\n      // inclusive, starts with 0\n      callback(null, value.end + 1 - (value.start ? value.start : 0));\n\n    // not that fast snoopy\n    } else {\n      // still need to fetch file size from fs\n      fs.stat(value.path, function(err, stat) {\n\n        var fileSize;\n\n        if (err) {\n          callback(err);\n          return;\n        }\n\n        // update final size based on the range options\n        fileSize = stat.size - (value.start ? value.start : 0);\n        callback(null, fileSize);\n      });\n    }\n\n  // or http response\n  } else if (value.hasOwnProperty('httpVersion')) {\n    callback(null, +value.headers['content-length']);\n\n  // or request stream http://github.com/mikeal/request\n  } else if (value.hasOwnProperty('httpModule')) {\n    // wait till response come back\n    value.on('response', function(response) {\n      value.pause();\n      callback(null, +response.headers['content-length']);\n    });\n    value.resume();\n\n  // something else\n  } else {\n    callback('Unknown stream');\n  }\n};\n\nFormData.prototype._multiPartHeader = function(field, value, options) {\n  // custom header specified (as string)?\n  // it becomes responsible for boundary\n  // (e.g. to handle extra CRLFs on .NET servers)\n  if (typeof options.header == 'string') {\n    return options.header;\n  }\n\n  var contentDisposition = this._getContentDisposition(value, options);\n  var contentType = this._getContentType(value, options);\n\n  var contents = '';\n  var headers  = {\n    // add custom disposition as third element or keep it two elements if not\n    'Content-Disposition': ['form-data', 'name=\"' + field + '\"'].concat(contentDisposition || []),\n    // if no content type. allow it to be empty array\n    'Content-Type': [].concat(contentType || [])\n  };\n\n  // allow custom headers.\n  if (typeof options.header == 'object') {\n    populate(headers, options.header);\n  }\n\n  var header;\n  for (var prop in headers) {\n    if (!headers.hasOwnProperty(prop)) continue;\n    header = headers[prop];\n\n    // skip nullish headers.\n    if (header == null) {\n      continue;\n    }\n\n    // convert all headers to arrays.\n    if (!Array.isArray(header)) {\n      header = [header];\n    }\n\n    // add non-empty headers.\n    if (header.length) {\n      contents += prop + ': ' + header.join('; ') + FormData.LINE_BREAK;\n    }\n  }\n\n  return '--' + this.getBoundary() + FormData.LINE_BREAK + contents + FormData.LINE_BREAK;\n};\n\nFormData.prototype._getContentDisposition = function(value, options) {\n\n  var filename\n    , contentDisposition\n    ;\n\n  if (typeof options.filepath === 'string') {\n    // custom filepath for relative paths\n    filename = path.normalize(options.filepath).replace(/\\\\/g, '/');\n  } else if (options.filename || value.name || value.path) {\n    // custom filename take precedence\n    // formidable and the browser add a name property\n    // fs- and request- streams have path property\n    filename = path.basename(options.filename || value.name || value.path);\n  } else if (value.readable && value.hasOwnProperty('httpVersion')) {\n    // or try http response\n    filename = path.basename(value.client._httpMessage.path);\n  }\n\n  if (filename) {\n    contentDisposition = 'filename=\"' + filename + '\"';\n  }\n\n  return contentDisposition;\n};\n\nFormData.prototype._getContentType = function(value, options) {\n\n  // use custom content-type above all\n  var contentType = options.contentType;\n\n  // or try `name` from formidable, browser\n  if (!contentType && value.name) {\n    contentType = mime.lookup(value.name);\n  }\n\n  // or try `path` from fs-, request- streams\n  if (!contentType && value.path) {\n    contentType = mime.lookup(value.path);\n  }\n\n  // or if it's http-reponse\n  if (!contentType && value.readable && value.hasOwnProperty('httpVersion')) {\n    contentType = value.headers['content-type'];\n  }\n\n  // or guess it from the filepath or filename\n  if (!contentType && (options.filepath || options.filename)) {\n    contentType = mime.lookup(options.filepath || options.filename);\n  }\n\n  // fallback to the default content type if `value` is not simple value\n  if (!contentType && typeof value == 'object') {\n    contentType = FormData.DEFAULT_CONTENT_TYPE;\n  }\n\n  return contentType;\n};\n\nFormData.prototype._multiPartFooter = function() {\n  return function(next) {\n    var footer = FormData.LINE_BREAK;\n\n    var lastPart = (this._streams.length === 0);\n    if (lastPart) {\n      footer += this._lastBoundary();\n    }\n\n    next(footer);\n  }.bind(this);\n};\n\nFormData.prototype._lastBoundary = function() {\n  return '--' + this.getBoundary() + '--' + FormData.LINE_BREAK;\n};\n\nFormData.prototype.getHeaders = function(userHeaders) {\n  var header;\n  var formHeaders = {\n    'content-type': 'multipart/form-data; boundary=' + this.getBoundary()\n  };\n\n  for (header in userHeaders) {\n    if (userHeaders.hasOwnProperty(header)) {\n      formHeaders[header.toLowerCase()] = userHeaders[header];\n    }\n  }\n\n  return formHeaders;\n};\n\nFormData.prototype.getBoundary = function() {\n  if (!this._boundary) {\n    this._generateBoundary();\n  }\n\n  return this._boundary;\n};\n\nFormData.prototype._generateBoundary = function() {\n  // This generates a 50 character boundary similar to those used by Firefox.\n  // They are optimized for boyer-moore parsing.\n  var boundary = '--------------------------';\n  for (var i = 0; i < 24; i++) {\n    boundary += Math.floor(Math.random() * 10).toString(16);\n  }\n\n  this._boundary = boundary;\n};\n\n// Note: getLengthSync DOESN'T calculate streams length\n// As workaround one can calculate file size manually\n// and add it as knownLength option\nFormData.prototype.getLengthSync = function() {\n  var knownLength = this._overheadLength + this._valueLength;\n\n  // Don't get confused, there are 3 \"internal\" streams for each keyval pair\n  // so it basically checks if there is any value added to the form\n  if (this._streams.length) {\n    knownLength += this._lastBoundary().length;\n  }\n\n  // https://github.com/form-data/form-data/issues/40\n  if (!this.hasKnownLength()) {\n    // Some async length retrievers are present\n    // therefore synchronous length calculation is false.\n    // Please use getLength(callback) to get proper length\n    this._error(new Error('Cannot calculate proper length in synchronous way.'));\n  }\n\n  return knownLength;\n};\n\n// Public API to check if length of added values is known\n// https://github.com/form-data/form-data/issues/196\n// https://github.com/form-data/form-data/issues/262\nFormData.prototype.hasKnownLength = function() {\n  var hasKnownLength = true;\n\n  if (this._valuesToMeasure.length) {\n    hasKnownLength = false;\n  }\n\n  return hasKnownLength;\n};\n\nFormData.prototype.getLength = function(cb) {\n  var knownLength = this._overheadLength + this._valueLength;\n\n  if (this._streams.length) {\n    knownLength += this._lastBoundary().length;\n  }\n\n  if (!this._valuesToMeasure.length) {\n    process.nextTick(cb.bind(this, null, knownLength));\n    return;\n  }\n\n  asynckit.parallel(this._valuesToMeasure, this._lengthRetriever, function(err, values) {\n    if (err) {\n      cb(err);\n      return;\n    }\n\n    values.forEach(function(length) {\n      knownLength += length;\n    });\n\n    cb(null, knownLength);\n  });\n};\n\nFormData.prototype.submit = function(params, cb) {\n  var request\n    , options\n    , defaults = {method: 'post'}\n    ;\n\n  // parse provided url if it's string\n  // or treat it as options object\n  if (typeof params == 'string') {\n\n    params = parseUrl(params);\n    options = populate({\n      port: params.port,\n      path: params.pathname,\n      host: params.hostname,\n      protocol: params.protocol\n    }, defaults);\n\n  // use custom params\n  } else {\n\n    options = populate(params, defaults);\n    // if no port provided use default one\n    if (!options.port) {\n      options.port = options.protocol == 'https:' ? 443 : 80;\n    }\n  }\n\n  // put that good code in getHeaders to some use\n  options.headers = this.getHeaders(params.headers);\n\n  // https if specified, fallback to http in any other case\n  if (options.protocol == 'https:') {\n    request = https.request(options);\n  } else {\n    request = http.request(options);\n  }\n\n  // get content length and fire away\n  this.getLength(function(err, length) {\n    if (err) {\n      this._error(err);\n      return;\n    }\n\n    // add content length\n    request.setHeader('Content-Length', length);\n\n    this.pipe(request);\n    if (cb) {\n      request.on('error', cb);\n      request.on('response', cb.bind(this, null));\n    }\n  }.bind(this));\n\n  return request;\n};\n\nFormData.prototype._error = function(err) {\n  if (!this.error) {\n    this.error = err;\n    this.pause();\n    this.emit('error', err);\n  }\n};\n\nFormData.prototype.toString = function () {\n  return '[object FormData]';\n};\n","// populates missing values\nmodule.exports = function(dst, src) {\n\n  Object.keys(src).forEach(function(prop)\n  {\n    dst[prop] = dst[prop] || src[prop];\n  });\n\n  return dst;\n};\n","/*!\n * forwarded\n * Copyright(c) 2014-2017 Douglas Christopher Wilson\n * MIT Licensed\n */\n\n'use strict'\n\n/**\n * Module exports.\n * @public\n */\n\nmodule.exports = forwarded\n\n/**\n * Get all addresses in the request, using the `X-Forwarded-For` header.\n *\n * @param {object} req\n * @return {array}\n * @public\n */\n\nfunction forwarded (req) {\n  if (!req) {\n    throw new TypeError('argument req is required')\n  }\n\n  // simple header parsing\n  var proxyAddrs = parse(req.headers['x-forwarded-for'] || '')\n  var socketAddr = req.connection.remoteAddress\n  var addrs = [socketAddr].concat(proxyAddrs)\n\n  // return all addresses\n  return addrs\n}\n\n/**\n * Parse the X-Forwarded-For header.\n *\n * @param {string} header\n * @private\n */\n\nfunction parse (header) {\n  var end = header.length\n  var list = []\n  var start = header.length\n\n  // gather addresses, backwards\n  for (var i = header.length - 1; i >= 0; i--) {\n    switch (header.charCodeAt(i)) {\n      case 0x20: /*   */\n        if (start === end) {\n          start = end = i\n        }\n        break\n      case 0x2c: /* , */\n        if (start !== end) {\n          list.push(header.substring(start, end))\n        }\n        start = end = i\n        break\n      default:\n        start = i\n        break\n    }\n  }\n\n  // final address\n  if (start !== end) {\n    list.push(header.substring(start, end))\n  }\n\n  return list\n}\n","/*!\n * fresh\n * Copyright(c) 2012 TJ Holowaychuk\n * Copyright(c) 2016-2017 Douglas Christopher Wilson\n * MIT Licensed\n */\n\n'use strict'\n\n/**\n * RegExp to check for no-cache token in Cache-Control.\n * @private\n */\n\nvar CACHE_CONTROL_NO_CACHE_REGEXP = /(?:^|,)\\s*?no-cache\\s*?(?:,|$)/\n\n/**\n * Module exports.\n * @public\n */\n\nmodule.exports = fresh\n\n/**\n * Check freshness of the response using request and response headers.\n *\n * @param {Object} reqHeaders\n * @param {Object} resHeaders\n * @return {Boolean}\n * @public\n */\n\nfunction fresh (reqHeaders, resHeaders) {\n  // fields\n  var modifiedSince = reqHeaders['if-modified-since']\n  var noneMatch = reqHeaders['if-none-match']\n\n  // unconditional request\n  if (!modifiedSince && !noneMatch) {\n    return false\n  }\n\n  // Always return stale when Cache-Control: no-cache\n  // to support end-to-end reload requests\n  // https://tools.ietf.org/html/rfc2616#section-14.9.4\n  var cacheControl = reqHeaders['cache-control']\n  if (cacheControl && CACHE_CONTROL_NO_CACHE_REGEXP.test(cacheControl)) {\n    return false\n  }\n\n  // if-none-match\n  if (noneMatch && noneMatch !== '*') {\n    var etag = resHeaders['etag']\n\n    if (!etag) {\n      return false\n    }\n\n    var etagStale = true\n    var matches = parseTokenList(noneMatch)\n    for (var i = 0; i < matches.length; i++) {\n      var match = matches[i]\n      if (match === etag || match === 'W/' + etag || 'W/' + match === etag) {\n        etagStale = false\n        break\n      }\n    }\n\n    if (etagStale) {\n      return false\n    }\n  }\n\n  // if-modified-since\n  if (modifiedSince) {\n    var lastModified = resHeaders['last-modified']\n    var modifiedStale = !lastModified || !(parseHttpDate(lastModified) <= parseHttpDate(modifiedSince))\n\n    if (modifiedStale) {\n      return false\n    }\n  }\n\n  return true\n}\n\n/**\n * Parse an HTTP Date into a number.\n *\n * @param {string} date\n * @private\n */\n\nfunction parseHttpDate (date) {\n  var timestamp = date && Date.parse(date)\n\n  // istanbul ignore next: guard against date.js Date.parse patching\n  return typeof timestamp === 'number'\n    ? timestamp\n    : NaN\n}\n\n/**\n * Parse a HTTP token list.\n *\n * @param {string} str\n * @private\n */\n\nfunction parseTokenList (str) {\n  var end = 0\n  var list = []\n  var start = 0\n\n  // gather tokens\n  for (var i = 0, len = str.length; i < len; i++) {\n    switch (str.charCodeAt(i)) {\n      case 0x20: /*   */\n        if (start === end) {\n          start = end = i + 1\n        }\n        break\n      case 0x2c: /* , */\n        list.push(str.substring(start, end))\n        start = end = i + 1\n        break\n      default:\n        end = i + 1\n        break\n    }\n  }\n\n  // final token\n  list.push(str.substring(start, end))\n\n  return list\n}\n","'use strict'\n\nmodule.exports = {\n  afterRequest: require('./afterRequest.json'),\n  beforeRequest: require('./beforeRequest.json'),\n  browser: require('./browser.json'),\n  cache: require('./cache.json'),\n  content: require('./content.json'),\n  cookie: require('./cookie.json'),\n  creator: require('./creator.json'),\n  entry: require('./entry.json'),\n  har: require('./har.json'),\n  header: require('./header.json'),\n  log: require('./log.json'),\n  page: require('./page.json'),\n  pageTimings: require('./pageTimings.json'),\n  postData: require('./postData.json'),\n  query: require('./query.json'),\n  request: require('./request.json'),\n  response: require('./response.json'),\n  timings: require('./timings.json')\n}\n","function HARError (errors) {\n  var message = 'validation failed'\n\n  this.name = 'HARError'\n  this.message = message\n  this.errors = errors\n\n  if (typeof Error.captureStackTrace === 'function') {\n    Error.captureStackTrace(this, this.constructor)\n  } else {\n    this.stack = (new Error(message)).stack\n  }\n}\n\nHARError.prototype = Error.prototype\n\nmodule.exports = HARError\n","var Ajv = require('ajv')\nvar HARError = require('./error')\nvar schemas = require('har-schema')\n\nvar ajv\n\nfunction createAjvInstance () {\n  var ajv = new Ajv({\n    allErrors: true\n  })\n  ajv.addMetaSchema(require('ajv/lib/refs/json-schema-draft-06.json'))\n  ajv.addSchema(schemas)\n\n  return ajv\n}\n\nfunction validate (name, data) {\n  data = data || {}\n\n  // validator config\n  ajv = ajv || createAjvInstance()\n\n  var validate = ajv.getSchema(name + '.json')\n\n  return new Promise(function (resolve, reject) {\n    var valid = validate(data)\n\n    !valid ? reject(new HARError(validate.errors)) : resolve(data)\n  })\n}\n\nexports.afterRequest = function (data) {\n  return validate('afterRequest', data)\n}\n\nexports.beforeRequest = function (data) {\n  return validate('beforeRequest', data)\n}\n\nexports.browser = function (data) {\n  return validate('browser', data)\n}\n\nexports.cache = function (data) {\n  return validate('cache', data)\n}\n\nexports.content = function (data) {\n  return validate('content', data)\n}\n\nexports.cookie = function (data) {\n  return validate('cookie', data)\n}\n\nexports.creator = function (data) {\n  return validate('creator', data)\n}\n\nexports.entry = function (data) {\n  return validate('entry', data)\n}\n\nexports.har = function (data) {\n  return validate('har', data)\n}\n\nexports.header = function (data) {\n  return validate('header', data)\n}\n\nexports.log = function (data) {\n  return validate('log', data)\n}\n\nexports.page = function (data) {\n  return validate('page', data)\n}\n\nexports.pageTimings = function (data) {\n  return validate('pageTimings', data)\n}\n\nexports.postData = function (data) {\n  return validate('postData', data)\n}\n\nexports.query = function (data) {\n  return validate('query', data)\n}\n\nexports.request = function (data) {\n  return validate('request', data)\n}\n\nexports.response = function (data) {\n  return validate('response', data)\n}\n\nexports.timings = function (data) {\n  return validate('timings', data)\n}\n","/*!\n * http-errors\n * Copyright(c) 2014 Jonathan Ong\n * Copyright(c) 2016 Douglas Christopher Wilson\n * MIT Licensed\n */\n\n'use strict'\n\n/**\n * Module dependencies.\n * @private\n */\n\nvar deprecate = require('depd')('http-errors')\nvar setPrototypeOf = require('setprototypeof')\nvar statuses = require('statuses')\nvar inherits = require('inherits')\nvar toIdentifier = require('toidentifier')\n\n/**\n * Module exports.\n * @public\n */\n\nmodule.exports = createError\nmodule.exports.HttpError = createHttpErrorConstructor()\n\n// Populate exports for all constructors\npopulateConstructorExports(module.exports, statuses.codes, module.exports.HttpError)\n\n/**\n * Get the code class of a status code.\n * @private\n */\n\nfunction codeClass (status) {\n  return Number(String(status).charAt(0) + '00')\n}\n\n/**\n * Create a new HTTP Error.\n *\n * @returns {Error}\n * @public\n */\n\nfunction createError () {\n  // so much arity going on ~_~\n  var err\n  var msg\n  var status = 500\n  var props = {}\n  for (var i = 0; i < arguments.length; i++) {\n    var arg = arguments[i]\n    if (arg instanceof Error) {\n      err = arg\n      status = err.status || err.statusCode || status\n      continue\n    }\n    switch (typeof arg) {\n      case 'string':\n        msg = arg\n        break\n      case 'number':\n        status = arg\n        if (i !== 0) {\n          deprecate('non-first-argument status code; replace with createError(' + arg + ', ...)')\n        }\n        break\n      case 'object':\n        props = arg\n        break\n    }\n  }\n\n  if (typeof status === 'number' && (status < 400 || status >= 600)) {\n    deprecate('non-error status code; use only 4xx or 5xx status codes')\n  }\n\n  if (typeof status !== 'number' ||\n    (!statuses[status] && (status < 400 || status >= 600))) {\n    status = 500\n  }\n\n  // constructor\n  var HttpError = createError[status] || createError[codeClass(status)]\n\n  if (!err) {\n    // create error\n    err = HttpError\n      ? new HttpError(msg)\n      : new Error(msg || statuses[status])\n    Error.captureStackTrace(err, createError)\n  }\n\n  if (!HttpError || !(err instanceof HttpError) || err.status !== status) {\n    // add properties to generic error\n    err.expose = status < 500\n    err.status = err.statusCode = status\n  }\n\n  for (var key in props) {\n    if (key !== 'status' && key !== 'statusCode') {\n      err[key] = props[key]\n    }\n  }\n\n  return err\n}\n\n/**\n * Create HTTP error abstract base class.\n * @private\n */\n\nfunction createHttpErrorConstructor () {\n  function HttpError () {\n    throw new TypeError('cannot construct abstract class')\n  }\n\n  inherits(HttpError, Error)\n\n  return HttpError\n}\n\n/**\n * Create a constructor for a client error.\n * @private\n */\n\nfunction createClientErrorConstructor (HttpError, name, code) {\n  var className = name.match(/Error$/) ? name : name + 'Error'\n\n  function ClientError (message) {\n    // create the error object\n    var msg = message != null ? message : statuses[code]\n    var err = new Error(msg)\n\n    // capture a stack trace to the construction point\n    Error.captureStackTrace(err, ClientError)\n\n    // adjust the [[Prototype]]\n    setPrototypeOf(err, ClientError.prototype)\n\n    // redefine the error message\n    Object.defineProperty(err, 'message', {\n      enumerable: true,\n      configurable: true,\n      value: msg,\n      writable: true\n    })\n\n    // redefine the error name\n    Object.defineProperty(err, 'name', {\n      enumerable: false,\n      configurable: true,\n      value: className,\n      writable: true\n    })\n\n    return err\n  }\n\n  inherits(ClientError, HttpError)\n  nameFunc(ClientError, className)\n\n  ClientError.prototype.status = code\n  ClientError.prototype.statusCode = code\n  ClientError.prototype.expose = true\n\n  return ClientError\n}\n\n/**\n * Create a constructor for a server error.\n * @private\n */\n\nfunction createServerErrorConstructor (HttpError, name, code) {\n  var className = name.match(/Error$/) ? name : name + 'Error'\n\n  function ServerError (message) {\n    // create the error object\n    var msg = message != null ? message : statuses[code]\n    var err = new Error(msg)\n\n    // capture a stack trace to the construction point\n    Error.captureStackTrace(err, ServerError)\n\n    // adjust the [[Prototype]]\n    setPrototypeOf(err, ServerError.prototype)\n\n    // redefine the error message\n    Object.defineProperty(err, 'message', {\n      enumerable: true,\n      configurable: true,\n      value: msg,\n      writable: true\n    })\n\n    // redefine the error name\n    Object.defineProperty(err, 'name', {\n      enumerable: false,\n      configurable: true,\n      value: className,\n      writable: true\n    })\n\n    return err\n  }\n\n  inherits(ServerError, HttpError)\n  nameFunc(ServerError, className)\n\n  ServerError.prototype.status = code\n  ServerError.prototype.statusCode = code\n  ServerError.prototype.expose = false\n\n  return ServerError\n}\n\n/**\n * Set the name of a function, if possible.\n * @private\n */\n\nfunction nameFunc (func, name) {\n  var desc = Object.getOwnPropertyDescriptor(func, 'name')\n\n  if (desc && desc.configurable) {\n    desc.value = name\n    Object.defineProperty(func, 'name', desc)\n  }\n}\n\n/**\n * Populate the exports object with constructors for every error class.\n * @private\n */\n\nfunction populateConstructorExports (exports, codes, HttpError) {\n  codes.forEach(function forEachCode (code) {\n    var CodeError\n    var name = toIdentifier(statuses[code])\n\n    switch (codeClass(code)) {\n      case 400:\n        CodeError = createClientErrorConstructor(HttpError, name, code)\n        break\n      case 500:\n        CodeError = createServerErrorConstructor(HttpError, name, code)\n        break\n    }\n\n    if (CodeError) {\n      // export the constructor\n      exports[code] = CodeError\n      exports[name] = CodeError\n    }\n  })\n\n  // backwards-compatibility\n  exports[\"I'mateapot\"] = deprecate.function(exports.ImATeapot,\n    '\"I\\'mateapot\"; use \"ImATeapot\" instead')\n}\n","// Copyright 2015 Joyent, Inc.\n\nvar parser = require('./parser');\nvar signer = require('./signer');\nvar verify = require('./verify');\nvar utils = require('./utils');\n\n\n\n///--- API\n\nmodule.exports = {\n\n  parse: parser.parseRequest,\n  parseRequest: parser.parseRequest,\n\n  sign: signer.signRequest,\n  signRequest: signer.signRequest,\n  createSigner: signer.createSigner,\n  isSigner: signer.isSigner,\n\n  sshKeyToPEM: utils.sshKeyToPEM,\n  sshKeyFingerprint: utils.fingerprint,\n  pemToRsaSSHKey: utils.pemToRsaSSHKey,\n\n  verify: verify.verifySignature,\n  verifySignature: verify.verifySignature,\n  verifyHMAC: verify.verifyHMAC\n};\n","// Copyright 2012 Joyent, Inc.  All rights reserved.\n\nvar assert = require('assert-plus');\nvar util = require('util');\nvar utils = require('./utils');\n\n\n\n///--- Globals\n\nvar HASH_ALGOS = utils.HASH_ALGOS;\nvar PK_ALGOS = utils.PK_ALGOS;\nvar HttpSignatureError = utils.HttpSignatureError;\nvar InvalidAlgorithmError = utils.InvalidAlgorithmError;\nvar validateAlgorithm = utils.validateAlgorithm;\n\nvar State = {\n  New: 0,\n  Params: 1\n};\n\nvar ParamsState = {\n  Name: 0,\n  Quote: 1,\n  Value: 2,\n  Comma: 3\n};\n\n\n///--- Specific Errors\n\n\nfunction ExpiredRequestError(message) {\n  HttpSignatureError.call(this, message, ExpiredRequestError);\n}\nutil.inherits(ExpiredRequestError, HttpSignatureError);\n\n\nfunction InvalidHeaderError(message) {\n  HttpSignatureError.call(this, message, InvalidHeaderError);\n}\nutil.inherits(InvalidHeaderError, HttpSignatureError);\n\n\nfunction InvalidParamsError(message) {\n  HttpSignatureError.call(this, message, InvalidParamsError);\n}\nutil.inherits(InvalidParamsError, HttpSignatureError);\n\n\nfunction MissingHeaderError(message) {\n  HttpSignatureError.call(this, message, MissingHeaderError);\n}\nutil.inherits(MissingHeaderError, HttpSignatureError);\n\nfunction StrictParsingError(message) {\n  HttpSignatureError.call(this, message, StrictParsingError);\n}\nutil.inherits(StrictParsingError, HttpSignatureError);\n\n///--- Exported API\n\nmodule.exports = {\n\n  /**\n   * Parses the 'Authorization' header out of an http.ServerRequest object.\n   *\n   * Note that this API will fully validate the Authorization header, and throw\n   * on any error.  It will not however check the signature, or the keyId format\n   * as those are specific to your environment.  You can use the options object\n   * to pass in extra constraints.\n   *\n   * As a response object you can expect this:\n   *\n   *     {\n   *       \"scheme\": \"Signature\",\n   *       \"params\": {\n   *         \"keyId\": \"foo\",\n   *         \"algorithm\": \"rsa-sha256\",\n   *         \"headers\": [\n   *           \"date\" or \"x-date\",\n   *           \"digest\"\n   *         ],\n   *         \"signature\": \"base64\"\n   *       },\n   *       \"signingString\": \"ready to be passed to crypto.verify()\"\n   *     }\n   *\n   * @param {Object} request an http.ServerRequest.\n   * @param {Object} options an optional options object with:\n   *                   - clockSkew: allowed clock skew in seconds (default 300).\n   *                   - headers: required header names (def: date or x-date)\n   *                   - algorithms: algorithms to support (default: all).\n   *                   - strict: should enforce latest spec parsing\n   *                             (default: false).\n   * @return {Object} parsed out object (see above).\n   * @throws {TypeError} on invalid input.\n   * @throws {InvalidHeaderError} on an invalid Authorization header error.\n   * @throws {InvalidParamsError} if the params in the scheme are invalid.\n   * @throws {MissingHeaderError} if the params indicate a header not present,\n   *                              either in the request headers from the params,\n   *                              or not in the params from a required header\n   *                              in options.\n   * @throws {StrictParsingError} if old attributes are used in strict parsing\n   *                              mode.\n   * @throws {ExpiredRequestError} if the value of date or x-date exceeds skew.\n   */\n  parseRequest: function parseRequest(request, options) {\n    assert.object(request, 'request');\n    assert.object(request.headers, 'request.headers');\n    if (options === undefined) {\n      options = {};\n    }\n    if (options.headers === undefined) {\n      options.headers = [request.headers['x-date'] ? 'x-date' : 'date'];\n    }\n    assert.object(options, 'options');\n    assert.arrayOfString(options.headers, 'options.headers');\n    assert.optionalFinite(options.clockSkew, 'options.clockSkew');\n\n    var authzHeaderName = options.authorizationHeaderName || 'authorization';\n\n    if (!request.headers[authzHeaderName]) {\n      throw new MissingHeaderError('no ' + authzHeaderName + ' header ' +\n                                   'present in the request');\n    }\n\n    options.clockSkew = options.clockSkew || 300;\n\n\n    var i = 0;\n    var state = State.New;\n    var substate = ParamsState.Name;\n    var tmpName = '';\n    var tmpValue = '';\n\n    var parsed = {\n      scheme: '',\n      params: {},\n      signingString: ''\n    };\n\n    var authz = request.headers[authzHeaderName];\n    for (i = 0; i < authz.length; i++) {\n      var c = authz.charAt(i);\n\n      switch (Number(state)) {\n\n      case State.New:\n        if (c !== ' ') parsed.scheme += c;\n        else state = State.Params;\n        break;\n\n      case State.Params:\n        switch (Number(substate)) {\n\n        case ParamsState.Name:\n          var code = c.charCodeAt(0);\n          // restricted name of A-Z / a-z\n          if ((code >= 0x41 && code <= 0x5a) || // A-Z\n              (code >= 0x61 && code <= 0x7a)) { // a-z\n            tmpName += c;\n          } else if (c === '=') {\n            if (tmpName.length === 0)\n              throw new InvalidHeaderError('bad param format');\n            substate = ParamsState.Quote;\n          } else {\n            throw new InvalidHeaderError('bad param format');\n          }\n          break;\n\n        case ParamsState.Quote:\n          if (c === '\"') {\n            tmpValue = '';\n            substate = ParamsState.Value;\n          } else {\n            throw new InvalidHeaderError('bad param format');\n          }\n          break;\n\n        case ParamsState.Value:\n          if (c === '\"') {\n            parsed.params[tmpName] = tmpValue;\n            substate = ParamsState.Comma;\n          } else {\n            tmpValue += c;\n          }\n          break;\n\n        case ParamsState.Comma:\n          if (c === ',') {\n            tmpName = '';\n            substate = ParamsState.Name;\n          } else {\n            throw new InvalidHeaderError('bad param format');\n          }\n          break;\n\n        default:\n          throw new Error('Invalid substate');\n        }\n        break;\n\n      default:\n        throw new Error('Invalid substate');\n      }\n\n    }\n\n    if (!parsed.params.headers || parsed.params.headers === '') {\n      if (request.headers['x-date']) {\n        parsed.params.headers = ['x-date'];\n      } else {\n        parsed.params.headers = ['date'];\n      }\n    } else {\n      parsed.params.headers = parsed.params.headers.split(' ');\n    }\n\n    // Minimally validate the parsed object\n    if (!parsed.scheme || parsed.scheme !== 'Signature')\n      throw new InvalidHeaderError('scheme was not \"Signature\"');\n\n    if (!parsed.params.keyId)\n      throw new InvalidHeaderError('keyId was not specified');\n\n    if (!parsed.params.algorithm)\n      throw new InvalidHeaderError('algorithm was not specified');\n\n    if (!parsed.params.signature)\n      throw new InvalidHeaderError('signature was not specified');\n\n    // Check the algorithm against the official list\n    parsed.params.algorithm = parsed.params.algorithm.toLowerCase();\n    try {\n      validateAlgorithm(parsed.params.algorithm);\n    } catch (e) {\n      if (e instanceof InvalidAlgorithmError)\n        throw (new InvalidParamsError(parsed.params.algorithm + ' is not ' +\n          'supported'));\n      else\n        throw (e);\n    }\n\n    // Build the signingString\n    for (i = 0; i < parsed.params.headers.length; i++) {\n      var h = parsed.params.headers[i].toLowerCase();\n      parsed.params.headers[i] = h;\n\n      if (h === 'request-line') {\n        if (!options.strict) {\n          /*\n           * We allow headers from the older spec drafts if strict parsing isn't\n           * specified in options.\n           */\n          parsed.signingString +=\n            request.method + ' ' + request.url + ' HTTP/' + request.httpVersion;\n        } else {\n          /* Strict parsing doesn't allow older draft headers. */\n          throw (new StrictParsingError('request-line is not a valid header ' +\n            'with strict parsing enabled.'));\n        }\n      } else if (h === '(request-target)') {\n        parsed.signingString +=\n          '(request-target): ' + request.method.toLowerCase() + ' ' +\n          request.url;\n      } else {\n        var value = request.headers[h];\n        if (value === undefined)\n          throw new MissingHeaderError(h + ' was not in the request');\n        parsed.signingString += h + ': ' + value;\n      }\n\n      if ((i + 1) < parsed.params.headers.length)\n        parsed.signingString += '\\n';\n    }\n\n    // Check against the constraints\n    var date;\n    if (request.headers.date || request.headers['x-date']) {\n        if (request.headers['x-date']) {\n          date = new Date(request.headers['x-date']);\n        } else {\n          date = new Date(request.headers.date);\n        }\n      var now = new Date();\n      var skew = Math.abs(now.getTime() - date.getTime());\n\n      if (skew > options.clockSkew * 1000) {\n        throw new ExpiredRequestError('clock skew of ' +\n                                      (skew / 1000) +\n                                      's was greater than ' +\n                                      options.clockSkew + 's');\n      }\n    }\n\n    options.headers.forEach(function (hdr) {\n      // Remember that we already checked any headers in the params\n      // were in the request, so if this passes we're good.\n      if (parsed.params.headers.indexOf(hdr.toLowerCase()) < 0)\n        throw new MissingHeaderError(hdr + ' was not a signed header');\n    });\n\n    if (options.algorithms) {\n      if (options.algorithms.indexOf(parsed.params.algorithm) === -1)\n        throw new InvalidParamsError(parsed.params.algorithm +\n                                     ' is not a supported algorithm');\n    }\n\n    parsed.algorithm = parsed.params.algorithm.toUpperCase();\n    parsed.keyId = parsed.params.keyId;\n    return parsed;\n  }\n\n};\n","// Copyright 2012 Joyent, Inc.  All rights reserved.\n\nvar assert = require('assert-plus');\nvar crypto = require('crypto');\nvar http = require('http');\nvar util = require('util');\nvar sshpk = require('sshpk');\nvar jsprim = require('jsprim');\nvar utils = require('./utils');\n\nvar sprintf = require('util').format;\n\nvar HASH_ALGOS = utils.HASH_ALGOS;\nvar PK_ALGOS = utils.PK_ALGOS;\nvar InvalidAlgorithmError = utils.InvalidAlgorithmError;\nvar HttpSignatureError = utils.HttpSignatureError;\nvar validateAlgorithm = utils.validateAlgorithm;\n\n///--- Globals\n\nvar AUTHZ_FMT =\n  'Signature keyId=\"%s\",algorithm=\"%s\",headers=\"%s\",signature=\"%s\"';\n\n///--- Specific Errors\n\nfunction MissingHeaderError(message) {\n  HttpSignatureError.call(this, message, MissingHeaderError);\n}\nutil.inherits(MissingHeaderError, HttpSignatureError);\n\nfunction StrictParsingError(message) {\n  HttpSignatureError.call(this, message, StrictParsingError);\n}\nutil.inherits(StrictParsingError, HttpSignatureError);\n\n/* See createSigner() */\nfunction RequestSigner(options) {\n  assert.object(options, 'options');\n\n  var alg = [];\n  if (options.algorithm !== undefined) {\n    assert.string(options.algorithm, 'options.algorithm');\n    alg = validateAlgorithm(options.algorithm);\n  }\n  this.rs_alg = alg;\n\n  /*\n   * RequestSigners come in two varieties: ones with an rs_signFunc, and ones\n   * with an rs_signer.\n   *\n   * rs_signFunc-based RequestSigners have to build up their entire signing\n   * string within the rs_lines array and give it to rs_signFunc as a single\n   * concat'd blob. rs_signer-based RequestSigners can add a line at a time to\n   * their signing state by using rs_signer.update(), thus only needing to\n   * buffer the hash function state and one line at a time.\n   */\n  if (options.sign !== undefined) {\n    assert.func(options.sign, 'options.sign');\n    this.rs_signFunc = options.sign;\n\n  } else if (alg[0] === 'hmac' && options.key !== undefined) {\n    assert.string(options.keyId, 'options.keyId');\n    this.rs_keyId = options.keyId;\n\n    if (typeof (options.key) !== 'string' && !Buffer.isBuffer(options.key))\n      throw (new TypeError('options.key for HMAC must be a string or Buffer'));\n\n    /*\n     * Make an rs_signer for HMACs, not a rs_signFunc -- HMACs digest their\n     * data in chunks rather than requiring it all to be given in one go\n     * at the end, so they are more similar to signers than signFuncs.\n     */\n    this.rs_signer = crypto.createHmac(alg[1].toUpperCase(), options.key);\n    this.rs_signer.sign = function () {\n      var digest = this.digest('base64');\n      return ({\n        hashAlgorithm: alg[1],\n        toString: function () { return (digest); }\n      });\n    };\n\n  } else if (options.key !== undefined) {\n    var key = options.key;\n    if (typeof (key) === 'string' || Buffer.isBuffer(key))\n      key = sshpk.parsePrivateKey(key);\n\n    assert.ok(sshpk.PrivateKey.isPrivateKey(key, [1, 2]),\n      'options.key must be a sshpk.PrivateKey');\n    this.rs_key = key;\n\n    assert.string(options.keyId, 'options.keyId');\n    this.rs_keyId = options.keyId;\n\n    if (!PK_ALGOS[key.type]) {\n      throw (new InvalidAlgorithmError(key.type.toUpperCase() + ' type ' +\n        'keys are not supported'));\n    }\n\n    if (alg[0] !== undefined && key.type !== alg[0]) {\n      throw (new InvalidAlgorithmError('options.key must be a ' +\n        alg[0].toUpperCase() + ' key, was given a ' +\n        key.type.toUpperCase() + ' key instead'));\n    }\n\n    this.rs_signer = key.createSign(alg[1]);\n\n  } else {\n    throw (new TypeError('options.sign (func) or options.key is required'));\n  }\n\n  this.rs_headers = [];\n  this.rs_lines = [];\n}\n\n/**\n * Adds a header to be signed, with its value, into this signer.\n *\n * @param {String} header\n * @param {String} value\n * @return {String} value written\n */\nRequestSigner.prototype.writeHeader = function (header, value) {\n  assert.string(header, 'header');\n  header = header.toLowerCase();\n  assert.string(value, 'value');\n\n  this.rs_headers.push(header);\n\n  if (this.rs_signFunc) {\n    this.rs_lines.push(header + ': ' + value);\n\n  } else {\n    var line = header + ': ' + value;\n    if (this.rs_headers.length > 0)\n      line = '\\n' + line;\n    this.rs_signer.update(line);\n  }\n\n  return (value);\n};\n\n/**\n * Adds a default Date header, returning its value.\n *\n * @return {String}\n */\nRequestSigner.prototype.writeDateHeader = function () {\n  return (this.writeHeader('date', jsprim.rfc1123(new Date())));\n};\n\n/**\n * Adds the request target line to be signed.\n *\n * @param {String} method, HTTP method (e.g. 'get', 'post', 'put')\n * @param {String} path\n */\nRequestSigner.prototype.writeTarget = function (method, path) {\n  assert.string(method, 'method');\n  assert.string(path, 'path');\n  method = method.toLowerCase();\n  this.writeHeader('(request-target)', method + ' ' + path);\n};\n\n/**\n * Calculate the value for the Authorization header on this request\n * asynchronously.\n *\n * @param {Func} callback (err, authz)\n */\nRequestSigner.prototype.sign = function (cb) {\n  assert.func(cb, 'callback');\n\n  if (this.rs_headers.length < 1)\n    throw (new Error('At least one header must be signed'));\n\n  var alg, authz;\n  if (this.rs_signFunc) {\n    var data = this.rs_lines.join('\\n');\n    var self = this;\n    this.rs_signFunc(data, function (err, sig) {\n      if (err) {\n        cb(err);\n        return;\n      }\n      try {\n        assert.object(sig, 'signature');\n        assert.string(sig.keyId, 'signature.keyId');\n        assert.string(sig.algorithm, 'signature.algorithm');\n        assert.string(sig.signature, 'signature.signature');\n        alg = validateAlgorithm(sig.algorithm);\n\n        authz = sprintf(AUTHZ_FMT,\n          sig.keyId,\n          sig.algorithm,\n          self.rs_headers.join(' '),\n          sig.signature);\n      } catch (e) {\n        cb(e);\n        return;\n      }\n      cb(null, authz);\n    });\n\n  } else {\n    try {\n      var sigObj = this.rs_signer.sign();\n    } catch (e) {\n      cb(e);\n      return;\n    }\n    alg = (this.rs_alg[0] || this.rs_key.type) + '-' + sigObj.hashAlgorithm;\n    var signature = sigObj.toString();\n    authz = sprintf(AUTHZ_FMT,\n      this.rs_keyId,\n      alg,\n      this.rs_headers.join(' '),\n      signature);\n    cb(null, authz);\n  }\n};\n\n///--- Exported API\n\nmodule.exports = {\n  /**\n   * Identifies whether a given object is a request signer or not.\n   *\n   * @param {Object} object, the object to identify\n   * @returns {Boolean}\n   */\n  isSigner: function (obj) {\n    if (typeof (obj) === 'object' && obj instanceof RequestSigner)\n      return (true);\n    return (false);\n  },\n\n  /**\n   * Creates a request signer, used to asynchronously build a signature\n   * for a request (does not have to be an http.ClientRequest).\n   *\n   * @param {Object} options, either:\n   *                   - {String} keyId\n   *                   - {String|Buffer} key\n   *                   - {String} algorithm (optional, required for HMAC)\n   *                 or:\n   *                   - {Func} sign (data, cb)\n   * @return {RequestSigner}\n   */\n  createSigner: function createSigner(options) {\n    return (new RequestSigner(options));\n  },\n\n  /**\n   * Adds an 'Authorization' header to an http.ClientRequest object.\n   *\n   * Note that this API will add a Date header if it's not already set. Any\n   * other headers in the options.headers array MUST be present, or this\n   * will throw.\n   *\n   * You shouldn't need to check the return type; it's just there if you want\n   * to be pedantic.\n   *\n   * The optional flag indicates whether parsing should use strict enforcement\n   * of the version draft-cavage-http-signatures-04 of the spec or beyond.\n   * The default is to be loose and support\n   * older versions for compatibility.\n   *\n   * @param {Object} request an instance of http.ClientRequest.\n   * @param {Object} options signing parameters object:\n   *                   - {String} keyId required.\n   *                   - {String} key required (either a PEM or HMAC key).\n   *                   - {Array} headers optional; defaults to ['date'].\n   *                   - {String} algorithm optional (unless key is HMAC);\n   *                              default is the same as the sshpk default\n   *                              signing algorithm for the type of key given\n   *                   - {String} httpVersion optional; defaults to '1.1'.\n   *                   - {Boolean} strict optional; defaults to 'false'.\n   * @return {Boolean} true if Authorization (and optionally Date) were added.\n   * @throws {TypeError} on bad parameter types (input).\n   * @throws {InvalidAlgorithmError} if algorithm was bad or incompatible with\n   *                                 the given key.\n   * @throws {sshpk.KeyParseError} if key was bad.\n   * @throws {MissingHeaderError} if a header to be signed was specified but\n   *                              was not present.\n   */\n  signRequest: function signRequest(request, options) {\n    assert.object(request, 'request');\n    assert.object(options, 'options');\n    assert.optionalString(options.algorithm, 'options.algorithm');\n    assert.string(options.keyId, 'options.keyId');\n    assert.optionalArrayOfString(options.headers, 'options.headers');\n    assert.optionalString(options.httpVersion, 'options.httpVersion');\n\n    if (!request.getHeader('Date'))\n      request.setHeader('Date', jsprim.rfc1123(new Date()));\n    if (!options.headers)\n      options.headers = ['date'];\n    if (!options.httpVersion)\n      options.httpVersion = '1.1';\n\n    var alg = [];\n    if (options.algorithm) {\n      options.algorithm = options.algorithm.toLowerCase();\n      alg = validateAlgorithm(options.algorithm);\n    }\n\n    var i;\n    var stringToSign = '';\n    for (i = 0; i < options.headers.length; i++) {\n      if (typeof (options.headers[i]) !== 'string')\n        throw new TypeError('options.headers must be an array of Strings');\n\n      var h = options.headers[i].toLowerCase();\n\n      if (h === 'request-line') {\n        if (!options.strict) {\n          /**\n           * We allow headers from the older spec drafts if strict parsing isn't\n           * specified in options.\n           */\n          stringToSign +=\n            request.method + ' ' + request.path + ' HTTP/' +\n            options.httpVersion;\n        } else {\n          /* Strict parsing doesn't allow older draft headers. */\n          throw (new StrictParsingError('request-line is not a valid header ' +\n            'with strict parsing enabled.'));\n        }\n      } else if (h === '(request-target)') {\n        stringToSign +=\n          '(request-target): ' + request.method.toLowerCase() + ' ' +\n          request.path;\n      } else {\n        var value = request.getHeader(h);\n        if (value === undefined || value === '') {\n          throw new MissingHeaderError(h + ' was not in the request');\n        }\n        stringToSign += h + ': ' + value;\n      }\n\n      if ((i + 1) < options.headers.length)\n        stringToSign += '\\n';\n    }\n\n    /* This is just for unit tests. */\n    if (request.hasOwnProperty('_stringToSign')) {\n      request._stringToSign = stringToSign;\n    }\n\n    var signature;\n    if (alg[0] === 'hmac') {\n      if (typeof (options.key) !== 'string' && !Buffer.isBuffer(options.key))\n        throw (new TypeError('options.key must be a string or Buffer'));\n\n      var hmac = crypto.createHmac(alg[1].toUpperCase(), options.key);\n      hmac.update(stringToSign);\n      signature = hmac.digest('base64');\n\n    } else {\n      var key = options.key;\n      if (typeof (key) === 'string' || Buffer.isBuffer(key))\n        key = sshpk.parsePrivateKey(options.key);\n\n      assert.ok(sshpk.PrivateKey.isPrivateKey(key, [1, 2]),\n        'options.key must be a sshpk.PrivateKey');\n\n      if (!PK_ALGOS[key.type]) {\n        throw (new InvalidAlgorithmError(key.type.toUpperCase() + ' type ' +\n          'keys are not supported'));\n      }\n\n      if (alg[0] !== undefined && key.type !== alg[0]) {\n        throw (new InvalidAlgorithmError('options.key must be a ' +\n          alg[0].toUpperCase() + ' key, was given a ' +\n          key.type.toUpperCase() + ' key instead'));\n      }\n\n      var signer = key.createSign(alg[1]);\n      signer.update(stringToSign);\n      var sigObj = signer.sign();\n      if (!HASH_ALGOS[sigObj.hashAlgorithm]) {\n        throw (new InvalidAlgorithmError(sigObj.hashAlgorithm.toUpperCase() +\n          ' is not a supported hash algorithm'));\n      }\n      options.algorithm = key.type + '-' + sigObj.hashAlgorithm;\n      signature = sigObj.toString();\n      assert.notStrictEqual(signature, '', 'empty signature produced');\n    }\n\n    var authzHeaderName = options.authorizationHeaderName || 'Authorization';\n\n    request.setHeader(authzHeaderName, sprintf(AUTHZ_FMT,\n                                               options.keyId,\n                                               options.algorithm,\n                                               options.headers.join(' '),\n                                               signature));\n\n    return true;\n  }\n\n};\n","// Copyright 2012 Joyent, Inc.  All rights reserved.\n\nvar assert = require('assert-plus');\nvar sshpk = require('sshpk');\nvar util = require('util');\n\nvar HASH_ALGOS = {\n  'sha1': true,\n  'sha256': true,\n  'sha512': true\n};\n\nvar PK_ALGOS = {\n  'rsa': true,\n  'dsa': true,\n  'ecdsa': true\n};\n\nfunction HttpSignatureError(message, caller) {\n  if (Error.captureStackTrace)\n    Error.captureStackTrace(this, caller || HttpSignatureError);\n\n  this.message = message;\n  this.name = caller.name;\n}\nutil.inherits(HttpSignatureError, Error);\n\nfunction InvalidAlgorithmError(message) {\n  HttpSignatureError.call(this, message, InvalidAlgorithmError);\n}\nutil.inherits(InvalidAlgorithmError, HttpSignatureError);\n\nfunction validateAlgorithm(algorithm) {\n  var alg = algorithm.toLowerCase().split('-');\n\n  if (alg.length !== 2) {\n    throw (new InvalidAlgorithmError(alg[0].toUpperCase() + ' is not a ' +\n      'valid algorithm'));\n  }\n\n  if (alg[0] !== 'hmac' && !PK_ALGOS[alg[0]]) {\n    throw (new InvalidAlgorithmError(alg[0].toUpperCase() + ' type keys ' +\n      'are not supported'));\n  }\n\n  if (!HASH_ALGOS[alg[1]]) {\n    throw (new InvalidAlgorithmError(alg[1].toUpperCase() + ' is not a ' +\n      'supported hash algorithm'));\n  }\n\n  return (alg);\n}\n\n///--- API\n\nmodule.exports = {\n\n  HASH_ALGOS: HASH_ALGOS,\n  PK_ALGOS: PK_ALGOS,\n\n  HttpSignatureError: HttpSignatureError,\n  InvalidAlgorithmError: InvalidAlgorithmError,\n\n  validateAlgorithm: validateAlgorithm,\n\n  /**\n   * Converts an OpenSSH public key (rsa only) to a PKCS#8 PEM file.\n   *\n   * The intent of this module is to interoperate with OpenSSL only,\n   * specifically the node crypto module's `verify` method.\n   *\n   * @param {String} key an OpenSSH public key.\n   * @return {String} PEM encoded form of the RSA public key.\n   * @throws {TypeError} on bad input.\n   * @throws {Error} on invalid ssh key formatted data.\n   */\n  sshKeyToPEM: function sshKeyToPEM(key) {\n    assert.string(key, 'ssh_key');\n\n    var k = sshpk.parseKey(key, 'ssh');\n    return (k.toString('pem'));\n  },\n\n\n  /**\n   * Generates an OpenSSH fingerprint from an ssh public key.\n   *\n   * @param {String} key an OpenSSH public key.\n   * @return {String} key fingerprint.\n   * @throws {TypeError} on bad input.\n   * @throws {Error} if what you passed doesn't look like an ssh public key.\n   */\n  fingerprint: function fingerprint(key) {\n    assert.string(key, 'ssh_key');\n\n    var k = sshpk.parseKey(key, 'ssh');\n    return (k.fingerprint('md5').toString('hex'));\n  },\n\n  /**\n   * Converts a PKGCS#8 PEM file to an OpenSSH public key (rsa)\n   *\n   * The reverse of the above function.\n   */\n  pemToRsaSSHKey: function pemToRsaSSHKey(pem, comment) {\n    assert.equal('string', typeof (pem), 'typeof pem');\n\n    var k = sshpk.parseKey(pem, 'pem');\n    k.comment = comment;\n    return (k.toString('ssh'));\n  }\n};\n","// Copyright 2015 Joyent, Inc.\n\nvar assert = require('assert-plus');\nvar crypto = require('crypto');\nvar sshpk = require('sshpk');\nvar utils = require('./utils');\n\nvar HASH_ALGOS = utils.HASH_ALGOS;\nvar PK_ALGOS = utils.PK_ALGOS;\nvar InvalidAlgorithmError = utils.InvalidAlgorithmError;\nvar HttpSignatureError = utils.HttpSignatureError;\nvar validateAlgorithm = utils.validateAlgorithm;\n\n///--- Exported API\n\nmodule.exports = {\n  /**\n   * Verify RSA/DSA signature against public key.  You are expected to pass in\n   * an object that was returned from `parse()`.\n   *\n   * @param {Object} parsedSignature the object you got from `parse`.\n   * @param {String} pubkey RSA/DSA private key PEM.\n   * @return {Boolean} true if valid, false otherwise.\n   * @throws {TypeError} if you pass in bad arguments.\n   * @throws {InvalidAlgorithmError}\n   */\n  verifySignature: function verifySignature(parsedSignature, pubkey) {\n    assert.object(parsedSignature, 'parsedSignature');\n    if (typeof (pubkey) === 'string' || Buffer.isBuffer(pubkey))\n      pubkey = sshpk.parseKey(pubkey);\n    assert.ok(sshpk.Key.isKey(pubkey, [1, 1]), 'pubkey must be a sshpk.Key');\n\n    var alg = validateAlgorithm(parsedSignature.algorithm);\n    if (alg[0] === 'hmac' || alg[0] !== pubkey.type)\n      return (false);\n\n    var v = pubkey.createVerify(alg[1]);\n    v.update(parsedSignature.signingString);\n    return (v.verify(parsedSignature.params.signature, 'base64'));\n  },\n\n  /**\n   * Verify HMAC against shared secret.  You are expected to pass in an object\n   * that was returned from `parse()`.\n   *\n   * @param {Object} parsedSignature the object you got from `parse`.\n   * @param {String} secret HMAC shared secret.\n   * @return {Boolean} true if valid, false otherwise.\n   * @throws {TypeError} if you pass in bad arguments.\n   * @throws {InvalidAlgorithmError}\n   */\n  verifyHMAC: function verifyHMAC(parsedSignature, secret) {\n    assert.object(parsedSignature, 'parsedHMAC');\n    assert.string(secret, 'secret');\n\n    var alg = validateAlgorithm(parsedSignature.algorithm);\n    if (alg[0] !== 'hmac')\n      return (false);\n\n    var hashAlg = alg[1].toUpperCase();\n\n    var hmac = crypto.createHmac(hashAlg, secret);\n    hmac.update(parsedSignature.signingString);\n\n    /*\n     * Now double-hash to avoid leaking timing information - there's\n     * no easy constant-time compare in JS, so we use this approach\n     * instead. See for more info:\n     * https://www.isecpartners.com/blog/2011/february/double-hmac-\n     * verification.aspx\n     */\n    var h1 = crypto.createHmac(hashAlg, secret);\n    h1.update(hmac.digest());\n    h1 = h1.digest();\n    var h2 = crypto.createHmac(hashAlg, secret);\n    h2.update(new Buffer(parsedSignature.params.signature, 'base64'));\n    h2 = h2.digest();\n\n    /* Node 0.8 returns strings from .digest(). */\n    if (typeof (h1) === 'string')\n      return (h1 === h2);\n    /* And node 0.10 lacks the .equals() method on Buffers. */\n    if (Buffer.isBuffer(h1) && !h1.equals)\n      return (h1.toString('binary') === h2.toString('binary'));\n\n    return (h1.equals(h2));\n  }\n};\n","\"use strict\";\nvar Buffer = require(\"safer-buffer\").Buffer;\n\n// Multibyte codec. In this scheme, a character is represented by 1 or more bytes.\n// Our codec supports UTF-16 surrogates, extensions for GB18030 and unicode sequences.\n// To save memory and loading time, we read table files only when requested.\n\nexports._dbcs = DBCSCodec;\n\nvar UNASSIGNED = -1,\n    GB18030_CODE = -2,\n    SEQ_START  = -10,\n    NODE_START = -1000,\n    UNASSIGNED_NODE = new Array(0x100),\n    DEF_CHAR = -1;\n\nfor (var i = 0; i < 0x100; i++)\n    UNASSIGNED_NODE[i] = UNASSIGNED;\n\n\n// Class DBCSCodec reads and initializes mapping tables.\nfunction DBCSCodec(codecOptions, iconv) {\n    this.encodingName = codecOptions.encodingName;\n    if (!codecOptions)\n        throw new Error(\"DBCS codec is called without the data.\")\n    if (!codecOptions.table)\n        throw new Error(\"Encoding '\" + this.encodingName + \"' has no data.\");\n\n    // Load tables.\n    var mappingTable = codecOptions.table();\n\n\n    // Decode tables: MBCS -> Unicode.\n\n    // decodeTables is a trie, encoded as an array of arrays of integers. Internal arrays are trie nodes and all have len = 256.\n    // Trie root is decodeTables[0].\n    // Values: >=  0 -> unicode character code. can be > 0xFFFF\n    //         == UNASSIGNED -> unknown/unassigned sequence.\n    //         == GB18030_CODE -> this is the end of a GB18030 4-byte sequence.\n    //         <= NODE_START -> index of the next node in our trie to process next byte.\n    //         <= SEQ_START  -> index of the start of a character code sequence, in decodeTableSeq.\n    this.decodeTables = [];\n    this.decodeTables[0] = UNASSIGNED_NODE.slice(0); // Create root node.\n\n    // Sometimes a MBCS char corresponds to a sequence of unicode chars. We store them as arrays of integers here. \n    this.decodeTableSeq = [];\n\n    // Actual mapping tables consist of chunks. Use them to fill up decode tables.\n    for (var i = 0; i < mappingTable.length; i++)\n        this._addDecodeChunk(mappingTable[i]);\n\n    this.defaultCharUnicode = iconv.defaultCharUnicode;\n\n    \n    // Encode tables: Unicode -> DBCS.\n\n    // `encodeTable` is array mapping from unicode char to encoded char. All its values are integers for performance.\n    // Because it can be sparse, it is represented as array of buckets by 256 chars each. Bucket can be null.\n    // Values: >=  0 -> it is a normal char. Write the value (if <=256 then 1 byte, if <=65536 then 2 bytes, etc.).\n    //         == UNASSIGNED -> no conversion found. Output a default char.\n    //         <= SEQ_START  -> it's an index in encodeTableSeq, see below. The character starts a sequence.\n    this.encodeTable = [];\n    \n    // `encodeTableSeq` is used when a sequence of unicode characters is encoded as a single code. We use a tree of\n    // objects where keys correspond to characters in sequence and leafs are the encoded dbcs values. A special DEF_CHAR key\n    // means end of sequence (needed when one sequence is a strict subsequence of another).\n    // Objects are kept separately from encodeTable to increase performance.\n    this.encodeTableSeq = [];\n\n    // Some chars can be decoded, but need not be encoded.\n    var skipEncodeChars = {};\n    if (codecOptions.encodeSkipVals)\n        for (var i = 0; i < codecOptions.encodeSkipVals.length; i++) {\n            var val = codecOptions.encodeSkipVals[i];\n            if (typeof val === 'number')\n                skipEncodeChars[val] = true;\n            else\n                for (var j = val.from; j <= val.to; j++)\n                    skipEncodeChars[j] = true;\n        }\n        \n    // Use decode trie to recursively fill out encode tables.\n    this._fillEncodeTable(0, 0, skipEncodeChars);\n\n    // Add more encoding pairs when needed.\n    if (codecOptions.encodeAdd) {\n        for (var uChar in codecOptions.encodeAdd)\n            if (Object.prototype.hasOwnProperty.call(codecOptions.encodeAdd, uChar))\n                this._setEncodeChar(uChar.charCodeAt(0), codecOptions.encodeAdd[uChar]);\n    }\n\n    this.defCharSB  = this.encodeTable[0][iconv.defaultCharSingleByte.charCodeAt(0)];\n    if (this.defCharSB === UNASSIGNED) this.defCharSB = this.encodeTable[0]['?'];\n    if (this.defCharSB === UNASSIGNED) this.defCharSB = \"?\".charCodeAt(0);\n\n\n    // Load & create GB18030 tables when needed.\n    if (typeof codecOptions.gb18030 === 'function') {\n        this.gb18030 = codecOptions.gb18030(); // Load GB18030 ranges.\n\n        // Add GB18030 decode tables.\n        var thirdByteNodeIdx = this.decodeTables.length;\n        var thirdByteNode = this.decodeTables[thirdByteNodeIdx] = UNASSIGNED_NODE.slice(0);\n\n        var fourthByteNodeIdx = this.decodeTables.length;\n        var fourthByteNode = this.decodeTables[fourthByteNodeIdx] = UNASSIGNED_NODE.slice(0);\n\n        for (var i = 0x81; i <= 0xFE; i++) {\n            var secondByteNodeIdx = NODE_START - this.decodeTables[0][i];\n            var secondByteNode = this.decodeTables[secondByteNodeIdx];\n            for (var j = 0x30; j <= 0x39; j++)\n                secondByteNode[j] = NODE_START - thirdByteNodeIdx;\n        }\n        for (var i = 0x81; i <= 0xFE; i++)\n            thirdByteNode[i] = NODE_START - fourthByteNodeIdx;\n        for (var i = 0x30; i <= 0x39; i++)\n            fourthByteNode[i] = GB18030_CODE\n    }        \n}\n\nDBCSCodec.prototype.encoder = DBCSEncoder;\nDBCSCodec.prototype.decoder = DBCSDecoder;\n\n// Decoder helpers\nDBCSCodec.prototype._getDecodeTrieNode = function(addr) {\n    var bytes = [];\n    for (; addr > 0; addr >>= 8)\n        bytes.push(addr & 0xFF);\n    if (bytes.length == 0)\n        bytes.push(0);\n\n    var node = this.decodeTables[0];\n    for (var i = bytes.length-1; i > 0; i--) { // Traverse nodes deeper into the trie.\n        var val = node[bytes[i]];\n\n        if (val == UNASSIGNED) { // Create new node.\n            node[bytes[i]] = NODE_START - this.decodeTables.length;\n            this.decodeTables.push(node = UNASSIGNED_NODE.slice(0));\n        }\n        else if (val <= NODE_START) { // Existing node.\n            node = this.decodeTables[NODE_START - val];\n        }\n        else\n            throw new Error(\"Overwrite byte in \" + this.encodingName + \", addr: \" + addr.toString(16));\n    }\n    return node;\n}\n\n\nDBCSCodec.prototype._addDecodeChunk = function(chunk) {\n    // First element of chunk is the hex mbcs code where we start.\n    var curAddr = parseInt(chunk[0], 16);\n\n    // Choose the decoding node where we'll write our chars.\n    var writeTable = this._getDecodeTrieNode(curAddr);\n    curAddr = curAddr & 0xFF;\n\n    // Write all other elements of the chunk to the table.\n    for (var k = 1; k < chunk.length; k++) {\n        var part = chunk[k];\n        if (typeof part === \"string\") { // String, write as-is.\n            for (var l = 0; l < part.length;) {\n                var code = part.charCodeAt(l++);\n                if (0xD800 <= code && code < 0xDC00) { // Decode surrogate\n                    var codeTrail = part.charCodeAt(l++);\n                    if (0xDC00 <= codeTrail && codeTrail < 0xE000)\n                        writeTable[curAddr++] = 0x10000 + (code - 0xD800) * 0x400 + (codeTrail - 0xDC00);\n                    else\n                        throw new Error(\"Incorrect surrogate pair in \"  + this.encodingName + \" at chunk \" + chunk[0]);\n                }\n                else if (0x0FF0 < code && code <= 0x0FFF) { // Character sequence (our own encoding used)\n                    var len = 0xFFF - code + 2;\n                    var seq = [];\n                    for (var m = 0; m < len; m++)\n                        seq.push(part.charCodeAt(l++)); // Simple variation: don't support surrogates or subsequences in seq.\n\n                    writeTable[curAddr++] = SEQ_START - this.decodeTableSeq.length;\n                    this.decodeTableSeq.push(seq);\n                }\n                else\n                    writeTable[curAddr++] = code; // Basic char\n            }\n        } \n        else if (typeof part === \"number\") { // Integer, meaning increasing sequence starting with prev character.\n            var charCode = writeTable[curAddr - 1] + 1;\n            for (var l = 0; l < part; l++)\n                writeTable[curAddr++] = charCode++;\n        }\n        else\n            throw new Error(\"Incorrect type '\" + typeof part + \"' given in \"  + this.encodingName + \" at chunk \" + chunk[0]);\n    }\n    if (curAddr > 0xFF)\n        throw new Error(\"Incorrect chunk in \"  + this.encodingName + \" at addr \" + chunk[0] + \": too long\" + curAddr);\n}\n\n// Encoder helpers\nDBCSCodec.prototype._getEncodeBucket = function(uCode) {\n    var high = uCode >> 8; // This could be > 0xFF because of astral characters.\n    if (this.encodeTable[high] === undefined)\n        this.encodeTable[high] = UNASSIGNED_NODE.slice(0); // Create bucket on demand.\n    return this.encodeTable[high];\n}\n\nDBCSCodec.prototype._setEncodeChar = function(uCode, dbcsCode) {\n    var bucket = this._getEncodeBucket(uCode);\n    var low = uCode & 0xFF;\n    if (bucket[low] <= SEQ_START)\n        this.encodeTableSeq[SEQ_START-bucket[low]][DEF_CHAR] = dbcsCode; // There's already a sequence, set a single-char subsequence of it.\n    else if (bucket[low] == UNASSIGNED)\n        bucket[low] = dbcsCode;\n}\n\nDBCSCodec.prototype._setEncodeSequence = function(seq, dbcsCode) {\n    \n    // Get the root of character tree according to first character of the sequence.\n    var uCode = seq[0];\n    var bucket = this._getEncodeBucket(uCode);\n    var low = uCode & 0xFF;\n\n    var node;\n    if (bucket[low] <= SEQ_START) {\n        // There's already a sequence with  - use it.\n        node = this.encodeTableSeq[SEQ_START-bucket[low]];\n    }\n    else {\n        // There was no sequence object - allocate a new one.\n        node = {};\n        if (bucket[low] !== UNASSIGNED) node[DEF_CHAR] = bucket[low]; // If a char was set before - make it a single-char subsequence.\n        bucket[low] = SEQ_START - this.encodeTableSeq.length;\n        this.encodeTableSeq.push(node);\n    }\n\n    // Traverse the character tree, allocating new nodes as needed.\n    for (var j = 1; j < seq.length-1; j++) {\n        var oldVal = node[uCode];\n        if (typeof oldVal === 'object')\n            node = oldVal;\n        else {\n            node = node[uCode] = {}\n            if (oldVal !== undefined)\n                node[DEF_CHAR] = oldVal\n        }\n    }\n\n    // Set the leaf to given dbcsCode.\n    uCode = seq[seq.length-1];\n    node[uCode] = dbcsCode;\n}\n\nDBCSCodec.prototype._fillEncodeTable = function(nodeIdx, prefix, skipEncodeChars) {\n    var node = this.decodeTables[nodeIdx];\n    for (var i = 0; i < 0x100; i++) {\n        var uCode = node[i];\n        var mbCode = prefix + i;\n        if (skipEncodeChars[mbCode])\n            continue;\n\n        if (uCode >= 0)\n            this._setEncodeChar(uCode, mbCode);\n        else if (uCode <= NODE_START)\n            this._fillEncodeTable(NODE_START - uCode, mbCode << 8, skipEncodeChars);\n        else if (uCode <= SEQ_START)\n            this._setEncodeSequence(this.decodeTableSeq[SEQ_START - uCode], mbCode);\n    }\n}\n\n\n\n// == Encoder ==================================================================\n\nfunction DBCSEncoder(options, codec) {\n    // Encoder state\n    this.leadSurrogate = -1;\n    this.seqObj = undefined;\n    \n    // Static data\n    this.encodeTable = codec.encodeTable;\n    this.encodeTableSeq = codec.encodeTableSeq;\n    this.defaultCharSingleByte = codec.defCharSB;\n    this.gb18030 = codec.gb18030;\n}\n\nDBCSEncoder.prototype.write = function(str) {\n    var newBuf = Buffer.alloc(str.length * (this.gb18030 ? 4 : 3)),\n        leadSurrogate = this.leadSurrogate,\n        seqObj = this.seqObj, nextChar = -1,\n        i = 0, j = 0;\n\n    while (true) {\n        // 0. Get next character.\n        if (nextChar === -1) {\n            if (i == str.length) break;\n            var uCode = str.charCodeAt(i++);\n        }\n        else {\n            var uCode = nextChar;\n            nextChar = -1;    \n        }\n\n        // 1. Handle surrogates.\n        if (0xD800 <= uCode && uCode < 0xE000) { // Char is one of surrogates.\n            if (uCode < 0xDC00) { // We've got lead surrogate.\n                if (leadSurrogate === -1) {\n                    leadSurrogate = uCode;\n                    continue;\n                } else {\n                    leadSurrogate = uCode;\n                    // Double lead surrogate found.\n                    uCode = UNASSIGNED;\n                }\n            } else { // We've got trail surrogate.\n                if (leadSurrogate !== -1) {\n                    uCode = 0x10000 + (leadSurrogate - 0xD800) * 0x400 + (uCode - 0xDC00);\n                    leadSurrogate = -1;\n                } else {\n                    // Incomplete surrogate pair - only trail surrogate found.\n                    uCode = UNASSIGNED;\n                }\n                \n            }\n        }\n        else if (leadSurrogate !== -1) {\n            // Incomplete surrogate pair - only lead surrogate found.\n            nextChar = uCode; uCode = UNASSIGNED; // Write an error, then current char.\n            leadSurrogate = -1;\n        }\n\n        // 2. Convert uCode character.\n        var dbcsCode = UNASSIGNED;\n        if (seqObj !== undefined && uCode != UNASSIGNED) { // We are in the middle of the sequence\n            var resCode = seqObj[uCode];\n            if (typeof resCode === 'object') { // Sequence continues.\n                seqObj = resCode;\n                continue;\n\n            } else if (typeof resCode == 'number') { // Sequence finished. Write it.\n                dbcsCode = resCode;\n\n            } else if (resCode == undefined) { // Current character is not part of the sequence.\n\n                // Try default character for this sequence\n                resCode = seqObj[DEF_CHAR];\n                if (resCode !== undefined) {\n                    dbcsCode = resCode; // Found. Write it.\n                    nextChar = uCode; // Current character will be written too in the next iteration.\n\n                } else {\n                    // TODO: What if we have no default? (resCode == undefined)\n                    // Then, we should write first char of the sequence as-is and try the rest recursively.\n                    // Didn't do it for now because no encoding has this situation yet.\n                    // Currently, just skip the sequence and write current char.\n                }\n            }\n            seqObj = undefined;\n        }\n        else if (uCode >= 0) {  // Regular character\n            var subtable = this.encodeTable[uCode >> 8];\n            if (subtable !== undefined)\n                dbcsCode = subtable[uCode & 0xFF];\n            \n            if (dbcsCode <= SEQ_START) { // Sequence start\n                seqObj = this.encodeTableSeq[SEQ_START-dbcsCode];\n                continue;\n            }\n\n            if (dbcsCode == UNASSIGNED && this.gb18030) {\n                // Use GB18030 algorithm to find character(s) to write.\n                var idx = findIdx(this.gb18030.uChars, uCode);\n                if (idx != -1) {\n                    var dbcsCode = this.gb18030.gbChars[idx] + (uCode - this.gb18030.uChars[idx]);\n                    newBuf[j++] = 0x81 + Math.floor(dbcsCode / 12600); dbcsCode = dbcsCode % 12600;\n                    newBuf[j++] = 0x30 + Math.floor(dbcsCode / 1260); dbcsCode = dbcsCode % 1260;\n                    newBuf[j++] = 0x81 + Math.floor(dbcsCode / 10); dbcsCode = dbcsCode % 10;\n                    newBuf[j++] = 0x30 + dbcsCode;\n                    continue;\n                }\n            }\n        }\n\n        // 3. Write dbcsCode character.\n        if (dbcsCode === UNASSIGNED)\n            dbcsCode = this.defaultCharSingleByte;\n        \n        if (dbcsCode < 0x100) {\n            newBuf[j++] = dbcsCode;\n        }\n        else if (dbcsCode < 0x10000) {\n            newBuf[j++] = dbcsCode >> 8;   // high byte\n            newBuf[j++] = dbcsCode & 0xFF; // low byte\n        }\n        else {\n            newBuf[j++] = dbcsCode >> 16;\n            newBuf[j++] = (dbcsCode >> 8) & 0xFF;\n            newBuf[j++] = dbcsCode & 0xFF;\n        }\n    }\n\n    this.seqObj = seqObj;\n    this.leadSurrogate = leadSurrogate;\n    return newBuf.slice(0, j);\n}\n\nDBCSEncoder.prototype.end = function() {\n    if (this.leadSurrogate === -1 && this.seqObj === undefined)\n        return; // All clean. Most often case.\n\n    var newBuf = Buffer.alloc(10), j = 0;\n\n    if (this.seqObj) { // We're in the sequence.\n        var dbcsCode = this.seqObj[DEF_CHAR];\n        if (dbcsCode !== undefined) { // Write beginning of the sequence.\n            if (dbcsCode < 0x100) {\n                newBuf[j++] = dbcsCode;\n            }\n            else {\n                newBuf[j++] = dbcsCode >> 8;   // high byte\n                newBuf[j++] = dbcsCode & 0xFF; // low byte\n            }\n        } else {\n            // See todo above.\n        }\n        this.seqObj = undefined;\n    }\n\n    if (this.leadSurrogate !== -1) {\n        // Incomplete surrogate pair - only lead surrogate found.\n        newBuf[j++] = this.defaultCharSingleByte;\n        this.leadSurrogate = -1;\n    }\n    \n    return newBuf.slice(0, j);\n}\n\n// Export for testing\nDBCSEncoder.prototype.findIdx = findIdx;\n\n\n// == Decoder ==================================================================\n\nfunction DBCSDecoder(options, codec) {\n    // Decoder state\n    this.nodeIdx = 0;\n    this.prevBuf = Buffer.alloc(0);\n\n    // Static data\n    this.decodeTables = codec.decodeTables;\n    this.decodeTableSeq = codec.decodeTableSeq;\n    this.defaultCharUnicode = codec.defaultCharUnicode;\n    this.gb18030 = codec.gb18030;\n}\n\nDBCSDecoder.prototype.write = function(buf) {\n    var newBuf = Buffer.alloc(buf.length*2),\n        nodeIdx = this.nodeIdx, \n        prevBuf = this.prevBuf, prevBufOffset = this.prevBuf.length,\n        seqStart = -this.prevBuf.length, // idx of the start of current parsed sequence.\n        uCode;\n\n    if (prevBufOffset > 0) // Make prev buf overlap a little to make it easier to slice later.\n        prevBuf = Buffer.concat([prevBuf, buf.slice(0, 10)]);\n    \n    for (var i = 0, j = 0; i < buf.length; i++) {\n        var curByte = (i >= 0) ? buf[i] : prevBuf[i + prevBufOffset];\n\n        // Lookup in current trie node.\n        var uCode = this.decodeTables[nodeIdx][curByte];\n\n        if (uCode >= 0) { \n            // Normal character, just use it.\n        }\n        else if (uCode === UNASSIGNED) { // Unknown char.\n            // TODO: Callback with seq.\n            //var curSeq = (seqStart >= 0) ? buf.slice(seqStart, i+1) : prevBuf.slice(seqStart + prevBufOffset, i+1 + prevBufOffset);\n            i = seqStart; // Try to parse again, after skipping first byte of the sequence ('i' will be incremented by 'for' cycle).\n            uCode = this.defaultCharUnicode.charCodeAt(0);\n        }\n        else if (uCode === GB18030_CODE) {\n            var curSeq = (seqStart >= 0) ? buf.slice(seqStart, i+1) : prevBuf.slice(seqStart + prevBufOffset, i+1 + prevBufOffset);\n            var ptr = (curSeq[0]-0x81)*12600 + (curSeq[1]-0x30)*1260 + (curSeq[2]-0x81)*10 + (curSeq[3]-0x30);\n            var idx = findIdx(this.gb18030.gbChars, ptr);\n            uCode = this.gb18030.uChars[idx] + ptr - this.gb18030.gbChars[idx];\n        }\n        else if (uCode <= NODE_START) { // Go to next trie node.\n            nodeIdx = NODE_START - uCode;\n            continue;\n        }\n        else if (uCode <= SEQ_START) { // Output a sequence of chars.\n            var seq = this.decodeTableSeq[SEQ_START - uCode];\n            for (var k = 0; k < seq.length - 1; k++) {\n                uCode = seq[k];\n                newBuf[j++] = uCode & 0xFF;\n                newBuf[j++] = uCode >> 8;\n            }\n            uCode = seq[seq.length-1];\n        }\n        else\n            throw new Error(\"iconv-lite internal error: invalid decoding table value \" + uCode + \" at \" + nodeIdx + \"/\" + curByte);\n\n        // Write the character to buffer, handling higher planes using surrogate pair.\n        if (uCode > 0xFFFF) { \n            uCode -= 0x10000;\n            var uCodeLead = 0xD800 + Math.floor(uCode / 0x400);\n            newBuf[j++] = uCodeLead & 0xFF;\n            newBuf[j++] = uCodeLead >> 8;\n\n            uCode = 0xDC00 + uCode % 0x400;\n        }\n        newBuf[j++] = uCode & 0xFF;\n        newBuf[j++] = uCode >> 8;\n\n        // Reset trie node.\n        nodeIdx = 0; seqStart = i+1;\n    }\n\n    this.nodeIdx = nodeIdx;\n    this.prevBuf = (seqStart >= 0) ? buf.slice(seqStart) : prevBuf.slice(seqStart + prevBufOffset);\n    return newBuf.slice(0, j).toString('ucs2');\n}\n\nDBCSDecoder.prototype.end = function() {\n    var ret = '';\n\n    // Try to parse all remaining chars.\n    while (this.prevBuf.length > 0) {\n        // Skip 1 character in the buffer.\n        ret += this.defaultCharUnicode;\n        var buf = this.prevBuf.slice(1);\n\n        // Parse remaining as usual.\n        this.prevBuf = Buffer.alloc(0);\n        this.nodeIdx = 0;\n        if (buf.length > 0)\n            ret += this.write(buf);\n    }\n\n    this.nodeIdx = 0;\n    return ret;\n}\n\n// Binary search for GB18030. Returns largest i such that table[i] <= val.\nfunction findIdx(table, val) {\n    if (table[0] > val)\n        return -1;\n\n    var l = 0, r = table.length;\n    while (l < r-1) { // always table[l] <= val < table[r]\n        var mid = l + Math.floor((r-l+1)/2);\n        if (table[mid] <= val)\n            l = mid;\n        else\n            r = mid;\n    }\n    return l;\n}\n\n","\"use strict\";\n\n// Description of supported double byte encodings and aliases.\n// Tables are not require()-d until they are needed to speed up library load.\n// require()-s are direct to support Browserify.\n\nmodule.exports = {\n    \n    // == Japanese/ShiftJIS ====================================================\n    // All japanese encodings are based on JIS X set of standards:\n    // JIS X 0201 - Single-byte encoding of ASCII +  + Kana chars at 0xA1-0xDF.\n    // JIS X 0208 - Main set of 6879 characters, placed in 94x94 plane, to be encoded by 2 bytes. \n    //              Has several variations in 1978, 1983, 1990 and 1997.\n    // JIS X 0212 - Supplementary plane of 6067 chars in 94x94 plane. 1990. Effectively dead.\n    // JIS X 0213 - Extension and modern replacement of 0208 and 0212. Total chars: 11233.\n    //              2 planes, first is superset of 0208, second - revised 0212.\n    //              Introduced in 2000, revised 2004. Some characters are in Unicode Plane 2 (0x2xxxx)\n\n    // Byte encodings are:\n    //  * Shift_JIS: Compatible with 0201, uses not defined chars in top half as lead bytes for double-byte\n    //               encoding of 0208. Lead byte ranges: 0x81-0x9F, 0xE0-0xEF; Trail byte ranges: 0x40-0x7E, 0x80-0x9E, 0x9F-0xFC.\n    //               Windows CP932 is a superset of Shift_JIS. Some companies added more chars, notably KDDI.\n    //  * EUC-JP:    Up to 3 bytes per character. Used mostly on *nixes.\n    //               0x00-0x7F       - lower part of 0201\n    //               0x8E, 0xA1-0xDF - upper part of 0201\n    //               (0xA1-0xFE)x2   - 0208 plane (94x94).\n    //               0x8F, (0xA1-0xFE)x2 - 0212 plane (94x94).\n    //  * JIS X 208: 7-bit, direct encoding of 0208. Byte ranges: 0x21-0x7E (94 values). Uncommon.\n    //               Used as-is in ISO2022 family.\n    //  * ISO2022-JP: Stateful encoding, with escape sequences to switch between ASCII, \n    //                0201-1976 Roman, 0208-1978, 0208-1983.\n    //  * ISO2022-JP-1: Adds esc seq for 0212-1990.\n    //  * ISO2022-JP-2: Adds esc seq for GB2313-1980, KSX1001-1992, ISO8859-1, ISO8859-7.\n    //  * ISO2022-JP-3: Adds esc seq for 0201-1976 Kana set, 0213-2000 Planes 1, 2.\n    //  * ISO2022-JP-2004: Adds 0213-2004 Plane 1.\n    //\n    // After JIS X 0213 appeared, Shift_JIS-2004, EUC-JISX0213 and ISO2022-JP-2004 followed, with just changing the planes.\n    //\n    // Overall, it seems that it's a mess :( http://www8.plala.or.jp/tkubota1/unicode-symbols-map2.html\n\n    'shiftjis': {\n        type: '_dbcs',\n        table: function() { return require('./tables/shiftjis.json') },\n        encodeAdd: {'\\u00a5': 0x5C, '\\u203E': 0x7E},\n        encodeSkipVals: [{from: 0xED40, to: 0xF940}],\n    },\n    'csshiftjis': 'shiftjis',\n    'mskanji': 'shiftjis',\n    'sjis': 'shiftjis',\n    'windows31j': 'shiftjis',\n    'ms31j': 'shiftjis',\n    'xsjis': 'shiftjis',\n    'windows932': 'shiftjis',\n    'ms932': 'shiftjis',\n    '932': 'shiftjis',\n    'cp932': 'shiftjis',\n\n    'eucjp': {\n        type: '_dbcs',\n        table: function() { return require('./tables/eucjp.json') },\n        encodeAdd: {'\\u00a5': 0x5C, '\\u203E': 0x7E},\n    },\n\n    // TODO: KDDI extension to Shift_JIS\n    // TODO: IBM CCSID 942 = CP932, but F0-F9 custom chars and other char changes.\n    // TODO: IBM CCSID 943 = Shift_JIS = CP932 with original Shift_JIS lower 128 chars.\n\n\n    // == Chinese/GBK ==========================================================\n    // http://en.wikipedia.org/wiki/GBK\n    // We mostly implement W3C recommendation: https://www.w3.org/TR/encoding/#gbk-encoder\n\n    // Oldest GB2312 (1981, ~7600 chars) is a subset of CP936\n    'gb2312': 'cp936',\n    'gb231280': 'cp936',\n    'gb23121980': 'cp936',\n    'csgb2312': 'cp936',\n    'csiso58gb231280': 'cp936',\n    'euccn': 'cp936',\n\n    // Microsoft's CP936 is a subset and approximation of GBK.\n    'windows936': 'cp936',\n    'ms936': 'cp936',\n    '936': 'cp936',\n    'cp936': {\n        type: '_dbcs',\n        table: function() { return require('./tables/cp936.json') },\n    },\n\n    // GBK (~22000 chars) is an extension of CP936 that added user-mapped chars and some other.\n    'gbk': {\n        type: '_dbcs',\n        table: function() { return require('./tables/cp936.json').concat(require('./tables/gbk-added.json')) },\n    },\n    'xgbk': 'gbk',\n    'isoir58': 'gbk',\n\n    // GB18030 is an algorithmic extension of GBK.\n    // Main source: https://www.w3.org/TR/encoding/#gbk-encoder\n    // http://icu-project.org/docs/papers/gb18030.html\n    // http://source.icu-project.org/repos/icu/data/trunk/charset/data/xml/gb-18030-2000.xml\n    // http://www.khngai.com/chinese/charmap/tblgbk.php?page=0\n    'gb18030': {\n        type: '_dbcs',\n        table: function() { return require('./tables/cp936.json').concat(require('./tables/gbk-added.json')) },\n        gb18030: function() { return require('./tables/gb18030-ranges.json') },\n        encodeSkipVals: [0x80],\n        encodeAdd: {'': 0xA2E3},\n    },\n\n    'chinese': 'gb18030',\n\n\n    // == Korean ===============================================================\n    // EUC-KR, KS_C_5601 and KS X 1001 are exactly the same.\n    'windows949': 'cp949',\n    'ms949': 'cp949',\n    '949': 'cp949',\n    'cp949': {\n        type: '_dbcs',\n        table: function() { return require('./tables/cp949.json') },\n    },\n\n    'cseuckr': 'cp949',\n    'csksc56011987': 'cp949',\n    'euckr': 'cp949',\n    'isoir149': 'cp949',\n    'korean': 'cp949',\n    'ksc56011987': 'cp949',\n    'ksc56011989': 'cp949',\n    'ksc5601': 'cp949',\n\n\n    // == Big5/Taiwan/Hong Kong ================================================\n    // There are lots of tables for Big5 and cp950. Please see the following links for history:\n    // http://moztw.org/docs/big5/  http://www.haible.de/bruno/charsets/conversion-tables/Big5.html\n    // Variations, in roughly number of defined chars:\n    //  * Windows CP 950: Microsoft variant of Big5. Canonical: http://www.unicode.org/Public/MAPPINGS/VENDORS/MICSFT/WINDOWS/CP950.TXT\n    //  * Windows CP 951: Microsoft variant of Big5-HKSCS-2001. Seems to be never public. http://me.abelcheung.org/articles/research/what-is-cp951/\n    //  * Big5-2003 (Taiwan standard) almost superset of cp950.\n    //  * Unicode-at-on (UAO) / Mozilla 1.8. Falling out of use on the Web. Not supported by other browsers.\n    //  * Big5-HKSCS (-2001, -2004, -2008). Hong Kong standard. \n    //    many unicode code points moved from PUA to Supplementary plane (U+2XXXX) over the years.\n    //    Plus, it has 4 combining sequences.\n    //    Seems that Mozilla refused to support it for 10 yrs. https://bugzilla.mozilla.org/show_bug.cgi?id=162431 https://bugzilla.mozilla.org/show_bug.cgi?id=310299\n    //    because big5-hkscs is the only encoding to include astral characters in non-algorithmic way.\n    //    Implementations are not consistent within browsers; sometimes labeled as just big5.\n    //    MS Internet Explorer switches from big5 to big5-hkscs when a patch applied.\n    //    Great discussion & recap of what's going on https://bugzilla.mozilla.org/show_bug.cgi?id=912470#c31\n    //    In the encoder, it might make sense to support encoding old PUA mappings to Big5 bytes seq-s.\n    //    Official spec: http://www.ogcio.gov.hk/en/business/tech_promotion/ccli/terms/doc/2003cmp_2008.txt\n    //                   http://www.ogcio.gov.hk/tc/business/tech_promotion/ccli/terms/doc/hkscs-2008-big5-iso.txt\n    // \n    // Current understanding of how to deal with Big5(-HKSCS) is in the Encoding Standard, http://encoding.spec.whatwg.org/#big5-encoder\n    // Unicode mapping (http://www.unicode.org/Public/MAPPINGS/OBSOLETE/EASTASIA/OTHER/BIG5.TXT) is said to be wrong.\n\n    'windows950': 'cp950',\n    'ms950': 'cp950',\n    '950': 'cp950',\n    'cp950': {\n        type: '_dbcs',\n        table: function() { return require('./tables/cp950.json') },\n    },\n\n    // Big5 has many variations and is an extension of cp950. We use Encoding Standard's as a consensus.\n    'big5': 'big5hkscs',\n    'big5hkscs': {\n        type: '_dbcs',\n        table: function() { return require('./tables/cp950.json').concat(require('./tables/big5-added.json')) },\n        encodeSkipVals: [0xa2cc],\n    },\n\n    'cnbig5': 'big5hkscs',\n    'csbig5': 'big5hkscs',\n    'xxbig5': 'big5hkscs',\n};\n","\"use strict\";\n\n// Update this array if you add/rename/remove files in this directory.\n// We support Browserify by skipping automatic module discovery and requiring modules directly.\nvar modules = [\n    require(\"./internal\"),\n    require(\"./utf16\"),\n    require(\"./utf7\"),\n    require(\"./sbcs-codec\"),\n    require(\"./sbcs-data\"),\n    require(\"./sbcs-data-generated\"),\n    require(\"./dbcs-codec\"),\n    require(\"./dbcs-data\"),\n];\n\n// Put all encoding/alias/codec definitions to single object and export it. \nfor (var i = 0; i < modules.length; i++) {\n    var module = modules[i];\n    for (var enc in module)\n        if (Object.prototype.hasOwnProperty.call(module, enc))\n            exports[enc] = module[enc];\n}\n","\"use strict\";\nvar Buffer = require(\"safer-buffer\").Buffer;\n\n// Export Node.js internal encodings.\n\nmodule.exports = {\n    // Encodings\n    utf8:   { type: \"_internal\", bomAware: true},\n    cesu8:  { type: \"_internal\", bomAware: true},\n    unicode11utf8: \"utf8\",\n\n    ucs2:   { type: \"_internal\", bomAware: true},\n    utf16le: \"ucs2\",\n\n    binary: { type: \"_internal\" },\n    base64: { type: \"_internal\" },\n    hex:    { type: \"_internal\" },\n\n    // Codec.\n    _internal: InternalCodec,\n};\n\n//------------------------------------------------------------------------------\n\nfunction InternalCodec(codecOptions, iconv) {\n    this.enc = codecOptions.encodingName;\n    this.bomAware = codecOptions.bomAware;\n\n    if (this.enc === \"base64\")\n        this.encoder = InternalEncoderBase64;\n    else if (this.enc === \"cesu8\") {\n        this.enc = \"utf8\"; // Use utf8 for decoding.\n        this.encoder = InternalEncoderCesu8;\n\n        // Add decoder for versions of Node not supporting CESU-8\n        if (Buffer.from('eda0bdedb2a9', 'hex').toString() !== '') {\n            this.decoder = InternalDecoderCesu8;\n            this.defaultCharUnicode = iconv.defaultCharUnicode;\n        }\n    }\n}\n\nInternalCodec.prototype.encoder = InternalEncoder;\nInternalCodec.prototype.decoder = InternalDecoder;\n\n//------------------------------------------------------------------------------\n\n// We use node.js internal decoder. Its signature is the same as ours.\nvar StringDecoder = require('string_decoder').StringDecoder;\n\nif (!StringDecoder.prototype.end) // Node v0.8 doesn't have this method.\n    StringDecoder.prototype.end = function() {};\n\n\nfunction InternalDecoder(options, codec) {\n    StringDecoder.call(this, codec.enc);\n}\n\nInternalDecoder.prototype = StringDecoder.prototype;\n\n\n//------------------------------------------------------------------------------\n// Encoder is mostly trivial\n\nfunction InternalEncoder(options, codec) {\n    this.enc = codec.enc;\n}\n\nInternalEncoder.prototype.write = function(str) {\n    return Buffer.from(str, this.enc);\n}\n\nInternalEncoder.prototype.end = function() {\n}\n\n\n//------------------------------------------------------------------------------\n// Except base64 encoder, which must keep its state.\n\nfunction InternalEncoderBase64(options, codec) {\n    this.prevStr = '';\n}\n\nInternalEncoderBase64.prototype.write = function(str) {\n    str = this.prevStr + str;\n    var completeQuads = str.length - (str.length % 4);\n    this.prevStr = str.slice(completeQuads);\n    str = str.slice(0, completeQuads);\n\n    return Buffer.from(str, \"base64\");\n}\n\nInternalEncoderBase64.prototype.end = function() {\n    return Buffer.from(this.prevStr, \"base64\");\n}\n\n\n//------------------------------------------------------------------------------\n// CESU-8 encoder is also special.\n\nfunction InternalEncoderCesu8(options, codec) {\n}\n\nInternalEncoderCesu8.prototype.write = function(str) {\n    var buf = Buffer.alloc(str.length * 3), bufIdx = 0;\n    for (var i = 0; i < str.length; i++) {\n        var charCode = str.charCodeAt(i);\n        // Naive implementation, but it works because CESU-8 is especially easy\n        // to convert from UTF-16 (which all JS strings are encoded in).\n        if (charCode < 0x80)\n            buf[bufIdx++] = charCode;\n        else if (charCode < 0x800) {\n            buf[bufIdx++] = 0xC0 + (charCode >>> 6);\n            buf[bufIdx++] = 0x80 + (charCode & 0x3f);\n        }\n        else { // charCode will always be < 0x10000 in javascript.\n            buf[bufIdx++] = 0xE0 + (charCode >>> 12);\n            buf[bufIdx++] = 0x80 + ((charCode >>> 6) & 0x3f);\n            buf[bufIdx++] = 0x80 + (charCode & 0x3f);\n        }\n    }\n    return buf.slice(0, bufIdx);\n}\n\nInternalEncoderCesu8.prototype.end = function() {\n}\n\n//------------------------------------------------------------------------------\n// CESU-8 decoder is not implemented in Node v4.0+\n\nfunction InternalDecoderCesu8(options, codec) {\n    this.acc = 0;\n    this.contBytes = 0;\n    this.accBytes = 0;\n    this.defaultCharUnicode = codec.defaultCharUnicode;\n}\n\nInternalDecoderCesu8.prototype.write = function(buf) {\n    var acc = this.acc, contBytes = this.contBytes, accBytes = this.accBytes, \n        res = '';\n    for (var i = 0; i < buf.length; i++) {\n        var curByte = buf[i];\n        if ((curByte & 0xC0) !== 0x80) { // Leading byte\n            if (contBytes > 0) { // Previous code is invalid\n                res += this.defaultCharUnicode;\n                contBytes = 0;\n            }\n\n            if (curByte < 0x80) { // Single-byte code\n                res += String.fromCharCode(curByte);\n            } else if (curByte < 0xE0) { // Two-byte code\n                acc = curByte & 0x1F;\n                contBytes = 1; accBytes = 1;\n            } else if (curByte < 0xF0) { // Three-byte code\n                acc = curByte & 0x0F;\n                contBytes = 2; accBytes = 1;\n            } else { // Four or more are not supported for CESU-8.\n                res += this.defaultCharUnicode;\n            }\n        } else { // Continuation byte\n            if (contBytes > 0) { // We're waiting for it.\n                acc = (acc << 6) | (curByte & 0x3f);\n                contBytes--; accBytes++;\n                if (contBytes === 0) {\n                    // Check for overlong encoding, but support Modified UTF-8 (encoding NULL as C0 80)\n                    if (accBytes === 2 && acc < 0x80 && acc > 0)\n                        res += this.defaultCharUnicode;\n                    else if (accBytes === 3 && acc < 0x800)\n                        res += this.defaultCharUnicode;\n                    else\n                        // Actually add character.\n                        res += String.fromCharCode(acc);\n                }\n            } else { // Unexpected continuation byte\n                res += this.defaultCharUnicode;\n            }\n        }\n    }\n    this.acc = acc; this.contBytes = contBytes; this.accBytes = accBytes;\n    return res;\n}\n\nInternalDecoderCesu8.prototype.end = function() {\n    var res = 0;\n    if (this.contBytes > 0)\n        res += this.defaultCharUnicode;\n    return res;\n}\n","\"use strict\";\nvar Buffer = require(\"safer-buffer\").Buffer;\n\n// Single-byte codec. Needs a 'chars' string parameter that contains 256 or 128 chars that\n// correspond to encoded bytes (if 128 - then lower half is ASCII). \n\nexports._sbcs = SBCSCodec;\nfunction SBCSCodec(codecOptions, iconv) {\n    if (!codecOptions)\n        throw new Error(\"SBCS codec is called without the data.\")\n    \n    // Prepare char buffer for decoding.\n    if (!codecOptions.chars || (codecOptions.chars.length !== 128 && codecOptions.chars.length !== 256))\n        throw new Error(\"Encoding '\"+codecOptions.type+\"' has incorrect 'chars' (must be of len 128 or 256)\");\n    \n    if (codecOptions.chars.length === 128) {\n        var asciiString = \"\";\n        for (var i = 0; i < 128; i++)\n            asciiString += String.fromCharCode(i);\n        codecOptions.chars = asciiString + codecOptions.chars;\n    }\n\n    this.decodeBuf = Buffer.from(codecOptions.chars, 'ucs2');\n    \n    // Encoding buffer.\n    var encodeBuf = Buffer.alloc(65536, iconv.defaultCharSingleByte.charCodeAt(0));\n\n    for (var i = 0; i < codecOptions.chars.length; i++)\n        encodeBuf[codecOptions.chars.charCodeAt(i)] = i;\n\n    this.encodeBuf = encodeBuf;\n}\n\nSBCSCodec.prototype.encoder = SBCSEncoder;\nSBCSCodec.prototype.decoder = SBCSDecoder;\n\n\nfunction SBCSEncoder(options, codec) {\n    this.encodeBuf = codec.encodeBuf;\n}\n\nSBCSEncoder.prototype.write = function(str) {\n    var buf = Buffer.alloc(str.length);\n    for (var i = 0; i < str.length; i++)\n        buf[i] = this.encodeBuf[str.charCodeAt(i)];\n    \n    return buf;\n}\n\nSBCSEncoder.prototype.end = function() {\n}\n\n\nfunction SBCSDecoder(options, codec) {\n    this.decodeBuf = codec.decodeBuf;\n}\n\nSBCSDecoder.prototype.write = function(buf) {\n    // Strings are immutable in JS -> we use ucs2 buffer to speed up computations.\n    var decodeBuf = this.decodeBuf;\n    var newBuf = Buffer.alloc(buf.length*2);\n    var idx1 = 0, idx2 = 0;\n    for (var i = 0; i < buf.length; i++) {\n        idx1 = buf[i]*2; idx2 = i*2;\n        newBuf[idx2] = decodeBuf[idx1];\n        newBuf[idx2+1] = decodeBuf[idx1+1];\n    }\n    return newBuf.toString('ucs2');\n}\n\nSBCSDecoder.prototype.end = function() {\n}\n","\"use strict\";\n\n// Generated data for sbcs codec. Don't edit manually. Regenerate using generation/gen-sbcs.js script.\nmodule.exports = {\n  \"437\": \"cp437\",\n  \"737\": \"cp737\",\n  \"775\": \"cp775\",\n  \"850\": \"cp850\",\n  \"852\": \"cp852\",\n  \"855\": \"cp855\",\n  \"856\": \"cp856\",\n  \"857\": \"cp857\",\n  \"858\": \"cp858\",\n  \"860\": \"cp860\",\n  \"861\": \"cp861\",\n  \"862\": \"cp862\",\n  \"863\": \"cp863\",\n  \"864\": \"cp864\",\n  \"865\": \"cp865\",\n  \"866\": \"cp866\",\n  \"869\": \"cp869\",\n  \"874\": \"windows874\",\n  \"922\": \"cp922\",\n  \"1046\": \"cp1046\",\n  \"1124\": \"cp1124\",\n  \"1125\": \"cp1125\",\n  \"1129\": \"cp1129\",\n  \"1133\": \"cp1133\",\n  \"1161\": \"cp1161\",\n  \"1162\": \"cp1162\",\n  \"1163\": \"cp1163\",\n  \"1250\": \"windows1250\",\n  \"1251\": \"windows1251\",\n  \"1252\": \"windows1252\",\n  \"1253\": \"windows1253\",\n  \"1254\": \"windows1254\",\n  \"1255\": \"windows1255\",\n  \"1256\": \"windows1256\",\n  \"1257\": \"windows1257\",\n  \"1258\": \"windows1258\",\n  \"28591\": \"iso88591\",\n  \"28592\": \"iso88592\",\n  \"28593\": \"iso88593\",\n  \"28594\": \"iso88594\",\n  \"28595\": \"iso88595\",\n  \"28596\": \"iso88596\",\n  \"28597\": \"iso88597\",\n  \"28598\": \"iso88598\",\n  \"28599\": \"iso88599\",\n  \"28600\": \"iso885910\",\n  \"28601\": \"iso885911\",\n  \"28603\": \"iso885913\",\n  \"28604\": \"iso885914\",\n  \"28605\": \"iso885915\",\n  \"28606\": \"iso885916\",\n  \"windows874\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"win874\": \"windows874\",\n  \"cp874\": \"windows874\",\n  \"windows1250\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"win1250\": \"windows1250\",\n  \"cp1250\": \"windows1250\",\n  \"windows1251\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"win1251\": \"windows1251\",\n  \"cp1251\": \"windows1251\",\n  \"windows1252\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"win1252\": \"windows1252\",\n  \"cp1252\": \"windows1252\",\n  \"windows1253\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"win1253\": \"windows1253\",\n  \"cp1253\": \"windows1253\",\n  \"windows1254\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"win1254\": \"windows1254\",\n  \"cp1254\": \"windows1254\",\n  \"windows1255\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"win1255\": \"windows1255\",\n  \"cp1255\": \"windows1255\",\n  \"windows1256\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"win1256\": \"windows1256\",\n  \"cp1256\": \"windows1256\",\n  \"windows1257\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"win1257\": \"windows1257\",\n  \"cp1257\": \"windows1257\",\n  \"windows1258\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"win1258\": \"windows1258\",\n  \"cp1258\": \"windows1258\",\n  \"iso88591\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"cp28591\": \"iso88591\",\n  \"iso88592\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"cp28592\": \"iso88592\",\n  \"iso88593\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"cp28593\": \"iso88593\",\n  \"iso88594\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"cp28594\": \"iso88594\",\n  \"iso88595\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"cp28595\": \"iso88595\",\n  \"iso88596\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"cp28596\": \"iso88596\",\n  \"iso88597\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"cp28597\": \"iso88597\",\n  \"iso88598\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"cp28598\": \"iso88598\",\n  \"iso88599\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"cp28599\": \"iso88599\",\n  \"iso885910\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"cp28600\": \"iso885910\",\n  \"iso885911\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"cp28601\": \"iso885911\",\n  \"iso885913\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"cp28603\": \"iso885913\",\n  \"iso885914\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"cp28604\": \"iso885914\",\n  \"iso885915\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"cp28605\": \"iso885915\",\n  \"iso885916\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"cp28606\": \"iso885916\",\n  \"cp437\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"ibm437\": \"cp437\",\n  \"csibm437\": \"cp437\",\n  \"cp737\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"ibm737\": \"cp737\",\n  \"csibm737\": \"cp737\",\n  \"cp775\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"ibm775\": \"cp775\",\n  \"csibm775\": \"cp775\",\n  \"cp850\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"ibm850\": \"cp850\",\n  \"csibm850\": \"cp850\",\n  \"cp852\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"ibm852\": \"cp852\",\n  \"csibm852\": \"cp852\",\n  \"cp855\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"ibm855\": \"cp855\",\n  \"csibm855\": \"cp855\",\n  \"cp856\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"ibm856\": \"cp856\",\n  \"csibm856\": \"cp856\",\n  \"cp857\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"ibm857\": \"cp857\",\n  \"csibm857\": \"cp857\",\n  \"cp858\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"ibm858\": \"cp858\",\n  \"csibm858\": \"cp858\",\n  \"cp860\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"ibm860\": \"cp860\",\n  \"csibm860\": \"cp860\",\n  \"cp861\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"ibm861\": \"cp861\",\n  \"csibm861\": \"cp861\",\n  \"cp862\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"ibm862\": \"cp862\",\n  \"csibm862\": \"cp862\",\n  \"cp863\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"ibm863\": \"cp863\",\n  \"csibm863\": \"cp863\",\n  \"cp864\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\\u0000\\u0001\\u0002\\u0003\\u0004\\u0005\\u0006\\u0007\\b\\t\\n\\u000b\\f\\r\\u000e\\u000f\\u0010\\u0011\\u0012\\u0013\\u0014\\u0015\\u0016\\u0017\\u0018\\u0019\\u001a\\u001b\\u001c\\u001d\\u001e\\u001f !\\\"#$&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\\\]^_`abcdefghijklmnopqrstuvwxyz{|}~\"\n  },\n  \"ibm864\": \"cp864\",\n  \"csibm864\": \"cp864\",\n  \"cp865\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"ibm865\": \"cp865\",\n  \"csibm865\": \"cp865\",\n  \"cp866\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"ibm866\": \"cp866\",\n  \"csibm866\": \"cp866\",\n  \"cp869\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"ibm869\": \"cp869\",\n  \"csibm869\": \"cp869\",\n  \"cp922\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"ibm922\": \"cp922\",\n  \"csibm922\": \"cp922\",\n  \"cp1046\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"ibm1046\": \"cp1046\",\n  \"csibm1046\": \"cp1046\",\n  \"cp1124\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"ibm1124\": \"cp1124\",\n  \"csibm1124\": \"cp1124\",\n  \"cp1125\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"ibm1125\": \"cp1125\",\n  \"csibm1125\": \"cp1125\",\n  \"cp1129\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"ibm1129\": \"cp1129\",\n  \"csibm1129\": \"cp1129\",\n  \"cp1133\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"ibm1133\": \"cp1133\",\n  \"csibm1133\": \"cp1133\",\n  \"cp1161\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"ibm1161\": \"cp1161\",\n  \"csibm1161\": \"cp1161\",\n  \"cp1162\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"ibm1162\": \"cp1162\",\n  \"csibm1162\": \"cp1162\",\n  \"cp1163\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"ibm1163\": \"cp1163\",\n  \"csibm1163\": \"cp1163\",\n  \"maccroatian\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"maccyrillic\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"macgreek\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"maciceland\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"macroman\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"macromania\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"macthai\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"macturkish\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"macukraine\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"koi8r\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"koi8u\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"koi8ru\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"koi8t\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"armscii8\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \")(.,-\"\n  },\n  \"rk1048\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"tcvn\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\\u0000\\u0003\\u0007\\b\\t\\n\\u000b\\f\\r\\u000e\\u000f\\u0010\\u0018\\u0019\\u001a\\u001b\\u001c\\u001d\\u001e\\u001f !\\\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\\\]^_`abcdefghijklmnopqrstuvwxyz{|}~\"\n  },\n  \"georgianacademy\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"georgianps\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"pt154\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"viscii\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\\u0000\\u0001\\u0003\\u0004\\u0007\\b\\t\\n\\u000b\\f\\r\\u000e\\u000f\\u0010\\u0011\\u0012\\u0013\\u0015\\u0016\\u0017\\u0018\\u001a\\u001b\\u001c\\u001d\\u001f !\\\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\\\]^_`abcdefghijklmnopqrstuvwxyz{|}~\"\n  },\n  \"iso646cn\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\\u0000\\u0001\\u0002\\u0003\\u0004\\u0005\\u0006\\u0007\\b\\t\\n\\u000b\\f\\r\\u000e\\u000f\\u0010\\u0011\\u0012\\u0013\\u0014\\u0015\\u0016\\u0017\\u0018\\u0019\\u001a\\u001b\\u001c\\u001d\\u001e\\u001f !\\\"#%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\\\]^_`abcdefghijklmnopqrstuvwxyz{|}\"\n  },\n  \"iso646jp\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\\u0000\\u0001\\u0002\\u0003\\u0004\\u0005\\u0006\\u0007\\b\\t\\n\\u000b\\f\\r\\u000e\\u000f\\u0010\\u0011\\u0012\\u0013\\u0014\\u0015\\u0016\\u0017\\u0018\\u0019\\u001a\\u001b\\u001c\\u001d\\u001e\\u001f !\\\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[]^_`abcdefghijklmnopqrstuvwxyz{|}\"\n  },\n  \"hproman8\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"macintosh\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"ascii\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  },\n  \"tis620\": {\n    \"type\": \"_sbcs\",\n    \"chars\": \"\"\n  }\n}","\"use strict\";\n\n// Manually added data to be used by sbcs codec in addition to generated one.\n\nmodule.exports = {\n    // Not supported by iconv, not sure why.\n    \"10029\": \"maccenteuro\",\n    \"maccenteuro\": {\n        \"type\": \"_sbcs\",\n        \"chars\": \"\"\n    },\n\n    \"808\": \"cp808\",\n    \"ibm808\": \"cp808\",\n    \"cp808\": {\n        \"type\": \"_sbcs\",\n        \"chars\": \"\"\n    },\n\n    \"mik\": {\n        \"type\": \"_sbcs\",\n        \"chars\": \"\"\n    },\n\n    // Aliases of generated encodings.\n    \"ascii8bit\": \"ascii\",\n    \"usascii\": \"ascii\",\n    \"ansix34\": \"ascii\",\n    \"ansix341968\": \"ascii\",\n    \"ansix341986\": \"ascii\",\n    \"csascii\": \"ascii\",\n    \"cp367\": \"ascii\",\n    \"ibm367\": \"ascii\",\n    \"isoir6\": \"ascii\",\n    \"iso646us\": \"ascii\",\n    \"iso646irv\": \"ascii\",\n    \"us\": \"ascii\",\n\n    \"latin1\": \"iso88591\",\n    \"latin2\": \"iso88592\",\n    \"latin3\": \"iso88593\",\n    \"latin4\": \"iso88594\",\n    \"latin5\": \"iso88599\",\n    \"latin6\": \"iso885910\",\n    \"latin7\": \"iso885913\",\n    \"latin8\": \"iso885914\",\n    \"latin9\": \"iso885915\",\n    \"latin10\": \"iso885916\",\n\n    \"csisolatin1\": \"iso88591\",\n    \"csisolatin2\": \"iso88592\",\n    \"csisolatin3\": \"iso88593\",\n    \"csisolatin4\": \"iso88594\",\n    \"csisolatincyrillic\": \"iso88595\",\n    \"csisolatinarabic\": \"iso88596\",\n    \"csisolatingreek\" : \"iso88597\",\n    \"csisolatinhebrew\": \"iso88598\",\n    \"csisolatin5\": \"iso88599\",\n    \"csisolatin6\": \"iso885910\",\n\n    \"l1\": \"iso88591\",\n    \"l2\": \"iso88592\",\n    \"l3\": \"iso88593\",\n    \"l4\": \"iso88594\",\n    \"l5\": \"iso88599\",\n    \"l6\": \"iso885910\",\n    \"l7\": \"iso885913\",\n    \"l8\": \"iso885914\",\n    \"l9\": \"iso885915\",\n    \"l10\": \"iso885916\",\n\n    \"isoir14\": \"iso646jp\",\n    \"isoir57\": \"iso646cn\",\n    \"isoir100\": \"iso88591\",\n    \"isoir101\": \"iso88592\",\n    \"isoir109\": \"iso88593\",\n    \"isoir110\": \"iso88594\",\n    \"isoir144\": \"iso88595\",\n    \"isoir127\": \"iso88596\",\n    \"isoir126\": \"iso88597\",\n    \"isoir138\": \"iso88598\",\n    \"isoir148\": \"iso88599\",\n    \"isoir157\": \"iso885910\",\n    \"isoir166\": \"tis620\",\n    \"isoir179\": \"iso885913\",\n    \"isoir199\": \"iso885914\",\n    \"isoir203\": \"iso885915\",\n    \"isoir226\": \"iso885916\",\n\n    \"cp819\": \"iso88591\",\n    \"ibm819\": \"iso88591\",\n\n    \"cyrillic\": \"iso88595\",\n\n    \"arabic\": \"iso88596\",\n    \"arabic8\": \"iso88596\",\n    \"ecma114\": \"iso88596\",\n    \"asmo708\": \"iso88596\",\n\n    \"greek\" : \"iso88597\",\n    \"greek8\" : \"iso88597\",\n    \"ecma118\" : \"iso88597\",\n    \"elot928\" : \"iso88597\",\n\n    \"hebrew\": \"iso88598\",\n    \"hebrew8\": \"iso88598\",\n\n    \"turkish\": \"iso88599\",\n    \"turkish8\": \"iso88599\",\n\n    \"thai\": \"iso885911\",\n    \"thai8\": \"iso885911\",\n\n    \"celtic\": \"iso885914\",\n    \"celtic8\": \"iso885914\",\n    \"isoceltic\": \"iso885914\",\n\n    \"tis6200\": \"tis620\",\n    \"tis62025291\": \"tis620\",\n    \"tis62025330\": \"tis620\",\n\n    \"10000\": \"macroman\",\n    \"10006\": \"macgreek\",\n    \"10007\": \"maccyrillic\",\n    \"10079\": \"maciceland\",\n    \"10081\": \"macturkish\",\n\n    \"cspc8codepage437\": \"cp437\",\n    \"cspc775baltic\": \"cp775\",\n    \"cspc850multilingual\": \"cp850\",\n    \"cspcp852\": \"cp852\",\n    \"cspc862latinhebrew\": \"cp862\",\n    \"cpgr\": \"cp869\",\n\n    \"msee\": \"cp1250\",\n    \"mscyrl\": \"cp1251\",\n    \"msansi\": \"cp1252\",\n    \"msgreek\": \"cp1253\",\n    \"msturk\": \"cp1254\",\n    \"mshebr\": \"cp1255\",\n    \"msarab\": \"cp1256\",\n    \"winbaltrim\": \"cp1257\",\n\n    \"cp20866\": \"koi8r\",\n    \"20866\": \"koi8r\",\n    \"ibm878\": \"koi8r\",\n    \"cskoi8r\": \"koi8r\",\n\n    \"cp21866\": \"koi8u\",\n    \"21866\": \"koi8u\",\n    \"ibm1168\": \"koi8u\",\n\n    \"strk10482002\": \"rk1048\",\n\n    \"tcvn5712\": \"tcvn\",\n    \"tcvn57121\": \"tcvn\",\n\n    \"gb198880\": \"iso646cn\",\n    \"cn\": \"iso646cn\",\n\n    \"csiso14jisc6220ro\": \"iso646jp\",\n    \"jisc62201969ro\": \"iso646jp\",\n    \"jp\": \"iso646jp\",\n\n    \"cshproman8\": \"hproman8\",\n    \"r8\": \"hproman8\",\n    \"roman8\": \"hproman8\",\n    \"xroman8\": \"hproman8\",\n    \"ibm1051\": \"hproman8\",\n\n    \"mac\": \"macintosh\",\n    \"csmacintosh\": \"macintosh\",\n};\n\n","\"use strict\";\nvar Buffer = require(\"safer-buffer\").Buffer;\n\n// Note: UTF16-LE (or UCS2) codec is Node.js native. See encodings/internal.js\n\n// == UTF16-BE codec. ==========================================================\n\nexports.utf16be = Utf16BECodec;\nfunction Utf16BECodec() {\n}\n\nUtf16BECodec.prototype.encoder = Utf16BEEncoder;\nUtf16BECodec.prototype.decoder = Utf16BEDecoder;\nUtf16BECodec.prototype.bomAware = true;\n\n\n// -- Encoding\n\nfunction Utf16BEEncoder() {\n}\n\nUtf16BEEncoder.prototype.write = function(str) {\n    var buf = Buffer.from(str, 'ucs2');\n    for (var i = 0; i < buf.length; i += 2) {\n        var tmp = buf[i]; buf[i] = buf[i+1]; buf[i+1] = tmp;\n    }\n    return buf;\n}\n\nUtf16BEEncoder.prototype.end = function() {\n}\n\n\n// -- Decoding\n\nfunction Utf16BEDecoder() {\n    this.overflowByte = -1;\n}\n\nUtf16BEDecoder.prototype.write = function(buf) {\n    if (buf.length == 0)\n        return '';\n\n    var buf2 = Buffer.alloc(buf.length + 1),\n        i = 0, j = 0;\n\n    if (this.overflowByte !== -1) {\n        buf2[0] = buf[0];\n        buf2[1] = this.overflowByte;\n        i = 1; j = 2;\n    }\n\n    for (; i < buf.length-1; i += 2, j+= 2) {\n        buf2[j] = buf[i+1];\n        buf2[j+1] = buf[i];\n    }\n\n    this.overflowByte = (i == buf.length-1) ? buf[buf.length-1] : -1;\n\n    return buf2.slice(0, j).toString('ucs2');\n}\n\nUtf16BEDecoder.prototype.end = function() {\n}\n\n\n// == UTF-16 codec =============================================================\n// Decoder chooses automatically from UTF-16LE and UTF-16BE using BOM and space-based heuristic.\n// Defaults to UTF-16LE, as it's prevalent and default in Node.\n// http://en.wikipedia.org/wiki/UTF-16 and http://encoding.spec.whatwg.org/#utf-16le\n// Decoder default can be changed: iconv.decode(buf, 'utf16', {defaultEncoding: 'utf-16be'});\n\n// Encoder uses UTF-16LE and prepends BOM (which can be overridden with addBOM: false).\n\nexports.utf16 = Utf16Codec;\nfunction Utf16Codec(codecOptions, iconv) {\n    this.iconv = iconv;\n}\n\nUtf16Codec.prototype.encoder = Utf16Encoder;\nUtf16Codec.prototype.decoder = Utf16Decoder;\n\n\n// -- Encoding (pass-through)\n\nfunction Utf16Encoder(options, codec) {\n    options = options || {};\n    if (options.addBOM === undefined)\n        options.addBOM = true;\n    this.encoder = codec.iconv.getEncoder('utf-16le', options);\n}\n\nUtf16Encoder.prototype.write = function(str) {\n    return this.encoder.write(str);\n}\n\nUtf16Encoder.prototype.end = function() {\n    return this.encoder.end();\n}\n\n\n// -- Decoding\n\nfunction Utf16Decoder(options, codec) {\n    this.decoder = null;\n    this.initialBytes = [];\n    this.initialBytesLen = 0;\n\n    this.options = options || {};\n    this.iconv = codec.iconv;\n}\n\nUtf16Decoder.prototype.write = function(buf) {\n    if (!this.decoder) {\n        // Codec is not chosen yet. Accumulate initial bytes.\n        this.initialBytes.push(buf);\n        this.initialBytesLen += buf.length;\n        \n        if (this.initialBytesLen < 16) // We need more bytes to use space heuristic (see below)\n            return '';\n\n        // We have enough bytes -> detect endianness.\n        var buf = Buffer.concat(this.initialBytes),\n            encoding = detectEncoding(buf, this.options.defaultEncoding);\n        this.decoder = this.iconv.getDecoder(encoding, this.options);\n        this.initialBytes.length = this.initialBytesLen = 0;\n    }\n\n    return this.decoder.write(buf);\n}\n\nUtf16Decoder.prototype.end = function() {\n    if (!this.decoder) {\n        var buf = Buffer.concat(this.initialBytes),\n            encoding = detectEncoding(buf, this.options.defaultEncoding);\n        this.decoder = this.iconv.getDecoder(encoding, this.options);\n\n        var res = this.decoder.write(buf),\n            trail = this.decoder.end();\n\n        return trail ? (res + trail) : res;\n    }\n    return this.decoder.end();\n}\n\nfunction detectEncoding(buf, defaultEncoding) {\n    var enc = defaultEncoding || 'utf-16le';\n\n    if (buf.length >= 2) {\n        // Check BOM.\n        if (buf[0] == 0xFE && buf[1] == 0xFF) // UTF-16BE BOM\n            enc = 'utf-16be';\n        else if (buf[0] == 0xFF && buf[1] == 0xFE) // UTF-16LE BOM\n            enc = 'utf-16le';\n        else {\n            // No BOM found. Try to deduce encoding from initial content.\n            // Most of the time, the content has ASCII chars (U+00**), but the opposite (U+**00) is uncommon.\n            // So, we count ASCII as if it was LE or BE, and decide from that.\n            var asciiCharsLE = 0, asciiCharsBE = 0, // Counts of chars in both positions\n                _len = Math.min(buf.length - (buf.length % 2), 64); // Len is always even.\n\n            for (var i = 0; i < _len; i += 2) {\n                if (buf[i] === 0 && buf[i+1] !== 0) asciiCharsBE++;\n                if (buf[i] !== 0 && buf[i+1] === 0) asciiCharsLE++;\n            }\n\n            if (asciiCharsBE > asciiCharsLE)\n                enc = 'utf-16be';\n            else if (asciiCharsBE < asciiCharsLE)\n                enc = 'utf-16le';\n        }\n    }\n\n    return enc;\n}\n\n\n","\"use strict\";\nvar Buffer = require(\"safer-buffer\").Buffer;\n\n// UTF-7 codec, according to https://tools.ietf.org/html/rfc2152\n// See also below a UTF-7-IMAP codec, according to http://tools.ietf.org/html/rfc3501#section-5.1.3\n\nexports.utf7 = Utf7Codec;\nexports.unicode11utf7 = 'utf7'; // Alias UNICODE-1-1-UTF-7\nfunction Utf7Codec(codecOptions, iconv) {\n    this.iconv = iconv;\n};\n\nUtf7Codec.prototype.encoder = Utf7Encoder;\nUtf7Codec.prototype.decoder = Utf7Decoder;\nUtf7Codec.prototype.bomAware = true;\n\n\n// -- Encoding\n\nvar nonDirectChars = /[^A-Za-z0-9'\\(\\),-\\.\\/:\\? \\n\\r\\t]+/g;\n\nfunction Utf7Encoder(options, codec) {\n    this.iconv = codec.iconv;\n}\n\nUtf7Encoder.prototype.write = function(str) {\n    // Naive implementation.\n    // Non-direct chars are encoded as \"+<base64>-\"; single \"+\" char is encoded as \"+-\".\n    return Buffer.from(str.replace(nonDirectChars, function(chunk) {\n        return \"+\" + (chunk === '+' ? '' : \n            this.iconv.encode(chunk, 'utf16-be').toString('base64').replace(/=+$/, '')) \n            + \"-\";\n    }.bind(this)));\n}\n\nUtf7Encoder.prototype.end = function() {\n}\n\n\n// -- Decoding\n\nfunction Utf7Decoder(options, codec) {\n    this.iconv = codec.iconv;\n    this.inBase64 = false;\n    this.base64Accum = '';\n}\n\nvar base64Regex = /[A-Za-z0-9\\/+]/;\nvar base64Chars = [];\nfor (var i = 0; i < 256; i++)\n    base64Chars[i] = base64Regex.test(String.fromCharCode(i));\n\nvar plusChar = '+'.charCodeAt(0), \n    minusChar = '-'.charCodeAt(0),\n    andChar = '&'.charCodeAt(0);\n\nUtf7Decoder.prototype.write = function(buf) {\n    var res = \"\", lastI = 0,\n        inBase64 = this.inBase64,\n        base64Accum = this.base64Accum;\n\n    // The decoder is more involved as we must handle chunks in stream.\n\n    for (var i = 0; i < buf.length; i++) {\n        if (!inBase64) { // We're in direct mode.\n            // Write direct chars until '+'\n            if (buf[i] == plusChar) {\n                res += this.iconv.decode(buf.slice(lastI, i), \"ascii\"); // Write direct chars.\n                lastI = i+1;\n                inBase64 = true;\n            }\n        } else { // We decode base64.\n            if (!base64Chars[buf[i]]) { // Base64 ended.\n                if (i == lastI && buf[i] == minusChar) {// \"+-\" -> \"+\"\n                    res += \"+\";\n                } else {\n                    var b64str = base64Accum + buf.slice(lastI, i).toString();\n                    res += this.iconv.decode(Buffer.from(b64str, 'base64'), \"utf16-be\");\n                }\n\n                if (buf[i] != minusChar) // Minus is absorbed after base64.\n                    i--;\n\n                lastI = i+1;\n                inBase64 = false;\n                base64Accum = '';\n            }\n        }\n    }\n\n    if (!inBase64) {\n        res += this.iconv.decode(buf.slice(lastI), \"ascii\"); // Write direct chars.\n    } else {\n        var b64str = base64Accum + buf.slice(lastI).toString();\n\n        var canBeDecoded = b64str.length - (b64str.length % 8); // Minimal chunk: 2 quads -> 2x3 bytes -> 3 chars.\n        base64Accum = b64str.slice(canBeDecoded); // The rest will be decoded in future.\n        b64str = b64str.slice(0, canBeDecoded);\n\n        res += this.iconv.decode(Buffer.from(b64str, 'base64'), \"utf16-be\");\n    }\n\n    this.inBase64 = inBase64;\n    this.base64Accum = base64Accum;\n\n    return res;\n}\n\nUtf7Decoder.prototype.end = function() {\n    var res = \"\";\n    if (this.inBase64 && this.base64Accum.length > 0)\n        res = this.iconv.decode(Buffer.from(this.base64Accum, 'base64'), \"utf16-be\");\n\n    this.inBase64 = false;\n    this.base64Accum = '';\n    return res;\n}\n\n\n// UTF-7-IMAP codec.\n// RFC3501 Sec. 5.1.3 Modified UTF-7 (http://tools.ietf.org/html/rfc3501#section-5.1.3)\n// Differences:\n//  * Base64 part is started by \"&\" instead of \"+\"\n//  * Direct characters are 0x20-0x7E, except \"&\" (0x26)\n//  * In Base64, \",\" is used instead of \"/\"\n//  * Base64 must not be used to represent direct characters.\n//  * No implicit shift back from Base64 (should always end with '-')\n//  * String must end in non-shifted position.\n//  * \"-&\" while in base64 is not allowed.\n\n\nexports.utf7imap = Utf7IMAPCodec;\nfunction Utf7IMAPCodec(codecOptions, iconv) {\n    this.iconv = iconv;\n};\n\nUtf7IMAPCodec.prototype.encoder = Utf7IMAPEncoder;\nUtf7IMAPCodec.prototype.decoder = Utf7IMAPDecoder;\nUtf7IMAPCodec.prototype.bomAware = true;\n\n\n// -- Encoding\n\nfunction Utf7IMAPEncoder(options, codec) {\n    this.iconv = codec.iconv;\n    this.inBase64 = false;\n    this.base64Accum = Buffer.alloc(6);\n    this.base64AccumIdx = 0;\n}\n\nUtf7IMAPEncoder.prototype.write = function(str) {\n    var inBase64 = this.inBase64,\n        base64Accum = this.base64Accum,\n        base64AccumIdx = this.base64AccumIdx,\n        buf = Buffer.alloc(str.length*5 + 10), bufIdx = 0;\n\n    for (var i = 0; i < str.length; i++) {\n        var uChar = str.charCodeAt(i);\n        if (0x20 <= uChar && uChar <= 0x7E) { // Direct character or '&'.\n            if (inBase64) {\n                if (base64AccumIdx > 0) {\n                    bufIdx += buf.write(base64Accum.slice(0, base64AccumIdx).toString('base64').replace(/\\//g, ',').replace(/=+$/, ''), bufIdx);\n                    base64AccumIdx = 0;\n                }\n\n                buf[bufIdx++] = minusChar; // Write '-', then go to direct mode.\n                inBase64 = false;\n            }\n\n            if (!inBase64) {\n                buf[bufIdx++] = uChar; // Write direct character\n\n                if (uChar === andChar)  // Ampersand -> '&-'\n                    buf[bufIdx++] = minusChar;\n            }\n\n        } else { // Non-direct character\n            if (!inBase64) {\n                buf[bufIdx++] = andChar; // Write '&', then go to base64 mode.\n                inBase64 = true;\n            }\n            if (inBase64) {\n                base64Accum[base64AccumIdx++] = uChar >> 8;\n                base64Accum[base64AccumIdx++] = uChar & 0xFF;\n\n                if (base64AccumIdx == base64Accum.length) {\n                    bufIdx += buf.write(base64Accum.toString('base64').replace(/\\//g, ','), bufIdx);\n                    base64AccumIdx = 0;\n                }\n            }\n        }\n    }\n\n    this.inBase64 = inBase64;\n    this.base64AccumIdx = base64AccumIdx;\n\n    return buf.slice(0, bufIdx);\n}\n\nUtf7IMAPEncoder.prototype.end = function() {\n    var buf = Buffer.alloc(10), bufIdx = 0;\n    if (this.inBase64) {\n        if (this.base64AccumIdx > 0) {\n            bufIdx += buf.write(this.base64Accum.slice(0, this.base64AccumIdx).toString('base64').replace(/\\//g, ',').replace(/=+$/, ''), bufIdx);\n            this.base64AccumIdx = 0;\n        }\n\n        buf[bufIdx++] = minusChar; // Write '-', then go to direct mode.\n        this.inBase64 = false;\n    }\n\n    return buf.slice(0, bufIdx);\n}\n\n\n// -- Decoding\n\nfunction Utf7IMAPDecoder(options, codec) {\n    this.iconv = codec.iconv;\n    this.inBase64 = false;\n    this.base64Accum = '';\n}\n\nvar base64IMAPChars = base64Chars.slice();\nbase64IMAPChars[','.charCodeAt(0)] = true;\n\nUtf7IMAPDecoder.prototype.write = function(buf) {\n    var res = \"\", lastI = 0,\n        inBase64 = this.inBase64,\n        base64Accum = this.base64Accum;\n\n    // The decoder is more involved as we must handle chunks in stream.\n    // It is forgiving, closer to standard UTF-7 (for example, '-' is optional at the end).\n\n    for (var i = 0; i < buf.length; i++) {\n        if (!inBase64) { // We're in direct mode.\n            // Write direct chars until '&'\n            if (buf[i] == andChar) {\n                res += this.iconv.decode(buf.slice(lastI, i), \"ascii\"); // Write direct chars.\n                lastI = i+1;\n                inBase64 = true;\n            }\n        } else { // We decode base64.\n            if (!base64IMAPChars[buf[i]]) { // Base64 ended.\n                if (i == lastI && buf[i] == minusChar) { // \"&-\" -> \"&\"\n                    res += \"&\";\n                } else {\n                    var b64str = base64Accum + buf.slice(lastI, i).toString().replace(/,/g, '/');\n                    res += this.iconv.decode(Buffer.from(b64str, 'base64'), \"utf16-be\");\n                }\n\n                if (buf[i] != minusChar) // Minus may be absorbed after base64.\n                    i--;\n\n                lastI = i+1;\n                inBase64 = false;\n                base64Accum = '';\n            }\n        }\n    }\n\n    if (!inBase64) {\n        res += this.iconv.decode(buf.slice(lastI), \"ascii\"); // Write direct chars.\n    } else {\n        var b64str = base64Accum + buf.slice(lastI).toString().replace(/,/g, '/');\n\n        var canBeDecoded = b64str.length - (b64str.length % 8); // Minimal chunk: 2 quads -> 2x3 bytes -> 3 chars.\n        base64Accum = b64str.slice(canBeDecoded); // The rest will be decoded in future.\n        b64str = b64str.slice(0, canBeDecoded);\n\n        res += this.iconv.decode(Buffer.from(b64str, 'base64'), \"utf16-be\");\n    }\n\n    this.inBase64 = inBase64;\n    this.base64Accum = base64Accum;\n\n    return res;\n}\n\nUtf7IMAPDecoder.prototype.end = function() {\n    var res = \"\";\n    if (this.inBase64 && this.base64Accum.length > 0)\n        res = this.iconv.decode(Buffer.from(this.base64Accum, 'base64'), \"utf16-be\");\n\n    this.inBase64 = false;\n    this.base64Accum = '';\n    return res;\n}\n\n\n","\"use strict\";\n\nvar BOMChar = '\\uFEFF';\n\nexports.PrependBOM = PrependBOMWrapper\nfunction PrependBOMWrapper(encoder, options) {\n    this.encoder = encoder;\n    this.addBOM = true;\n}\n\nPrependBOMWrapper.prototype.write = function(str) {\n    if (this.addBOM) {\n        str = BOMChar + str;\n        this.addBOM = false;\n    }\n\n    return this.encoder.write(str);\n}\n\nPrependBOMWrapper.prototype.end = function() {\n    return this.encoder.end();\n}\n\n\n//------------------------------------------------------------------------------\n\nexports.StripBOM = StripBOMWrapper;\nfunction StripBOMWrapper(decoder, options) {\n    this.decoder = decoder;\n    this.pass = false;\n    this.options = options || {};\n}\n\nStripBOMWrapper.prototype.write = function(buf) {\n    var res = this.decoder.write(buf);\n    if (this.pass || !res)\n        return res;\n\n    if (res[0] === BOMChar) {\n        res = res.slice(1);\n        if (typeof this.options.stripBOM === 'function')\n            this.options.stripBOM();\n    }\n\n    this.pass = true;\n    return res;\n}\n\nStripBOMWrapper.prototype.end = function() {\n    return this.decoder.end();\n}\n\n","\"use strict\";\nvar Buffer = require(\"buffer\").Buffer;\n// Note: not polyfilled with safer-buffer on a purpose, as overrides Buffer\n\n// == Extend Node primitives to use iconv-lite =================================\n\nmodule.exports = function (iconv) {\n    var original = undefined; // Place to keep original methods.\n\n    // Node authors rewrote Buffer internals to make it compatible with\n    // Uint8Array and we cannot patch key functions since then.\n    // Note: this does use older Buffer API on a purpose\n    iconv.supportsNodeEncodingsExtension = !(Buffer.from || new Buffer(0) instanceof Uint8Array);\n\n    iconv.extendNodeEncodings = function extendNodeEncodings() {\n        if (original) return;\n        original = {};\n\n        if (!iconv.supportsNodeEncodingsExtension) {\n            console.error(\"ACTION NEEDED: require('iconv-lite').extendNodeEncodings() is not supported in your version of Node\");\n            console.error(\"See more info at https://github.com/ashtuchkin/iconv-lite/wiki/Node-v4-compatibility\");\n            return;\n        }\n\n        var nodeNativeEncodings = {\n            'hex': true, 'utf8': true, 'utf-8': true, 'ascii': true, 'binary': true, \n            'base64': true, 'ucs2': true, 'ucs-2': true, 'utf16le': true, 'utf-16le': true,\n        };\n\n        Buffer.isNativeEncoding = function(enc) {\n            return enc && nodeNativeEncodings[enc.toLowerCase()];\n        }\n\n        // -- SlowBuffer -----------------------------------------------------------\n        var SlowBuffer = require('buffer').SlowBuffer;\n\n        original.SlowBufferToString = SlowBuffer.prototype.toString;\n        SlowBuffer.prototype.toString = function(encoding, start, end) {\n            encoding = String(encoding || 'utf8').toLowerCase();\n\n            // Use native conversion when possible\n            if (Buffer.isNativeEncoding(encoding))\n                return original.SlowBufferToString.call(this, encoding, start, end);\n\n            // Otherwise, use our decoding method.\n            if (typeof start == 'undefined') start = 0;\n            if (typeof end == 'undefined') end = this.length;\n            return iconv.decode(this.slice(start, end), encoding);\n        }\n\n        original.SlowBufferWrite = SlowBuffer.prototype.write;\n        SlowBuffer.prototype.write = function(string, offset, length, encoding) {\n            // Support both (string, offset, length, encoding)\n            // and the legacy (string, encoding, offset, length)\n            if (isFinite(offset)) {\n                if (!isFinite(length)) {\n                    encoding = length;\n                    length = undefined;\n                }\n            } else {  // legacy\n                var swap = encoding;\n                encoding = offset;\n                offset = length;\n                length = swap;\n            }\n\n            offset = +offset || 0;\n            var remaining = this.length - offset;\n            if (!length) {\n                length = remaining;\n            } else {\n                length = +length;\n                if (length > remaining) {\n                    length = remaining;\n                }\n            }\n            encoding = String(encoding || 'utf8').toLowerCase();\n\n            // Use native conversion when possible\n            if (Buffer.isNativeEncoding(encoding))\n                return original.SlowBufferWrite.call(this, string, offset, length, encoding);\n\n            if (string.length > 0 && (length < 0 || offset < 0))\n                throw new RangeError('attempt to write beyond buffer bounds');\n\n            // Otherwise, use our encoding method.\n            var buf = iconv.encode(string, encoding);\n            if (buf.length < length) length = buf.length;\n            buf.copy(this, offset, 0, length);\n            return length;\n        }\n\n        // -- Buffer ---------------------------------------------------------------\n\n        original.BufferIsEncoding = Buffer.isEncoding;\n        Buffer.isEncoding = function(encoding) {\n            return Buffer.isNativeEncoding(encoding) || iconv.encodingExists(encoding);\n        }\n\n        original.BufferByteLength = Buffer.byteLength;\n        Buffer.byteLength = SlowBuffer.byteLength = function(str, encoding) {\n            encoding = String(encoding || 'utf8').toLowerCase();\n\n            // Use native conversion when possible\n            if (Buffer.isNativeEncoding(encoding))\n                return original.BufferByteLength.call(this, str, encoding);\n\n            // Slow, I know, but we don't have a better way yet.\n            return iconv.encode(str, encoding).length;\n        }\n\n        original.BufferToString = Buffer.prototype.toString;\n        Buffer.prototype.toString = function(encoding, start, end) {\n            encoding = String(encoding || 'utf8').toLowerCase();\n\n            // Use native conversion when possible\n            if (Buffer.isNativeEncoding(encoding))\n                return original.BufferToString.call(this, encoding, start, end);\n\n            // Otherwise, use our decoding method.\n            if (typeof start == 'undefined') start = 0;\n            if (typeof end == 'undefined') end = this.length;\n            return iconv.decode(this.slice(start, end), encoding);\n        }\n\n        original.BufferWrite = Buffer.prototype.write;\n        Buffer.prototype.write = function(string, offset, length, encoding) {\n            var _offset = offset, _length = length, _encoding = encoding;\n            // Support both (string, offset, length, encoding)\n            // and the legacy (string, encoding, offset, length)\n            if (isFinite(offset)) {\n                if (!isFinite(length)) {\n                    encoding = length;\n                    length = undefined;\n                }\n            } else {  // legacy\n                var swap = encoding;\n                encoding = offset;\n                offset = length;\n                length = swap;\n            }\n\n            encoding = String(encoding || 'utf8').toLowerCase();\n\n            // Use native conversion when possible\n            if (Buffer.isNativeEncoding(encoding))\n                return original.BufferWrite.call(this, string, _offset, _length, _encoding);\n\n            offset = +offset || 0;\n            var remaining = this.length - offset;\n            if (!length) {\n                length = remaining;\n            } else {\n                length = +length;\n                if (length > remaining) {\n                    length = remaining;\n                }\n            }\n\n            if (string.length > 0 && (length < 0 || offset < 0))\n                throw new RangeError('attempt to write beyond buffer bounds');\n\n            // Otherwise, use our encoding method.\n            var buf = iconv.encode(string, encoding);\n            if (buf.length < length) length = buf.length;\n            buf.copy(this, offset, 0, length);\n            return length;\n\n            // TODO: Set _charsWritten.\n        }\n\n\n        // -- Readable -------------------------------------------------------------\n        if (iconv.supportsStreams) {\n            var Readable = require('stream').Readable;\n\n            original.ReadableSetEncoding = Readable.prototype.setEncoding;\n            Readable.prototype.setEncoding = function setEncoding(enc, options) {\n                // Use our own decoder, it has the same interface.\n                // We cannot use original function as it doesn't handle BOM-s.\n                this._readableState.decoder = iconv.getDecoder(enc, options);\n                this._readableState.encoding = enc;\n            }\n\n            Readable.prototype.collect = iconv._collect;\n        }\n    }\n\n    // Remove iconv-lite Node primitive extensions.\n    iconv.undoExtendNodeEncodings = function undoExtendNodeEncodings() {\n        if (!iconv.supportsNodeEncodingsExtension)\n            return;\n        if (!original)\n            throw new Error(\"require('iconv-lite').undoExtendNodeEncodings(): Nothing to undo; extendNodeEncodings() is not called.\")\n\n        delete Buffer.isNativeEncoding;\n\n        var SlowBuffer = require('buffer').SlowBuffer;\n\n        SlowBuffer.prototype.toString = original.SlowBufferToString;\n        SlowBuffer.prototype.write = original.SlowBufferWrite;\n\n        Buffer.isEncoding = original.BufferIsEncoding;\n        Buffer.byteLength = original.BufferByteLength;\n        Buffer.prototype.toString = original.BufferToString;\n        Buffer.prototype.write = original.BufferWrite;\n\n        if (iconv.supportsStreams) {\n            var Readable = require('stream').Readable;\n\n            Readable.prototype.setEncoding = original.ReadableSetEncoding;\n            delete Readable.prototype.collect;\n        }\n\n        original = undefined;\n    }\n}\n","\"use strict\";\n\n// Some environments don't have global Buffer (e.g. React Native).\n// Solution would be installing npm modules \"buffer\" and \"stream\" explicitly.\nvar Buffer = require(\"safer-buffer\").Buffer;\n\nvar bomHandling = require(\"./bom-handling\"),\n    iconv = module.exports;\n\n// All codecs and aliases are kept here, keyed by encoding name/alias.\n// They are lazy loaded in `iconv.getCodec` from `encodings/index.js`.\niconv.encodings = null;\n\n// Characters emitted in case of error.\niconv.defaultCharUnicode = '';\niconv.defaultCharSingleByte = '?';\n\n// Public API.\niconv.encode = function encode(str, encoding, options) {\n    str = \"\" + (str || \"\"); // Ensure string.\n\n    var encoder = iconv.getEncoder(encoding, options);\n\n    var res = encoder.write(str);\n    var trail = encoder.end();\n    \n    return (trail && trail.length > 0) ? Buffer.concat([res, trail]) : res;\n}\n\niconv.decode = function decode(buf, encoding, options) {\n    if (typeof buf === 'string') {\n        if (!iconv.skipDecodeWarning) {\n            console.error('Iconv-lite warning: decode()-ing strings is deprecated. Refer to https://github.com/ashtuchkin/iconv-lite/wiki/Use-Buffers-when-decoding');\n            iconv.skipDecodeWarning = true;\n        }\n\n        buf = Buffer.from(\"\" + (buf || \"\"), \"binary\"); // Ensure buffer.\n    }\n\n    var decoder = iconv.getDecoder(encoding, options);\n\n    var res = decoder.write(buf);\n    var trail = decoder.end();\n\n    return trail ? (res + trail) : res;\n}\n\niconv.encodingExists = function encodingExists(enc) {\n    try {\n        iconv.getCodec(enc);\n        return true;\n    } catch (e) {\n        return false;\n    }\n}\n\n// Legacy aliases to convert functions\niconv.toEncoding = iconv.encode;\niconv.fromEncoding = iconv.decode;\n\n// Search for a codec in iconv.encodings. Cache codec data in iconv._codecDataCache.\niconv._codecDataCache = {};\niconv.getCodec = function getCodec(encoding) {\n    if (!iconv.encodings)\n        iconv.encodings = require(\"../encodings\"); // Lazy load all encoding definitions.\n    \n    // Canonicalize encoding name: strip all non-alphanumeric chars and appended year.\n    var enc = iconv._canonicalizeEncoding(encoding);\n\n    // Traverse iconv.encodings to find actual codec.\n    var codecOptions = {};\n    while (true) {\n        var codec = iconv._codecDataCache[enc];\n        if (codec)\n            return codec;\n\n        var codecDef = iconv.encodings[enc];\n\n        switch (typeof codecDef) {\n            case \"string\": // Direct alias to other encoding.\n                enc = codecDef;\n                break;\n\n            case \"object\": // Alias with options. Can be layered.\n                for (var key in codecDef)\n                    codecOptions[key] = codecDef[key];\n\n                if (!codecOptions.encodingName)\n                    codecOptions.encodingName = enc;\n                \n                enc = codecDef.type;\n                break;\n\n            case \"function\": // Codec itself.\n                if (!codecOptions.encodingName)\n                    codecOptions.encodingName = enc;\n\n                // The codec function must load all tables and return object with .encoder and .decoder methods.\n                // It'll be called only once (for each different options object).\n                codec = new codecDef(codecOptions, iconv);\n\n                iconv._codecDataCache[codecOptions.encodingName] = codec; // Save it to be reused later.\n                return codec;\n\n            default:\n                throw new Error(\"Encoding not recognized: '\" + encoding + \"' (searched as: '\"+enc+\"')\");\n        }\n    }\n}\n\niconv._canonicalizeEncoding = function(encoding) {\n    // Canonicalize encoding name: strip all non-alphanumeric chars and appended year.\n    return (''+encoding).toLowerCase().replace(/:\\d{4}$|[^0-9a-z]/g, \"\");\n}\n\niconv.getEncoder = function getEncoder(encoding, options) {\n    var codec = iconv.getCodec(encoding),\n        encoder = new codec.encoder(options, codec);\n\n    if (codec.bomAware && options && options.addBOM)\n        encoder = new bomHandling.PrependBOM(encoder, options);\n\n    return encoder;\n}\n\niconv.getDecoder = function getDecoder(encoding, options) {\n    var codec = iconv.getCodec(encoding),\n        decoder = new codec.decoder(options, codec);\n\n    if (codec.bomAware && !(options && options.stripBOM === false))\n        decoder = new bomHandling.StripBOM(decoder, options);\n\n    return decoder;\n}\n\n\n// Load extensions in Node. All of them are omitted in Browserify build via 'browser' field in package.json.\nvar nodeVer = typeof process !== 'undefined' && process.versions && process.versions.node;\nif (nodeVer) {\n\n    // Load streaming support in Node v0.10+\n    var nodeVerArr = nodeVer.split(\".\").map(Number);\n    if (nodeVerArr[0] > 0 || nodeVerArr[1] >= 10) {\n        require(\"./streams\")(iconv);\n    }\n\n    // Load Node primitive extensions.\n    require(\"./extend-node\")(iconv);\n}\n\nif (\"\" != \"\\u0100\") {\n    console.error(\"iconv-lite warning: javascript files use encoding different from utf-8. See https://github.com/ashtuchkin/iconv-lite/wiki/Javascript-source-file-encodings for more info.\");\n}\n","\"use strict\";\n\nvar Buffer = require(\"buffer\").Buffer,\n    Transform = require(\"stream\").Transform;\n\n\n// == Exports ==================================================================\nmodule.exports = function(iconv) {\n    \n    // Additional Public API.\n    iconv.encodeStream = function encodeStream(encoding, options) {\n        return new IconvLiteEncoderStream(iconv.getEncoder(encoding, options), options);\n    }\n\n    iconv.decodeStream = function decodeStream(encoding, options) {\n        return new IconvLiteDecoderStream(iconv.getDecoder(encoding, options), options);\n    }\n\n    iconv.supportsStreams = true;\n\n\n    // Not published yet.\n    iconv.IconvLiteEncoderStream = IconvLiteEncoderStream;\n    iconv.IconvLiteDecoderStream = IconvLiteDecoderStream;\n    iconv._collect = IconvLiteDecoderStream.prototype.collect;\n};\n\n\n// == Encoder stream =======================================================\nfunction IconvLiteEncoderStream(conv, options) {\n    this.conv = conv;\n    options = options || {};\n    options.decodeStrings = false; // We accept only strings, so we don't need to decode them.\n    Transform.call(this, options);\n}\n\nIconvLiteEncoderStream.prototype = Object.create(Transform.prototype, {\n    constructor: { value: IconvLiteEncoderStream }\n});\n\nIconvLiteEncoderStream.prototype._transform = function(chunk, encoding, done) {\n    if (typeof chunk != 'string')\n        return done(new Error(\"Iconv encoding stream needs strings as its input.\"));\n    try {\n        var res = this.conv.write(chunk);\n        if (res && res.length) this.push(res);\n        done();\n    }\n    catch (e) {\n        done(e);\n    }\n}\n\nIconvLiteEncoderStream.prototype._flush = function(done) {\n    try {\n        var res = this.conv.end();\n        if (res && res.length) this.push(res);\n        done();\n    }\n    catch (e) {\n        done(e);\n    }\n}\n\nIconvLiteEncoderStream.prototype.collect = function(cb) {\n    var chunks = [];\n    this.on('error', cb);\n    this.on('data', function(chunk) { chunks.push(chunk); });\n    this.on('end', function() {\n        cb(null, Buffer.concat(chunks));\n    });\n    return this;\n}\n\n\n// == Decoder stream =======================================================\nfunction IconvLiteDecoderStream(conv, options) {\n    this.conv = conv;\n    options = options || {};\n    options.encoding = this.encoding = 'utf8'; // We output strings.\n    Transform.call(this, options);\n}\n\nIconvLiteDecoderStream.prototype = Object.create(Transform.prototype, {\n    constructor: { value: IconvLiteDecoderStream }\n});\n\nIconvLiteDecoderStream.prototype._transform = function(chunk, encoding, done) {\n    if (!Buffer.isBuffer(chunk))\n        return done(new Error(\"Iconv decoding stream needs buffers as its input.\"));\n    try {\n        var res = this.conv.write(chunk);\n        if (res && res.length) this.push(res, this.encoding);\n        done();\n    }\n    catch (e) {\n        done(e);\n    }\n}\n\nIconvLiteDecoderStream.prototype._flush = function(done) {\n    try {\n        var res = this.conv.end();\n        if (res && res.length) this.push(res, this.encoding);                \n        done();\n    }\n    catch (e) {\n        done(e);\n    }\n}\n\nIconvLiteDecoderStream.prototype.collect = function(cb) {\n    var res = '';\n    this.on('error', cb);\n    this.on('data', function(chunk) { res += chunk; });\n    this.on('end', function() {\n        cb(null, res);\n    });\n    return this;\n}\n\n","try {\n  var util = require('util');\n  if (typeof util.inherits !== 'function') throw '';\n  module.exports = util.inherits;\n} catch (e) {\n  module.exports = require('./inherits_browser.js');\n}\n","if (typeof Object.create === 'function') {\n  // implementation from standard node.js 'util' module\n  module.exports = function inherits(ctor, superCtor) {\n    ctor.super_ = superCtor\n    ctor.prototype = Object.create(superCtor.prototype, {\n      constructor: {\n        value: ctor,\n        enumerable: false,\n        writable: true,\n        configurable: true\n      }\n    });\n  };\n} else {\n  // old school shim for old browsers\n  module.exports = function inherits(ctor, superCtor) {\n    ctor.super_ = superCtor\n    var TempCtor = function () {}\n    TempCtor.prototype = superCtor.prototype\n    ctor.prototype = new TempCtor()\n    ctor.prototype.constructor = ctor\n  }\n}\n","(function() {\n  var expandIPv6, ipaddr, ipv4Part, ipv4Regexes, ipv6Part, ipv6Regexes, matchCIDR, root, zoneIndex;\n\n  ipaddr = {};\n\n  root = this;\n\n  if ((typeof module !== \"undefined\" && module !== null) && module.exports) {\n    module.exports = ipaddr;\n  } else {\n    root['ipaddr'] = ipaddr;\n  }\n\n  matchCIDR = function(first, second, partSize, cidrBits) {\n    var part, shift;\n    if (first.length !== second.length) {\n      throw new Error(\"ipaddr: cannot match CIDR for objects with different lengths\");\n    }\n    part = 0;\n    while (cidrBits > 0) {\n      shift = partSize - cidrBits;\n      if (shift < 0) {\n        shift = 0;\n      }\n      if (first[part] >> shift !== second[part] >> shift) {\n        return false;\n      }\n      cidrBits -= partSize;\n      part += 1;\n    }\n    return true;\n  };\n\n  ipaddr.subnetMatch = function(address, rangeList, defaultName) {\n    var k, len, rangeName, rangeSubnets, subnet;\n    if (defaultName == null) {\n      defaultName = 'unicast';\n    }\n    for (rangeName in rangeList) {\n      rangeSubnets = rangeList[rangeName];\n      if (rangeSubnets[0] && !(rangeSubnets[0] instanceof Array)) {\n        rangeSubnets = [rangeSubnets];\n      }\n      for (k = 0, len = rangeSubnets.length; k < len; k++) {\n        subnet = rangeSubnets[k];\n        if (address.kind() === subnet[0].kind()) {\n          if (address.match.apply(address, subnet)) {\n            return rangeName;\n          }\n        }\n      }\n    }\n    return defaultName;\n  };\n\n  ipaddr.IPv4 = (function() {\n    function IPv4(octets) {\n      var k, len, octet;\n      if (octets.length !== 4) {\n        throw new Error(\"ipaddr: ipv4 octet count should be 4\");\n      }\n      for (k = 0, len = octets.length; k < len; k++) {\n        octet = octets[k];\n        if (!((0 <= octet && octet <= 255))) {\n          throw new Error(\"ipaddr: ipv4 octet should fit in 8 bits\");\n        }\n      }\n      this.octets = octets;\n    }\n\n    IPv4.prototype.kind = function() {\n      return 'ipv4';\n    };\n\n    IPv4.prototype.toString = function() {\n      return this.octets.join(\".\");\n    };\n\n    IPv4.prototype.toNormalizedString = function() {\n      return this.toString();\n    };\n\n    IPv4.prototype.toByteArray = function() {\n      return this.octets.slice(0);\n    };\n\n    IPv4.prototype.match = function(other, cidrRange) {\n      var ref;\n      if (cidrRange === void 0) {\n        ref = other, other = ref[0], cidrRange = ref[1];\n      }\n      if (other.kind() !== 'ipv4') {\n        throw new Error(\"ipaddr: cannot match ipv4 address with non-ipv4 one\");\n      }\n      return matchCIDR(this.octets, other.octets, 8, cidrRange);\n    };\n\n    IPv4.prototype.SpecialRanges = {\n      unspecified: [[new IPv4([0, 0, 0, 0]), 8]],\n      broadcast: [[new IPv4([255, 255, 255, 255]), 32]],\n      multicast: [[new IPv4([224, 0, 0, 0]), 4]],\n      linkLocal: [[new IPv4([169, 254, 0, 0]), 16]],\n      loopback: [[new IPv4([127, 0, 0, 0]), 8]],\n      carrierGradeNat: [[new IPv4([100, 64, 0, 0]), 10]],\n      \"private\": [[new IPv4([10, 0, 0, 0]), 8], [new IPv4([172, 16, 0, 0]), 12], [new IPv4([192, 168, 0, 0]), 16]],\n      reserved: [[new IPv4([192, 0, 0, 0]), 24], [new IPv4([192, 0, 2, 0]), 24], [new IPv4([192, 88, 99, 0]), 24], [new IPv4([198, 51, 100, 0]), 24], [new IPv4([203, 0, 113, 0]), 24], [new IPv4([240, 0, 0, 0]), 4]]\n    };\n\n    IPv4.prototype.range = function() {\n      return ipaddr.subnetMatch(this, this.SpecialRanges);\n    };\n\n    IPv4.prototype.toIPv4MappedAddress = function() {\n      return ipaddr.IPv6.parse(\"::ffff:\" + (this.toString()));\n    };\n\n    IPv4.prototype.prefixLengthFromSubnetMask = function() {\n      var cidr, i, k, octet, stop, zeros, zerotable;\n      zerotable = {\n        0: 8,\n        128: 7,\n        192: 6,\n        224: 5,\n        240: 4,\n        248: 3,\n        252: 2,\n        254: 1,\n        255: 0\n      };\n      cidr = 0;\n      stop = false;\n      for (i = k = 3; k >= 0; i = k += -1) {\n        octet = this.octets[i];\n        if (octet in zerotable) {\n          zeros = zerotable[octet];\n          if (stop && zeros !== 0) {\n            return null;\n          }\n          if (zeros !== 8) {\n            stop = true;\n          }\n          cidr += zeros;\n        } else {\n          return null;\n        }\n      }\n      return 32 - cidr;\n    };\n\n    return IPv4;\n\n  })();\n\n  ipv4Part = \"(0?\\\\d+|0x[a-f0-9]+)\";\n\n  ipv4Regexes = {\n    fourOctet: new RegExp(\"^\" + ipv4Part + \"\\\\.\" + ipv4Part + \"\\\\.\" + ipv4Part + \"\\\\.\" + ipv4Part + \"$\", 'i'),\n    longValue: new RegExp(\"^\" + ipv4Part + \"$\", 'i')\n  };\n\n  ipaddr.IPv4.parser = function(string) {\n    var match, parseIntAuto, part, shift, value;\n    parseIntAuto = function(string) {\n      if (string[0] === \"0\" && string[1] !== \"x\") {\n        return parseInt(string, 8);\n      } else {\n        return parseInt(string);\n      }\n    };\n    if (match = string.match(ipv4Regexes.fourOctet)) {\n      return (function() {\n        var k, len, ref, results;\n        ref = match.slice(1, 6);\n        results = [];\n        for (k = 0, len = ref.length; k < len; k++) {\n          part = ref[k];\n          results.push(parseIntAuto(part));\n        }\n        return results;\n      })();\n    } else if (match = string.match(ipv4Regexes.longValue)) {\n      value = parseIntAuto(match[1]);\n      if (value > 0xffffffff || value < 0) {\n        throw new Error(\"ipaddr: address outside defined range\");\n      }\n      return ((function() {\n        var k, results;\n        results = [];\n        for (shift = k = 0; k <= 24; shift = k += 8) {\n          results.push((value >> shift) & 0xff);\n        }\n        return results;\n      })()).reverse();\n    } else {\n      return null;\n    }\n  };\n\n  ipaddr.IPv6 = (function() {\n    function IPv6(parts, zoneId) {\n      var i, k, l, len, part, ref;\n      if (parts.length === 16) {\n        this.parts = [];\n        for (i = k = 0; k <= 14; i = k += 2) {\n          this.parts.push((parts[i] << 8) | parts[i + 1]);\n        }\n      } else if (parts.length === 8) {\n        this.parts = parts;\n      } else {\n        throw new Error(\"ipaddr: ipv6 part count should be 8 or 16\");\n      }\n      ref = this.parts;\n      for (l = 0, len = ref.length; l < len; l++) {\n        part = ref[l];\n        if (!((0 <= part && part <= 0xffff))) {\n          throw new Error(\"ipaddr: ipv6 part should fit in 16 bits\");\n        }\n      }\n      if (zoneId) {\n        this.zoneId = zoneId;\n      }\n    }\n\n    IPv6.prototype.kind = function() {\n      return 'ipv6';\n    };\n\n    IPv6.prototype.toString = function() {\n      return this.toNormalizedString().replace(/((^|:)(0(:|$))+)/, '::');\n    };\n\n    IPv6.prototype.toRFC5952String = function() {\n      var bestMatchIndex, bestMatchLength, match, regex, string;\n      regex = /((^|:)(0(:|$)){2,})/g;\n      string = this.toNormalizedString();\n      bestMatchIndex = 0;\n      bestMatchLength = -1;\n      while ((match = regex.exec(string))) {\n        if (match[0].length > bestMatchLength) {\n          bestMatchIndex = match.index;\n          bestMatchLength = match[0].length;\n        }\n      }\n      if (bestMatchLength < 0) {\n        return string;\n      }\n      return string.substring(0, bestMatchIndex) + '::' + string.substring(bestMatchIndex + bestMatchLength);\n    };\n\n    IPv6.prototype.toByteArray = function() {\n      var bytes, k, len, part, ref;\n      bytes = [];\n      ref = this.parts;\n      for (k = 0, len = ref.length; k < len; k++) {\n        part = ref[k];\n        bytes.push(part >> 8);\n        bytes.push(part & 0xff);\n      }\n      return bytes;\n    };\n\n    IPv6.prototype.toNormalizedString = function() {\n      var addr, part, suffix;\n      addr = ((function() {\n        var k, len, ref, results;\n        ref = this.parts;\n        results = [];\n        for (k = 0, len = ref.length; k < len; k++) {\n          part = ref[k];\n          results.push(part.toString(16));\n        }\n        return results;\n      }).call(this)).join(\":\");\n      suffix = '';\n      if (this.zoneId) {\n        suffix = '%' + this.zoneId;\n      }\n      return addr + suffix;\n    };\n\n    IPv6.prototype.toFixedLengthString = function() {\n      var addr, part, suffix;\n      addr = ((function() {\n        var k, len, ref, results;\n        ref = this.parts;\n        results = [];\n        for (k = 0, len = ref.length; k < len; k++) {\n          part = ref[k];\n          results.push(part.toString(16).padStart(4, '0'));\n        }\n        return results;\n      }).call(this)).join(\":\");\n      suffix = '';\n      if (this.zoneId) {\n        suffix = '%' + this.zoneId;\n      }\n      return addr + suffix;\n    };\n\n    IPv6.prototype.match = function(other, cidrRange) {\n      var ref;\n      if (cidrRange === void 0) {\n        ref = other, other = ref[0], cidrRange = ref[1];\n      }\n      if (other.kind() !== 'ipv6') {\n        throw new Error(\"ipaddr: cannot match ipv6 address with non-ipv6 one\");\n      }\n      return matchCIDR(this.parts, other.parts, 16, cidrRange);\n    };\n\n    IPv6.prototype.SpecialRanges = {\n      unspecified: [new IPv6([0, 0, 0, 0, 0, 0, 0, 0]), 128],\n      linkLocal: [new IPv6([0xfe80, 0, 0, 0, 0, 0, 0, 0]), 10],\n      multicast: [new IPv6([0xff00, 0, 0, 0, 0, 0, 0, 0]), 8],\n      loopback: [new IPv6([0, 0, 0, 0, 0, 0, 0, 1]), 128],\n      uniqueLocal: [new IPv6([0xfc00, 0, 0, 0, 0, 0, 0, 0]), 7],\n      ipv4Mapped: [new IPv6([0, 0, 0, 0, 0, 0xffff, 0, 0]), 96],\n      rfc6145: [new IPv6([0, 0, 0, 0, 0xffff, 0, 0, 0]), 96],\n      rfc6052: [new IPv6([0x64, 0xff9b, 0, 0, 0, 0, 0, 0]), 96],\n      '6to4': [new IPv6([0x2002, 0, 0, 0, 0, 0, 0, 0]), 16],\n      teredo: [new IPv6([0x2001, 0, 0, 0, 0, 0, 0, 0]), 32],\n      reserved: [[new IPv6([0x2001, 0xdb8, 0, 0, 0, 0, 0, 0]), 32]]\n    };\n\n    IPv6.prototype.range = function() {\n      return ipaddr.subnetMatch(this, this.SpecialRanges);\n    };\n\n    IPv6.prototype.isIPv4MappedAddress = function() {\n      return this.range() === 'ipv4Mapped';\n    };\n\n    IPv6.prototype.toIPv4Address = function() {\n      var high, low, ref;\n      if (!this.isIPv4MappedAddress()) {\n        throw new Error(\"ipaddr: trying to convert a generic ipv6 address to ipv4\");\n      }\n      ref = this.parts.slice(-2), high = ref[0], low = ref[1];\n      return new ipaddr.IPv4([high >> 8, high & 0xff, low >> 8, low & 0xff]);\n    };\n\n    IPv6.prototype.prefixLengthFromSubnetMask = function() {\n      var cidr, i, k, part, stop, zeros, zerotable;\n      zerotable = {\n        0: 16,\n        32768: 15,\n        49152: 14,\n        57344: 13,\n        61440: 12,\n        63488: 11,\n        64512: 10,\n        65024: 9,\n        65280: 8,\n        65408: 7,\n        65472: 6,\n        65504: 5,\n        65520: 4,\n        65528: 3,\n        65532: 2,\n        65534: 1,\n        65535: 0\n      };\n      cidr = 0;\n      stop = false;\n      for (i = k = 7; k >= 0; i = k += -1) {\n        part = this.parts[i];\n        if (part in zerotable) {\n          zeros = zerotable[part];\n          if (stop && zeros !== 0) {\n            return null;\n          }\n          if (zeros !== 16) {\n            stop = true;\n          }\n          cidr += zeros;\n        } else {\n          return null;\n        }\n      }\n      return 128 - cidr;\n    };\n\n    return IPv6;\n\n  })();\n\n  ipv6Part = \"(?:[0-9a-f]+::?)+\";\n\n  zoneIndex = \"%[0-9a-z]{1,}\";\n\n  ipv6Regexes = {\n    zoneIndex: new RegExp(zoneIndex, 'i'),\n    \"native\": new RegExp(\"^(::)?(\" + ipv6Part + \")?([0-9a-f]+)?(::)?(\" + zoneIndex + \")?$\", 'i'),\n    transitional: new RegExp((\"^((?:\" + ipv6Part + \")|(?:::)(?:\" + ipv6Part + \")?)\") + (ipv4Part + \"\\\\.\" + ipv4Part + \"\\\\.\" + ipv4Part + \"\\\\.\" + ipv4Part) + (\"(\" + zoneIndex + \")?$\"), 'i')\n  };\n\n  expandIPv6 = function(string, parts) {\n    var colonCount, lastColon, part, replacement, replacementCount, zoneId;\n    if (string.indexOf('::') !== string.lastIndexOf('::')) {\n      return null;\n    }\n    zoneId = (string.match(ipv6Regexes['zoneIndex']) || [])[0];\n    if (zoneId) {\n      zoneId = zoneId.substring(1);\n      string = string.replace(/%.+$/, '');\n    }\n    colonCount = 0;\n    lastColon = -1;\n    while ((lastColon = string.indexOf(':', lastColon + 1)) >= 0) {\n      colonCount++;\n    }\n    if (string.substr(0, 2) === '::') {\n      colonCount--;\n    }\n    if (string.substr(-2, 2) === '::') {\n      colonCount--;\n    }\n    if (colonCount > parts) {\n      return null;\n    }\n    replacementCount = parts - colonCount;\n    replacement = ':';\n    while (replacementCount--) {\n      replacement += '0:';\n    }\n    string = string.replace('::', replacement);\n    if (string[0] === ':') {\n      string = string.slice(1);\n    }\n    if (string[string.length - 1] === ':') {\n      string = string.slice(0, -1);\n    }\n    parts = (function() {\n      var k, len, ref, results;\n      ref = string.split(\":\");\n      results = [];\n      for (k = 0, len = ref.length; k < len; k++) {\n        part = ref[k];\n        results.push(parseInt(part, 16));\n      }\n      return results;\n    })();\n    return {\n      parts: parts,\n      zoneId: zoneId\n    };\n  };\n\n  ipaddr.IPv6.parser = function(string) {\n    var addr, k, len, match, octet, octets, zoneId;\n    if (ipv6Regexes['native'].test(string)) {\n      return expandIPv6(string, 8);\n    } else if (match = string.match(ipv6Regexes['transitional'])) {\n      zoneId = match[6] || '';\n      addr = expandIPv6(match[1].slice(0, -1) + zoneId, 6);\n      if (addr.parts) {\n        octets = [parseInt(match[2]), parseInt(match[3]), parseInt(match[4]), parseInt(match[5])];\n        for (k = 0, len = octets.length; k < len; k++) {\n          octet = octets[k];\n          if (!((0 <= octet && octet <= 255))) {\n            return null;\n          }\n        }\n        addr.parts.push(octets[0] << 8 | octets[1]);\n        addr.parts.push(octets[2] << 8 | octets[3]);\n        return {\n          parts: addr.parts,\n          zoneId: addr.zoneId\n        };\n      }\n    }\n    return null;\n  };\n\n  ipaddr.IPv4.isIPv4 = ipaddr.IPv6.isIPv6 = function(string) {\n    return this.parser(string) !== null;\n  };\n\n  ipaddr.IPv4.isValid = function(string) {\n    var e;\n    try {\n      new this(this.parser(string));\n      return true;\n    } catch (error1) {\n      e = error1;\n      return false;\n    }\n  };\n\n  ipaddr.IPv4.isValidFourPartDecimal = function(string) {\n    if (ipaddr.IPv4.isValid(string) && string.match(/^(0|[1-9]\\d*)(\\.(0|[1-9]\\d*)){3}$/)) {\n      return true;\n    } else {\n      return false;\n    }\n  };\n\n  ipaddr.IPv6.isValid = function(string) {\n    var addr, e;\n    if (typeof string === \"string\" && string.indexOf(\":\") === -1) {\n      return false;\n    }\n    try {\n      addr = this.parser(string);\n      new this(addr.parts, addr.zoneId);\n      return true;\n    } catch (error1) {\n      e = error1;\n      return false;\n    }\n  };\n\n  ipaddr.IPv4.parse = function(string) {\n    var parts;\n    parts = this.parser(string);\n    if (parts === null) {\n      throw new Error(\"ipaddr: string is not formatted like ip address\");\n    }\n    return new this(parts);\n  };\n\n  ipaddr.IPv6.parse = function(string) {\n    var addr;\n    addr = this.parser(string);\n    if (addr.parts === null) {\n      throw new Error(\"ipaddr: string is not formatted like ip address\");\n    }\n    return new this(addr.parts, addr.zoneId);\n  };\n\n  ipaddr.IPv4.parseCIDR = function(string) {\n    var maskLength, match, parsed;\n    if (match = string.match(/^(.+)\\/(\\d+)$/)) {\n      maskLength = parseInt(match[2]);\n      if (maskLength >= 0 && maskLength <= 32) {\n        parsed = [this.parse(match[1]), maskLength];\n        Object.defineProperty(parsed, 'toString', {\n          value: function() {\n            return this.join('/');\n          }\n        });\n        return parsed;\n      }\n    }\n    throw new Error(\"ipaddr: string is not formatted like an IPv4 CIDR range\");\n  };\n\n  ipaddr.IPv4.subnetMaskFromPrefixLength = function(prefix) {\n    var filledOctetCount, j, octets;\n    prefix = parseInt(prefix);\n    if (prefix < 0 || prefix > 32) {\n      throw new Error('ipaddr: invalid IPv4 prefix length');\n    }\n    octets = [0, 0, 0, 0];\n    j = 0;\n    filledOctetCount = Math.floor(prefix / 8);\n    while (j < filledOctetCount) {\n      octets[j] = 255;\n      j++;\n    }\n    if (filledOctetCount < 4) {\n      octets[filledOctetCount] = Math.pow(2, prefix % 8) - 1 << 8 - (prefix % 8);\n    }\n    return new this(octets);\n  };\n\n  ipaddr.IPv4.broadcastAddressFromCIDR = function(string) {\n    var cidr, error, i, ipInterfaceOctets, octets, subnetMaskOctets;\n    try {\n      cidr = this.parseCIDR(string);\n      ipInterfaceOctets = cidr[0].toByteArray();\n      subnetMaskOctets = this.subnetMaskFromPrefixLength(cidr[1]).toByteArray();\n      octets = [];\n      i = 0;\n      while (i < 4) {\n        octets.push(parseInt(ipInterfaceOctets[i], 10) | parseInt(subnetMaskOctets[i], 10) ^ 255);\n        i++;\n      }\n      return new this(octets);\n    } catch (error1) {\n      error = error1;\n      throw new Error('ipaddr: the address does not have IPv4 CIDR format');\n    }\n  };\n\n  ipaddr.IPv4.networkAddressFromCIDR = function(string) {\n    var cidr, error, i, ipInterfaceOctets, octets, subnetMaskOctets;\n    try {\n      cidr = this.parseCIDR(string);\n      ipInterfaceOctets = cidr[0].toByteArray();\n      subnetMaskOctets = this.subnetMaskFromPrefixLength(cidr[1]).toByteArray();\n      octets = [];\n      i = 0;\n      while (i < 4) {\n        octets.push(parseInt(ipInterfaceOctets[i], 10) & parseInt(subnetMaskOctets[i], 10));\n        i++;\n      }\n      return new this(octets);\n    } catch (error1) {\n      error = error1;\n      throw new Error('ipaddr: the address does not have IPv4 CIDR format');\n    }\n  };\n\n  ipaddr.IPv6.parseCIDR = function(string) {\n    var maskLength, match, parsed;\n    if (match = string.match(/^(.+)\\/(\\d+)$/)) {\n      maskLength = parseInt(match[2]);\n      if (maskLength >= 0 && maskLength <= 128) {\n        parsed = [this.parse(match[1]), maskLength];\n        Object.defineProperty(parsed, 'toString', {\n          value: function() {\n            return this.join('/');\n          }\n        });\n        return parsed;\n      }\n    }\n    throw new Error(\"ipaddr: string is not formatted like an IPv6 CIDR range\");\n  };\n\n  ipaddr.isValid = function(string) {\n    return ipaddr.IPv6.isValid(string) || ipaddr.IPv4.isValid(string);\n  };\n\n  ipaddr.parse = function(string) {\n    if (ipaddr.IPv6.isValid(string)) {\n      return ipaddr.IPv6.parse(string);\n    } else if (ipaddr.IPv4.isValid(string)) {\n      return ipaddr.IPv4.parse(string);\n    } else {\n      throw new Error(\"ipaddr: the address has neither IPv6 nor IPv4 format\");\n    }\n  };\n\n  ipaddr.parseCIDR = function(string) {\n    var e;\n    try {\n      return ipaddr.IPv6.parseCIDR(string);\n    } catch (error1) {\n      e = error1;\n      try {\n        return ipaddr.IPv4.parseCIDR(string);\n      } catch (error1) {\n        e = error1;\n        throw new Error(\"ipaddr: the address has neither IPv6 nor IPv4 CIDR format\");\n      }\n    }\n  };\n\n  ipaddr.fromByteArray = function(bytes) {\n    var length;\n    length = bytes.length;\n    if (length === 4) {\n      return new ipaddr.IPv4(bytes);\n    } else if (length === 16) {\n      return new ipaddr.IPv6(bytes);\n    } else {\n      throw new Error(\"ipaddr: the binary input is neither an IPv6 nor IPv4 address\");\n    }\n  };\n\n  ipaddr.process = function(string) {\n    var addr;\n    addr = this.parse(string);\n    if (addr.kind() === 'ipv6' && addr.isIPv4MappedAddress()) {\n      return addr.toIPv4Address();\n    } else {\n      return addr;\n    }\n  };\n\n}).call(this);\n","/*!\n * Determine if an object is a Buffer\n *\n * @author   Feross Aboukhadijeh <https://feross.org>\n * @license  MIT\n */\n\n// The _isBuffer check is for Safari 5-7 support, because it's missing\n// Object.prototype.constructor. Remove this eventually\nmodule.exports = function (obj) {\n  return obj != null && (isBuffer(obj) || isSlowBuffer(obj) || !!obj._isBuffer)\n}\n\nfunction isBuffer (obj) {\n  return !!obj.constructor && typeof obj.constructor.isBuffer === 'function' && obj.constructor.isBuffer(obj)\n}\n\n// For Node v0.10 support. Remove this eventually.\nfunction isSlowBuffer (obj) {\n  return typeof obj.readFloatLE === 'function' && typeof obj.slice === 'function' && isBuffer(obj.slice(0, 0))\n}\n","module.exports      = isTypedArray\nisTypedArray.strict = isStrictTypedArray\nisTypedArray.loose  = isLooseTypedArray\n\nvar toString = Object.prototype.toString\nvar names = {\n    '[object Int8Array]': true\n  , '[object Int16Array]': true\n  , '[object Int32Array]': true\n  , '[object Uint8Array]': true\n  , '[object Uint8ClampedArray]': true\n  , '[object Uint16Array]': true\n  , '[object Uint32Array]': true\n  , '[object Float32Array]': true\n  , '[object Float64Array]': true\n}\n\nfunction isTypedArray(arr) {\n  return (\n       isStrictTypedArray(arr)\n    || isLooseTypedArray(arr)\n  )\n}\n\nfunction isStrictTypedArray(arr) {\n  return (\n       arr instanceof Int8Array\n    || arr instanceof Int16Array\n    || arr instanceof Int32Array\n    || arr instanceof Uint8Array\n    || arr instanceof Uint8ClampedArray\n    || arr instanceof Uint16Array\n    || arr instanceof Uint32Array\n    || arr instanceof Float32Array\n    || arr instanceof Float64Array\n  )\n}\n\nfunction isLooseTypedArray(arr) {\n  return names[toString.call(arr)]\n}\n","var stream = require('stream')\n\n\nfunction isStream (obj) {\n  return obj instanceof stream.Stream\n}\n\n\nfunction isReadable (obj) {\n  return isStream(obj) && typeof obj._read == 'function' && typeof obj._readableState == 'object'\n}\n\n\nfunction isWritable (obj) {\n  return isStream(obj) && typeof obj._write == 'function' && typeof obj._writableState == 'object'\n}\n\n\nfunction isDuplex (obj) {\n  return isReadable(obj) && isWritable(obj)\n}\n\n\nmodule.exports            = isStream\nmodule.exports.isReadable = isReadable\nmodule.exports.isWritable = isWritable\nmodule.exports.isDuplex   = isDuplex\n","(function(){\n\n    // Copyright (c) 2005  Tom Wu\n    // All Rights Reserved.\n    // See \"LICENSE\" for details.\n\n    // Basic JavaScript BN library - subset useful for RSA encryption.\n\n    // Bits per digit\n    var dbits;\n\n    // JavaScript engine analysis\n    var canary = 0xdeadbeefcafe;\n    var j_lm = ((canary&0xffffff)==0xefcafe);\n\n    // (public) Constructor\n    function BigInteger(a,b,c) {\n      if(a != null)\n        if(\"number\" == typeof a) this.fromNumber(a,b,c);\n        else if(b == null && \"string\" != typeof a) this.fromString(a,256);\n        else this.fromString(a,b);\n    }\n\n    // return new, unset BigInteger\n    function nbi() { return new BigInteger(null); }\n\n    // am: Compute w_j += (x*this_i), propagate carries,\n    // c is initial carry, returns final carry.\n    // c < 3*dvalue, x < 2*dvalue, this_i < dvalue\n    // We need to select the fastest one that works in this environment.\n\n    // am1: use a single mult and divide to get the high bits,\n    // max digit bits should be 26 because\n    // max internal value = 2*dvalue^2-2*dvalue (< 2^53)\n    function am1(i,x,w,j,c,n) {\n      while(--n >= 0) {\n        var v = x*this[i++]+w[j]+c;\n        c = Math.floor(v/0x4000000);\n        w[j++] = v&0x3ffffff;\n      }\n      return c;\n    }\n    // am2 avoids a big mult-and-extract completely.\n    // Max digit bits should be <= 30 because we do bitwise ops\n    // on values up to 2*hdvalue^2-hdvalue-1 (< 2^31)\n    function am2(i,x,w,j,c,n) {\n      var xl = x&0x7fff, xh = x>>15;\n      while(--n >= 0) {\n        var l = this[i]&0x7fff;\n        var h = this[i++]>>15;\n        var m = xh*l+h*xl;\n        l = xl*l+((m&0x7fff)<<15)+w[j]+(c&0x3fffffff);\n        c = (l>>>30)+(m>>>15)+xh*h+(c>>>30);\n        w[j++] = l&0x3fffffff;\n      }\n      return c;\n    }\n    // Alternately, set max digit bits to 28 since some\n    // browsers slow down when dealing with 32-bit numbers.\n    function am3(i,x,w,j,c,n) {\n      var xl = x&0x3fff, xh = x>>14;\n      while(--n >= 0) {\n        var l = this[i]&0x3fff;\n        var h = this[i++]>>14;\n        var m = xh*l+h*xl;\n        l = xl*l+((m&0x3fff)<<14)+w[j]+c;\n        c = (l>>28)+(m>>14)+xh*h;\n        w[j++] = l&0xfffffff;\n      }\n      return c;\n    }\n    var inBrowser = typeof navigator !== \"undefined\";\n    if(inBrowser && j_lm && (navigator.appName == \"Microsoft Internet Explorer\")) {\n      BigInteger.prototype.am = am2;\n      dbits = 30;\n    }\n    else if(inBrowser && j_lm && (navigator.appName != \"Netscape\")) {\n      BigInteger.prototype.am = am1;\n      dbits = 26;\n    }\n    else { // Mozilla/Netscape seems to prefer am3\n      BigInteger.prototype.am = am3;\n      dbits = 28;\n    }\n\n    BigInteger.prototype.DB = dbits;\n    BigInteger.prototype.DM = ((1<<dbits)-1);\n    BigInteger.prototype.DV = (1<<dbits);\n\n    var BI_FP = 52;\n    BigInteger.prototype.FV = Math.pow(2,BI_FP);\n    BigInteger.prototype.F1 = BI_FP-dbits;\n    BigInteger.prototype.F2 = 2*dbits-BI_FP;\n\n    // Digit conversions\n    var BI_RM = \"0123456789abcdefghijklmnopqrstuvwxyz\";\n    var BI_RC = new Array();\n    var rr,vv;\n    rr = \"0\".charCodeAt(0);\n    for(vv = 0; vv <= 9; ++vv) BI_RC[rr++] = vv;\n    rr = \"a\".charCodeAt(0);\n    for(vv = 10; vv < 36; ++vv) BI_RC[rr++] = vv;\n    rr = \"A\".charCodeAt(0);\n    for(vv = 10; vv < 36; ++vv) BI_RC[rr++] = vv;\n\n    function int2char(n) { return BI_RM.charAt(n); }\n    function intAt(s,i) {\n      var c = BI_RC[s.charCodeAt(i)];\n      return (c==null)?-1:c;\n    }\n\n    // (protected) copy this to r\n    function bnpCopyTo(r) {\n      for(var i = this.t-1; i >= 0; --i) r[i] = this[i];\n      r.t = this.t;\n      r.s = this.s;\n    }\n\n    // (protected) set from integer value x, -DV <= x < DV\n    function bnpFromInt(x) {\n      this.t = 1;\n      this.s = (x<0)?-1:0;\n      if(x > 0) this[0] = x;\n      else if(x < -1) this[0] = x+this.DV;\n      else this.t = 0;\n    }\n\n    // return bigint initialized to value\n    function nbv(i) { var r = nbi(); r.fromInt(i); return r; }\n\n    // (protected) set from string and radix\n    function bnpFromString(s,b) {\n      var k;\n      if(b == 16) k = 4;\n      else if(b == 8) k = 3;\n      else if(b == 256) k = 8; // byte array\n      else if(b == 2) k = 1;\n      else if(b == 32) k = 5;\n      else if(b == 4) k = 2;\n      else { this.fromRadix(s,b); return; }\n      this.t = 0;\n      this.s = 0;\n      var i = s.length, mi = false, sh = 0;\n      while(--i >= 0) {\n        var x = (k==8)?s[i]&0xff:intAt(s,i);\n        if(x < 0) {\n          if(s.charAt(i) == \"-\") mi = true;\n          continue;\n        }\n        mi = false;\n        if(sh == 0)\n          this[this.t++] = x;\n        else if(sh+k > this.DB) {\n          this[this.t-1] |= (x&((1<<(this.DB-sh))-1))<<sh;\n          this[this.t++] = (x>>(this.DB-sh));\n        }\n        else\n          this[this.t-1] |= x<<sh;\n        sh += k;\n        if(sh >= this.DB) sh -= this.DB;\n      }\n      if(k == 8 && (s[0]&0x80) != 0) {\n        this.s = -1;\n        if(sh > 0) this[this.t-1] |= ((1<<(this.DB-sh))-1)<<sh;\n      }\n      this.clamp();\n      if(mi) BigInteger.ZERO.subTo(this,this);\n    }\n\n    // (protected) clamp off excess high words\n    function bnpClamp() {\n      var c = this.s&this.DM;\n      while(this.t > 0 && this[this.t-1] == c) --this.t;\n    }\n\n    // (public) return string representation in given radix\n    function bnToString(b) {\n      if(this.s < 0) return \"-\"+this.negate().toString(b);\n      var k;\n      if(b == 16) k = 4;\n      else if(b == 8) k = 3;\n      else if(b == 2) k = 1;\n      else if(b == 32) k = 5;\n      else if(b == 4) k = 2;\n      else return this.toRadix(b);\n      var km = (1<<k)-1, d, m = false, r = \"\", i = this.t;\n      var p = this.DB-(i*this.DB)%k;\n      if(i-- > 0) {\n        if(p < this.DB && (d = this[i]>>p) > 0) { m = true; r = int2char(d); }\n        while(i >= 0) {\n          if(p < k) {\n            d = (this[i]&((1<<p)-1))<<(k-p);\n            d |= this[--i]>>(p+=this.DB-k);\n          }\n          else {\n            d = (this[i]>>(p-=k))&km;\n            if(p <= 0) { p += this.DB; --i; }\n          }\n          if(d > 0) m = true;\n          if(m) r += int2char(d);\n        }\n      }\n      return m?r:\"0\";\n    }\n\n    // (public) -this\n    function bnNegate() { var r = nbi(); BigInteger.ZERO.subTo(this,r); return r; }\n\n    // (public) |this|\n    function bnAbs() { return (this.s<0)?this.negate():this; }\n\n    // (public) return + if this > a, - if this < a, 0 if equal\n    function bnCompareTo(a) {\n      var r = this.s-a.s;\n      if(r != 0) return r;\n      var i = this.t;\n      r = i-a.t;\n      if(r != 0) return (this.s<0)?-r:r;\n      while(--i >= 0) if((r=this[i]-a[i]) != 0) return r;\n      return 0;\n    }\n\n    // returns bit length of the integer x\n    function nbits(x) {\n      var r = 1, t;\n      if((t=x>>>16) != 0) { x = t; r += 16; }\n      if((t=x>>8) != 0) { x = t; r += 8; }\n      if((t=x>>4) != 0) { x = t; r += 4; }\n      if((t=x>>2) != 0) { x = t; r += 2; }\n      if((t=x>>1) != 0) { x = t; r += 1; }\n      return r;\n    }\n\n    // (public) return the number of bits in \"this\"\n    function bnBitLength() {\n      if(this.t <= 0) return 0;\n      return this.DB*(this.t-1)+nbits(this[this.t-1]^(this.s&this.DM));\n    }\n\n    // (protected) r = this << n*DB\n    function bnpDLShiftTo(n,r) {\n      var i;\n      for(i = this.t-1; i >= 0; --i) r[i+n] = this[i];\n      for(i = n-1; i >= 0; --i) r[i] = 0;\n      r.t = this.t+n;\n      r.s = this.s;\n    }\n\n    // (protected) r = this >> n*DB\n    function bnpDRShiftTo(n,r) {\n      for(var i = n; i < this.t; ++i) r[i-n] = this[i];\n      r.t = Math.max(this.t-n,0);\n      r.s = this.s;\n    }\n\n    // (protected) r = this << n\n    function bnpLShiftTo(n,r) {\n      var bs = n%this.DB;\n      var cbs = this.DB-bs;\n      var bm = (1<<cbs)-1;\n      var ds = Math.floor(n/this.DB), c = (this.s<<bs)&this.DM, i;\n      for(i = this.t-1; i >= 0; --i) {\n        r[i+ds+1] = (this[i]>>cbs)|c;\n        c = (this[i]&bm)<<bs;\n      }\n      for(i = ds-1; i >= 0; --i) r[i] = 0;\n      r[ds] = c;\n      r.t = this.t+ds+1;\n      r.s = this.s;\n      r.clamp();\n    }\n\n    // (protected) r = this >> n\n    function bnpRShiftTo(n,r) {\n      r.s = this.s;\n      var ds = Math.floor(n/this.DB);\n      if(ds >= this.t) { r.t = 0; return; }\n      var bs = n%this.DB;\n      var cbs = this.DB-bs;\n      var bm = (1<<bs)-1;\n      r[0] = this[ds]>>bs;\n      for(var i = ds+1; i < this.t; ++i) {\n        r[i-ds-1] |= (this[i]&bm)<<cbs;\n        r[i-ds] = this[i]>>bs;\n      }\n      if(bs > 0) r[this.t-ds-1] |= (this.s&bm)<<cbs;\n      r.t = this.t-ds;\n      r.clamp();\n    }\n\n    // (protected) r = this - a\n    function bnpSubTo(a,r) {\n      var i = 0, c = 0, m = Math.min(a.t,this.t);\n      while(i < m) {\n        c += this[i]-a[i];\n        r[i++] = c&this.DM;\n        c >>= this.DB;\n      }\n      if(a.t < this.t) {\n        c -= a.s;\n        while(i < this.t) {\n          c += this[i];\n          r[i++] = c&this.DM;\n          c >>= this.DB;\n        }\n        c += this.s;\n      }\n      else {\n        c += this.s;\n        while(i < a.t) {\n          c -= a[i];\n          r[i++] = c&this.DM;\n          c >>= this.DB;\n        }\n        c -= a.s;\n      }\n      r.s = (c<0)?-1:0;\n      if(c < -1) r[i++] = this.DV+c;\n      else if(c > 0) r[i++] = c;\n      r.t = i;\n      r.clamp();\n    }\n\n    // (protected) r = this * a, r != this,a (HAC 14.12)\n    // \"this\" should be the larger one if appropriate.\n    function bnpMultiplyTo(a,r) {\n      var x = this.abs(), y = a.abs();\n      var i = x.t;\n      r.t = i+y.t;\n      while(--i >= 0) r[i] = 0;\n      for(i = 0; i < y.t; ++i) r[i+x.t] = x.am(0,y[i],r,i,0,x.t);\n      r.s = 0;\n      r.clamp();\n      if(this.s != a.s) BigInteger.ZERO.subTo(r,r);\n    }\n\n    // (protected) r = this^2, r != this (HAC 14.16)\n    function bnpSquareTo(r) {\n      var x = this.abs();\n      var i = r.t = 2*x.t;\n      while(--i >= 0) r[i] = 0;\n      for(i = 0; i < x.t-1; ++i) {\n        var c = x.am(i,x[i],r,2*i,0,1);\n        if((r[i+x.t]+=x.am(i+1,2*x[i],r,2*i+1,c,x.t-i-1)) >= x.DV) {\n          r[i+x.t] -= x.DV;\n          r[i+x.t+1] = 1;\n        }\n      }\n      if(r.t > 0) r[r.t-1] += x.am(i,x[i],r,2*i,0,1);\n      r.s = 0;\n      r.clamp();\n    }\n\n    // (protected) divide this by m, quotient and remainder to q, r (HAC 14.20)\n    // r != q, this != m.  q or r may be null.\n    function bnpDivRemTo(m,q,r) {\n      var pm = m.abs();\n      if(pm.t <= 0) return;\n      var pt = this.abs();\n      if(pt.t < pm.t) {\n        if(q != null) q.fromInt(0);\n        if(r != null) this.copyTo(r);\n        return;\n      }\n      if(r == null) r = nbi();\n      var y = nbi(), ts = this.s, ms = m.s;\n      var nsh = this.DB-nbits(pm[pm.t-1]);   // normalize modulus\n      if(nsh > 0) { pm.lShiftTo(nsh,y); pt.lShiftTo(nsh,r); }\n      else { pm.copyTo(y); pt.copyTo(r); }\n      var ys = y.t;\n      var y0 = y[ys-1];\n      if(y0 == 0) return;\n      var yt = y0*(1<<this.F1)+((ys>1)?y[ys-2]>>this.F2:0);\n      var d1 = this.FV/yt, d2 = (1<<this.F1)/yt, e = 1<<this.F2;\n      var i = r.t, j = i-ys, t = (q==null)?nbi():q;\n      y.dlShiftTo(j,t);\n      if(r.compareTo(t) >= 0) {\n        r[r.t++] = 1;\n        r.subTo(t,r);\n      }\n      BigInteger.ONE.dlShiftTo(ys,t);\n      t.subTo(y,y);  // \"negative\" y so we can replace sub with am later\n      while(y.t < ys) y[y.t++] = 0;\n      while(--j >= 0) {\n        // Estimate quotient digit\n        var qd = (r[--i]==y0)?this.DM:Math.floor(r[i]*d1+(r[i-1]+e)*d2);\n        if((r[i]+=y.am(0,qd,r,j,0,ys)) < qd) {   // Try it out\n          y.dlShiftTo(j,t);\n          r.subTo(t,r);\n          while(r[i] < --qd) r.subTo(t,r);\n        }\n      }\n      if(q != null) {\n        r.drShiftTo(ys,q);\n        if(ts != ms) BigInteger.ZERO.subTo(q,q);\n      }\n      r.t = ys;\n      r.clamp();\n      if(nsh > 0) r.rShiftTo(nsh,r); // Denormalize remainder\n      if(ts < 0) BigInteger.ZERO.subTo(r,r);\n    }\n\n    // (public) this mod a\n    function bnMod(a) {\n      var r = nbi();\n      this.abs().divRemTo(a,null,r);\n      if(this.s < 0 && r.compareTo(BigInteger.ZERO) > 0) a.subTo(r,r);\n      return r;\n    }\n\n    // Modular reduction using \"classic\" algorithm\n    function Classic(m) { this.m = m; }\n    function cConvert(x) {\n      if(x.s < 0 || x.compareTo(this.m) >= 0) return x.mod(this.m);\n      else return x;\n    }\n    function cRevert(x) { return x; }\n    function cReduce(x) { x.divRemTo(this.m,null,x); }\n    function cMulTo(x,y,r) { x.multiplyTo(y,r); this.reduce(r); }\n    function cSqrTo(x,r) { x.squareTo(r); this.reduce(r); }\n\n    Classic.prototype.convert = cConvert;\n    Classic.prototype.revert = cRevert;\n    Classic.prototype.reduce = cReduce;\n    Classic.prototype.mulTo = cMulTo;\n    Classic.prototype.sqrTo = cSqrTo;\n\n    // (protected) return \"-1/this % 2^DB\"; useful for Mont. reduction\n    // justification:\n    //         xy == 1 (mod m)\n    //         xy =  1+km\n    //   xy(2-xy) = (1+km)(1-km)\n    // x[y(2-xy)] = 1-k^2m^2\n    // x[y(2-xy)] == 1 (mod m^2)\n    // if y is 1/x mod m, then y(2-xy) is 1/x mod m^2\n    // should reduce x and y(2-xy) by m^2 at each step to keep size bounded.\n    // JS multiply \"overflows\" differently from C/C++, so care is needed here.\n    function bnpInvDigit() {\n      if(this.t < 1) return 0;\n      var x = this[0];\n      if((x&1) == 0) return 0;\n      var y = x&3;       // y == 1/x mod 2^2\n      y = (y*(2-(x&0xf)*y))&0xf; // y == 1/x mod 2^4\n      y = (y*(2-(x&0xff)*y))&0xff;   // y == 1/x mod 2^8\n      y = (y*(2-(((x&0xffff)*y)&0xffff)))&0xffff;    // y == 1/x mod 2^16\n      // last step - calculate inverse mod DV directly;\n      // assumes 16 < DB <= 32 and assumes ability to handle 48-bit ints\n      y = (y*(2-x*y%this.DV))%this.DV;       // y == 1/x mod 2^dbits\n      // we really want the negative inverse, and -DV < y < DV\n      return (y>0)?this.DV-y:-y;\n    }\n\n    // Montgomery reduction\n    function Montgomery(m) {\n      this.m = m;\n      this.mp = m.invDigit();\n      this.mpl = this.mp&0x7fff;\n      this.mph = this.mp>>15;\n      this.um = (1<<(m.DB-15))-1;\n      this.mt2 = 2*m.t;\n    }\n\n    // xR mod m\n    function montConvert(x) {\n      var r = nbi();\n      x.abs().dlShiftTo(this.m.t,r);\n      r.divRemTo(this.m,null,r);\n      if(x.s < 0 && r.compareTo(BigInteger.ZERO) > 0) this.m.subTo(r,r);\n      return r;\n    }\n\n    // x/R mod m\n    function montRevert(x) {\n      var r = nbi();\n      x.copyTo(r);\n      this.reduce(r);\n      return r;\n    }\n\n    // x = x/R mod m (HAC 14.32)\n    function montReduce(x) {\n      while(x.t <= this.mt2) // pad x so am has enough room later\n        x[x.t++] = 0;\n      for(var i = 0; i < this.m.t; ++i) {\n        // faster way of calculating u0 = x[i]*mp mod DV\n        var j = x[i]&0x7fff;\n        var u0 = (j*this.mpl+(((j*this.mph+(x[i]>>15)*this.mpl)&this.um)<<15))&x.DM;\n        // use am to combine the multiply-shift-add into one call\n        j = i+this.m.t;\n        x[j] += this.m.am(0,u0,x,i,0,this.m.t);\n        // propagate carry\n        while(x[j] >= x.DV) { x[j] -= x.DV; x[++j]++; }\n      }\n      x.clamp();\n      x.drShiftTo(this.m.t,x);\n      if(x.compareTo(this.m) >= 0) x.subTo(this.m,x);\n    }\n\n    // r = \"x^2/R mod m\"; x != r\n    function montSqrTo(x,r) { x.squareTo(r); this.reduce(r); }\n\n    // r = \"xy/R mod m\"; x,y != r\n    function montMulTo(x,y,r) { x.multiplyTo(y,r); this.reduce(r); }\n\n    Montgomery.prototype.convert = montConvert;\n    Montgomery.prototype.revert = montRevert;\n    Montgomery.prototype.reduce = montReduce;\n    Montgomery.prototype.mulTo = montMulTo;\n    Montgomery.prototype.sqrTo = montSqrTo;\n\n    // (protected) true iff this is even\n    function bnpIsEven() { return ((this.t>0)?(this[0]&1):this.s) == 0; }\n\n    // (protected) this^e, e < 2^32, doing sqr and mul with \"r\" (HAC 14.79)\n    function bnpExp(e,z) {\n      if(e > 0xffffffff || e < 1) return BigInteger.ONE;\n      var r = nbi(), r2 = nbi(), g = z.convert(this), i = nbits(e)-1;\n      g.copyTo(r);\n      while(--i >= 0) {\n        z.sqrTo(r,r2);\n        if((e&(1<<i)) > 0) z.mulTo(r2,g,r);\n        else { var t = r; r = r2; r2 = t; }\n      }\n      return z.revert(r);\n    }\n\n    // (public) this^e % m, 0 <= e < 2^32\n    function bnModPowInt(e,m) {\n      var z;\n      if(e < 256 || m.isEven()) z = new Classic(m); else z = new Montgomery(m);\n      return this.exp(e,z);\n    }\n\n    // protected\n    BigInteger.prototype.copyTo = bnpCopyTo;\n    BigInteger.prototype.fromInt = bnpFromInt;\n    BigInteger.prototype.fromString = bnpFromString;\n    BigInteger.prototype.clamp = bnpClamp;\n    BigInteger.prototype.dlShiftTo = bnpDLShiftTo;\n    BigInteger.prototype.drShiftTo = bnpDRShiftTo;\n    BigInteger.prototype.lShiftTo = bnpLShiftTo;\n    BigInteger.prototype.rShiftTo = bnpRShiftTo;\n    BigInteger.prototype.subTo = bnpSubTo;\n    BigInteger.prototype.multiplyTo = bnpMultiplyTo;\n    BigInteger.prototype.squareTo = bnpSquareTo;\n    BigInteger.prototype.divRemTo = bnpDivRemTo;\n    BigInteger.prototype.invDigit = bnpInvDigit;\n    BigInteger.prototype.isEven = bnpIsEven;\n    BigInteger.prototype.exp = bnpExp;\n\n    // public\n    BigInteger.prototype.toString = bnToString;\n    BigInteger.prototype.negate = bnNegate;\n    BigInteger.prototype.abs = bnAbs;\n    BigInteger.prototype.compareTo = bnCompareTo;\n    BigInteger.prototype.bitLength = bnBitLength;\n    BigInteger.prototype.mod = bnMod;\n    BigInteger.prototype.modPowInt = bnModPowInt;\n\n    // \"constants\"\n    BigInteger.ZERO = nbv(0);\n    BigInteger.ONE = nbv(1);\n\n    // Copyright (c) 2005-2009  Tom Wu\n    // All Rights Reserved.\n    // See \"LICENSE\" for details.\n\n    // Extended JavaScript BN functions, required for RSA private ops.\n\n    // Version 1.1: new BigInteger(\"0\", 10) returns \"proper\" zero\n    // Version 1.2: square() API, isProbablePrime fix\n\n    // (public)\n    function bnClone() { var r = nbi(); this.copyTo(r); return r; }\n\n    // (public) return value as integer\n    function bnIntValue() {\n      if(this.s < 0) {\n        if(this.t == 1) return this[0]-this.DV;\n        else if(this.t == 0) return -1;\n      }\n      else if(this.t == 1) return this[0];\n      else if(this.t == 0) return 0;\n      // assumes 16 < DB < 32\n      return ((this[1]&((1<<(32-this.DB))-1))<<this.DB)|this[0];\n    }\n\n    // (public) return value as byte\n    function bnByteValue() { return (this.t==0)?this.s:(this[0]<<24)>>24; }\n\n    // (public) return value as short (assumes DB>=16)\n    function bnShortValue() { return (this.t==0)?this.s:(this[0]<<16)>>16; }\n\n    // (protected) return x s.t. r^x < DV\n    function bnpChunkSize(r) { return Math.floor(Math.LN2*this.DB/Math.log(r)); }\n\n    // (public) 0 if this == 0, 1 if this > 0\n    function bnSigNum() {\n      if(this.s < 0) return -1;\n      else if(this.t <= 0 || (this.t == 1 && this[0] <= 0)) return 0;\n      else return 1;\n    }\n\n    // (protected) convert to radix string\n    function bnpToRadix(b) {\n      if(b == null) b = 10;\n      if(this.signum() == 0 || b < 2 || b > 36) return \"0\";\n      var cs = this.chunkSize(b);\n      var a = Math.pow(b,cs);\n      var d = nbv(a), y = nbi(), z = nbi(), r = \"\";\n      this.divRemTo(d,y,z);\n      while(y.signum() > 0) {\n        r = (a+z.intValue()).toString(b).substr(1) + r;\n        y.divRemTo(d,y,z);\n      }\n      return z.intValue().toString(b) + r;\n    }\n\n    // (protected) convert from radix string\n    function bnpFromRadix(s,b) {\n      this.fromInt(0);\n      if(b == null) b = 10;\n      var cs = this.chunkSize(b);\n      var d = Math.pow(b,cs), mi = false, j = 0, w = 0;\n      for(var i = 0; i < s.length; ++i) {\n        var x = intAt(s,i);\n        if(x < 0) {\n          if(s.charAt(i) == \"-\" && this.signum() == 0) mi = true;\n          continue;\n        }\n        w = b*w+x;\n        if(++j >= cs) {\n          this.dMultiply(d);\n          this.dAddOffset(w,0);\n          j = 0;\n          w = 0;\n        }\n      }\n      if(j > 0) {\n        this.dMultiply(Math.pow(b,j));\n        this.dAddOffset(w,0);\n      }\n      if(mi) BigInteger.ZERO.subTo(this,this);\n    }\n\n    // (protected) alternate constructor\n    function bnpFromNumber(a,b,c) {\n      if(\"number\" == typeof b) {\n        // new BigInteger(int,int,RNG)\n        if(a < 2) this.fromInt(1);\n        else {\n          this.fromNumber(a,c);\n          if(!this.testBit(a-1))\t// force MSB set\n            this.bitwiseTo(BigInteger.ONE.shiftLeft(a-1),op_or,this);\n          if(this.isEven()) this.dAddOffset(1,0); // force odd\n          while(!this.isProbablePrime(b)) {\n            this.dAddOffset(2,0);\n            if(this.bitLength() > a) this.subTo(BigInteger.ONE.shiftLeft(a-1),this);\n          }\n        }\n      }\n      else {\n        // new BigInteger(int,RNG)\n        var x = new Array(), t = a&7;\n        x.length = (a>>3)+1;\n        b.nextBytes(x);\n        if(t > 0) x[0] &= ((1<<t)-1); else x[0] = 0;\n        this.fromString(x,256);\n      }\n    }\n\n    // (public) convert to bigendian byte array\n    function bnToByteArray() {\n      var i = this.t, r = new Array();\n      r[0] = this.s;\n      var p = this.DB-(i*this.DB)%8, d, k = 0;\n      if(i-- > 0) {\n        if(p < this.DB && (d = this[i]>>p) != (this.s&this.DM)>>p)\n          r[k++] = d|(this.s<<(this.DB-p));\n        while(i >= 0) {\n          if(p < 8) {\n            d = (this[i]&((1<<p)-1))<<(8-p);\n            d |= this[--i]>>(p+=this.DB-8);\n          }\n          else {\n            d = (this[i]>>(p-=8))&0xff;\n            if(p <= 0) { p += this.DB; --i; }\n          }\n          if((d&0x80) != 0) d |= -256;\n          if(k == 0 && (this.s&0x80) != (d&0x80)) ++k;\n          if(k > 0 || d != this.s) r[k++] = d;\n        }\n      }\n      return r;\n    }\n\n    function bnEquals(a) { return(this.compareTo(a)==0); }\n    function bnMin(a) { return(this.compareTo(a)<0)?this:a; }\n    function bnMax(a) { return(this.compareTo(a)>0)?this:a; }\n\n    // (protected) r = this op a (bitwise)\n    function bnpBitwiseTo(a,op,r) {\n      var i, f, m = Math.min(a.t,this.t);\n      for(i = 0; i < m; ++i) r[i] = op(this[i],a[i]);\n      if(a.t < this.t) {\n        f = a.s&this.DM;\n        for(i = m; i < this.t; ++i) r[i] = op(this[i],f);\n        r.t = this.t;\n      }\n      else {\n        f = this.s&this.DM;\n        for(i = m; i < a.t; ++i) r[i] = op(f,a[i]);\n        r.t = a.t;\n      }\n      r.s = op(this.s,a.s);\n      r.clamp();\n    }\n\n    // (public) this & a\n    function op_and(x,y) { return x&y; }\n    function bnAnd(a) { var r = nbi(); this.bitwiseTo(a,op_and,r); return r; }\n\n    // (public) this | a\n    function op_or(x,y) { return x|y; }\n    function bnOr(a) { var r = nbi(); this.bitwiseTo(a,op_or,r); return r; }\n\n    // (public) this ^ a\n    function op_xor(x,y) { return x^y; }\n    function bnXor(a) { var r = nbi(); this.bitwiseTo(a,op_xor,r); return r; }\n\n    // (public) this & ~a\n    function op_andnot(x,y) { return x&~y; }\n    function bnAndNot(a) { var r = nbi(); this.bitwiseTo(a,op_andnot,r); return r; }\n\n    // (public) ~this\n    function bnNot() {\n      var r = nbi();\n      for(var i = 0; i < this.t; ++i) r[i] = this.DM&~this[i];\n      r.t = this.t;\n      r.s = ~this.s;\n      return r;\n    }\n\n    // (public) this << n\n    function bnShiftLeft(n) {\n      var r = nbi();\n      if(n < 0) this.rShiftTo(-n,r); else this.lShiftTo(n,r);\n      return r;\n    }\n\n    // (public) this >> n\n    function bnShiftRight(n) {\n      var r = nbi();\n      if(n < 0) this.lShiftTo(-n,r); else this.rShiftTo(n,r);\n      return r;\n    }\n\n    // return index of lowest 1-bit in x, x < 2^31\n    function lbit(x) {\n      if(x == 0) return -1;\n      var r = 0;\n      if((x&0xffff) == 0) { x >>= 16; r += 16; }\n      if((x&0xff) == 0) { x >>= 8; r += 8; }\n      if((x&0xf) == 0) { x >>= 4; r += 4; }\n      if((x&3) == 0) { x >>= 2; r += 2; }\n      if((x&1) == 0) ++r;\n      return r;\n    }\n\n    // (public) returns index of lowest 1-bit (or -1 if none)\n    function bnGetLowestSetBit() {\n      for(var i = 0; i < this.t; ++i)\n        if(this[i] != 0) return i*this.DB+lbit(this[i]);\n      if(this.s < 0) return this.t*this.DB;\n      return -1;\n    }\n\n    // return number of 1 bits in x\n    function cbit(x) {\n      var r = 0;\n      while(x != 0) { x &= x-1; ++r; }\n      return r;\n    }\n\n    // (public) return number of set bits\n    function bnBitCount() {\n      var r = 0, x = this.s&this.DM;\n      for(var i = 0; i < this.t; ++i) r += cbit(this[i]^x);\n      return r;\n    }\n\n    // (public) true iff nth bit is set\n    function bnTestBit(n) {\n      var j = Math.floor(n/this.DB);\n      if(j >= this.t) return(this.s!=0);\n      return((this[j]&(1<<(n%this.DB)))!=0);\n    }\n\n    // (protected) this op (1<<n)\n    function bnpChangeBit(n,op) {\n      var r = BigInteger.ONE.shiftLeft(n);\n      this.bitwiseTo(r,op,r);\n      return r;\n    }\n\n    // (public) this | (1<<n)\n    function bnSetBit(n) { return this.changeBit(n,op_or); }\n\n    // (public) this & ~(1<<n)\n    function bnClearBit(n) { return this.changeBit(n,op_andnot); }\n\n    // (public) this ^ (1<<n)\n    function bnFlipBit(n) { return this.changeBit(n,op_xor); }\n\n    // (protected) r = this + a\n    function bnpAddTo(a,r) {\n      var i = 0, c = 0, m = Math.min(a.t,this.t);\n      while(i < m) {\n        c += this[i]+a[i];\n        r[i++] = c&this.DM;\n        c >>= this.DB;\n      }\n      if(a.t < this.t) {\n        c += a.s;\n        while(i < this.t) {\n          c += this[i];\n          r[i++] = c&this.DM;\n          c >>= this.DB;\n        }\n        c += this.s;\n      }\n      else {\n        c += this.s;\n        while(i < a.t) {\n          c += a[i];\n          r[i++] = c&this.DM;\n          c >>= this.DB;\n        }\n        c += a.s;\n      }\n      r.s = (c<0)?-1:0;\n      if(c > 0) r[i++] = c;\n      else if(c < -1) r[i++] = this.DV+c;\n      r.t = i;\n      r.clamp();\n    }\n\n    // (public) this + a\n    function bnAdd(a) { var r = nbi(); this.addTo(a,r); return r; }\n\n    // (public) this - a\n    function bnSubtract(a) { var r = nbi(); this.subTo(a,r); return r; }\n\n    // (public) this * a\n    function bnMultiply(a) { var r = nbi(); this.multiplyTo(a,r); return r; }\n\n    // (public) this^2\n    function bnSquare() { var r = nbi(); this.squareTo(r); return r; }\n\n    // (public) this / a\n    function bnDivide(a) { var r = nbi(); this.divRemTo(a,r,null); return r; }\n\n    // (public) this % a\n    function bnRemainder(a) { var r = nbi(); this.divRemTo(a,null,r); return r; }\n\n    // (public) [this/a,this%a]\n    function bnDivideAndRemainder(a) {\n      var q = nbi(), r = nbi();\n      this.divRemTo(a,q,r);\n      return new Array(q,r);\n    }\n\n    // (protected) this *= n, this >= 0, 1 < n < DV\n    function bnpDMultiply(n) {\n      this[this.t] = this.am(0,n-1,this,0,0,this.t);\n      ++this.t;\n      this.clamp();\n    }\n\n    // (protected) this += n << w words, this >= 0\n    function bnpDAddOffset(n,w) {\n      if(n == 0) return;\n      while(this.t <= w) this[this.t++] = 0;\n      this[w] += n;\n      while(this[w] >= this.DV) {\n        this[w] -= this.DV;\n        if(++w >= this.t) this[this.t++] = 0;\n        ++this[w];\n      }\n    }\n\n    // A \"null\" reducer\n    function NullExp() {}\n    function nNop(x) { return x; }\n    function nMulTo(x,y,r) { x.multiplyTo(y,r); }\n    function nSqrTo(x,r) { x.squareTo(r); }\n\n    NullExp.prototype.convert = nNop;\n    NullExp.prototype.revert = nNop;\n    NullExp.prototype.mulTo = nMulTo;\n    NullExp.prototype.sqrTo = nSqrTo;\n\n    // (public) this^e\n    function bnPow(e) { return this.exp(e,new NullExp()); }\n\n    // (protected) r = lower n words of \"this * a\", a.t <= n\n    // \"this\" should be the larger one if appropriate.\n    function bnpMultiplyLowerTo(a,n,r) {\n      var i = Math.min(this.t+a.t,n);\n      r.s = 0; // assumes a,this >= 0\n      r.t = i;\n      while(i > 0) r[--i] = 0;\n      var j;\n      for(j = r.t-this.t; i < j; ++i) r[i+this.t] = this.am(0,a[i],r,i,0,this.t);\n      for(j = Math.min(a.t,n); i < j; ++i) this.am(0,a[i],r,i,0,n-i);\n      r.clamp();\n    }\n\n    // (protected) r = \"this * a\" without lower n words, n > 0\n    // \"this\" should be the larger one if appropriate.\n    function bnpMultiplyUpperTo(a,n,r) {\n      --n;\n      var i = r.t = this.t+a.t-n;\n      r.s = 0; // assumes a,this >= 0\n      while(--i >= 0) r[i] = 0;\n      for(i = Math.max(n-this.t,0); i < a.t; ++i)\n        r[this.t+i-n] = this.am(n-i,a[i],r,0,0,this.t+i-n);\n      r.clamp();\n      r.drShiftTo(1,r);\n    }\n\n    // Barrett modular reduction\n    function Barrett(m) {\n      // setup Barrett\n      this.r2 = nbi();\n      this.q3 = nbi();\n      BigInteger.ONE.dlShiftTo(2*m.t,this.r2);\n      this.mu = this.r2.divide(m);\n      this.m = m;\n    }\n\n    function barrettConvert(x) {\n      if(x.s < 0 || x.t > 2*this.m.t) return x.mod(this.m);\n      else if(x.compareTo(this.m) < 0) return x;\n      else { var r = nbi(); x.copyTo(r); this.reduce(r); return r; }\n    }\n\n    function barrettRevert(x) { return x; }\n\n    // x = x mod m (HAC 14.42)\n    function barrettReduce(x) {\n      x.drShiftTo(this.m.t-1,this.r2);\n      if(x.t > this.m.t+1) { x.t = this.m.t+1; x.clamp(); }\n      this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3);\n      this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);\n      while(x.compareTo(this.r2) < 0) x.dAddOffset(1,this.m.t+1);\n      x.subTo(this.r2,x);\n      while(x.compareTo(this.m) >= 0) x.subTo(this.m,x);\n    }\n\n    // r = x^2 mod m; x != r\n    function barrettSqrTo(x,r) { x.squareTo(r); this.reduce(r); }\n\n    // r = x*y mod m; x,y != r\n    function barrettMulTo(x,y,r) { x.multiplyTo(y,r); this.reduce(r); }\n\n    Barrett.prototype.convert = barrettConvert;\n    Barrett.prototype.revert = barrettRevert;\n    Barrett.prototype.reduce = barrettReduce;\n    Barrett.prototype.mulTo = barrettMulTo;\n    Barrett.prototype.sqrTo = barrettSqrTo;\n\n    // (public) this^e % m (HAC 14.85)\n    function bnModPow(e,m) {\n      var i = e.bitLength(), k, r = nbv(1), z;\n      if(i <= 0) return r;\n      else if(i < 18) k = 1;\n      else if(i < 48) k = 3;\n      else if(i < 144) k = 4;\n      else if(i < 768) k = 5;\n      else k = 6;\n      if(i < 8)\n        z = new Classic(m);\n      else if(m.isEven())\n        z = new Barrett(m);\n      else\n        z = new Montgomery(m);\n\n      // precomputation\n      var g = new Array(), n = 3, k1 = k-1, km = (1<<k)-1;\n      g[1] = z.convert(this);\n      if(k > 1) {\n        var g2 = nbi();\n        z.sqrTo(g[1],g2);\n        while(n <= km) {\n          g[n] = nbi();\n          z.mulTo(g2,g[n-2],g[n]);\n          n += 2;\n        }\n      }\n\n      var j = e.t-1, w, is1 = true, r2 = nbi(), t;\n      i = nbits(e[j])-1;\n      while(j >= 0) {\n        if(i >= k1) w = (e[j]>>(i-k1))&km;\n        else {\n          w = (e[j]&((1<<(i+1))-1))<<(k1-i);\n          if(j > 0) w |= e[j-1]>>(this.DB+i-k1);\n        }\n\n        n = k;\n        while((w&1) == 0) { w >>= 1; --n; }\n        if((i -= n) < 0) { i += this.DB; --j; }\n        if(is1) {\t// ret == 1, don't bother squaring or multiplying it\n          g[w].copyTo(r);\n          is1 = false;\n        }\n        else {\n          while(n > 1) { z.sqrTo(r,r2); z.sqrTo(r2,r); n -= 2; }\n          if(n > 0) z.sqrTo(r,r2); else { t = r; r = r2; r2 = t; }\n          z.mulTo(r2,g[w],r);\n        }\n\n        while(j >= 0 && (e[j]&(1<<i)) == 0) {\n          z.sqrTo(r,r2); t = r; r = r2; r2 = t;\n          if(--i < 0) { i = this.DB-1; --j; }\n        }\n      }\n      return z.revert(r);\n    }\n\n    // (public) gcd(this,a) (HAC 14.54)\n    function bnGCD(a) {\n      var x = (this.s<0)?this.negate():this.clone();\n      var y = (a.s<0)?a.negate():a.clone();\n      if(x.compareTo(y) < 0) { var t = x; x = y; y = t; }\n      var i = x.getLowestSetBit(), g = y.getLowestSetBit();\n      if(g < 0) return x;\n      if(i < g) g = i;\n      if(g > 0) {\n        x.rShiftTo(g,x);\n        y.rShiftTo(g,y);\n      }\n      while(x.signum() > 0) {\n        if((i = x.getLowestSetBit()) > 0) x.rShiftTo(i,x);\n        if((i = y.getLowestSetBit()) > 0) y.rShiftTo(i,y);\n        if(x.compareTo(y) >= 0) {\n          x.subTo(y,x);\n          x.rShiftTo(1,x);\n        }\n        else {\n          y.subTo(x,y);\n          y.rShiftTo(1,y);\n        }\n      }\n      if(g > 0) y.lShiftTo(g,y);\n      return y;\n    }\n\n    // (protected) this % n, n < 2^26\n    function bnpModInt(n) {\n      if(n <= 0) return 0;\n      var d = this.DV%n, r = (this.s<0)?n-1:0;\n      if(this.t > 0)\n        if(d == 0) r = this[0]%n;\n        else for(var i = this.t-1; i >= 0; --i) r = (d*r+this[i])%n;\n      return r;\n    }\n\n    // (public) 1/this % m (HAC 14.61)\n    function bnModInverse(m) {\n      var ac = m.isEven();\n      if((this.isEven() && ac) || m.signum() == 0) return BigInteger.ZERO;\n      var u = m.clone(), v = this.clone();\n      var a = nbv(1), b = nbv(0), c = nbv(0), d = nbv(1);\n      while(u.signum() != 0) {\n        while(u.isEven()) {\n          u.rShiftTo(1,u);\n          if(ac) {\n            if(!a.isEven() || !b.isEven()) { a.addTo(this,a); b.subTo(m,b); }\n            a.rShiftTo(1,a);\n          }\n          else if(!b.isEven()) b.subTo(m,b);\n          b.rShiftTo(1,b);\n        }\n        while(v.isEven()) {\n          v.rShiftTo(1,v);\n          if(ac) {\n            if(!c.isEven() || !d.isEven()) { c.addTo(this,c); d.subTo(m,d); }\n            c.rShiftTo(1,c);\n          }\n          else if(!d.isEven()) d.subTo(m,d);\n          d.rShiftTo(1,d);\n        }\n        if(u.compareTo(v) >= 0) {\n          u.subTo(v,u);\n          if(ac) a.subTo(c,a);\n          b.subTo(d,b);\n        }\n        else {\n          v.subTo(u,v);\n          if(ac) c.subTo(a,c);\n          d.subTo(b,d);\n        }\n      }\n      if(v.compareTo(BigInteger.ONE) != 0) return BigInteger.ZERO;\n      if(d.compareTo(m) >= 0) return d.subtract(m);\n      if(d.signum() < 0) d.addTo(m,d); else return d;\n      if(d.signum() < 0) return d.add(m); else return d;\n    }\n\n    var lowprimes = [2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509,521,523,541,547,557,563,569,571,577,587,593,599,601,607,613,617,619,631,641,643,647,653,659,661,673,677,683,691,701,709,719,727,733,739,743,751,757,761,769,773,787,797,809,811,821,823,827,829,839,853,857,859,863,877,881,883,887,907,911,919,929,937,941,947,953,967,971,977,983,991,997];\n    var lplim = (1<<26)/lowprimes[lowprimes.length-1];\n\n    // (public) test primality with certainty >= 1-.5^t\n    function bnIsProbablePrime(t) {\n      var i, x = this.abs();\n      if(x.t == 1 && x[0] <= lowprimes[lowprimes.length-1]) {\n        for(i = 0; i < lowprimes.length; ++i)\n          if(x[0] == lowprimes[i]) return true;\n        return false;\n      }\n      if(x.isEven()) return false;\n      i = 1;\n      while(i < lowprimes.length) {\n        var m = lowprimes[i], j = i+1;\n        while(j < lowprimes.length && m < lplim) m *= lowprimes[j++];\n        m = x.modInt(m);\n        while(i < j) if(m%lowprimes[i++] == 0) return false;\n      }\n      return x.millerRabin(t);\n    }\n\n    // (protected) true if probably prime (HAC 4.24, Miller-Rabin)\n    function bnpMillerRabin(t) {\n      var n1 = this.subtract(BigInteger.ONE);\n      var k = n1.getLowestSetBit();\n      if(k <= 0) return false;\n      var r = n1.shiftRight(k);\n      t = (t+1)>>1;\n      if(t > lowprimes.length) t = lowprimes.length;\n      var a = nbi();\n      for(var i = 0; i < t; ++i) {\n        //Pick bases at random, instead of starting at 2\n        a.fromInt(lowprimes[Math.floor(Math.random()*lowprimes.length)]);\n        var y = a.modPow(r,this);\n        if(y.compareTo(BigInteger.ONE) != 0 && y.compareTo(n1) != 0) {\n          var j = 1;\n          while(j++ < k && y.compareTo(n1) != 0) {\n            y = y.modPowInt(2,this);\n            if(y.compareTo(BigInteger.ONE) == 0) return false;\n          }\n          if(y.compareTo(n1) != 0) return false;\n        }\n      }\n      return true;\n    }\n\n    // protected\n    BigInteger.prototype.chunkSize = bnpChunkSize;\n    BigInteger.prototype.toRadix = bnpToRadix;\n    BigInteger.prototype.fromRadix = bnpFromRadix;\n    BigInteger.prototype.fromNumber = bnpFromNumber;\n    BigInteger.prototype.bitwiseTo = bnpBitwiseTo;\n    BigInteger.prototype.changeBit = bnpChangeBit;\n    BigInteger.prototype.addTo = bnpAddTo;\n    BigInteger.prototype.dMultiply = bnpDMultiply;\n    BigInteger.prototype.dAddOffset = bnpDAddOffset;\n    BigInteger.prototype.multiplyLowerTo = bnpMultiplyLowerTo;\n    BigInteger.prototype.multiplyUpperTo = bnpMultiplyUpperTo;\n    BigInteger.prototype.modInt = bnpModInt;\n    BigInteger.prototype.millerRabin = bnpMillerRabin;\n\n    // public\n    BigInteger.prototype.clone = bnClone;\n    BigInteger.prototype.intValue = bnIntValue;\n    BigInteger.prototype.byteValue = bnByteValue;\n    BigInteger.prototype.shortValue = bnShortValue;\n    BigInteger.prototype.signum = bnSigNum;\n    BigInteger.prototype.toByteArray = bnToByteArray;\n    BigInteger.prototype.equals = bnEquals;\n    BigInteger.prototype.min = bnMin;\n    BigInteger.prototype.max = bnMax;\n    BigInteger.prototype.and = bnAnd;\n    BigInteger.prototype.or = bnOr;\n    BigInteger.prototype.xor = bnXor;\n    BigInteger.prototype.andNot = bnAndNot;\n    BigInteger.prototype.not = bnNot;\n    BigInteger.prototype.shiftLeft = bnShiftLeft;\n    BigInteger.prototype.shiftRight = bnShiftRight;\n    BigInteger.prototype.getLowestSetBit = bnGetLowestSetBit;\n    BigInteger.prototype.bitCount = bnBitCount;\n    BigInteger.prototype.testBit = bnTestBit;\n    BigInteger.prototype.setBit = bnSetBit;\n    BigInteger.prototype.clearBit = bnClearBit;\n    BigInteger.prototype.flipBit = bnFlipBit;\n    BigInteger.prototype.add = bnAdd;\n    BigInteger.prototype.subtract = bnSubtract;\n    BigInteger.prototype.multiply = bnMultiply;\n    BigInteger.prototype.divide = bnDivide;\n    BigInteger.prototype.remainder = bnRemainder;\n    BigInteger.prototype.divideAndRemainder = bnDivideAndRemainder;\n    BigInteger.prototype.modPow = bnModPow;\n    BigInteger.prototype.modInverse = bnModInverse;\n    BigInteger.prototype.pow = bnPow;\n    BigInteger.prototype.gcd = bnGCD;\n    BigInteger.prototype.isProbablePrime = bnIsProbablePrime;\n\n    // JSBN-specific extension\n    BigInteger.prototype.square = bnSquare;\n\n    // Expose the Barrett function\n    BigInteger.prototype.Barrett = Barrett\n\n    // BigInteger interfaces not implemented in jsbn:\n\n    // BigInteger(int signum, byte[] magnitude)\n    // double doubleValue()\n    // float floatValue()\n    // int hashCode()\n    // long longValue()\n    // static BigInteger valueOf(long val)\n\n\t// Random number generator - requires a PRNG backend, e.g. prng4.js\n\n\t// For best results, put code like\n\t// <body onClick='rng_seed_time();' onKeyPress='rng_seed_time();'>\n\t// in your main HTML document.\n\n\tvar rng_state;\n\tvar rng_pool;\n\tvar rng_pptr;\n\n\t// Mix in a 32-bit integer into the pool\n\tfunction rng_seed_int(x) {\n\t  rng_pool[rng_pptr++] ^= x & 255;\n\t  rng_pool[rng_pptr++] ^= (x >> 8) & 255;\n\t  rng_pool[rng_pptr++] ^= (x >> 16) & 255;\n\t  rng_pool[rng_pptr++] ^= (x >> 24) & 255;\n\t  if(rng_pptr >= rng_psize) rng_pptr -= rng_psize;\n\t}\n\n\t// Mix in the current time (w/milliseconds) into the pool\n\tfunction rng_seed_time() {\n\t  rng_seed_int(new Date().getTime());\n\t}\n\n\t// Initialize the pool with junk if needed.\n\tif(rng_pool == null) {\n\t  rng_pool = new Array();\n\t  rng_pptr = 0;\n\t  var t;\n\t  if(typeof window !== \"undefined\" && window.crypto) {\n\t\tif (window.crypto.getRandomValues) {\n\t\t  // Use webcrypto if available\n\t\t  var ua = new Uint8Array(32);\n\t\t  window.crypto.getRandomValues(ua);\n\t\t  for(t = 0; t < 32; ++t)\n\t\t\trng_pool[rng_pptr++] = ua[t];\n\t\t}\n\t\telse if(navigator.appName == \"Netscape\" && navigator.appVersion < \"5\") {\n\t\t  // Extract entropy (256 bits) from NS4 RNG if available\n\t\t  var z = window.crypto.random(32);\n\t\t  for(t = 0; t < z.length; ++t)\n\t\t\trng_pool[rng_pptr++] = z.charCodeAt(t) & 255;\n\t\t}\n\t  }\n\t  while(rng_pptr < rng_psize) {  // extract some randomness from Math.random()\n\t\tt = Math.floor(65536 * Math.random());\n\t\trng_pool[rng_pptr++] = t >>> 8;\n\t\trng_pool[rng_pptr++] = t & 255;\n\t  }\n\t  rng_pptr = 0;\n\t  rng_seed_time();\n\t  //rng_seed_int(window.screenX);\n\t  //rng_seed_int(window.screenY);\n\t}\n\n\tfunction rng_get_byte() {\n\t  if(rng_state == null) {\n\t\trng_seed_time();\n\t\trng_state = prng_newstate();\n\t\trng_state.init(rng_pool);\n\t\tfor(rng_pptr = 0; rng_pptr < rng_pool.length; ++rng_pptr)\n\t\t  rng_pool[rng_pptr] = 0;\n\t\trng_pptr = 0;\n\t\t//rng_pool = null;\n\t  }\n\t  // TODO: allow reseeding after first request\n\t  return rng_state.next();\n\t}\n\n\tfunction rng_get_bytes(ba) {\n\t  var i;\n\t  for(i = 0; i < ba.length; ++i) ba[i] = rng_get_byte();\n\t}\n\n\tfunction SecureRandom() {}\n\n\tSecureRandom.prototype.nextBytes = rng_get_bytes;\n\n\t// prng4.js - uses Arcfour as a PRNG\n\n\tfunction Arcfour() {\n\t  this.i = 0;\n\t  this.j = 0;\n\t  this.S = new Array();\n\t}\n\n\t// Initialize arcfour context from key, an array of ints, each from [0..255]\n\tfunction ARC4init(key) {\n\t  var i, j, t;\n\t  for(i = 0; i < 256; ++i)\n\t\tthis.S[i] = i;\n\t  j = 0;\n\t  for(i = 0; i < 256; ++i) {\n\t\tj = (j + this.S[i] + key[i % key.length]) & 255;\n\t\tt = this.S[i];\n\t\tthis.S[i] = this.S[j];\n\t\tthis.S[j] = t;\n\t  }\n\t  this.i = 0;\n\t  this.j = 0;\n\t}\n\n\tfunction ARC4next() {\n\t  var t;\n\t  this.i = (this.i + 1) & 255;\n\t  this.j = (this.j + this.S[this.i]) & 255;\n\t  t = this.S[this.i];\n\t  this.S[this.i] = this.S[this.j];\n\t  this.S[this.j] = t;\n\t  return this.S[(t + this.S[this.i]) & 255];\n\t}\n\n\tArcfour.prototype.init = ARC4init;\n\tArcfour.prototype.next = ARC4next;\n\n\t// Plug in your RNG constructor here\n\tfunction prng_newstate() {\n\t  return new Arcfour();\n\t}\n\n\t// Pool size must be a multiple of 4 and greater than 32.\n\t// An array of bytes the size of the pool will be passed to init()\n\tvar rng_psize = 256;\n\n  BigInteger.SecureRandom = SecureRandom;\n  BigInteger.BigInteger = BigInteger;\n  if (typeof exports !== 'undefined') {\n    exports = module.exports = BigInteger;\n  } else {\n    this.BigInteger = BigInteger;\n    this.SecureRandom = SecureRandom;\n  }\n\n}).call(this);\n","'use strict';\n\nvar traverse = module.exports = function (schema, opts, cb) {\n  // Legacy support for v0.3.1 and earlier.\n  if (typeof opts == 'function') {\n    cb = opts;\n    opts = {};\n  }\n\n  cb = opts.cb || cb;\n  var pre = (typeof cb == 'function') ? cb : cb.pre || function() {};\n  var post = cb.post || function() {};\n\n  _traverse(opts, pre, post, schema, '', schema);\n};\n\n\ntraverse.keywords = {\n  additionalItems: true,\n  items: true,\n  contains: true,\n  additionalProperties: true,\n  propertyNames: true,\n  not: true\n};\n\ntraverse.arrayKeywords = {\n  items: true,\n  allOf: true,\n  anyOf: true,\n  oneOf: true\n};\n\ntraverse.propsKeywords = {\n  definitions: true,\n  properties: true,\n  patternProperties: true,\n  dependencies: true\n};\n\ntraverse.skipKeywords = {\n  default: true,\n  enum: true,\n  const: true,\n  required: true,\n  maximum: true,\n  minimum: true,\n  exclusiveMaximum: true,\n  exclusiveMinimum: true,\n  multipleOf: true,\n  maxLength: true,\n  minLength: true,\n  pattern: true,\n  format: true,\n  maxItems: true,\n  minItems: true,\n  uniqueItems: true,\n  maxProperties: true,\n  minProperties: true\n};\n\n\nfunction _traverse(opts, pre, post, schema, jsonPtr, rootSchema, parentJsonPtr, parentKeyword, parentSchema, keyIndex) {\n  if (schema && typeof schema == 'object' && !Array.isArray(schema)) {\n    pre(schema, jsonPtr, rootSchema, parentJsonPtr, parentKeyword, parentSchema, keyIndex);\n    for (var key in schema) {\n      var sch = schema[key];\n      if (Array.isArray(sch)) {\n        if (key in traverse.arrayKeywords) {\n          for (var i=0; i<sch.length; i++)\n            _traverse(opts, pre, post, sch[i], jsonPtr + '/' + key + '/' + i, rootSchema, jsonPtr, key, schema, i);\n        }\n      } else if (key in traverse.propsKeywords) {\n        if (sch && typeof sch == 'object') {\n          for (var prop in sch)\n            _traverse(opts, pre, post, sch[prop], jsonPtr + '/' + key + '/' + escapeJsonPtr(prop), rootSchema, jsonPtr, key, schema, prop);\n        }\n      } else if (key in traverse.keywords || (opts.allKeys && !(key in traverse.skipKeywords))) {\n        _traverse(opts, pre, post, sch, jsonPtr + '/' + key, rootSchema, jsonPtr, key, schema);\n      }\n    }\n    post(schema, jsonPtr, rootSchema, parentJsonPtr, parentKeyword, parentSchema, keyIndex);\n  }\n}\n\n\nfunction escapeJsonPtr(str) {\n  return str.replace(/~/g, '~0').replace(/\\//g, '~1');\n}\n","/**\r\n * JSONSchema Validator - Validates JavaScript objects using JSON Schemas\r\n *\t(http://www.json.com/json-schema-proposal/)\r\n *\r\n * Copyright (c) 2007 Kris Zyp SitePen (www.sitepen.com)\r\n * Licensed under the MIT (MIT-LICENSE.txt) license.\r\nTo use the validator call the validate function with an instance object and an optional schema object.\r\nIf a schema is provided, it will be used to validate. If the instance object refers to a schema (self-validating),\r\nthat schema will be used to validate and the schema parameter is not necessary (if both exist,\r\nboth validations will occur).\r\nThe validate method will return an array of validation errors. If there are no errors, then an\r\nempty list will be returned. A validation error will have two properties:\r\n\"property\" which indicates which property had the error\r\n\"message\" which indicates what the error was\r\n */\r\n(function (root, factory) {\r\n    if (typeof define === 'function' && define.amd) {\r\n        // AMD. Register as an anonymous module.\r\n        define([], function () {\r\n            return factory();\r\n        });\r\n    } else if (typeof module === 'object' && module.exports) {\r\n        // Node. Does not work with strict CommonJS, but\r\n        // only CommonJS-like environments that support module.exports,\r\n        // like Node.\r\n        module.exports = factory();\r\n    } else {\r\n        // Browser globals\r\n        root.jsonSchema = factory();\r\n    }\r\n}(this, function () {// setup primitive classes to be JSON Schema types\r\nvar exports = validate\r\nexports.Integer = {type:\"integer\"};\r\nvar primitiveConstructors = {\r\n\tString: String,\r\n\tBoolean: Boolean,\r\n\tNumber: Number,\r\n\tObject: Object,\r\n\tArray: Array,\r\n\tDate: Date\r\n}\r\nexports.validate = validate;\r\nfunction validate(/*Any*/instance,/*Object*/schema) {\r\n\t\t// Summary:\r\n\t\t//  \tTo use the validator call JSONSchema.validate with an instance object and an optional schema object.\r\n\t\t// \t\tIf a schema is provided, it will be used to validate. If the instance object refers to a schema (self-validating),\r\n\t\t// \t\tthat schema will be used to validate and the schema parameter is not necessary (if both exist,\r\n\t\t// \t\tboth validations will occur).\r\n\t\t// \t\tThe validate method will return an object with two properties:\r\n\t\t// \t\t\tvalid: A boolean indicating if the instance is valid by the schema\r\n\t\t// \t\t\terrors: An array of validation errors. If there are no errors, then an\r\n\t\t// \t\t\t\t\tempty list will be returned. A validation error will have two properties:\r\n\t\t// \t\t\t\t\t\tproperty: which indicates which property had the error\r\n\t\t// \t\t\t\t\t\tmessage: which indicates what the error was\r\n\t\t//\r\n\t\treturn validate(instance, schema, {changing: false});//, coerce: false, existingOnly: false});\r\n\t};\r\nexports.checkPropertyChange = function(/*Any*/value,/*Object*/schema, /*String*/property) {\r\n\t\t// Summary:\r\n\t\t// \t\tThe checkPropertyChange method will check to see if an value can legally be in property with the given schema\r\n\t\t// \t\tThis is slightly different than the validate method in that it will fail if the schema is readonly and it will\r\n\t\t// \t\tnot check for self-validation, it is assumed that the passed in value is already internally valid.\r\n\t\t// \t\tThe checkPropertyChange method will return the same object type as validate, see JSONSchema.validate for\r\n\t\t// \t\tinformation.\r\n\t\t//\r\n\t\treturn validate(value, schema, {changing: property || \"property\"});\r\n\t};\r\nvar validate = exports._validate = function(/*Any*/instance,/*Object*/schema,/*Object*/options) {\r\n\r\n\tif (!options) options = {};\r\n\tvar _changing = options.changing;\r\n\r\n\tfunction getType(schema){\r\n\t\treturn schema.type || (primitiveConstructors[schema.name] == schema && schema.name.toLowerCase());\r\n\t}\r\n\tvar errors = [];\r\n\t// validate a value against a property definition\r\n\tfunction checkProp(value, schema, path,i){\r\n\r\n\t\tvar l;\r\n\t\tpath += path ? typeof i == 'number' ? '[' + i + ']' : typeof i == 'undefined' ? '' : '.' + i : i;\r\n\t\tfunction addError(message){\r\n\t\t\terrors.push({property:path,message:message});\r\n\t\t}\r\n\r\n\t\tif((typeof schema != 'object' || schema instanceof Array) && (path || typeof schema != 'function') && !(schema && getType(schema))){\r\n\t\t\tif(typeof schema == 'function'){\r\n\t\t\t\tif(!(value instanceof schema)){\r\n\t\t\t\t\taddError(\"is not an instance of the class/constructor \" + schema.name);\r\n\t\t\t\t}\r\n\t\t\t}else if(schema){\r\n\t\t\t\taddError(\"Invalid schema/property definition \" + schema);\r\n\t\t\t}\r\n\t\t\treturn null;\r\n\t\t}\r\n\t\tif(_changing && schema.readonly){\r\n\t\t\taddError(\"is a readonly field, it can not be changed\");\r\n\t\t}\r\n\t\tif(schema['extends']){ // if it extends another schema, it must pass that schema as well\r\n\t\t\tcheckProp(value,schema['extends'],path,i);\r\n\t\t}\r\n\t\t// validate a value against a type definition\r\n\t\tfunction checkType(type,value){\r\n\t\t\tif(type){\r\n\t\t\t\tif(typeof type == 'string' && type != 'any' &&\r\n\t\t\t\t\t\t(type == 'null' ? value !== null : typeof value != type) &&\r\n\t\t\t\t\t\t!(value instanceof Array && type == 'array') &&\r\n\t\t\t\t\t\t!(value instanceof Date && type == 'date') &&\r\n\t\t\t\t\t\t!(type == 'integer' && value%1===0)){\r\n\t\t\t\t\treturn [{property:path,message:(typeof value) + \" value found, but a \" + type + \" is required\"}];\r\n\t\t\t\t}\r\n\t\t\t\tif(type instanceof Array){\r\n\t\t\t\t\tvar unionErrors=[];\r\n\t\t\t\t\tfor(var j = 0; j < type.length; j++){ // a union type\r\n\t\t\t\t\t\tif(!(unionErrors=checkType(type[j],value)).length){\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif(unionErrors.length){\r\n\t\t\t\t\t\treturn unionErrors;\r\n\t\t\t\t\t}\r\n\t\t\t\t}else if(typeof type == 'object'){\r\n\t\t\t\t\tvar priorErrors = errors;\r\n\t\t\t\t\terrors = [];\r\n\t\t\t\t\tcheckProp(value,type,path);\r\n\t\t\t\t\tvar theseErrors = errors;\r\n\t\t\t\t\terrors = priorErrors;\r\n\t\t\t\t\treturn theseErrors;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn [];\r\n\t\t}\r\n\t\tif(value === undefined){\r\n\t\t\tif(schema.required){\r\n\t\t\t\taddError(\"is missing and it is required\");\r\n\t\t\t}\r\n\t\t}else{\r\n\t\t\terrors = errors.concat(checkType(getType(schema),value));\r\n\t\t\tif(schema.disallow && !checkType(schema.disallow,value).length){\r\n\t\t\t\taddError(\" disallowed value was matched\");\r\n\t\t\t}\r\n\t\t\tif(value !== null){\r\n\t\t\t\tif(value instanceof Array){\r\n\t\t\t\t\tif(schema.items){\r\n\t\t\t\t\t\tvar itemsIsArray = schema.items instanceof Array;\r\n\t\t\t\t\t\tvar propDef = schema.items;\r\n\t\t\t\t\t\tfor (i = 0, l = value.length; i < l; i += 1) {\r\n\t\t\t\t\t\t\tif (itemsIsArray)\r\n\t\t\t\t\t\t\t\tpropDef = schema.items[i];\r\n\t\t\t\t\t\t\tif (options.coerce)\r\n\t\t\t\t\t\t\t\tvalue[i] = options.coerce(value[i], propDef);\r\n\t\t\t\t\t\t\terrors.concat(checkProp(value[i],propDef,path,i));\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif(schema.minItems && value.length < schema.minItems){\r\n\t\t\t\t\t\taddError(\"There must be a minimum of \" + schema.minItems + \" in the array\");\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif(schema.maxItems && value.length > schema.maxItems){\r\n\t\t\t\t\t\taddError(\"There must be a maximum of \" + schema.maxItems + \" in the array\");\r\n\t\t\t\t\t}\r\n\t\t\t\t}else if(schema.properties || schema.additionalProperties){\r\n\t\t\t\t\terrors.concat(checkObj(value, schema.properties, path, schema.additionalProperties));\r\n\t\t\t\t}\r\n\t\t\t\tif(schema.pattern && typeof value == 'string' && !value.match(schema.pattern)){\r\n\t\t\t\t\taddError(\"does not match the regex pattern \" + schema.pattern);\r\n\t\t\t\t}\r\n\t\t\t\tif(schema.maxLength && typeof value == 'string' && value.length > schema.maxLength){\r\n\t\t\t\t\taddError(\"may only be \" + schema.maxLength + \" characters long\");\r\n\t\t\t\t}\r\n\t\t\t\tif(schema.minLength && typeof value == 'string' && value.length < schema.minLength){\r\n\t\t\t\t\taddError(\"must be at least \" + schema.minLength + \" characters long\");\r\n\t\t\t\t}\r\n\t\t\t\tif(typeof schema.minimum !== undefined && typeof value == typeof schema.minimum &&\r\n\t\t\t\t\t\tschema.minimum > value){\r\n\t\t\t\t\taddError(\"must have a minimum value of \" + schema.minimum);\r\n\t\t\t\t}\r\n\t\t\t\tif(typeof schema.maximum !== undefined && typeof value == typeof schema.maximum &&\r\n\t\t\t\t\t\tschema.maximum < value){\r\n\t\t\t\t\taddError(\"must have a maximum value of \" + schema.maximum);\r\n\t\t\t\t}\r\n\t\t\t\tif(schema['enum']){\r\n\t\t\t\t\tvar enumer = schema['enum'];\r\n\t\t\t\t\tl = enumer.length;\r\n\t\t\t\t\tvar found;\r\n\t\t\t\t\tfor(var j = 0; j < l; j++){\r\n\t\t\t\t\t\tif(enumer[j]===value){\r\n\t\t\t\t\t\t\tfound=1;\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif(!found){\r\n\t\t\t\t\t\taddError(\"does not have a value in the enumeration \" + enumer.join(\", \"));\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tif(typeof schema.maxDecimal == 'number' &&\r\n\t\t\t\t\t(value.toString().match(new RegExp(\"\\\\.[0-9]{\" + (schema.maxDecimal + 1) + \",}\")))){\r\n\t\t\t\t\taddError(\"may only have \" + schema.maxDecimal + \" digits of decimal places\");\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn null;\r\n\t}\r\n\t// validate an object against a schema\r\n\tfunction checkObj(instance,objTypeDef,path,additionalProp){\r\n\r\n\t\tif(typeof objTypeDef =='object'){\r\n\t\t\tif(typeof instance != 'object' || instance instanceof Array){\r\n\t\t\t\terrors.push({property:path,message:\"an object is required\"});\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tfor(var i in objTypeDef){ \r\n\t\t\t\tif(objTypeDef.hasOwnProperty(i)){\r\n\t\t\t\t\tvar value = instance[i];\r\n\t\t\t\t\t// skip _not_ specified properties\r\n\t\t\t\t\tif (value === undefined && options.existingOnly) continue;\r\n\t\t\t\t\tvar propDef = objTypeDef[i];\r\n\t\t\t\t\t// set default\r\n\t\t\t\t\tif(value === undefined && propDef[\"default\"]){\r\n\t\t\t\t\t\tvalue = instance[i] = propDef[\"default\"];\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif(options.coerce && i in instance){\r\n\t\t\t\t\t\tvalue = instance[i] = options.coerce(value, propDef);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tcheckProp(value,propDef,path,i);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\tfor(i in instance){\r\n\t\t\tif(instance.hasOwnProperty(i) && !(i.charAt(0) == '_' && i.charAt(1) == '_') && objTypeDef && !objTypeDef[i] && additionalProp===false){\r\n\t\t\t\tif (options.filter) {\r\n\t\t\t\t\tdelete instance[i];\r\n\t\t\t\t\tcontinue;\r\n\t\t\t\t} else {\r\n\t\t\t\t\terrors.push({property:path,message:(typeof value) + \"The property \" + i +\r\n\t\t\t\t\t\t\" is not defined in the schema and the schema does not allow additional properties\"});\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tvar requires = objTypeDef && objTypeDef[i] && objTypeDef[i].requires;\r\n\t\t\tif(requires && !(requires in instance)){\r\n\t\t\t\terrors.push({property:path,message:\"the presence of the property \" + i + \" requires that \" + requires + \" also be present\"});\r\n\t\t\t}\r\n\t\t\tvalue = instance[i];\r\n\t\t\tif(additionalProp && (!(objTypeDef && typeof objTypeDef == 'object') || !(i in objTypeDef))){\r\n\t\t\t\tif(options.coerce){\r\n\t\t\t\t\tvalue = instance[i] = options.coerce(value, additionalProp);\r\n\t\t\t\t}\r\n\t\t\t\tcheckProp(value,additionalProp,path,i);\r\n\t\t\t}\r\n\t\t\tif(!_changing && value && value.$schema){\r\n\t\t\t\terrors = errors.concat(checkProp(value,value.$schema,path,i));\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn errors;\r\n\t}\r\n\tif(schema){\r\n\t\tcheckProp(instance,schema,'',_changing || '');\r\n\t}\r\n\tif(!_changing && instance && instance.$schema){\r\n\t\tcheckProp(instance,instance.$schema,'','');\r\n\t}\r\n\treturn {valid:!errors.length,errors:errors};\r\n};\r\nexports.mustBeValid = function(result){\r\n\t//\tsummary:\r\n\t//\t\tThis checks to ensure that the result is valid and will throw an appropriate error message if it is not\r\n\t// result: the result returned from checkPropertyChange or validate\r\n\tif(!result.valid){\r\n\t\tthrow new TypeError(result.errors.map(function(error){return \"for property \" + error.property + ': ' + error.message;}).join(\", \\n\"));\r\n\t}\r\n}\r\n\r\nreturn exports;\r\n}));\r\n","exports = module.exports = stringify\nexports.getSerialize = serializer\n\nfunction stringify(obj, replacer, spaces, cycleReplacer) {\n  return JSON.stringify(obj, serializer(replacer, cycleReplacer), spaces)\n}\n\nfunction serializer(replacer, cycleReplacer) {\n  var stack = [], keys = []\n\n  if (cycleReplacer == null) cycleReplacer = function(key, value) {\n    if (stack[0] === value) return \"[Circular ~]\"\n    return \"[Circular ~.\" + keys.slice(0, stack.indexOf(value)).join(\".\") + \"]\"\n  }\n\n  return function(key, value) {\n    if (stack.length > 0) {\n      var thisPos = stack.indexOf(this)\n      ~thisPos ? stack.splice(thisPos + 1) : stack.push(this)\n      ~thisPos ? keys.splice(thisPos, Infinity, key) : keys.push(key)\n      if (~stack.indexOf(value)) value = cycleReplacer.call(this, key, value)\n    }\n    else stack.push(value)\n\n    return replacer == null ? value : replacer.call(this, key, value)\n  }\n}\n","/*\n * lib/jsprim.js: utilities for primitive JavaScript types\n */\n\nvar mod_assert = require('assert-plus');\nvar mod_util = require('util');\n\nvar mod_extsprintf = require('extsprintf');\nvar mod_verror = require('verror');\nvar mod_jsonschema = require('json-schema');\n\n/*\n * Public interface\n */\nexports.deepCopy = deepCopy;\nexports.deepEqual = deepEqual;\nexports.isEmpty = isEmpty;\nexports.hasKey = hasKey;\nexports.forEachKey = forEachKey;\nexports.pluck = pluck;\nexports.flattenObject = flattenObject;\nexports.flattenIter = flattenIter;\nexports.validateJsonObject = validateJsonObjectJS;\nexports.validateJsonObjectJS = validateJsonObjectJS;\nexports.randElt = randElt;\nexports.extraProperties = extraProperties;\nexports.mergeObjects = mergeObjects;\n\nexports.startsWith = startsWith;\nexports.endsWith = endsWith;\n\nexports.parseInteger = parseInteger;\n\nexports.iso8601 = iso8601;\nexports.rfc1123 = rfc1123;\nexports.parseDateTime = parseDateTime;\n\nexports.hrtimediff = hrtimeDiff;\nexports.hrtimeDiff = hrtimeDiff;\nexports.hrtimeAccum = hrtimeAccum;\nexports.hrtimeAdd = hrtimeAdd;\nexports.hrtimeNanosec = hrtimeNanosec;\nexports.hrtimeMicrosec = hrtimeMicrosec;\nexports.hrtimeMillisec = hrtimeMillisec;\n\n\n/*\n * Deep copy an acyclic *basic* Javascript object.  This only handles basic\n * scalars (strings, numbers, booleans) and arbitrarily deep arrays and objects\n * containing these.  This does *not* handle instances of other classes.\n */\nfunction deepCopy(obj)\n{\n\tvar ret, key;\n\tvar marker = '__deepCopy';\n\n\tif (obj && obj[marker])\n\t\tthrow (new Error('attempted deep copy of cyclic object'));\n\n\tif (obj && obj.constructor == Object) {\n\t\tret = {};\n\t\tobj[marker] = true;\n\n\t\tfor (key in obj) {\n\t\t\tif (key == marker)\n\t\t\t\tcontinue;\n\n\t\t\tret[key] = deepCopy(obj[key]);\n\t\t}\n\n\t\tdelete (obj[marker]);\n\t\treturn (ret);\n\t}\n\n\tif (obj && obj.constructor == Array) {\n\t\tret = [];\n\t\tobj[marker] = true;\n\n\t\tfor (key = 0; key < obj.length; key++)\n\t\t\tret.push(deepCopy(obj[key]));\n\n\t\tdelete (obj[marker]);\n\t\treturn (ret);\n\t}\n\n\t/*\n\t * It must be a primitive type -- just return it.\n\t */\n\treturn (obj);\n}\n\nfunction deepEqual(obj1, obj2)\n{\n\tif (typeof (obj1) != typeof (obj2))\n\t\treturn (false);\n\n\tif (obj1 === null || obj2 === null || typeof (obj1) != 'object')\n\t\treturn (obj1 === obj2);\n\n\tif (obj1.constructor != obj2.constructor)\n\t\treturn (false);\n\n\tvar k;\n\tfor (k in obj1) {\n\t\tif (!obj2.hasOwnProperty(k))\n\t\t\treturn (false);\n\n\t\tif (!deepEqual(obj1[k], obj2[k]))\n\t\t\treturn (false);\n\t}\n\n\tfor (k in obj2) {\n\t\tif (!obj1.hasOwnProperty(k))\n\t\t\treturn (false);\n\t}\n\n\treturn (true);\n}\n\nfunction isEmpty(obj)\n{\n\tvar key;\n\tfor (key in obj)\n\t\treturn (false);\n\treturn (true);\n}\n\nfunction hasKey(obj, key)\n{\n\tmod_assert.equal(typeof (key), 'string');\n\treturn (Object.prototype.hasOwnProperty.call(obj, key));\n}\n\nfunction forEachKey(obj, callback)\n{\n\tfor (var key in obj) {\n\t\tif (hasKey(obj, key)) {\n\t\t\tcallback(key, obj[key]);\n\t\t}\n\t}\n}\n\nfunction pluck(obj, key)\n{\n\tmod_assert.equal(typeof (key), 'string');\n\treturn (pluckv(obj, key));\n}\n\nfunction pluckv(obj, key)\n{\n\tif (obj === null || typeof (obj) !== 'object')\n\t\treturn (undefined);\n\n\tif (obj.hasOwnProperty(key))\n\t\treturn (obj[key]);\n\n\tvar i = key.indexOf('.');\n\tif (i == -1)\n\t\treturn (undefined);\n\n\tvar key1 = key.substr(0, i);\n\tif (!obj.hasOwnProperty(key1))\n\t\treturn (undefined);\n\n\treturn (pluckv(obj[key1], key.substr(i + 1)));\n}\n\n/*\n * Invoke callback(row) for each entry in the array that would be returned by\n * flattenObject(data, depth).  This is just like flattenObject(data,\n * depth).forEach(callback), except that the intermediate array is never\n * created.\n */\nfunction flattenIter(data, depth, callback)\n{\n\tdoFlattenIter(data, depth, [], callback);\n}\n\nfunction doFlattenIter(data, depth, accum, callback)\n{\n\tvar each;\n\tvar key;\n\n\tif (depth === 0) {\n\t\teach = accum.slice(0);\n\t\teach.push(data);\n\t\tcallback(each);\n\t\treturn;\n\t}\n\n\tmod_assert.ok(data !== null);\n\tmod_assert.equal(typeof (data), 'object');\n\tmod_assert.equal(typeof (depth), 'number');\n\tmod_assert.ok(depth >= 0);\n\n\tfor (key in data) {\n\t\teach = accum.slice(0);\n\t\teach.push(key);\n\t\tdoFlattenIter(data[key], depth - 1, each, callback);\n\t}\n}\n\nfunction flattenObject(data, depth)\n{\n\tif (depth === 0)\n\t\treturn ([ data ]);\n\n\tmod_assert.ok(data !== null);\n\tmod_assert.equal(typeof (data), 'object');\n\tmod_assert.equal(typeof (depth), 'number');\n\tmod_assert.ok(depth >= 0);\n\n\tvar rv = [];\n\tvar key;\n\n\tfor (key in data) {\n\t\tflattenObject(data[key], depth - 1).forEach(function (p) {\n\t\t\trv.push([ key ].concat(p));\n\t\t});\n\t}\n\n\treturn (rv);\n}\n\nfunction startsWith(str, prefix)\n{\n\treturn (str.substr(0, prefix.length) == prefix);\n}\n\nfunction endsWith(str, suffix)\n{\n\treturn (str.substr(\n\t    str.length - suffix.length, suffix.length) == suffix);\n}\n\nfunction iso8601(d)\n{\n\tif (typeof (d) == 'number')\n\t\td = new Date(d);\n\tmod_assert.ok(d.constructor === Date);\n\treturn (mod_extsprintf.sprintf('%4d-%02d-%02dT%02d:%02d:%02d.%03dZ',\n\t    d.getUTCFullYear(), d.getUTCMonth() + 1, d.getUTCDate(),\n\t    d.getUTCHours(), d.getUTCMinutes(), d.getUTCSeconds(),\n\t    d.getUTCMilliseconds()));\n}\n\nvar RFC1123_MONTHS = [\n    'Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun',\n    'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'];\nvar RFC1123_DAYS = [\n    'Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'];\n\nfunction rfc1123(date) {\n\treturn (mod_extsprintf.sprintf('%s, %02d %s %04d %02d:%02d:%02d GMT',\n\t    RFC1123_DAYS[date.getUTCDay()], date.getUTCDate(),\n\t    RFC1123_MONTHS[date.getUTCMonth()], date.getUTCFullYear(),\n\t    date.getUTCHours(), date.getUTCMinutes(),\n\t    date.getUTCSeconds()));\n}\n\n/*\n * Parses a date expressed as a string, as either a number of milliseconds since\n * the epoch or any string format that Date accepts, giving preference to the\n * former where these two sets overlap (e.g., small numbers).\n */\nfunction parseDateTime(str)\n{\n\t/*\n\t * This is irritatingly implicit, but significantly more concise than\n\t * alternatives.  The \"+str\" will convert a string containing only a\n\t * number directly to a Number, or NaN for other strings.  Thus, if the\n\t * conversion succeeds, we use it (this is the milliseconds-since-epoch\n\t * case).  Otherwise, we pass the string directly to the Date\n\t * constructor to parse.\n\t */\n\tvar numeric = +str;\n\tif (!isNaN(numeric)) {\n\t\treturn (new Date(numeric));\n\t} else {\n\t\treturn (new Date(str));\n\t}\n}\n\n\n/*\n * Number.*_SAFE_INTEGER isn't present before node v0.12, so we hardcode\n * the ES6 definitions here, while allowing for them to someday be higher.\n */\nvar MAX_SAFE_INTEGER = Number.MAX_SAFE_INTEGER || 9007199254740991;\nvar MIN_SAFE_INTEGER = Number.MIN_SAFE_INTEGER || -9007199254740991;\n\n\n/*\n * Default options for parseInteger().\n */\nvar PI_DEFAULTS = {\n\tbase: 10,\n\tallowSign: true,\n\tallowPrefix: false,\n\tallowTrailing: false,\n\tallowImprecise: false,\n\ttrimWhitespace: false,\n\tleadingZeroIsOctal: false\n};\n\nvar CP_0 = 0x30;\nvar CP_9 = 0x39;\n\nvar CP_A = 0x41;\nvar CP_B = 0x42;\nvar CP_O = 0x4f;\nvar CP_T = 0x54;\nvar CP_X = 0x58;\nvar CP_Z = 0x5a;\n\nvar CP_a = 0x61;\nvar CP_b = 0x62;\nvar CP_o = 0x6f;\nvar CP_t = 0x74;\nvar CP_x = 0x78;\nvar CP_z = 0x7a;\n\nvar PI_CONV_DEC = 0x30;\nvar PI_CONV_UC = 0x37;\nvar PI_CONV_LC = 0x57;\n\n\n/*\n * A stricter version of parseInt() that provides options for changing what\n * is an acceptable string (for example, disallowing trailing characters).\n */\nfunction parseInteger(str, uopts)\n{\n\tmod_assert.string(str, 'str');\n\tmod_assert.optionalObject(uopts, 'options');\n\n\tvar baseOverride = false;\n\tvar options = PI_DEFAULTS;\n\n\tif (uopts) {\n\t\tbaseOverride = hasKey(uopts, 'base');\n\t\toptions = mergeObjects(options, uopts);\n\t\tmod_assert.number(options.base, 'options.base');\n\t\tmod_assert.ok(options.base >= 2, 'options.base >= 2');\n\t\tmod_assert.ok(options.base <= 36, 'options.base <= 36');\n\t\tmod_assert.bool(options.allowSign, 'options.allowSign');\n\t\tmod_assert.bool(options.allowPrefix, 'options.allowPrefix');\n\t\tmod_assert.bool(options.allowTrailing,\n\t\t    'options.allowTrailing');\n\t\tmod_assert.bool(options.allowImprecise,\n\t\t    'options.allowImprecise');\n\t\tmod_assert.bool(options.trimWhitespace,\n\t\t    'options.trimWhitespace');\n\t\tmod_assert.bool(options.leadingZeroIsOctal,\n\t\t    'options.leadingZeroIsOctal');\n\n\t\tif (options.leadingZeroIsOctal) {\n\t\t\tmod_assert.ok(!baseOverride,\n\t\t\t    '\"base\" and \"leadingZeroIsOctal\" are ' +\n\t\t\t    'mutually exclusive');\n\t\t}\n\t}\n\n\tvar c;\n\tvar pbase = -1;\n\tvar base = options.base;\n\tvar start;\n\tvar mult = 1;\n\tvar value = 0;\n\tvar idx = 0;\n\tvar len = str.length;\n\n\t/* Trim any whitespace on the left side. */\n\tif (options.trimWhitespace) {\n\t\twhile (idx < len && isSpace(str.charCodeAt(idx))) {\n\t\t\t++idx;\n\t\t}\n\t}\n\n\t/* Check the number for a leading sign. */\n\tif (options.allowSign) {\n\t\tif (str[idx] === '-') {\n\t\t\tidx += 1;\n\t\t\tmult = -1;\n\t\t} else if (str[idx] === '+') {\n\t\t\tidx += 1;\n\t\t}\n\t}\n\n\t/* Parse the base-indicating prefix if there is one. */\n\tif (str[idx] === '0') {\n\t\tif (options.allowPrefix) {\n\t\t\tpbase = prefixToBase(str.charCodeAt(idx + 1));\n\t\t\tif (pbase !== -1 && (!baseOverride || pbase === base)) {\n\t\t\t\tbase = pbase;\n\t\t\t\tidx += 2;\n\t\t\t}\n\t\t}\n\n\t\tif (pbase === -1 && options.leadingZeroIsOctal) {\n\t\t\tbase = 8;\n\t\t}\n\t}\n\n\t/* Parse the actual digits. */\n\tfor (start = idx; idx < len; ++idx) {\n\t\tc = translateDigit(str.charCodeAt(idx));\n\t\tif (c !== -1 && c < base) {\n\t\t\tvalue *= base;\n\t\t\tvalue += c;\n\t\t} else {\n\t\t\tbreak;\n\t\t}\n\t}\n\n\t/* If we didn't parse any digits, we have an invalid number. */\n\tif (start === idx) {\n\t\treturn (new Error('invalid number: ' + JSON.stringify(str)));\n\t}\n\n\t/* Trim any whitespace on the right side. */\n\tif (options.trimWhitespace) {\n\t\twhile (idx < len && isSpace(str.charCodeAt(idx))) {\n\t\t\t++idx;\n\t\t}\n\t}\n\n\t/* Check for trailing characters. */\n\tif (idx < len && !options.allowTrailing) {\n\t\treturn (new Error('trailing characters after number: ' +\n\t\t    JSON.stringify(str.slice(idx))));\n\t}\n\n\t/* If our value is 0, we return now, to avoid returning -0. */\n\tif (value === 0) {\n\t\treturn (0);\n\t}\n\n\t/* Calculate our final value. */\n\tvar result = value * mult;\n\n\t/*\n\t * If the string represents a value that cannot be precisely represented\n\t * by JavaScript, then we want to check that:\n\t *\n\t * - We never increased the value past MAX_SAFE_INTEGER\n\t * - We don't make the result negative and below MIN_SAFE_INTEGER\n\t *\n\t * Because we only ever increment the value during parsing, there's no\n\t * chance of moving past MAX_SAFE_INTEGER and then dropping below it\n\t * again, losing precision in the process. This means that we only need\n\t * to do our checks here, at the end.\n\t */\n\tif (!options.allowImprecise &&\n\t    (value > MAX_SAFE_INTEGER || result < MIN_SAFE_INTEGER)) {\n\t\treturn (new Error('number is outside of the supported range: ' +\n\t\t    JSON.stringify(str.slice(start, idx))));\n\t}\n\n\treturn (result);\n}\n\n\n/*\n * Interpret a character code as a base-36 digit.\n */\nfunction translateDigit(d)\n{\n\tif (d >= CP_0 && d <= CP_9) {\n\t\t/* '0' to '9' -> 0 to 9 */\n\t\treturn (d - PI_CONV_DEC);\n\t} else if (d >= CP_A && d <= CP_Z) {\n\t\t/* 'A' - 'Z' -> 10 to 35 */\n\t\treturn (d - PI_CONV_UC);\n\t} else if (d >= CP_a && d <= CP_z) {\n\t\t/* 'a' - 'z' -> 10 to 35 */\n\t\treturn (d - PI_CONV_LC);\n\t} else {\n\t\t/* Invalid character code */\n\t\treturn (-1);\n\t}\n}\n\n\n/*\n * Test if a value matches the ECMAScript definition of trimmable whitespace.\n */\nfunction isSpace(c)\n{\n\treturn (c === 0x20) ||\n\t    (c >= 0x0009 && c <= 0x000d) ||\n\t    (c === 0x00a0) ||\n\t    (c === 0x1680) ||\n\t    (c === 0x180e) ||\n\t    (c >= 0x2000 && c <= 0x200a) ||\n\t    (c === 0x2028) ||\n\t    (c === 0x2029) ||\n\t    (c === 0x202f) ||\n\t    (c === 0x205f) ||\n\t    (c === 0x3000) ||\n\t    (c === 0xfeff);\n}\n\n\n/*\n * Determine which base a character indicates (e.g., 'x' indicates hex).\n */\nfunction prefixToBase(c)\n{\n\tif (c === CP_b || c === CP_B) {\n\t\t/* 0b/0B (binary) */\n\t\treturn (2);\n\t} else if (c === CP_o || c === CP_O) {\n\t\t/* 0o/0O (octal) */\n\t\treturn (8);\n\t} else if (c === CP_t || c === CP_T) {\n\t\t/* 0t/0T (decimal) */\n\t\treturn (10);\n\t} else if (c === CP_x || c === CP_X) {\n\t\t/* 0x/0X (hexadecimal) */\n\t\treturn (16);\n\t} else {\n\t\t/* Not a meaningful character */\n\t\treturn (-1);\n\t}\n}\n\n\nfunction validateJsonObjectJS(schema, input)\n{\n\tvar report = mod_jsonschema.validate(input, schema);\n\n\tif (report.errors.length === 0)\n\t\treturn (null);\n\n\t/* Currently, we only do anything useful with the first error. */\n\tvar error = report.errors[0];\n\n\t/* The failed property is given by a URI with an irrelevant prefix. */\n\tvar propname = error['property'];\n\tvar reason = error['message'].toLowerCase();\n\tvar i, j;\n\n\t/*\n\t * There's at least one case where the property error message is\n\t * confusing at best.  We work around this here.\n\t */\n\tif ((i = reason.indexOf('the property ')) != -1 &&\n\t    (j = reason.indexOf(' is not defined in the schema and the ' +\n\t    'schema does not allow additional properties')) != -1) {\n\t\ti += 'the property '.length;\n\t\tif (propname === '')\n\t\t\tpropname = reason.substr(i, j - i);\n\t\telse\n\t\t\tpropname = propname + '.' + reason.substr(i, j - i);\n\n\t\treason = 'unsupported property';\n\t}\n\n\tvar rv = new mod_verror.VError('property \"%s\": %s', propname, reason);\n\trv.jsv_details = error;\n\treturn (rv);\n}\n\nfunction randElt(arr)\n{\n\tmod_assert.ok(Array.isArray(arr) && arr.length > 0,\n\t    'randElt argument must be a non-empty array');\n\n\treturn (arr[Math.floor(Math.random() * arr.length)]);\n}\n\nfunction assertHrtime(a)\n{\n\tmod_assert.ok(a[0] >= 0 && a[1] >= 0,\n\t    'negative numbers not allowed in hrtimes');\n\tmod_assert.ok(a[1] < 1e9, 'nanoseconds column overflow');\n}\n\n/*\n * Compute the time elapsed between hrtime readings A and B, where A is later\n * than B.  hrtime readings come from Node's process.hrtime().  There is no\n * defined way to represent negative deltas, so it's illegal to diff B from A\n * where the time denoted by B is later than the time denoted by A.  If this\n * becomes valuable, we can define a representation and extend the\n * implementation to support it.\n */\nfunction hrtimeDiff(a, b)\n{\n\tassertHrtime(a);\n\tassertHrtime(b);\n\tmod_assert.ok(a[0] > b[0] || (a[0] == b[0] && a[1] >= b[1]),\n\t    'negative differences not allowed');\n\n\tvar rv = [ a[0] - b[0], 0 ];\n\n\tif (a[1] >= b[1]) {\n\t\trv[1] = a[1] - b[1];\n\t} else {\n\t\trv[0]--;\n\t\trv[1] = 1e9 - (b[1] - a[1]);\n\t}\n\n\treturn (rv);\n}\n\n/*\n * Convert a hrtime reading from the array format returned by Node's\n * process.hrtime() into a scalar number of nanoseconds.\n */\nfunction hrtimeNanosec(a)\n{\n\tassertHrtime(a);\n\n\treturn (Math.floor(a[0] * 1e9 + a[1]));\n}\n\n/*\n * Convert a hrtime reading from the array format returned by Node's\n * process.hrtime() into a scalar number of microseconds.\n */\nfunction hrtimeMicrosec(a)\n{\n\tassertHrtime(a);\n\n\treturn (Math.floor(a[0] * 1e6 + a[1] / 1e3));\n}\n\n/*\n * Convert a hrtime reading from the array format returned by Node's\n * process.hrtime() into a scalar number of milliseconds.\n */\nfunction hrtimeMillisec(a)\n{\n\tassertHrtime(a);\n\n\treturn (Math.floor(a[0] * 1e3 + a[1] / 1e6));\n}\n\n/*\n * Add two hrtime readings A and B, overwriting A with the result of the\n * addition.  This function is useful for accumulating several hrtime intervals\n * into a counter.  Returns A.\n */\nfunction hrtimeAccum(a, b)\n{\n\tassertHrtime(a);\n\tassertHrtime(b);\n\n\t/*\n\t * Accumulate the nanosecond component.\n\t */\n\ta[1] += b[1];\n\tif (a[1] >= 1e9) {\n\t\t/*\n\t\t * The nanosecond component overflowed, so carry to the seconds\n\t\t * field.\n\t\t */\n\t\ta[0]++;\n\t\ta[1] -= 1e9;\n\t}\n\n\t/*\n\t * Accumulate the seconds component.\n\t */\n\ta[0] += b[0];\n\n\treturn (a);\n}\n\n/*\n * Add two hrtime readings A and B, returning the result as a new hrtime array.\n * Does not modify either input argument.\n */\nfunction hrtimeAdd(a, b)\n{\n\tassertHrtime(a);\n\n\tvar rv = [ a[0], a[1] ];\n\n\treturn (hrtimeAccum(rv, b));\n}\n\n\n/*\n * Check an object for unexpected properties.  Accepts the object to check, and\n * an array of allowed property names (strings).  Returns an array of key names\n * that were found on the object, but did not appear in the list of allowed\n * properties.  If no properties were found, the returned array will be of\n * zero length.\n */\nfunction extraProperties(obj, allowed)\n{\n\tmod_assert.ok(typeof (obj) === 'object' && obj !== null,\n\t    'obj argument must be a non-null object');\n\tmod_assert.ok(Array.isArray(allowed),\n\t    'allowed argument must be an array of strings');\n\tfor (var i = 0; i < allowed.length; i++) {\n\t\tmod_assert.ok(typeof (allowed[i]) === 'string',\n\t\t    'allowed argument must be an array of strings');\n\t}\n\n\treturn (Object.keys(obj).filter(function (key) {\n\t\treturn (allowed.indexOf(key) === -1);\n\t}));\n}\n\n/*\n * Given three sets of properties \"provided\" (may be undefined), \"overrides\"\n * (required), and \"defaults\" (may be undefined), construct an object containing\n * the union of these sets with \"overrides\" overriding \"provided\", and\n * \"provided\" overriding \"defaults\".  None of the input objects are modified.\n */\nfunction mergeObjects(provided, overrides, defaults)\n{\n\tvar rv, k;\n\n\trv = {};\n\tif (defaults) {\n\t\tfor (k in defaults)\n\t\t\trv[k] = defaults[k];\n\t}\n\n\tif (provided) {\n\t\tfor (k in provided)\n\t\t\trv[k] = provided[k];\n\t}\n\n\tif (overrides) {\n\t\tfor (k in overrides)\n\t\t\trv[k] = overrides[k];\n\t}\n\n\treturn (rv);\n}\n","(function(){\r\n  var crypt = require('crypt'),\r\n      utf8 = require('charenc').utf8,\r\n      isBuffer = require('is-buffer'),\r\n      bin = require('charenc').bin,\r\n\r\n  // The core\r\n  md5 = function (message, options) {\r\n    // Convert to byte array\r\n    if (message.constructor == String)\r\n      if (options && options.encoding === 'binary')\r\n        message = bin.stringToBytes(message);\r\n      else\r\n        message = utf8.stringToBytes(message);\r\n    else if (isBuffer(message))\r\n      message = Array.prototype.slice.call(message, 0);\r\n    else if (!Array.isArray(message))\r\n      message = message.toString();\r\n    // else, assume byte array already\r\n\r\n    var m = crypt.bytesToWords(message),\r\n        l = message.length * 8,\r\n        a =  1732584193,\r\n        b = -271733879,\r\n        c = -1732584194,\r\n        d =  271733878;\r\n\r\n    // Swap endian\r\n    for (var i = 0; i < m.length; i++) {\r\n      m[i] = ((m[i] <<  8) | (m[i] >>> 24)) & 0x00FF00FF |\r\n             ((m[i] << 24) | (m[i] >>>  8)) & 0xFF00FF00;\r\n    }\r\n\r\n    // Padding\r\n    m[l >>> 5] |= 0x80 << (l % 32);\r\n    m[(((l + 64) >>> 9) << 4) + 14] = l;\r\n\r\n    // Method shortcuts\r\n    var FF = md5._ff,\r\n        GG = md5._gg,\r\n        HH = md5._hh,\r\n        II = md5._ii;\r\n\r\n    for (var i = 0; i < m.length; i += 16) {\r\n\r\n      var aa = a,\r\n          bb = b,\r\n          cc = c,\r\n          dd = d;\r\n\r\n      a = FF(a, b, c, d, m[i+ 0],  7, -680876936);\r\n      d = FF(d, a, b, c, m[i+ 1], 12, -389564586);\r\n      c = FF(c, d, a, b, m[i+ 2], 17,  606105819);\r\n      b = FF(b, c, d, a, m[i+ 3], 22, -1044525330);\r\n      a = FF(a, b, c, d, m[i+ 4],  7, -176418897);\r\n      d = FF(d, a, b, c, m[i+ 5], 12,  1200080426);\r\n      c = FF(c, d, a, b, m[i+ 6], 17, -1473231341);\r\n      b = FF(b, c, d, a, m[i+ 7], 22, -45705983);\r\n      a = FF(a, b, c, d, m[i+ 8],  7,  1770035416);\r\n      d = FF(d, a, b, c, m[i+ 9], 12, -1958414417);\r\n      c = FF(c, d, a, b, m[i+10], 17, -42063);\r\n      b = FF(b, c, d, a, m[i+11], 22, -1990404162);\r\n      a = FF(a, b, c, d, m[i+12],  7,  1804603682);\r\n      d = FF(d, a, b, c, m[i+13], 12, -40341101);\r\n      c = FF(c, d, a, b, m[i+14], 17, -1502002290);\r\n      b = FF(b, c, d, a, m[i+15], 22,  1236535329);\r\n\r\n      a = GG(a, b, c, d, m[i+ 1],  5, -165796510);\r\n      d = GG(d, a, b, c, m[i+ 6],  9, -1069501632);\r\n      c = GG(c, d, a, b, m[i+11], 14,  643717713);\r\n      b = GG(b, c, d, a, m[i+ 0], 20, -373897302);\r\n      a = GG(a, b, c, d, m[i+ 5],  5, -701558691);\r\n      d = GG(d, a, b, c, m[i+10],  9,  38016083);\r\n      c = GG(c, d, a, b, m[i+15], 14, -660478335);\r\n      b = GG(b, c, d, a, m[i+ 4], 20, -405537848);\r\n      a = GG(a, b, c, d, m[i+ 9],  5,  568446438);\r\n      d = GG(d, a, b, c, m[i+14],  9, -1019803690);\r\n      c = GG(c, d, a, b, m[i+ 3], 14, -187363961);\r\n      b = GG(b, c, d, a, m[i+ 8], 20,  1163531501);\r\n      a = GG(a, b, c, d, m[i+13],  5, -1444681467);\r\n      d = GG(d, a, b, c, m[i+ 2],  9, -51403784);\r\n      c = GG(c, d, a, b, m[i+ 7], 14,  1735328473);\r\n      b = GG(b, c, d, a, m[i+12], 20, -1926607734);\r\n\r\n      a = HH(a, b, c, d, m[i+ 5],  4, -378558);\r\n      d = HH(d, a, b, c, m[i+ 8], 11, -2022574463);\r\n      c = HH(c, d, a, b, m[i+11], 16,  1839030562);\r\n      b = HH(b, c, d, a, m[i+14], 23, -35309556);\r\n      a = HH(a, b, c, d, m[i+ 1],  4, -1530992060);\r\n      d = HH(d, a, b, c, m[i+ 4], 11,  1272893353);\r\n      c = HH(c, d, a, b, m[i+ 7], 16, -155497632);\r\n      b = HH(b, c, d, a, m[i+10], 23, -1094730640);\r\n      a = HH(a, b, c, d, m[i+13],  4,  681279174);\r\n      d = HH(d, a, b, c, m[i+ 0], 11, -358537222);\r\n      c = HH(c, d, a, b, m[i+ 3], 16, -722521979);\r\n      b = HH(b, c, d, a, m[i+ 6], 23,  76029189);\r\n      a = HH(a, b, c, d, m[i+ 9],  4, -640364487);\r\n      d = HH(d, a, b, c, m[i+12], 11, -421815835);\r\n      c = HH(c, d, a, b, m[i+15], 16,  530742520);\r\n      b = HH(b, c, d, a, m[i+ 2], 23, -995338651);\r\n\r\n      a = II(a, b, c, d, m[i+ 0],  6, -198630844);\r\n      d = II(d, a, b, c, m[i+ 7], 10,  1126891415);\r\n      c = II(c, d, a, b, m[i+14], 15, -1416354905);\r\n      b = II(b, c, d, a, m[i+ 5], 21, -57434055);\r\n      a = II(a, b, c, d, m[i+12],  6,  1700485571);\r\n      d = II(d, a, b, c, m[i+ 3], 10, -1894986606);\r\n      c = II(c, d, a, b, m[i+10], 15, -1051523);\r\n      b = II(b, c, d, a, m[i+ 1], 21, -2054922799);\r\n      a = II(a, b, c, d, m[i+ 8],  6,  1873313359);\r\n      d = II(d, a, b, c, m[i+15], 10, -30611744);\r\n      c = II(c, d, a, b, m[i+ 6], 15, -1560198380);\r\n      b = II(b, c, d, a, m[i+13], 21,  1309151649);\r\n      a = II(a, b, c, d, m[i+ 4],  6, -145523070);\r\n      d = II(d, a, b, c, m[i+11], 10, -1120210379);\r\n      c = II(c, d, a, b, m[i+ 2], 15,  718787259);\r\n      b = II(b, c, d, a, m[i+ 9], 21, -343485551);\r\n\r\n      a = (a + aa) >>> 0;\r\n      b = (b + bb) >>> 0;\r\n      c = (c + cc) >>> 0;\r\n      d = (d + dd) >>> 0;\r\n    }\r\n\r\n    return crypt.endian([a, b, c, d]);\r\n  };\r\n\r\n  // Auxiliary functions\r\n  md5._ff  = function (a, b, c, d, x, s, t) {\r\n    var n = a + (b & c | ~b & d) + (x >>> 0) + t;\r\n    return ((n << s) | (n >>> (32 - s))) + b;\r\n  };\r\n  md5._gg  = function (a, b, c, d, x, s, t) {\r\n    var n = a + (b & d | c & ~d) + (x >>> 0) + t;\r\n    return ((n << s) | (n >>> (32 - s))) + b;\r\n  };\r\n  md5._hh  = function (a, b, c, d, x, s, t) {\r\n    var n = a + (b ^ c ^ d) + (x >>> 0) + t;\r\n    return ((n << s) | (n >>> (32 - s))) + b;\r\n  };\r\n  md5._ii  = function (a, b, c, d, x, s, t) {\r\n    var n = a + (c ^ (b | ~d)) + (x >>> 0) + t;\r\n    return ((n << s) | (n >>> (32 - s))) + b;\r\n  };\r\n\r\n  // Package private blocksize\r\n  md5._blocksize = 16;\r\n  md5._digestsize = 16;\r\n\r\n  module.exports = function (message, options) {\r\n    if (message === undefined || message === null)\r\n      throw new Error('Illegal argument ' + message);\r\n\r\n    var digestbytes = crypt.wordsToBytes(md5(message, options));\r\n    return options && options.asBytes ? digestbytes :\r\n        options && options.asString ? bin.bytesToString(digestbytes) :\r\n        crypt.bytesToHex(digestbytes);\r\n  };\r\n\r\n})();\r\n","/*!\n * media-typer\n * Copyright(c) 2014 Douglas Christopher Wilson\n * MIT Licensed\n */\n\n/**\n * RegExp to match *( \";\" parameter ) in RFC 2616 sec 3.7\n *\n * parameter     = token \"=\" ( token | quoted-string )\n * token         = 1*<any CHAR except CTLs or separators>\n * separators    = \"(\" | \")\" | \"<\" | \">\" | \"@\"\n *               | \",\" | \";\" | \":\" | \"\\\" | <\">\n *               | \"/\" | \"[\" | \"]\" | \"?\" | \"=\"\n *               | \"{\" | \"}\" | SP | HT\n * quoted-string = ( <\"> *(qdtext | quoted-pair ) <\"> )\n * qdtext        = <any TEXT except <\">>\n * quoted-pair   = \"\\\" CHAR\n * CHAR          = <any US-ASCII character (octets 0 - 127)>\n * TEXT          = <any OCTET except CTLs, but including LWS>\n * LWS           = [CRLF] 1*( SP | HT )\n * CRLF          = CR LF\n * CR            = <US-ASCII CR, carriage return (13)>\n * LF            = <US-ASCII LF, linefeed (10)>\n * SP            = <US-ASCII SP, space (32)>\n * SHT           = <US-ASCII HT, horizontal-tab (9)>\n * CTL           = <any US-ASCII control character (octets 0 - 31) and DEL (127)>\n * OCTET         = <any 8-bit sequence of data>\n */\nvar paramRegExp = /; *([!#$%&'\\*\\+\\-\\.0-9A-Z\\^_`a-z\\|~]+) *= *(\"(?:[ !\\u0023-\\u005b\\u005d-\\u007e\\u0080-\\u00ff]|\\\\[\\u0020-\\u007e])*\"|[!#$%&'\\*\\+\\-\\.0-9A-Z\\^_`a-z\\|~]+) */g;\nvar textRegExp = /^[\\u0020-\\u007e\\u0080-\\u00ff]+$/\nvar tokenRegExp = /^[!#$%&'\\*\\+\\-\\.0-9A-Z\\^_`a-z\\|~]+$/\n\n/**\n * RegExp to match quoted-pair in RFC 2616\n *\n * quoted-pair = \"\\\" CHAR\n * CHAR        = <any US-ASCII character (octets 0 - 127)>\n */\nvar qescRegExp = /\\\\([\\u0000-\\u007f])/g;\n\n/**\n * RegExp to match chars that must be quoted-pair in RFC 2616\n */\nvar quoteRegExp = /([\\\\\"])/g;\n\n/**\n * RegExp to match type in RFC 6838\n *\n * type-name = restricted-name\n * subtype-name = restricted-name\n * restricted-name = restricted-name-first *126restricted-name-chars\n * restricted-name-first  = ALPHA / DIGIT\n * restricted-name-chars  = ALPHA / DIGIT / \"!\" / \"#\" /\n *                          \"$\" / \"&\" / \"-\" / \"^\" / \"_\"\n * restricted-name-chars =/ \".\" ; Characters before first dot always\n *                              ; specify a facet name\n * restricted-name-chars =/ \"+\" ; Characters after last plus always\n *                              ; specify a structured syntax suffix\n * ALPHA =  %x41-5A / %x61-7A   ; A-Z / a-z\n * DIGIT =  %x30-39             ; 0-9\n */\nvar subtypeNameRegExp = /^[A-Za-z0-9][A-Za-z0-9!#$&^_.-]{0,126}$/\nvar typeNameRegExp = /^[A-Za-z0-9][A-Za-z0-9!#$&^_-]{0,126}$/\nvar typeRegExp = /^ *([A-Za-z0-9][A-Za-z0-9!#$&^_-]{0,126})\\/([A-Za-z0-9][A-Za-z0-9!#$&^_.+-]{0,126}) *$/;\n\n/**\n * Module exports.\n */\n\nexports.format = format\nexports.parse = parse\n\n/**\n * Format object to media type.\n *\n * @param {object} obj\n * @return {string}\n * @api public\n */\n\nfunction format(obj) {\n  if (!obj || typeof obj !== 'object') {\n    throw new TypeError('argument obj is required')\n  }\n\n  var parameters = obj.parameters\n  var subtype = obj.subtype\n  var suffix = obj.suffix\n  var type = obj.type\n\n  if (!type || !typeNameRegExp.test(type)) {\n    throw new TypeError('invalid type')\n  }\n\n  if (!subtype || !subtypeNameRegExp.test(subtype)) {\n    throw new TypeError('invalid subtype')\n  }\n\n  // format as type/subtype\n  var string = type + '/' + subtype\n\n  // append +suffix\n  if (suffix) {\n    if (!typeNameRegExp.test(suffix)) {\n      throw new TypeError('invalid suffix')\n    }\n\n    string += '+' + suffix\n  }\n\n  // append parameters\n  if (parameters && typeof parameters === 'object') {\n    var param\n    var params = Object.keys(parameters).sort()\n\n    for (var i = 0; i < params.length; i++) {\n      param = params[i]\n\n      if (!tokenRegExp.test(param)) {\n        throw new TypeError('invalid parameter name')\n      }\n\n      string += '; ' + param + '=' + qstring(parameters[param])\n    }\n  }\n\n  return string\n}\n\n/**\n * Parse media type to object.\n *\n * @param {string|object} string\n * @return {Object}\n * @api public\n */\n\nfunction parse(string) {\n  if (!string) {\n    throw new TypeError('argument string is required')\n  }\n\n  // support req/res-like objects as argument\n  if (typeof string === 'object') {\n    string = getcontenttype(string)\n  }\n\n  if (typeof string !== 'string') {\n    throw new TypeError('argument string is required to be a string')\n  }\n\n  var index = string.indexOf(';')\n  var type = index !== -1\n    ? string.substr(0, index)\n    : string\n\n  var key\n  var match\n  var obj = splitType(type)\n  var params = {}\n  var value\n\n  paramRegExp.lastIndex = index\n\n  while (match = paramRegExp.exec(string)) {\n    if (match.index !== index) {\n      throw new TypeError('invalid parameter format')\n    }\n\n    index += match[0].length\n    key = match[1].toLowerCase()\n    value = match[2]\n\n    if (value[0] === '\"') {\n      // remove quotes and escapes\n      value = value\n        .substr(1, value.length - 2)\n        .replace(qescRegExp, '$1')\n    }\n\n    params[key] = value\n  }\n\n  if (index !== -1 && index !== string.length) {\n    throw new TypeError('invalid parameter format')\n  }\n\n  obj.parameters = params\n\n  return obj\n}\n\n/**\n * Get content-type from req/res objects.\n *\n * @param {object}\n * @return {Object}\n * @api private\n */\n\nfunction getcontenttype(obj) {\n  if (typeof obj.getHeader === 'function') {\n    // res-like\n    return obj.getHeader('content-type')\n  }\n\n  if (typeof obj.headers === 'object') {\n    // req-like\n    return obj.headers && obj.headers['content-type']\n  }\n}\n\n/**\n * Quote a string if necessary.\n *\n * @param {string} val\n * @return {string}\n * @api private\n */\n\nfunction qstring(val) {\n  var str = String(val)\n\n  // no need to quote tokens\n  if (tokenRegExp.test(str)) {\n    return str\n  }\n\n  if (str.length > 0 && !textRegExp.test(str)) {\n    throw new TypeError('invalid parameter value')\n  }\n\n  return '\"' + str.replace(quoteRegExp, '\\\\$1') + '\"'\n}\n\n/**\n * Simply \"type/subtype+siffx\" into parts.\n *\n * @param {string} string\n * @return {Object}\n * @api private\n */\n\nfunction splitType(string) {\n  var match = typeRegExp.exec(string.toLowerCase())\n\n  if (!match) {\n    throw new TypeError('invalid media type')\n  }\n\n  var type = match[1]\n  var subtype = match[2]\n  var suffix\n\n  // suffix after last +\n  var index = subtype.lastIndexOf('+')\n  if (index !== -1) {\n    suffix = subtype.substr(index + 1)\n    subtype = subtype.substr(0, index)\n  }\n\n  var obj = {\n    type: type,\n    subtype: subtype,\n    suffix: suffix\n  }\n\n  return obj\n}\n","/*!\n * merge-descriptors\n * Copyright(c) 2014 Jonathan Ong\n * Copyright(c) 2015 Douglas Christopher Wilson\n * MIT Licensed\n */\n\n'use strict'\n\n/**\n * Module exports.\n * @public\n */\n\nmodule.exports = merge\n\n/**\n * Module variables.\n * @private\n */\n\nvar hasOwnProperty = Object.prototype.hasOwnProperty\n\n/**\n * Merge the property descriptors of `src` into `dest`\n *\n * @param {object} dest Object to add descriptors to\n * @param {object} src Object to clone descriptors from\n * @param {boolean} [redefine=true] Redefine `dest` properties with `src` properties\n * @returns {object} Reference to dest\n * @public\n */\n\nfunction merge(dest, src, redefine) {\n  if (!dest) {\n    throw new TypeError('argument dest is required')\n  }\n\n  if (!src) {\n    throw new TypeError('argument src is required')\n  }\n\n  if (redefine === undefined) {\n    // Default to true\n    redefine = true\n  }\n\n  Object.getOwnPropertyNames(src).forEach(function forEachOwnPropertyName(name) {\n    if (!redefine && hasOwnProperty.call(dest, name)) {\n      // Skip desriptor\n      return\n    }\n\n    // Copy descriptor\n    var descriptor = Object.getOwnPropertyDescriptor(src, name)\n    Object.defineProperty(dest, name, descriptor)\n  })\n\n  return dest\n}\n","/*!\n * methods\n * Copyright(c) 2013-2014 TJ Holowaychuk\n * Copyright(c) 2015-2016 Douglas Christopher Wilson\n * MIT Licensed\n */\n\n'use strict';\n\n/**\n * Module dependencies.\n * @private\n */\n\nvar http = require('http');\n\n/**\n * Module exports.\n * @public\n */\n\nmodule.exports = getCurrentNodeMethods() || getBasicNodeMethods();\n\n/**\n * Get the current Node.js methods.\n * @private\n */\n\nfunction getCurrentNodeMethods() {\n  return http.METHODS && http.METHODS.map(function lowerCaseMethod(method) {\n    return method.toLowerCase();\n  });\n}\n\n/**\n * Get the \"basic\" Node.js methods, a snapshot from Node.js 0.10.\n * @private\n */\n\nfunction getBasicNodeMethods() {\n  return [\n    'get',\n    'post',\n    'put',\n    'head',\n    'delete',\n    'options',\n    'trace',\n    'copy',\n    'lock',\n    'mkcol',\n    'move',\n    'purge',\n    'propfind',\n    'proppatch',\n    'unlock',\n    'report',\n    'mkactivity',\n    'checkout',\n    'merge',\n    'm-search',\n    'notify',\n    'subscribe',\n    'unsubscribe',\n    'patch',\n    'search',\n    'connect'\n  ];\n}\n","/*!\n * mime-db\n * Copyright(c) 2014 Jonathan Ong\n * MIT Licensed\n */\n\n/**\n * Module exports.\n */\n\nmodule.exports = require('./db.json')\n","/*!\n * mime-types\n * Copyright(c) 2014 Jonathan Ong\n * Copyright(c) 2015 Douglas Christopher Wilson\n * MIT Licensed\n */\n\n'use strict'\n\n/**\n * Module dependencies.\n * @private\n */\n\nvar db = require('mime-db')\nvar extname = require('path').extname\n\n/**\n * Module variables.\n * @private\n */\n\nvar EXTRACT_TYPE_REGEXP = /^\\s*([^;\\s]*)(?:;|\\s|$)/\nvar TEXT_TYPE_REGEXP = /^text\\//i\n\n/**\n * Module exports.\n * @public\n */\n\nexports.charset = charset\nexports.charsets = { lookup: charset }\nexports.contentType = contentType\nexports.extension = extension\nexports.extensions = Object.create(null)\nexports.lookup = lookup\nexports.types = Object.create(null)\n\n// Populate the extensions/types maps\npopulateMaps(exports.extensions, exports.types)\n\n/**\n * Get the default charset for a MIME type.\n *\n * @param {string} type\n * @return {boolean|string}\n */\n\nfunction charset (type) {\n  if (!type || typeof type !== 'string') {\n    return false\n  }\n\n  // TODO: use media-typer\n  var match = EXTRACT_TYPE_REGEXP.exec(type)\n  var mime = match && db[match[1].toLowerCase()]\n\n  if (mime && mime.charset) {\n    return mime.charset\n  }\n\n  // default text/* to utf-8\n  if (match && TEXT_TYPE_REGEXP.test(match[1])) {\n    return 'UTF-8'\n  }\n\n  return false\n}\n\n/**\n * Create a full Content-Type header given a MIME type or extension.\n *\n * @param {string} str\n * @return {boolean|string}\n */\n\nfunction contentType (str) {\n  // TODO: should this even be in this module?\n  if (!str || typeof str !== 'string') {\n    return false\n  }\n\n  var mime = str.indexOf('/') === -1\n    ? exports.lookup(str)\n    : str\n\n  if (!mime) {\n    return false\n  }\n\n  // TODO: use content-type or other module\n  if (mime.indexOf('charset') === -1) {\n    var charset = exports.charset(mime)\n    if (charset) mime += '; charset=' + charset.toLowerCase()\n  }\n\n  return mime\n}\n\n/**\n * Get the default extension for a MIME type.\n *\n * @param {string} type\n * @return {boolean|string}\n */\n\nfunction extension (type) {\n  if (!type || typeof type !== 'string') {\n    return false\n  }\n\n  // TODO: use media-typer\n  var match = EXTRACT_TYPE_REGEXP.exec(type)\n\n  // get extensions\n  var exts = match && exports.extensions[match[1].toLowerCase()]\n\n  if (!exts || !exts.length) {\n    return false\n  }\n\n  return exts[0]\n}\n\n/**\n * Lookup the MIME type for a file path/extension.\n *\n * @param {string} path\n * @return {boolean|string}\n */\n\nfunction lookup (path) {\n  if (!path || typeof path !== 'string') {\n    return false\n  }\n\n  // get the extension (\"ext\" or \".ext\" or full path)\n  var extension = extname('x.' + path)\n    .toLowerCase()\n    .substr(1)\n\n  if (!extension) {\n    return false\n  }\n\n  return exports.types[extension] || false\n}\n\n/**\n * Populate the extensions and types maps.\n * @private\n */\n\nfunction populateMaps (extensions, types) {\n  // source preference (least -> most)\n  var preference = ['nginx', 'apache', undefined, 'iana']\n\n  Object.keys(db).forEach(function forEachMimeType (type) {\n    var mime = db[type]\n    var exts = mime.extensions\n\n    if (!exts || !exts.length) {\n      return\n    }\n\n    // mime -> extensions\n    extensions[type] = exts\n\n    // extension -> mime\n    for (var i = 0; i < exts.length; i++) {\n      var extension = exts[i]\n\n      if (types[extension]) {\n        var from = preference.indexOf(db[types[extension]].source)\n        var to = preference.indexOf(mime.source)\n\n        if (types[extension] !== 'application/octet-stream' &&\n          (from > to || (from === to && types[extension].substr(0, 12) === 'application/'))) {\n          // skip the remapping\n          continue\n        }\n      }\n\n      // set the extension -> mime\n      types[extension] = type\n    }\n  })\n}\n","var path = require('path');\nvar fs = require('fs');\n\nfunction Mime() {\n  // Map of extension -> mime type\n  this.types = Object.create(null);\n\n  // Map of mime type -> extension\n  this.extensions = Object.create(null);\n}\n\n/**\n * Define mimetype -> extension mappings.  Each key is a mime-type that maps\n * to an array of extensions associated with the type.  The first extension is\n * used as the default extension for the type.\n *\n * e.g. mime.define({'audio/ogg', ['oga', 'ogg', 'spx']});\n *\n * @param map (Object) type definitions\n */\nMime.prototype.define = function (map) {\n  for (var type in map) {\n    var exts = map[type];\n    for (var i = 0; i < exts.length; i++) {\n      if (process.env.DEBUG_MIME && this.types[exts[i]]) {\n        console.warn((this._loading || \"define()\").replace(/.*\\//, ''), 'changes \"' + exts[i] + '\" extension type from ' +\n          this.types[exts[i]] + ' to ' + type);\n      }\n\n      this.types[exts[i]] = type;\n    }\n\n    // Default extension is the first one we encounter\n    if (!this.extensions[type]) {\n      this.extensions[type] = exts[0];\n    }\n  }\n};\n\n/**\n * Load an Apache2-style \".types\" file\n *\n * This may be called multiple times (it's expected).  Where files declare\n * overlapping types/extensions, the last file wins.\n *\n * @param file (String) path of file to load.\n */\nMime.prototype.load = function(file) {\n  this._loading = file;\n  // Read file and split into lines\n  var map = {},\n      content = fs.readFileSync(file, 'ascii'),\n      lines = content.split(/[\\r\\n]+/);\n\n  lines.forEach(function(line) {\n    // Clean up whitespace/comments, and split into fields\n    var fields = line.replace(/\\s*#.*|^\\s*|\\s*$/g, '').split(/\\s+/);\n    map[fields.shift()] = fields;\n  });\n\n  this.define(map);\n\n  this._loading = null;\n};\n\n/**\n * Lookup a mime type based on extension\n */\nMime.prototype.lookup = function(path, fallback) {\n  var ext = path.replace(/^.*[\\.\\/\\\\]/, '').toLowerCase();\n\n  return this.types[ext] || fallback || this.default_type;\n};\n\n/**\n * Return file extension associated with a mime type\n */\nMime.prototype.extension = function(mimeType) {\n  var type = mimeType.match(/^\\s*([^;\\s]*)(?:;|\\s|$)/)[1].toLowerCase();\n  return this.extensions[type];\n};\n\n// Default instance\nvar mime = new Mime();\n\n// Define built-in types\nmime.define(require('./types.json'));\n\n// Default type\nmime.default_type = mime.lookup('bin');\n\n//\n// Additional API specific to the default instance\n//\n\nmime.Mime = Mime;\n\n/**\n * Lookup a charset based on mime type.\n */\nmime.charsets = {\n  lookup: function(mimeType, fallback) {\n    // Assume text types are utf8\n    return (/^text\\/|^application\\/(javascript|json)/).test(mimeType) ? 'UTF-8' : fallback;\n  }\n};\n\nmodule.exports = mime;\n","/*!\n * morgan\n * Copyright(c) 2010 Sencha Inc.\n * Copyright(c) 2011 TJ Holowaychuk\n * Copyright(c) 2014 Jonathan Ong\n * Copyright(c) 2014-2017 Douglas Christopher Wilson\n * MIT Licensed\n */\n\n'use strict'\n\n/**\n * Module exports.\n * @public\n */\n\nmodule.exports = morgan\nmodule.exports.compile = compile\nmodule.exports.format = format\nmodule.exports.token = token\n\n/**\n * Module dependencies.\n * @private\n */\n\nvar auth = require('basic-auth')\nvar debug = require('debug')('morgan')\nvar deprecate = require('depd')('morgan')\nvar onFinished = require('on-finished')\nvar onHeaders = require('on-headers')\n\n/**\n * Array of CLF month names.\n * @private\n */\n\nvar CLF_MONTH = [\n  'Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun',\n  'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'\n]\n\n/**\n * Default log buffer duration.\n * @private\n */\n\nvar DEFAULT_BUFFER_DURATION = 1000\n\n/**\n * Create a logger middleware.\n *\n * @public\n * @param {String|Function} format\n * @param {Object} [options]\n * @return {Function} middleware\n */\n\nfunction morgan (format, options) {\n  var fmt = format\n  var opts = options || {}\n\n  if (format && typeof format === 'object') {\n    opts = format\n    fmt = opts.format || 'default'\n\n    // smart deprecation message\n    deprecate('morgan(options): use morgan(' + (typeof fmt === 'string' ? JSON.stringify(fmt) : 'format') + ', options) instead')\n  }\n\n  if (fmt === undefined) {\n    deprecate('undefined format: specify a format')\n  }\n\n  // output on request instead of response\n  var immediate = opts.immediate\n\n  // check if log entry should be skipped\n  var skip = opts.skip || false\n\n  // format function\n  var formatLine = typeof fmt !== 'function'\n    ? getFormatFunction(fmt)\n    : fmt\n\n  // stream\n  var buffer = opts.buffer\n  var stream = opts.stream || process.stdout\n\n  // buffering support\n  if (buffer) {\n    deprecate('buffer option')\n\n    // flush interval\n    var interval = typeof buffer !== 'number'\n      ? DEFAULT_BUFFER_DURATION\n      : buffer\n\n    // swap the stream\n    stream = createBufferStream(stream, interval)\n  }\n\n  return function logger (req, res, next) {\n    // request data\n    req._startAt = undefined\n    req._startTime = undefined\n    req._remoteAddress = getip(req)\n\n    // response data\n    res._startAt = undefined\n    res._startTime = undefined\n\n    // record request start\n    recordStartTime.call(req)\n\n    function logRequest () {\n      if (skip !== false && skip(req, res)) {\n        debug('skip request')\n        return\n      }\n\n      var line = formatLine(morgan, req, res)\n\n      if (line == null) {\n        debug('skip line')\n        return\n      }\n\n      debug('log request')\n      stream.write(line + '\\n')\n    };\n\n    if (immediate) {\n      // immediate log\n      logRequest()\n    } else {\n      // record response start\n      onHeaders(res, recordStartTime)\n\n      // log when response finished\n      onFinished(res, logRequest)\n    }\n\n    next()\n  }\n}\n\n/**\n * Apache combined log format.\n */\n\nmorgan.format('combined', ':remote-addr - :remote-user [:date[clf]] \":method :url HTTP/:http-version\" :status :res[content-length] \":referrer\" \":user-agent\"')\n\n/**\n * Apache common log format.\n */\n\nmorgan.format('common', ':remote-addr - :remote-user [:date[clf]] \":method :url HTTP/:http-version\" :status :res[content-length]')\n\n/**\n * Default format.\n */\n\nmorgan.format('default', ':remote-addr - :remote-user [:date] \":method :url HTTP/:http-version\" :status :res[content-length] \":referrer\" \":user-agent\"')\ndeprecate.property(morgan, 'default', 'default format: use combined format')\n\n/**\n * Short format.\n */\n\nmorgan.format('short', ':remote-addr :remote-user :method :url HTTP/:http-version :status :res[content-length] - :response-time ms')\n\n/**\n * Tiny format.\n */\n\nmorgan.format('tiny', ':method :url :status :res[content-length] - :response-time ms')\n\n/**\n * dev (colored)\n */\n\nmorgan.format('dev', function developmentFormatLine (tokens, req, res) {\n  // get the status code if response written\n  var status = headersSent(res)\n    ? res.statusCode\n    : undefined\n\n  // get status color\n  var color = status >= 500 ? 31 // red\n    : status >= 400 ? 33 // yellow\n      : status >= 300 ? 36 // cyan\n        : status >= 200 ? 32 // green\n          : 0 // no color\n\n  // get colored function\n  var fn = developmentFormatLine[color]\n\n  if (!fn) {\n    // compile\n    fn = developmentFormatLine[color] = compile('\\x1b[0m:method :url \\x1b[' +\n      color + 'm:status \\x1b[0m:response-time ms - :res[content-length]\\x1b[0m')\n  }\n\n  return fn(tokens, req, res)\n})\n\n/**\n * request url\n */\n\nmorgan.token('url', function getUrlToken (req) {\n  return req.originalUrl || req.url\n})\n\n/**\n * request method\n */\n\nmorgan.token('method', function getMethodToken (req) {\n  return req.method\n})\n\n/**\n * response time in milliseconds\n */\n\nmorgan.token('response-time', function getResponseTimeToken (req, res, digits) {\n  if (!req._startAt || !res._startAt) {\n    // missing request and/or response start time\n    return\n  }\n\n  // calculate diff\n  var ms = (res._startAt[0] - req._startAt[0]) * 1e3 +\n    (res._startAt[1] - req._startAt[1]) * 1e-6\n\n  // return truncated value\n  return ms.toFixed(digits === undefined ? 3 : digits)\n})\n\n/**\n * current date\n */\n\nmorgan.token('date', function getDateToken (req, res, format) {\n  var date = new Date()\n\n  switch (format || 'web') {\n    case 'clf':\n      return clfdate(date)\n    case 'iso':\n      return date.toISOString()\n    case 'web':\n      return date.toUTCString()\n  }\n})\n\n/**\n * response status code\n */\n\nmorgan.token('status', function getStatusToken (req, res) {\n  return headersSent(res)\n    ? String(res.statusCode)\n    : undefined\n})\n\n/**\n * normalized referrer\n */\n\nmorgan.token('referrer', function getReferrerToken (req) {\n  return req.headers['referer'] || req.headers['referrer']\n})\n\n/**\n * remote address\n */\n\nmorgan.token('remote-addr', getip)\n\n/**\n * remote user\n */\n\nmorgan.token('remote-user', function getRemoteUserToken (req) {\n  // parse basic credentials\n  var credentials = auth(req)\n\n  // return username\n  return credentials\n    ? credentials.name\n    : undefined\n})\n\n/**\n * HTTP version\n */\n\nmorgan.token('http-version', function getHttpVersionToken (req) {\n  return req.httpVersionMajor + '.' + req.httpVersionMinor\n})\n\n/**\n * UA string\n */\n\nmorgan.token('user-agent', function getUserAgentToken (req) {\n  return req.headers['user-agent']\n})\n\n/**\n * request header\n */\n\nmorgan.token('req', function getRequestToken (req, res, field) {\n  // get header\n  var header = req.headers[field.toLowerCase()]\n\n  return Array.isArray(header)\n    ? header.join(', ')\n    : header\n})\n\n/**\n * response header\n */\n\nmorgan.token('res', function getResponseHeader (req, res, field) {\n  if (!headersSent(res)) {\n    return undefined\n  }\n\n  // get header\n  var header = res.getHeader(field)\n\n  return Array.isArray(header)\n    ? header.join(', ')\n    : header\n})\n\n/**\n * Format a Date in the common log format.\n *\n * @private\n * @param {Date} dateTime\n * @return {string}\n */\n\nfunction clfdate (dateTime) {\n  var date = dateTime.getUTCDate()\n  var hour = dateTime.getUTCHours()\n  var mins = dateTime.getUTCMinutes()\n  var secs = dateTime.getUTCSeconds()\n  var year = dateTime.getUTCFullYear()\n\n  var month = CLF_MONTH[dateTime.getUTCMonth()]\n\n  return pad2(date) + '/' + month + '/' + year +\n    ':' + pad2(hour) + ':' + pad2(mins) + ':' + pad2(secs) +\n    ' +0000'\n}\n\n/**\n * Compile a format string into a function.\n *\n * @param {string} format\n * @return {function}\n * @public\n */\n\nfunction compile (format) {\n  if (typeof format !== 'string') {\n    throw new TypeError('argument format must be a string')\n  }\n\n  var fmt = String(JSON.stringify(format))\n  var js = '  \"use strict\"\\n  return ' + fmt.replace(/:([-\\w]{2,})(?:\\[([^\\]]+)\\])?/g, function (_, name, arg) {\n    var tokenArguments = 'req, res'\n    var tokenFunction = 'tokens[' + String(JSON.stringify(name)) + ']'\n\n    if (arg !== undefined) {\n      tokenArguments += ', ' + String(JSON.stringify(arg))\n    }\n\n    return '\" +\\n    (' + tokenFunction + '(' + tokenArguments + ') || \"-\") + \"'\n  })\n\n  // eslint-disable-next-line no-new-func\n  return new Function('tokens, req, res', js)\n}\n\n/**\n * Create a basic buffering stream.\n *\n * @param {object} stream\n * @param {number} interval\n * @public\n */\n\nfunction createBufferStream (stream, interval) {\n  var buf = []\n  var timer = null\n\n  // flush function\n  function flush () {\n    timer = null\n    stream.write(buf.join(''))\n    buf.length = 0\n  }\n\n  // write function\n  function write (str) {\n    if (timer === null) {\n      timer = setTimeout(flush, interval)\n    }\n\n    buf.push(str)\n  }\n\n  // return a minimal \"stream\"\n  return { write: write }\n}\n\n/**\n * Define a format with the given name.\n *\n * @param {string} name\n * @param {string|function} fmt\n * @public\n */\n\nfunction format (name, fmt) {\n  morgan[name] = fmt\n  return this\n}\n\n/**\n * Lookup and compile a named format function.\n *\n * @param {string} name\n * @return {function}\n * @public\n */\n\nfunction getFormatFunction (name) {\n  // lookup format\n  var fmt = morgan[name] || name || morgan.default\n\n  // return compiled format\n  return typeof fmt !== 'function'\n    ? compile(fmt)\n    : fmt\n}\n\n/**\n * Get request IP address.\n *\n * @private\n * @param {IncomingMessage} req\n * @return {string}\n */\n\nfunction getip (req) {\n  return req.ip ||\n    req._remoteAddress ||\n    (req.connection && req.connection.remoteAddress) ||\n    undefined\n}\n\n/**\n * Determine if the response headers have been sent.\n *\n * @param {object} res\n * @returns {boolean}\n * @private\n */\n\nfunction headersSent (res) {\n  return typeof res.headersSent !== 'boolean'\n    ? Boolean(res._header)\n    : res.headersSent\n}\n\n/**\n * Pad number to two digits.\n *\n * @private\n * @param {number} num\n * @return {string}\n */\n\nfunction pad2 (num) {\n  var str = String(num)\n\n  return (str.length === 1 ? '0' : '') + str\n}\n\n/**\n * Record the start time.\n * @private\n */\n\nfunction recordStartTime () {\n  this._startAt = process.hrtime()\n  this._startTime = new Date()\n}\n\n/**\n * Define a token function with the given name,\n * and callback fn(req, res).\n *\n * @param {string} name\n * @param {function} fn\n * @public\n */\n\nfunction token (name, fn) {\n  morgan[name] = fn\n  return this\n}\n","/**\n * Helpers.\n */\n\nvar s = 1000;\nvar m = s * 60;\nvar h = m * 60;\nvar d = h * 24;\nvar y = d * 365.25;\n\n/**\n * Parse or format the given `val`.\n *\n * Options:\n *\n *  - `long` verbose formatting [false]\n *\n * @param {String|Number} val\n * @param {Object} [options]\n * @throws {Error} throw an error if val is not a non-empty string or a number\n * @return {String|Number}\n * @api public\n */\n\nmodule.exports = function(val, options) {\n  options = options || {};\n  var type = typeof val;\n  if (type === 'string' && val.length > 0) {\n    return parse(val);\n  } else if (type === 'number' && isNaN(val) === false) {\n    return options.long ? fmtLong(val) : fmtShort(val);\n  }\n  throw new Error(\n    'val is not a non-empty string or a valid number. val=' +\n      JSON.stringify(val)\n  );\n};\n\n/**\n * Parse the given `str` and return milliseconds.\n *\n * @param {String} str\n * @return {Number}\n * @api private\n */\n\nfunction parse(str) {\n  str = String(str);\n  if (str.length > 100) {\n    return;\n  }\n  var match = /^((?:\\d+)?\\.?\\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(\n    str\n  );\n  if (!match) {\n    return;\n  }\n  var n = parseFloat(match[1]);\n  var type = (match[2] || 'ms').toLowerCase();\n  switch (type) {\n    case 'years':\n    case 'year':\n    case 'yrs':\n    case 'yr':\n    case 'y':\n      return n * y;\n    case 'days':\n    case 'day':\n    case 'd':\n      return n * d;\n    case 'hours':\n    case 'hour':\n    case 'hrs':\n    case 'hr':\n    case 'h':\n      return n * h;\n    case 'minutes':\n    case 'minute':\n    case 'mins':\n    case 'min':\n    case 'm':\n      return n * m;\n    case 'seconds':\n    case 'second':\n    case 'secs':\n    case 'sec':\n    case 's':\n      return n * s;\n    case 'milliseconds':\n    case 'millisecond':\n    case 'msecs':\n    case 'msec':\n    case 'ms':\n      return n;\n    default:\n      return undefined;\n  }\n}\n\n/**\n * Short format for `ms`.\n *\n * @param {Number} ms\n * @return {String}\n * @api private\n */\n\nfunction fmtShort(ms) {\n  if (ms >= d) {\n    return Math.round(ms / d) + 'd';\n  }\n  if (ms >= h) {\n    return Math.round(ms / h) + 'h';\n  }\n  if (ms >= m) {\n    return Math.round(ms / m) + 'm';\n  }\n  if (ms >= s) {\n    return Math.round(ms / s) + 's';\n  }\n  return ms + 'ms';\n}\n\n/**\n * Long format for `ms`.\n *\n * @param {Number} ms\n * @return {String}\n * @api private\n */\n\nfunction fmtLong(ms) {\n  return plural(ms, d, 'day') ||\n    plural(ms, h, 'hour') ||\n    plural(ms, m, 'minute') ||\n    plural(ms, s, 'second') ||\n    ms + ' ms';\n}\n\n/**\n * Pluralization helper.\n */\n\nfunction plural(ms, n, name) {\n  if (ms < n) {\n    return;\n  }\n  if (ms < n * 1.5) {\n    return Math.floor(ms / n) + ' ' + name;\n  }\n  return Math.ceil(ms / n) + ' ' + name + 's';\n}\n","/*!\n * negotiator\n * Copyright(c) 2012 Federico Romero\n * Copyright(c) 2012-2014 Isaac Z. Schlueter\n * Copyright(c) 2015 Douglas Christopher Wilson\n * MIT Licensed\n */\n\n'use strict';\n\n/**\n * Cached loaded submodules.\n * @private\n */\n\nvar modules = Object.create(null);\n\n/**\n * Module exports.\n * @public\n */\n\nmodule.exports = Negotiator;\nmodule.exports.Negotiator = Negotiator;\n\n/**\n * Create a Negotiator instance from a request.\n * @param {object} request\n * @public\n */\n\nfunction Negotiator(request) {\n  if (!(this instanceof Negotiator)) {\n    return new Negotiator(request);\n  }\n\n  this.request = request;\n}\n\nNegotiator.prototype.charset = function charset(available) {\n  var set = this.charsets(available);\n  return set && set[0];\n};\n\nNegotiator.prototype.charsets = function charsets(available) {\n  var preferredCharsets = loadModule('charset').preferredCharsets;\n  return preferredCharsets(this.request.headers['accept-charset'], available);\n};\n\nNegotiator.prototype.encoding = function encoding(available) {\n  var set = this.encodings(available);\n  return set && set[0];\n};\n\nNegotiator.prototype.encodings = function encodings(available) {\n  var preferredEncodings = loadModule('encoding').preferredEncodings;\n  return preferredEncodings(this.request.headers['accept-encoding'], available);\n};\n\nNegotiator.prototype.language = function language(available) {\n  var set = this.languages(available);\n  return set && set[0];\n};\n\nNegotiator.prototype.languages = function languages(available) {\n  var preferredLanguages = loadModule('language').preferredLanguages;\n  return preferredLanguages(this.request.headers['accept-language'], available);\n};\n\nNegotiator.prototype.mediaType = function mediaType(available) {\n  var set = this.mediaTypes(available);\n  return set && set[0];\n};\n\nNegotiator.prototype.mediaTypes = function mediaTypes(available) {\n  var preferredMediaTypes = loadModule('mediaType').preferredMediaTypes;\n  return preferredMediaTypes(this.request.headers.accept, available);\n};\n\n// Backwards compatibility\nNegotiator.prototype.preferredCharset = Negotiator.prototype.charset;\nNegotiator.prototype.preferredCharsets = Negotiator.prototype.charsets;\nNegotiator.prototype.preferredEncoding = Negotiator.prototype.encoding;\nNegotiator.prototype.preferredEncodings = Negotiator.prototype.encodings;\nNegotiator.prototype.preferredLanguage = Negotiator.prototype.language;\nNegotiator.prototype.preferredLanguages = Negotiator.prototype.languages;\nNegotiator.prototype.preferredMediaType = Negotiator.prototype.mediaType;\nNegotiator.prototype.preferredMediaTypes = Negotiator.prototype.mediaTypes;\n\n/**\n * Load the given module.\n * @private\n */\n\nfunction loadModule(moduleName) {\n  var module = modules[moduleName];\n\n  if (module !== undefined) {\n    return module;\n  }\n\n  // This uses a switch for static require analysis\n  switch (moduleName) {\n    case 'charset':\n      module = require('./lib/charset');\n      break;\n    case 'encoding':\n      module = require('./lib/encoding');\n      break;\n    case 'language':\n      module = require('./lib/language');\n      break;\n    case 'mediaType':\n      module = require('./lib/mediaType');\n      break;\n    default:\n      throw new Error('Cannot find module \\'' + moduleName + '\\'');\n  }\n\n  // Store to prevent invoking require()\n  modules[moduleName] = module;\n\n  return module;\n}\n","/**\n * negotiator\n * Copyright(c) 2012 Isaac Z. Schlueter\n * Copyright(c) 2014 Federico Romero\n * Copyright(c) 2014-2015 Douglas Christopher Wilson\n * MIT Licensed\n */\n\n'use strict';\n\n/**\n * Module exports.\n * @public\n */\n\nmodule.exports = preferredCharsets;\nmodule.exports.preferredCharsets = preferredCharsets;\n\n/**\n * Module variables.\n * @private\n */\n\nvar simpleCharsetRegExp = /^\\s*([^\\s;]+)\\s*(?:;(.*))?$/;\n\n/**\n * Parse the Accept-Charset header.\n * @private\n */\n\nfunction parseAcceptCharset(accept) {\n  var accepts = accept.split(',');\n\n  for (var i = 0, j = 0; i < accepts.length; i++) {\n    var charset = parseCharset(accepts[i].trim(), i);\n\n    if (charset) {\n      accepts[j++] = charset;\n    }\n  }\n\n  // trim accepts\n  accepts.length = j;\n\n  return accepts;\n}\n\n/**\n * Parse a charset from the Accept-Charset header.\n * @private\n */\n\nfunction parseCharset(str, i) {\n  var match = simpleCharsetRegExp.exec(str);\n  if (!match) return null;\n\n  var charset = match[1];\n  var q = 1;\n  if (match[2]) {\n    var params = match[2].split(';')\n    for (var j = 0; j < params.length; j++) {\n      var p = params[j].trim().split('=');\n      if (p[0] === 'q') {\n        q = parseFloat(p[1]);\n        break;\n      }\n    }\n  }\n\n  return {\n    charset: charset,\n    q: q,\n    i: i\n  };\n}\n\n/**\n * Get the priority of a charset.\n * @private\n */\n\nfunction getCharsetPriority(charset, accepted, index) {\n  var priority = {o: -1, q: 0, s: 0};\n\n  for (var i = 0; i < accepted.length; i++) {\n    var spec = specify(charset, accepted[i], index);\n\n    if (spec && (priority.s - spec.s || priority.q - spec.q || priority.o - spec.o) < 0) {\n      priority = spec;\n    }\n  }\n\n  return priority;\n}\n\n/**\n * Get the specificity of the charset.\n * @private\n */\n\nfunction specify(charset, spec, index) {\n  var s = 0;\n  if(spec.charset.toLowerCase() === charset.toLowerCase()){\n    s |= 1;\n  } else if (spec.charset !== '*' ) {\n    return null\n  }\n\n  return {\n    i: index,\n    o: spec.i,\n    q: spec.q,\n    s: s\n  }\n}\n\n/**\n * Get the preferred charsets from an Accept-Charset header.\n * @public\n */\n\nfunction preferredCharsets(accept, provided) {\n  // RFC 2616 sec 14.2: no header = *\n  var accepts = parseAcceptCharset(accept === undefined ? '*' : accept || '');\n\n  if (!provided) {\n    // sorted list of all charsets\n    return accepts\n      .filter(isQuality)\n      .sort(compareSpecs)\n      .map(getFullCharset);\n  }\n\n  var priorities = provided.map(function getPriority(type, index) {\n    return getCharsetPriority(type, accepts, index);\n  });\n\n  // sorted list of accepted charsets\n  return priorities.filter(isQuality).sort(compareSpecs).map(function getCharset(priority) {\n    return provided[priorities.indexOf(priority)];\n  });\n}\n\n/**\n * Compare two specs.\n * @private\n */\n\nfunction compareSpecs(a, b) {\n  return (b.q - a.q) || (b.s - a.s) || (a.o - b.o) || (a.i - b.i) || 0;\n}\n\n/**\n * Get full charset string.\n * @private\n */\n\nfunction getFullCharset(spec) {\n  return spec.charset;\n}\n\n/**\n * Check if a spec has any quality.\n * @private\n */\n\nfunction isQuality(spec) {\n  return spec.q > 0;\n}\n","/**\n * negotiator\n * Copyright(c) 2012 Isaac Z. Schlueter\n * Copyright(c) 2014 Federico Romero\n * Copyright(c) 2014-2015 Douglas Christopher Wilson\n * MIT Licensed\n */\n\n'use strict';\n\n/**\n * Module exports.\n * @public\n */\n\nmodule.exports = preferredEncodings;\nmodule.exports.preferredEncodings = preferredEncodings;\n\n/**\n * Module variables.\n * @private\n */\n\nvar simpleEncodingRegExp = /^\\s*([^\\s;]+)\\s*(?:;(.*))?$/;\n\n/**\n * Parse the Accept-Encoding header.\n * @private\n */\n\nfunction parseAcceptEncoding(accept) {\n  var accepts = accept.split(',');\n  var hasIdentity = false;\n  var minQuality = 1;\n\n  for (var i = 0, j = 0; i < accepts.length; i++) {\n    var encoding = parseEncoding(accepts[i].trim(), i);\n\n    if (encoding) {\n      accepts[j++] = encoding;\n      hasIdentity = hasIdentity || specify('identity', encoding);\n      minQuality = Math.min(minQuality, encoding.q || 1);\n    }\n  }\n\n  if (!hasIdentity) {\n    /*\n     * If identity doesn't explicitly appear in the accept-encoding header,\n     * it's added to the list of acceptable encoding with the lowest q\n     */\n    accepts[j++] = {\n      encoding: 'identity',\n      q: minQuality,\n      i: i\n    };\n  }\n\n  // trim accepts\n  accepts.length = j;\n\n  return accepts;\n}\n\n/**\n * Parse an encoding from the Accept-Encoding header.\n * @private\n */\n\nfunction parseEncoding(str, i) {\n  var match = simpleEncodingRegExp.exec(str);\n  if (!match) return null;\n\n  var encoding = match[1];\n  var q = 1;\n  if (match[2]) {\n    var params = match[2].split(';');\n    for (var j = 0; j < params.length; j++) {\n      var p = params[j].trim().split('=');\n      if (p[0] === 'q') {\n        q = parseFloat(p[1]);\n        break;\n      }\n    }\n  }\n\n  return {\n    encoding: encoding,\n    q: q,\n    i: i\n  };\n}\n\n/**\n * Get the priority of an encoding.\n * @private\n */\n\nfunction getEncodingPriority(encoding, accepted, index) {\n  var priority = {o: -1, q: 0, s: 0};\n\n  for (var i = 0; i < accepted.length; i++) {\n    var spec = specify(encoding, accepted[i], index);\n\n    if (spec && (priority.s - spec.s || priority.q - spec.q || priority.o - spec.o) < 0) {\n      priority = spec;\n    }\n  }\n\n  return priority;\n}\n\n/**\n * Get the specificity of the encoding.\n * @private\n */\n\nfunction specify(encoding, spec, index) {\n  var s = 0;\n  if(spec.encoding.toLowerCase() === encoding.toLowerCase()){\n    s |= 1;\n  } else if (spec.encoding !== '*' ) {\n    return null\n  }\n\n  return {\n    i: index,\n    o: spec.i,\n    q: spec.q,\n    s: s\n  }\n};\n\n/**\n * Get the preferred encodings from an Accept-Encoding header.\n * @public\n */\n\nfunction preferredEncodings(accept, provided) {\n  var accepts = parseAcceptEncoding(accept || '');\n\n  if (!provided) {\n    // sorted list of all encodings\n    return accepts\n      .filter(isQuality)\n      .sort(compareSpecs)\n      .map(getFullEncoding);\n  }\n\n  var priorities = provided.map(function getPriority(type, index) {\n    return getEncodingPriority(type, accepts, index);\n  });\n\n  // sorted list of accepted encodings\n  return priorities.filter(isQuality).sort(compareSpecs).map(function getEncoding(priority) {\n    return provided[priorities.indexOf(priority)];\n  });\n}\n\n/**\n * Compare two specs.\n * @private\n */\n\nfunction compareSpecs(a, b) {\n  return (b.q - a.q) || (b.s - a.s) || (a.o - b.o) || (a.i - b.i) || 0;\n}\n\n/**\n * Get full encoding string.\n * @private\n */\n\nfunction getFullEncoding(spec) {\n  return spec.encoding;\n}\n\n/**\n * Check if a spec has any quality.\n * @private\n */\n\nfunction isQuality(spec) {\n  return spec.q > 0;\n}\n","/**\n * negotiator\n * Copyright(c) 2012 Isaac Z. Schlueter\n * Copyright(c) 2014 Federico Romero\n * Copyright(c) 2014-2015 Douglas Christopher Wilson\n * MIT Licensed\n */\n\n'use strict';\n\n/**\n * Module exports.\n * @public\n */\n\nmodule.exports = preferredLanguages;\nmodule.exports.preferredLanguages = preferredLanguages;\n\n/**\n * Module variables.\n * @private\n */\n\nvar simpleLanguageRegExp = /^\\s*([^\\s\\-;]+)(?:-([^\\s;]+))?\\s*(?:;(.*))?$/;\n\n/**\n * Parse the Accept-Language header.\n * @private\n */\n\nfunction parseAcceptLanguage(accept) {\n  var accepts = accept.split(',');\n\n  for (var i = 0, j = 0; i < accepts.length; i++) {\n    var language = parseLanguage(accepts[i].trim(), i);\n\n    if (language) {\n      accepts[j++] = language;\n    }\n  }\n\n  // trim accepts\n  accepts.length = j;\n\n  return accepts;\n}\n\n/**\n * Parse a language from the Accept-Language header.\n * @private\n */\n\nfunction parseLanguage(str, i) {\n  var match = simpleLanguageRegExp.exec(str);\n  if (!match) return null;\n\n  var prefix = match[1],\n    suffix = match[2],\n    full = prefix;\n\n  if (suffix) full += \"-\" + suffix;\n\n  var q = 1;\n  if (match[3]) {\n    var params = match[3].split(';')\n    for (var j = 0; j < params.length; j++) {\n      var p = params[j].split('=');\n      if (p[0] === 'q') q = parseFloat(p[1]);\n    }\n  }\n\n  return {\n    prefix: prefix,\n    suffix: suffix,\n    q: q,\n    i: i,\n    full: full\n  };\n}\n\n/**\n * Get the priority of a language.\n * @private\n */\n\nfunction getLanguagePriority(language, accepted, index) {\n  var priority = {o: -1, q: 0, s: 0};\n\n  for (var i = 0; i < accepted.length; i++) {\n    var spec = specify(language, accepted[i], index);\n\n    if (spec && (priority.s - spec.s || priority.q - spec.q || priority.o - spec.o) < 0) {\n      priority = spec;\n    }\n  }\n\n  return priority;\n}\n\n/**\n * Get the specificity of the language.\n * @private\n */\n\nfunction specify(language, spec, index) {\n  var p = parseLanguage(language)\n  if (!p) return null;\n  var s = 0;\n  if(spec.full.toLowerCase() === p.full.toLowerCase()){\n    s |= 4;\n  } else if (spec.prefix.toLowerCase() === p.full.toLowerCase()) {\n    s |= 2;\n  } else if (spec.full.toLowerCase() === p.prefix.toLowerCase()) {\n    s |= 1;\n  } else if (spec.full !== '*' ) {\n    return null\n  }\n\n  return {\n    i: index,\n    o: spec.i,\n    q: spec.q,\n    s: s\n  }\n};\n\n/**\n * Get the preferred languages from an Accept-Language header.\n * @public\n */\n\nfunction preferredLanguages(accept, provided) {\n  // RFC 2616 sec 14.4: no header = *\n  var accepts = parseAcceptLanguage(accept === undefined ? '*' : accept || '');\n\n  if (!provided) {\n    // sorted list of all languages\n    return accepts\n      .filter(isQuality)\n      .sort(compareSpecs)\n      .map(getFullLanguage);\n  }\n\n  var priorities = provided.map(function getPriority(type, index) {\n    return getLanguagePriority(type, accepts, index);\n  });\n\n  // sorted list of accepted languages\n  return priorities.filter(isQuality).sort(compareSpecs).map(function getLanguage(priority) {\n    return provided[priorities.indexOf(priority)];\n  });\n}\n\n/**\n * Compare two specs.\n * @private\n */\n\nfunction compareSpecs(a, b) {\n  return (b.q - a.q) || (b.s - a.s) || (a.o - b.o) || (a.i - b.i) || 0;\n}\n\n/**\n * Get full language string.\n * @private\n */\n\nfunction getFullLanguage(spec) {\n  return spec.full;\n}\n\n/**\n * Check if a spec has any quality.\n * @private\n */\n\nfunction isQuality(spec) {\n  return spec.q > 0;\n}\n","/**\n * negotiator\n * Copyright(c) 2012 Isaac Z. Schlueter\n * Copyright(c) 2014 Federico Romero\n * Copyright(c) 2014-2015 Douglas Christopher Wilson\n * MIT Licensed\n */\n\n'use strict';\n\n/**\n * Module exports.\n * @public\n */\n\nmodule.exports = preferredMediaTypes;\nmodule.exports.preferredMediaTypes = preferredMediaTypes;\n\n/**\n * Module variables.\n * @private\n */\n\nvar simpleMediaTypeRegExp = /^\\s*([^\\s\\/;]+)\\/([^;\\s]+)\\s*(?:;(.*))?$/;\n\n/**\n * Parse the Accept header.\n * @private\n */\n\nfunction parseAccept(accept) {\n  var accepts = splitMediaTypes(accept);\n\n  for (var i = 0, j = 0; i < accepts.length; i++) {\n    var mediaType = parseMediaType(accepts[i].trim(), i);\n\n    if (mediaType) {\n      accepts[j++] = mediaType;\n    }\n  }\n\n  // trim accepts\n  accepts.length = j;\n\n  return accepts;\n}\n\n/**\n * Parse a media type from the Accept header.\n * @private\n */\n\nfunction parseMediaType(str, i) {\n  var match = simpleMediaTypeRegExp.exec(str);\n  if (!match) return null;\n\n  var params = Object.create(null);\n  var q = 1;\n  var subtype = match[2];\n  var type = match[1];\n\n  if (match[3]) {\n    var kvps = splitParameters(match[3]).map(splitKeyValuePair);\n\n    for (var j = 0; j < kvps.length; j++) {\n      var pair = kvps[j];\n      var key = pair[0].toLowerCase();\n      var val = pair[1];\n\n      // get the value, unwrapping quotes\n      var value = val && val[0] === '\"' && val[val.length - 1] === '\"'\n        ? val.substr(1, val.length - 2)\n        : val;\n\n      if (key === 'q') {\n        q = parseFloat(value);\n        break;\n      }\n\n      // store parameter\n      params[key] = value;\n    }\n  }\n\n  return {\n    type: type,\n    subtype: subtype,\n    params: params,\n    q: q,\n    i: i\n  };\n}\n\n/**\n * Get the priority of a media type.\n * @private\n */\n\nfunction getMediaTypePriority(type, accepted, index) {\n  var priority = {o: -1, q: 0, s: 0};\n\n  for (var i = 0; i < accepted.length; i++) {\n    var spec = specify(type, accepted[i], index);\n\n    if (spec && (priority.s - spec.s || priority.q - spec.q || priority.o - spec.o) < 0) {\n      priority = spec;\n    }\n  }\n\n  return priority;\n}\n\n/**\n * Get the specificity of the media type.\n * @private\n */\n\nfunction specify(type, spec, index) {\n  var p = parseMediaType(type);\n  var s = 0;\n\n  if (!p) {\n    return null;\n  }\n\n  if(spec.type.toLowerCase() == p.type.toLowerCase()) {\n    s |= 4\n  } else if(spec.type != '*') {\n    return null;\n  }\n\n  if(spec.subtype.toLowerCase() == p.subtype.toLowerCase()) {\n    s |= 2\n  } else if(spec.subtype != '*') {\n    return null;\n  }\n\n  var keys = Object.keys(spec.params);\n  if (keys.length > 0) {\n    if (keys.every(function (k) {\n      return spec.params[k] == '*' || (spec.params[k] || '').toLowerCase() == (p.params[k] || '').toLowerCase();\n    })) {\n      s |= 1\n    } else {\n      return null\n    }\n  }\n\n  return {\n    i: index,\n    o: spec.i,\n    q: spec.q,\n    s: s,\n  }\n}\n\n/**\n * Get the preferred media types from an Accept header.\n * @public\n */\n\nfunction preferredMediaTypes(accept, provided) {\n  // RFC 2616 sec 14.2: no header = */*\n  var accepts = parseAccept(accept === undefined ? '*/*' : accept || '');\n\n  if (!provided) {\n    // sorted list of all types\n    return accepts\n      .filter(isQuality)\n      .sort(compareSpecs)\n      .map(getFullType);\n  }\n\n  var priorities = provided.map(function getPriority(type, index) {\n    return getMediaTypePriority(type, accepts, index);\n  });\n\n  // sorted list of accepted types\n  return priorities.filter(isQuality).sort(compareSpecs).map(function getType(priority) {\n    return provided[priorities.indexOf(priority)];\n  });\n}\n\n/**\n * Compare two specs.\n * @private\n */\n\nfunction compareSpecs(a, b) {\n  return (b.q - a.q) || (b.s - a.s) || (a.o - b.o) || (a.i - b.i) || 0;\n}\n\n/**\n * Get full type string.\n * @private\n */\n\nfunction getFullType(spec) {\n  return spec.type + '/' + spec.subtype;\n}\n\n/**\n * Check if a spec has any quality.\n * @private\n */\n\nfunction isQuality(spec) {\n  return spec.q > 0;\n}\n\n/**\n * Count the number of quotes in a string.\n * @private\n */\n\nfunction quoteCount(string) {\n  var count = 0;\n  var index = 0;\n\n  while ((index = string.indexOf('\"', index)) !== -1) {\n    count++;\n    index++;\n  }\n\n  return count;\n}\n\n/**\n * Split a key value pair.\n * @private\n */\n\nfunction splitKeyValuePair(str) {\n  var index = str.indexOf('=');\n  var key;\n  var val;\n\n  if (index === -1) {\n    key = str;\n  } else {\n    key = str.substr(0, index);\n    val = str.substr(index + 1);\n  }\n\n  return [key, val];\n}\n\n/**\n * Split an Accept header into media types.\n * @private\n */\n\nfunction splitMediaTypes(accept) {\n  var accepts = accept.split(',');\n\n  for (var i = 1, j = 0; i < accepts.length; i++) {\n    if (quoteCount(accepts[j]) % 2 == 0) {\n      accepts[++j] = accepts[i];\n    } else {\n      accepts[j] += ',' + accepts[i];\n    }\n  }\n\n  // trim accepts\n  accepts.length = j + 1;\n\n  return accepts;\n}\n\n/**\n * Split a string of parameters.\n * @private\n */\n\nfunction splitParameters(str) {\n  var parameters = str.split(';');\n\n  for (var i = 1, j = 0; i < parameters.length; i++) {\n    if (quoteCount(parameters[j]) % 2 == 0) {\n      parameters[++j] = parameters[i];\n    } else {\n      parameters[j] += ';' + parameters[i];\n    }\n  }\n\n  // trim parameters\n  parameters.length = j + 1;\n\n  for (var i = 0; i < parameters.length; i++) {\n    parameters[i] = parameters[i].trim();\n  }\n\n  return parameters;\n}\n","var crypto = require('crypto')\n\nfunction sha (key, body, algorithm) {\n  return crypto.createHmac(algorithm, key).update(body).digest('base64')\n}\n\nfunction rsa (key, body) {\n  return crypto.createSign('RSA-SHA1').update(body).sign(key, 'base64')\n}\n\nfunction rfc3986 (str) {\n  return encodeURIComponent(str)\n    .replace(/!/g,'%21')\n    .replace(/\\*/g,'%2A')\n    .replace(/\\(/g,'%28')\n    .replace(/\\)/g,'%29')\n    .replace(/'/g,'%27')\n}\n\n// Maps object to bi-dimensional array\n// Converts { foo: 'A', bar: [ 'b', 'B' ]} to\n// [ ['foo', 'A'], ['bar', 'b'], ['bar', 'B'] ]\nfunction map (obj) {\n  var key, val, arr = []\n  for (key in obj) {\n    val = obj[key]\n    if (Array.isArray(val))\n      for (var i = 0; i < val.length; i++)\n        arr.push([key, val[i]])\n    else if (typeof val === 'object')\n      for (var prop in val)\n        arr.push([key + '[' + prop + ']', val[prop]])\n    else\n      arr.push([key, val])\n  }\n  return arr\n}\n\n// Compare function for sort\nfunction compare (a, b) {\n  return a > b ? 1 : a < b ? -1 : 0\n}\n\nfunction generateBase (httpMethod, base_uri, params) {\n  // adapted from https://dev.twitter.com/docs/auth/oauth and \n  // https://dev.twitter.com/docs/auth/creating-signature\n\n  // Parameter normalization\n  // http://tools.ietf.org/html/rfc5849#section-3.4.1.3.2\n  var normalized = map(params)\n  // 1.  First, the name and value of each parameter are encoded\n  .map(function (p) {\n    return [ rfc3986(p[0]), rfc3986(p[1] || '') ]\n  })\n  // 2.  The parameters are sorted by name, using ascending byte value\n  //     ordering.  If two or more parameters share the same name, they\n  //     are sorted by their value.\n  .sort(function (a, b) {\n    return compare(a[0], b[0]) || compare(a[1], b[1])\n  })\n  // 3.  The name of each parameter is concatenated to its corresponding\n  //     value using an \"=\" character (ASCII code 61) as a separator, even\n  //     if the value is empty.\n  .map(function (p) { return p.join('=') })\n   // 4.  The sorted name/value pairs are concatenated together into a\n   //     single string by using an \"&\" character (ASCII code 38) as\n   //     separator.\n  .join('&')\n\n  var base = [\n    rfc3986(httpMethod ? httpMethod.toUpperCase() : 'GET'),\n    rfc3986(base_uri),\n    rfc3986(normalized)\n  ].join('&')\n\n  return base\n}\n\nfunction hmacsign (httpMethod, base_uri, params, consumer_secret, token_secret) {\n  var base = generateBase(httpMethod, base_uri, params)\n  var key = [\n    consumer_secret || '',\n    token_secret || ''\n  ].map(rfc3986).join('&')\n\n  return sha(key, base, 'sha1')\n}\n\nfunction hmacsign256 (httpMethod, base_uri, params, consumer_secret, token_secret) {\n  var base = generateBase(httpMethod, base_uri, params)\n  var key = [\n    consumer_secret || '',\n    token_secret || ''\n  ].map(rfc3986).join('&')\n\n  return sha(key, base, 'sha256')\n}\n\nfunction rsasign (httpMethod, base_uri, params, private_key, token_secret) {\n  var base = generateBase(httpMethod, base_uri, params)\n  var key = private_key || ''\n\n  return rsa(key, base)\n}\n\nfunction plaintext (consumer_secret, token_secret) {\n  var key = [\n    consumer_secret || '',\n    token_secret || ''\n  ].map(rfc3986).join('&')\n\n  return key\n}\n\nfunction sign (signMethod, httpMethod, base_uri, params, consumer_secret, token_secret) {\n  var method\n  var skipArgs = 1\n\n  switch (signMethod) {\n    case 'RSA-SHA1':\n      method = rsasign\n      break\n    case 'HMAC-SHA1':\n      method = hmacsign\n      break\n    case 'HMAC-SHA256':\n      method = hmacsign256\n      break\n    case 'PLAINTEXT':\n      method = plaintext\n      skipArgs = 4\n      break\n    default:\n     throw new Error('Signature method not supported: ' + signMethod)\n  }\n\n  return method.apply(null, [].slice.call(arguments, skipArgs))\n}\n\nexports.hmacsign = hmacsign\nexports.hmacsign256 = hmacsign256\nexports.rsasign = rsasign\nexports.plaintext = plaintext\nexports.sign = sign\nexports.rfc3986 = rfc3986\nexports.generateBase = generateBase","/*\nobject-assign\n(c) Sindre Sorhus\n@license MIT\n*/\n\n'use strict';\n/* eslint-disable no-unused-vars */\nvar getOwnPropertySymbols = Object.getOwnPropertySymbols;\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\nvar propIsEnumerable = Object.prototype.propertyIsEnumerable;\n\nfunction toObject(val) {\n\tif (val === null || val === undefined) {\n\t\tthrow new TypeError('Object.assign cannot be called with null or undefined');\n\t}\n\n\treturn Object(val);\n}\n\nfunction shouldUseNative() {\n\ttry {\n\t\tif (!Object.assign) {\n\t\t\treturn false;\n\t\t}\n\n\t\t// Detect buggy property enumeration order in older V8 versions.\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=4118\n\t\tvar test1 = new String('abc');  // eslint-disable-line no-new-wrappers\n\t\ttest1[5] = 'de';\n\t\tif (Object.getOwnPropertyNames(test1)[0] === '5') {\n\t\t\treturn false;\n\t\t}\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=3056\n\t\tvar test2 = {};\n\t\tfor (var i = 0; i < 10; i++) {\n\t\t\ttest2['_' + String.fromCharCode(i)] = i;\n\t\t}\n\t\tvar order2 = Object.getOwnPropertyNames(test2).map(function (n) {\n\t\t\treturn test2[n];\n\t\t});\n\t\tif (order2.join('') !== '0123456789') {\n\t\t\treturn false;\n\t\t}\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=3056\n\t\tvar test3 = {};\n\t\t'abcdefghijklmnopqrst'.split('').forEach(function (letter) {\n\t\t\ttest3[letter] = letter;\n\t\t});\n\t\tif (Object.keys(Object.assign({}, test3)).join('') !==\n\t\t\t\t'abcdefghijklmnopqrst') {\n\t\t\treturn false;\n\t\t}\n\n\t\treturn true;\n\t} catch (err) {\n\t\t// We don't expect any of the above to throw, but better to be safe.\n\t\treturn false;\n\t}\n}\n\nmodule.exports = shouldUseNative() ? Object.assign : function (target, source) {\n\tvar from;\n\tvar to = toObject(target);\n\tvar symbols;\n\n\tfor (var s = 1; s < arguments.length; s++) {\n\t\tfrom = Object(arguments[s]);\n\n\t\tfor (var key in from) {\n\t\t\tif (hasOwnProperty.call(from, key)) {\n\t\t\t\tto[key] = from[key];\n\t\t\t}\n\t\t}\n\n\t\tif (getOwnPropertySymbols) {\n\t\t\tsymbols = getOwnPropertySymbols(from);\n\t\t\tfor (var i = 0; i < symbols.length; i++) {\n\t\t\t\tif (propIsEnumerable.call(from, symbols[i])) {\n\t\t\t\t\tto[symbols[i]] = from[symbols[i]];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\treturn to;\n};\n","/*!\n * on-finished\n * Copyright(c) 2013 Jonathan Ong\n * Copyright(c) 2014 Douglas Christopher Wilson\n * MIT Licensed\n */\n\n'use strict'\n\n/**\n * Module exports.\n * @public\n */\n\nmodule.exports = onFinished\nmodule.exports.isFinished = isFinished\n\n/**\n * Module dependencies.\n * @private\n */\n\nvar first = require('ee-first')\n\n/**\n * Variables.\n * @private\n */\n\n/* istanbul ignore next */\nvar defer = typeof setImmediate === 'function'\n  ? setImmediate\n  : function(fn){ process.nextTick(fn.bind.apply(fn, arguments)) }\n\n/**\n * Invoke callback when the response has finished, useful for\n * cleaning up resources afterwards.\n *\n * @param {object} msg\n * @param {function} listener\n * @return {object}\n * @public\n */\n\nfunction onFinished(msg, listener) {\n  if (isFinished(msg) !== false) {\n    defer(listener, null, msg)\n    return msg\n  }\n\n  // attach the listener to the message\n  attachListener(msg, listener)\n\n  return msg\n}\n\n/**\n * Determine if message is already finished.\n *\n * @param {object} msg\n * @return {boolean}\n * @public\n */\n\nfunction isFinished(msg) {\n  var socket = msg.socket\n\n  if (typeof msg.finished === 'boolean') {\n    // OutgoingMessage\n    return Boolean(msg.finished || (socket && !socket.writable))\n  }\n\n  if (typeof msg.complete === 'boolean') {\n    // IncomingMessage\n    return Boolean(msg.upgrade || !socket || !socket.readable || (msg.complete && !msg.readable))\n  }\n\n  // don't know\n  return undefined\n}\n\n/**\n * Attach a finished listener to the message.\n *\n * @param {object} msg\n * @param {function} callback\n * @private\n */\n\nfunction attachFinishedListener(msg, callback) {\n  var eeMsg\n  var eeSocket\n  var finished = false\n\n  function onFinish(error) {\n    eeMsg.cancel()\n    eeSocket.cancel()\n\n    finished = true\n    callback(error)\n  }\n\n  // finished on first message event\n  eeMsg = eeSocket = first([[msg, 'end', 'finish']], onFinish)\n\n  function onSocket(socket) {\n    // remove listener\n    msg.removeListener('socket', onSocket)\n\n    if (finished) return\n    if (eeMsg !== eeSocket) return\n\n    // finished on first socket event\n    eeSocket = first([[socket, 'error', 'close']], onFinish)\n  }\n\n  if (msg.socket) {\n    // socket already assigned\n    onSocket(msg.socket)\n    return\n  }\n\n  // wait for socket to be assigned\n  msg.on('socket', onSocket)\n\n  if (msg.socket === undefined) {\n    // node.js 0.8 patch\n    patchAssignSocket(msg, onSocket)\n  }\n}\n\n/**\n * Attach the listener to the message.\n *\n * @param {object} msg\n * @return {function}\n * @private\n */\n\nfunction attachListener(msg, listener) {\n  var attached = msg.__onFinished\n\n  // create a private single listener with queue\n  if (!attached || !attached.queue) {\n    attached = msg.__onFinished = createListener(msg)\n    attachFinishedListener(msg, attached)\n  }\n\n  attached.queue.push(listener)\n}\n\n/**\n * Create listener on message.\n *\n * @param {object} msg\n * @return {function}\n * @private\n */\n\nfunction createListener(msg) {\n  function listener(err) {\n    if (msg.__onFinished === listener) msg.__onFinished = null\n    if (!listener.queue) return\n\n    var queue = listener.queue\n    listener.queue = null\n\n    for (var i = 0; i < queue.length; i++) {\n      queue[i](err, msg)\n    }\n  }\n\n  listener.queue = []\n\n  return listener\n}\n\n/**\n * Patch ServerResponse.prototype.assignSocket for node.js 0.8.\n *\n * @param {ServerResponse} res\n * @param {function} callback\n * @private\n */\n\nfunction patchAssignSocket(res, callback) {\n  var assignSocket = res.assignSocket\n\n  if (typeof assignSocket !== 'function') return\n\n  // res.on('socket', callback) is broken in 0.8\n  res.assignSocket = function _assignSocket(socket) {\n    assignSocket.call(this, socket)\n    callback(socket)\n  }\n}\n","/*!\n * on-headers\n * Copyright(c) 2014 Douglas Christopher Wilson\n * MIT Licensed\n */\n\n'use strict'\n\n/**\n * Module exports.\n * @public\n */\n\nmodule.exports = onHeaders\n\n/**\n * Create a replacement writeHead method.\n *\n * @param {function} prevWriteHead\n * @param {function} listener\n * @private\n */\n\nfunction createWriteHead (prevWriteHead, listener) {\n  var fired = false\n\n  // return function with core name and argument list\n  return function writeHead (statusCode) {\n    // set headers from arguments\n    var args = setWriteHeadHeaders.apply(this, arguments)\n\n    // fire listener\n    if (!fired) {\n      fired = true\n      listener.call(this)\n\n      // pass-along an updated status code\n      if (typeof args[0] === 'number' && this.statusCode !== args[0]) {\n        args[0] = this.statusCode\n        args.length = 1\n      }\n    }\n\n    return prevWriteHead.apply(this, args)\n  }\n}\n\n/**\n * Execute a listener when a response is about to write headers.\n *\n * @param {object} res\n * @return {function} listener\n * @public\n */\n\nfunction onHeaders (res, listener) {\n  if (!res) {\n    throw new TypeError('argument res is required')\n  }\n\n  if (typeof listener !== 'function') {\n    throw new TypeError('argument listener must be a function')\n  }\n\n  res.writeHead = createWriteHead(res.writeHead, listener)\n}\n\n/**\n * Set headers contained in array on the response object.\n *\n * @param {object} res\n * @param {array} headers\n * @private\n */\n\nfunction setHeadersFromArray (res, headers) {\n  for (var i = 0; i < headers.length; i++) {\n    res.setHeader(headers[i][0], headers[i][1])\n  }\n}\n\n/**\n * Set headers contained in object on the response object.\n *\n * @param {object} res\n * @param {object} headers\n * @private\n */\n\nfunction setHeadersFromObject (res, headers) {\n  var keys = Object.keys(headers)\n  for (var i = 0; i < keys.length; i++) {\n    var k = keys[i]\n    if (k) res.setHeader(k, headers[k])\n  }\n}\n\n/**\n * Set headers and other properties on the response object.\n *\n * @param {number} statusCode\n * @private\n */\n\nfunction setWriteHeadHeaders (statusCode) {\n  var length = arguments.length\n  var headerIndex = length > 1 && typeof arguments[1] === 'string'\n    ? 2\n    : 1\n\n  var headers = length >= headerIndex + 1\n    ? arguments[headerIndex]\n    : undefined\n\n  this.statusCode = statusCode\n\n  if (Array.isArray(headers)) {\n    // handle array case\n    setHeadersFromArray(this, headers)\n  } else if (headers) {\n    // handle object case\n    setHeadersFromObject(this, headers)\n  }\n\n  // copy leading arguments\n  var args = new Array(Math.min(length, headerIndex))\n  for (var i = 0; i < args.length; i++) {\n    args[i] = arguments[i]\n  }\n\n  return args\n}\n","/*!\n * parseurl\n * Copyright(c) 2014 Jonathan Ong\n * Copyright(c) 2014-2017 Douglas Christopher Wilson\n * MIT Licensed\n */\n\n'use strict'\n\n/**\n * Module dependencies.\n * @private\n */\n\nvar url = require('url')\nvar parse = url.parse\nvar Url = url.Url\n\n/**\n * Module exports.\n * @public\n */\n\nmodule.exports = parseurl\nmodule.exports.original = originalurl\n\n/**\n * Parse the `req` url with memoization.\n *\n * @param {ServerRequest} req\n * @return {Object}\n * @public\n */\n\nfunction parseurl (req) {\n  var url = req.url\n\n  if (url === undefined) {\n    // URL is undefined\n    return undefined\n  }\n\n  var parsed = req._parsedUrl\n\n  if (fresh(url, parsed)) {\n    // Return cached URL parse\n    return parsed\n  }\n\n  // Parse the URL\n  parsed = fastparse(url)\n  parsed._raw = url\n\n  return (req._parsedUrl = parsed)\n};\n\n/**\n * Parse the `req` original url with fallback and memoization.\n *\n * @param {ServerRequest} req\n * @return {Object}\n * @public\n */\n\nfunction originalurl (req) {\n  var url = req.originalUrl\n\n  if (typeof url !== 'string') {\n    // Fallback\n    return parseurl(req)\n  }\n\n  var parsed = req._parsedOriginalUrl\n\n  if (fresh(url, parsed)) {\n    // Return cached URL parse\n    return parsed\n  }\n\n  // Parse the URL\n  parsed = fastparse(url)\n  parsed._raw = url\n\n  return (req._parsedOriginalUrl = parsed)\n};\n\n/**\n * Parse the `str` url with fast-path short-cut.\n *\n * @param {string} str\n * @return {Object}\n * @private\n */\n\nfunction fastparse (str) {\n  if (typeof str !== 'string' || str.charCodeAt(0) !== 0x2f /* / */) {\n    return parse(str)\n  }\n\n  var pathname = str\n  var query = null\n  var search = null\n\n  // This takes the regexp from https://github.com/joyent/node/pull/7878\n  // Which is /^(\\/[^?#\\s]*)(\\?[^#\\s]*)?$/\n  // And unrolls it into a for loop\n  for (var i = 1; i < str.length; i++) {\n    switch (str.charCodeAt(i)) {\n      case 0x3f: /* ?  */\n        if (search === null) {\n          pathname = str.substring(0, i)\n          query = str.substring(i + 1)\n          search = str.substring(i)\n        }\n        break\n      case 0x09: /* \\t */\n      case 0x0a: /* \\n */\n      case 0x0c: /* \\f */\n      case 0x0d: /* \\r */\n      case 0x20: /*    */\n      case 0x23: /* #  */\n      case 0xa0:\n      case 0xfeff:\n        return parse(str)\n    }\n  }\n\n  var url = Url !== undefined\n    ? new Url()\n    : {}\n\n  url.path = str\n  url.href = str\n  url.pathname = pathname\n\n  if (search !== null) {\n    url.query = query\n    url.search = search\n  }\n\n  return url\n}\n\n/**\n * Determine if parsed is still fresh for url.\n *\n * @param {string} url\n * @param {object} parsedUrl\n * @return {boolean}\n * @private\n */\n\nfunction fresh (url, parsedUrl) {\n  return typeof parsedUrl === 'object' &&\n    parsedUrl !== null &&\n    (Url === undefined || parsedUrl instanceof Url) &&\n    parsedUrl._raw === url\n}\n","/**\n * Expose `pathtoRegexp`.\n */\n\nmodule.exports = pathtoRegexp;\n\n/**\n * Match matching groups in a regular expression.\n */\nvar MATCHING_GROUP_REGEXP = /\\((?!\\?)/g;\n\n/**\n * Normalize the given path string,\n * returning a regular expression.\n *\n * An empty array should be passed,\n * which will contain the placeholder\n * key names. For example \"/user/:id\" will\n * then contain [\"id\"].\n *\n * @param  {String|RegExp|Array} path\n * @param  {Array} keys\n * @param  {Object} options\n * @return {RegExp}\n * @api private\n */\n\nfunction pathtoRegexp(path, keys, options) {\n  options = options || {};\n  keys = keys || [];\n  var strict = options.strict;\n  var end = options.end !== false;\n  var flags = options.sensitive ? '' : 'i';\n  var extraOffset = 0;\n  var keysOffset = keys.length;\n  var i = 0;\n  var name = 0;\n  var m;\n\n  if (path instanceof RegExp) {\n    while (m = MATCHING_GROUP_REGEXP.exec(path.source)) {\n      keys.push({\n        name: name++,\n        optional: false,\n        offset: m.index\n      });\n    }\n\n    return path;\n  }\n\n  if (Array.isArray(path)) {\n    // Map array parts into regexps and return their source. We also pass\n    // the same keys and options instance into every generation to get\n    // consistent matching groups before we join the sources together.\n    path = path.map(function (value) {\n      return pathtoRegexp(value, keys, options).source;\n    });\n\n    return new RegExp('(?:' + path.join('|') + ')', flags);\n  }\n\n  path = ('^' + path + (strict ? '' : path[path.length - 1] === '/' ? '?' : '/?'))\n    .replace(/\\/\\(/g, '/(?:')\n    .replace(/([\\/\\.])/g, '\\\\$1')\n    .replace(/(\\\\\\/)?(\\\\\\.)?:(\\w+)(\\(.*?\\))?(\\*)?(\\?)?/g, function (match, slash, format, key, capture, star, optional, offset) {\n      slash = slash || '';\n      format = format || '';\n      capture = capture || '([^\\\\/' + format + ']+?)';\n      optional = optional || '';\n\n      keys.push({\n        name: key,\n        optional: !!optional,\n        offset: offset + extraOffset\n      });\n\n      var result = ''\n        + (optional ? '' : slash)\n        + '(?:'\n        + format + (optional ? slash : '') + capture\n        + (star ? '((?:[\\\\/' + format + '].+?)?)' : '')\n        + ')'\n        + optional;\n\n      extraOffset += result.length - match.length;\n\n      return result;\n    })\n    .replace(/\\*/g, function (star, index) {\n      var len = keys.length\n\n      while (len-- > keysOffset && keys[len].offset > index) {\n        keys[len].offset += 3; // Replacement length minus asterisk length.\n      }\n\n      return '(.*)';\n    });\n\n  // This is a workaround for handling unnamed matching groups.\n  while (m = MATCHING_GROUP_REGEXP.exec(path)) {\n    var escapeCount = 0;\n    var index = m.index;\n\n    while (path.charAt(--index) === '\\\\') {\n      escapeCount++;\n    }\n\n    // It's possible to escape the bracket.\n    if (escapeCount % 2 === 1) {\n      continue;\n    }\n\n    if (keysOffset + i === keys.length || keys[keysOffset + i].offset > m.index) {\n      keys.splice(keysOffset + i, 0, {\n        name: name++, // Unnamed matching groups must be consistently linear.\n        optional: false,\n        offset: m.index\n      });\n    }\n\n    i++;\n  }\n\n  // If the path is non-ending, match until the end or a slash.\n  path += (end ? '$' : (path[path.length - 1] === '/' ? '' : '(?=\\\\/|$)'));\n\n  return new RegExp(path, flags);\n};\n","// Generated by CoffeeScript 1.12.2\n(function() {\n  var getNanoSeconds, hrtime, loadTime, moduleLoadTime, nodeLoadTime, upTime;\n\n  if ((typeof performance !== \"undefined\" && performance !== null) && performance.now) {\n    module.exports = function() {\n      return performance.now();\n    };\n  } else if ((typeof process !== \"undefined\" && process !== null) && process.hrtime) {\n    module.exports = function() {\n      return (getNanoSeconds() - nodeLoadTime) / 1e6;\n    };\n    hrtime = process.hrtime;\n    getNanoSeconds = function() {\n      var hr;\n      hr = hrtime();\n      return hr[0] * 1e9 + hr[1];\n    };\n    moduleLoadTime = getNanoSeconds();\n    upTime = process.uptime() * 1e9;\n    nodeLoadTime = moduleLoadTime - upTime;\n  } else if (Date.now) {\n    module.exports = function() {\n      return Date.now() - loadTime;\n    };\n    loadTime = Date.now();\n  } else {\n    module.exports = function() {\n      return new Date().getTime() - loadTime;\n    };\n    loadTime = new Date().getTime();\n  }\n\n}).call(this);\n\n//# sourceMappingURL=performance-now.js.map\n","/*!\n * proxy-addr\n * Copyright(c) 2014-2016 Douglas Christopher Wilson\n * MIT Licensed\n */\n\n'use strict'\n\n/**\n * Module exports.\n * @public\n */\n\nmodule.exports = proxyaddr\nmodule.exports.all = alladdrs\nmodule.exports.compile = compile\n\n/**\n * Module dependencies.\n * @private\n */\n\nvar forwarded = require('forwarded')\nvar ipaddr = require('ipaddr.js')\n\n/**\n * Variables.\n * @private\n */\n\nvar DIGIT_REGEXP = /^[0-9]+$/\nvar isip = ipaddr.isValid\nvar parseip = ipaddr.parse\n\n/**\n * Pre-defined IP ranges.\n * @private\n */\n\nvar IP_RANGES = {\n  linklocal: ['169.254.0.0/16', 'fe80::/10'],\n  loopback: ['127.0.0.1/8', '::1/128'],\n  uniquelocal: ['10.0.0.0/8', '172.16.0.0/12', '192.168.0.0/16', 'fc00::/7']\n}\n\n/**\n * Get all addresses in the request, optionally stopping\n * at the first untrusted.\n *\n * @param {Object} request\n * @param {Function|Array|String} [trust]\n * @public\n */\n\nfunction alladdrs (req, trust) {\n  // get addresses\n  var addrs = forwarded(req)\n\n  if (!trust) {\n    // Return all addresses\n    return addrs\n  }\n\n  if (typeof trust !== 'function') {\n    trust = compile(trust)\n  }\n\n  for (var i = 0; i < addrs.length - 1; i++) {\n    if (trust(addrs[i], i)) continue\n\n    addrs.length = i + 1\n  }\n\n  return addrs\n}\n\n/**\n * Compile argument into trust function.\n *\n * @param {Array|String} val\n * @private\n */\n\nfunction compile (val) {\n  if (!val) {\n    throw new TypeError('argument is required')\n  }\n\n  var trust\n\n  if (typeof val === 'string') {\n    trust = [val]\n  } else if (Array.isArray(val)) {\n    trust = val.slice()\n  } else {\n    throw new TypeError('unsupported trust argument')\n  }\n\n  for (var i = 0; i < trust.length; i++) {\n    val = trust[i]\n\n    if (!IP_RANGES.hasOwnProperty(val)) {\n      continue\n    }\n\n    // Splice in pre-defined range\n    val = IP_RANGES[val]\n    trust.splice.apply(trust, [i, 1].concat(val))\n    i += val.length - 1\n  }\n\n  return compileTrust(compileRangeSubnets(trust))\n}\n\n/**\n * Compile `arr` elements into range subnets.\n *\n * @param {Array} arr\n * @private\n */\n\nfunction compileRangeSubnets (arr) {\n  var rangeSubnets = new Array(arr.length)\n\n  for (var i = 0; i < arr.length; i++) {\n    rangeSubnets[i] = parseipNotation(arr[i])\n  }\n\n  return rangeSubnets\n}\n\n/**\n * Compile range subnet array into trust function.\n *\n * @param {Array} rangeSubnets\n * @private\n */\n\nfunction compileTrust (rangeSubnets) {\n  // Return optimized function based on length\n  var len = rangeSubnets.length\n  return len === 0\n    ? trustNone\n    : len === 1\n      ? trustSingle(rangeSubnets[0])\n      : trustMulti(rangeSubnets)\n}\n\n/**\n * Parse IP notation string into range subnet.\n *\n * @param {String} note\n * @private\n */\n\nfunction parseipNotation (note) {\n  var pos = note.lastIndexOf('/')\n  var str = pos !== -1\n    ? note.substring(0, pos)\n    : note\n\n  if (!isip(str)) {\n    throw new TypeError('invalid IP address: ' + str)\n  }\n\n  var ip = parseip(str)\n\n  if (pos === -1 && ip.kind() === 'ipv6' && ip.isIPv4MappedAddress()) {\n    // Store as IPv4\n    ip = ip.toIPv4Address()\n  }\n\n  var max = ip.kind() === 'ipv6'\n    ? 128\n    : 32\n\n  var range = pos !== -1\n    ? note.substring(pos + 1, note.length)\n    : null\n\n  if (range === null) {\n    range = max\n  } else if (DIGIT_REGEXP.test(range)) {\n    range = parseInt(range, 10)\n  } else if (ip.kind() === 'ipv4' && isip(range)) {\n    range = parseNetmask(range)\n  } else {\n    range = null\n  }\n\n  if (range <= 0 || range > max) {\n    throw new TypeError('invalid range on address: ' + note)\n  }\n\n  return [ip, range]\n}\n\n/**\n * Parse netmask string into CIDR range.\n *\n * @param {String} netmask\n * @private\n */\n\nfunction parseNetmask (netmask) {\n  var ip = parseip(netmask)\n  var kind = ip.kind()\n\n  return kind === 'ipv4'\n    ? ip.prefixLengthFromSubnetMask()\n    : null\n}\n\n/**\n * Determine address of proxied request.\n *\n * @param {Object} request\n * @param {Function|Array|String} trust\n * @public\n */\n\nfunction proxyaddr (req, trust) {\n  if (!req) {\n    throw new TypeError('req argument is required')\n  }\n\n  if (!trust) {\n    throw new TypeError('trust argument is required')\n  }\n\n  var addrs = alladdrs(req, trust)\n  var addr = addrs[addrs.length - 1]\n\n  return addr\n}\n\n/**\n * Static trust function to trust nothing.\n *\n * @private\n */\n\nfunction trustNone () {\n  return false\n}\n\n/**\n * Compile trust function for multiple subnets.\n *\n * @param {Array} subnets\n * @private\n */\n\nfunction trustMulti (subnets) {\n  return function trust (addr) {\n    if (!isip(addr)) return false\n\n    var ip = parseip(addr)\n    var ipconv\n    var kind = ip.kind()\n\n    for (var i = 0; i < subnets.length; i++) {\n      var subnet = subnets[i]\n      var subnetip = subnet[0]\n      var subnetkind = subnetip.kind()\n      var subnetrange = subnet[1]\n      var trusted = ip\n\n      if (kind !== subnetkind) {\n        if (subnetkind === 'ipv4' && !ip.isIPv4MappedAddress()) {\n          // Incompatible IP addresses\n          continue\n        }\n\n        if (!ipconv) {\n          // Convert IP to match subnet IP kind\n          ipconv = subnetkind === 'ipv4'\n            ? ip.toIPv4Address()\n            : ip.toIPv4MappedAddress()\n        }\n\n        trusted = ipconv\n      }\n\n      if (trusted.match(subnetip, subnetrange)) {\n        return true\n      }\n    }\n\n    return false\n  }\n}\n\n/**\n * Compile trust function for single subnet.\n *\n * @param {Object} subnet\n * @private\n */\n\nfunction trustSingle (subnet) {\n  var subnetip = subnet[0]\n  var subnetkind = subnetip.kind()\n  var subnetisipv4 = subnetkind === 'ipv4'\n  var subnetrange = subnet[1]\n\n  return function trust (addr) {\n    if (!isip(addr)) return false\n\n    var ip = parseip(addr)\n    var kind = ip.kind()\n\n    if (kind !== subnetkind) {\n      if (subnetisipv4 && !ip.isIPv4MappedAddress()) {\n        // Incompatible IP addresses\n        return false\n      }\n\n      // Convert IP to match subnet IP kind\n      ip = subnetisipv4\n        ? ip.toIPv4Address()\n        : ip.toIPv4MappedAddress()\n    }\n\n    return ip.match(subnetip, subnetrange)\n  }\n}\n","/*eslint no-var:0, prefer-arrow-callback: 0, object-shorthand: 0 */\n'use strict';\n\n\nvar Punycode = require('punycode');\n\n\nvar internals = {};\n\n\n//\n// Read rules from file.\n//\ninternals.rules = require('./data/rules.json').map(function (rule) {\n\n  return {\n    rule: rule,\n    suffix: rule.replace(/^(\\*\\.|\\!)/, ''),\n    punySuffix: -1,\n    wildcard: rule.charAt(0) === '*',\n    exception: rule.charAt(0) === '!'\n  };\n});\n\n\n//\n// Check is given string ends with `suffix`.\n//\ninternals.endsWith = function (str, suffix) {\n\n  return str.indexOf(suffix, str.length - suffix.length) !== -1;\n};\n\n\n//\n// Find rule for a given domain.\n//\ninternals.findRule = function (domain) {\n\n  var punyDomain = Punycode.toASCII(domain);\n  return internals.rules.reduce(function (memo, rule) {\n\n    if (rule.punySuffix === -1){\n      rule.punySuffix = Punycode.toASCII(rule.suffix);\n    }\n    if (!internals.endsWith(punyDomain, '.' + rule.punySuffix) && punyDomain !== rule.punySuffix) {\n      return memo;\n    }\n    // This has been commented out as it never seems to run. This is because\n    // sub tlds always appear after their parents and we never find a shorter\n    // match.\n    //if (memo) {\n    //  var memoSuffix = Punycode.toASCII(memo.suffix);\n    //  if (memoSuffix.length >= punySuffix.length) {\n    //    return memo;\n    //  }\n    //}\n    return rule;\n  }, null);\n};\n\n\n//\n// Error codes and messages.\n//\nexports.errorCodes = {\n  DOMAIN_TOO_SHORT: 'Domain name too short.',\n  DOMAIN_TOO_LONG: 'Domain name too long. It should be no more than 255 chars.',\n  LABEL_STARTS_WITH_DASH: 'Domain name label can not start with a dash.',\n  LABEL_ENDS_WITH_DASH: 'Domain name label can not end with a dash.',\n  LABEL_TOO_LONG: 'Domain name label should be at most 63 chars long.',\n  LABEL_TOO_SHORT: 'Domain name label should be at least 1 character long.',\n  LABEL_INVALID_CHARS: 'Domain name label can only contain alphanumeric characters or dashes.'\n};\n\n\n//\n// Validate domain name and throw if not valid.\n//\n// From wikipedia:\n//\n// Hostnames are composed of series of labels concatenated with dots, as are all\n// domain names. Each label must be between 1 and 63 characters long, and the\n// entire hostname (including the delimiting dots) has a maximum of 255 chars.\n//\n// Allowed chars:\n//\n// * `a-z`\n// * `0-9`\n// * `-` but not as a starting or ending character\n// * `.` as a separator for the textual portions of a domain name\n//\n// * http://en.wikipedia.org/wiki/Domain_name\n// * http://en.wikipedia.org/wiki/Hostname\n//\ninternals.validate = function (input) {\n\n  // Before we can validate we need to take care of IDNs with unicode chars.\n  var ascii = Punycode.toASCII(input);\n\n  if (ascii.length < 1) {\n    return 'DOMAIN_TOO_SHORT';\n  }\n  if (ascii.length > 255) {\n    return 'DOMAIN_TOO_LONG';\n  }\n\n  // Check each part's length and allowed chars.\n  var labels = ascii.split('.');\n  var label;\n\n  for (var i = 0; i < labels.length; ++i) {\n    label = labels[i];\n    if (!label.length) {\n      return 'LABEL_TOO_SHORT';\n    }\n    if (label.length > 63) {\n      return 'LABEL_TOO_LONG';\n    }\n    if (label.charAt(0) === '-') {\n      return 'LABEL_STARTS_WITH_DASH';\n    }\n    if (label.charAt(label.length - 1) === '-') {\n      return 'LABEL_ENDS_WITH_DASH';\n    }\n    if (!/^[a-z0-9\\-]+$/.test(label)) {\n      return 'LABEL_INVALID_CHARS';\n    }\n  }\n};\n\n\n//\n// Public API\n//\n\n\n//\n// Parse domain.\n//\nexports.parse = function (input) {\n\n  if (typeof input !== 'string') {\n    throw new TypeError('Domain name must be a string.');\n  }\n\n  // Force domain to lowercase.\n  var domain = input.slice(0).toLowerCase();\n\n  // Handle FQDN.\n  // TODO: Simply remove trailing dot?\n  if (domain.charAt(domain.length - 1) === '.') {\n    domain = domain.slice(0, domain.length - 1);\n  }\n\n  // Validate and sanitise input.\n  var error = internals.validate(domain);\n  if (error) {\n    return {\n      input: input,\n      error: {\n        message: exports.errorCodes[error],\n        code: error\n      }\n    };\n  }\n\n  var parsed = {\n    input: input,\n    tld: null,\n    sld: null,\n    domain: null,\n    subdomain: null,\n    listed: false\n  };\n\n  var domainParts = domain.split('.');\n\n  // Non-Internet TLD\n  if (domainParts[domainParts.length - 1] === 'local') {\n    return parsed;\n  }\n\n  var handlePunycode = function () {\n\n    if (!/xn--/.test(domain)) {\n      return parsed;\n    }\n    if (parsed.domain) {\n      parsed.domain = Punycode.toASCII(parsed.domain);\n    }\n    if (parsed.subdomain) {\n      parsed.subdomain = Punycode.toASCII(parsed.subdomain);\n    }\n    return parsed;\n  };\n\n  var rule = internals.findRule(domain);\n\n  // Unlisted tld.\n  if (!rule) {\n    if (domainParts.length < 2) {\n      return parsed;\n    }\n    parsed.tld = domainParts.pop();\n    parsed.sld = domainParts.pop();\n    parsed.domain = [parsed.sld, parsed.tld].join('.');\n    if (domainParts.length) {\n      parsed.subdomain = domainParts.pop();\n    }\n    return handlePunycode();\n  }\n\n  // At this point we know the public suffix is listed.\n  parsed.listed = true;\n\n  var tldParts = rule.suffix.split('.');\n  var privateParts = domainParts.slice(0, domainParts.length - tldParts.length);\n\n  if (rule.exception) {\n    privateParts.push(tldParts.shift());\n  }\n\n  parsed.tld = tldParts.join('.');\n\n  if (!privateParts.length) {\n    return handlePunycode();\n  }\n\n  if (rule.wildcard) {\n    tldParts.unshift(privateParts.pop());\n    parsed.tld = tldParts.join('.');\n  }\n\n  if (!privateParts.length) {\n    return handlePunycode();\n  }\n\n  parsed.sld = privateParts.pop();\n  parsed.domain = [parsed.sld,  parsed.tld].join('.');\n\n  if (privateParts.length) {\n    parsed.subdomain = privateParts.join('.');\n  }\n\n  return handlePunycode();\n};\n\n\n//\n// Get domain.\n//\nexports.get = function (domain) {\n\n  if (!domain) {\n    return null;\n  }\n  return exports.parse(domain).domain || null;\n};\n\n\n//\n// Check whether domain belongs to a known public suffix.\n//\nexports.isValid = function (domain) {\n\n  var parsed = exports.parse(domain);\n  return Boolean(parsed.domain && parsed.listed);\n};\n","'use strict';\n\nvar replace = String.prototype.replace;\nvar percentTwenties = /%20/g;\n\nmodule.exports = {\n    'default': 'RFC3986',\n    formatters: {\n        RFC1738: function (value) {\n            return replace.call(value, percentTwenties, '+');\n        },\n        RFC3986: function (value) {\n            return value;\n        }\n    },\n    RFC1738: 'RFC1738',\n    RFC3986: 'RFC3986'\n};\n","'use strict';\n\nvar stringify = require('./stringify');\nvar parse = require('./parse');\nvar formats = require('./formats');\n\nmodule.exports = {\n    formats: formats,\n    parse: parse,\n    stringify: stringify\n};\n","'use strict';\n\nvar utils = require('./utils');\n\nvar has = Object.prototype.hasOwnProperty;\n\nvar defaults = {\n    allowDots: false,\n    allowPrototypes: false,\n    arrayLimit: 20,\n    charset: 'utf-8',\n    charsetSentinel: false,\n    comma: false,\n    decoder: utils.decode,\n    delimiter: '&',\n    depth: 5,\n    ignoreQueryPrefix: false,\n    interpretNumericEntities: false,\n    parameterLimit: 1000,\n    parseArrays: true,\n    plainObjects: false,\n    strictNullHandling: false\n};\n\nvar interpretNumericEntities = function (str) {\n    return str.replace(/&#(\\d+);/g, function ($0, numberStr) {\n        return String.fromCharCode(parseInt(numberStr, 10));\n    });\n};\n\n// This is what browsers will submit when the  character occurs in an\n// application/x-www-form-urlencoded body and the encoding of the page containing\n// the form is iso-8859-1, or when the submitted form has an accept-charset\n// attribute of iso-8859-1. Presumably also with other charsets that do not contain\n// the  character, such as us-ascii.\nvar isoSentinel = 'utf8=%26%2310003%3B'; // encodeURIComponent('&#10003;')\n\n// These are the percent-encoded utf-8 octets representing a checkmark, indicating that the request actually is utf-8 encoded.\nvar charsetSentinel = 'utf8=%E2%9C%93'; // encodeURIComponent('')\n\nvar parseValues = function parseQueryStringValues(str, options) {\n    var obj = {};\n    var cleanStr = options.ignoreQueryPrefix ? str.replace(/^\\?/, '') : str;\n    var limit = options.parameterLimit === Infinity ? undefined : options.parameterLimit;\n    var parts = cleanStr.split(options.delimiter, limit);\n    var skipIndex = -1; // Keep track of where the utf8 sentinel was found\n    var i;\n\n    var charset = options.charset;\n    if (options.charsetSentinel) {\n        for (i = 0; i < parts.length; ++i) {\n            if (parts[i].indexOf('utf8=') === 0) {\n                if (parts[i] === charsetSentinel) {\n                    charset = 'utf-8';\n                } else if (parts[i] === isoSentinel) {\n                    charset = 'iso-8859-1';\n                }\n                skipIndex = i;\n                i = parts.length; // The eslint settings do not allow break;\n            }\n        }\n    }\n\n    for (i = 0; i < parts.length; ++i) {\n        if (i === skipIndex) {\n            continue;\n        }\n        var part = parts[i];\n\n        var bracketEqualsPos = part.indexOf(']=');\n        var pos = bracketEqualsPos === -1 ? part.indexOf('=') : bracketEqualsPos + 1;\n\n        var key, val;\n        if (pos === -1) {\n            key = options.decoder(part, defaults.decoder, charset);\n            val = options.strictNullHandling ? null : '';\n        } else {\n            key = options.decoder(part.slice(0, pos), defaults.decoder, charset);\n            val = options.decoder(part.slice(pos + 1), defaults.decoder, charset);\n        }\n\n        if (val && options.interpretNumericEntities && charset === 'iso-8859-1') {\n            val = interpretNumericEntities(val);\n        }\n\n        if (val && options.comma && val.indexOf(',') > -1) {\n            val = val.split(',');\n        }\n\n        if (has.call(obj, key)) {\n            obj[key] = utils.combine(obj[key], val);\n        } else {\n            obj[key] = val;\n        }\n    }\n\n    return obj;\n};\n\nvar parseObject = function (chain, val, options) {\n    var leaf = val;\n\n    for (var i = chain.length - 1; i >= 0; --i) {\n        var obj;\n        var root = chain[i];\n\n        if (root === '[]' && options.parseArrays) {\n            obj = [].concat(leaf);\n        } else {\n            obj = options.plainObjects ? Object.create(null) : {};\n            var cleanRoot = root.charAt(0) === '[' && root.charAt(root.length - 1) === ']' ? root.slice(1, -1) : root;\n            var index = parseInt(cleanRoot, 10);\n            if (!options.parseArrays && cleanRoot === '') {\n                obj = { 0: leaf };\n            } else if (\n                !isNaN(index)\n                && root !== cleanRoot\n                && String(index) === cleanRoot\n                && index >= 0\n                && (options.parseArrays && index <= options.arrayLimit)\n            ) {\n                obj = [];\n                obj[index] = leaf;\n            } else {\n                obj[cleanRoot] = leaf;\n            }\n        }\n\n        leaf = obj;\n    }\n\n    return leaf;\n};\n\nvar parseKeys = function parseQueryStringKeys(givenKey, val, options) {\n    if (!givenKey) {\n        return;\n    }\n\n    // Transform dot notation to bracket notation\n    var key = options.allowDots ? givenKey.replace(/\\.([^.[]+)/g, '[$1]') : givenKey;\n\n    // The regex chunks\n\n    var brackets = /(\\[[^[\\]]*])/;\n    var child = /(\\[[^[\\]]*])/g;\n\n    // Get the parent\n\n    var segment = brackets.exec(key);\n    var parent = segment ? key.slice(0, segment.index) : key;\n\n    // Stash the parent if it exists\n\n    var keys = [];\n    if (parent) {\n        // If we aren't using plain objects, optionally prefix keys that would overwrite object prototype properties\n        if (!options.plainObjects && has.call(Object.prototype, parent)) {\n            if (!options.allowPrototypes) {\n                return;\n            }\n        }\n\n        keys.push(parent);\n    }\n\n    // Loop through children appending to the array until we hit depth\n\n    var i = 0;\n    while ((segment = child.exec(key)) !== null && i < options.depth) {\n        i += 1;\n        if (!options.plainObjects && has.call(Object.prototype, segment[1].slice(1, -1))) {\n            if (!options.allowPrototypes) {\n                return;\n            }\n        }\n        keys.push(segment[1]);\n    }\n\n    // If there's a remainder, just add whatever is left\n\n    if (segment) {\n        keys.push('[' + key.slice(segment.index) + ']');\n    }\n\n    return parseObject(keys, val, options);\n};\n\nvar normalizeParseOptions = function normalizeParseOptions(opts) {\n    if (!opts) {\n        return defaults;\n    }\n\n    if (opts.decoder !== null && opts.decoder !== undefined && typeof opts.decoder !== 'function') {\n        throw new TypeError('Decoder has to be a function.');\n    }\n\n    if (typeof opts.charset !== 'undefined' && opts.charset !== 'utf-8' && opts.charset !== 'iso-8859-1') {\n        throw new Error('The charset option must be either utf-8, iso-8859-1, or undefined');\n    }\n    var charset = typeof opts.charset === 'undefined' ? defaults.charset : opts.charset;\n\n    return {\n        allowDots: typeof opts.allowDots === 'undefined' ? defaults.allowDots : !!opts.allowDots,\n        allowPrototypes: typeof opts.allowPrototypes === 'boolean' ? opts.allowPrototypes : defaults.allowPrototypes,\n        arrayLimit: typeof opts.arrayLimit === 'number' ? opts.arrayLimit : defaults.arrayLimit,\n        charset: charset,\n        charsetSentinel: typeof opts.charsetSentinel === 'boolean' ? opts.charsetSentinel : defaults.charsetSentinel,\n        comma: typeof opts.comma === 'boolean' ? opts.comma : defaults.comma,\n        decoder: typeof opts.decoder === 'function' ? opts.decoder : defaults.decoder,\n        delimiter: typeof opts.delimiter === 'string' || utils.isRegExp(opts.delimiter) ? opts.delimiter : defaults.delimiter,\n        depth: typeof opts.depth === 'number' ? opts.depth : defaults.depth,\n        ignoreQueryPrefix: opts.ignoreQueryPrefix === true,\n        interpretNumericEntities: typeof opts.interpretNumericEntities === 'boolean' ? opts.interpretNumericEntities : defaults.interpretNumericEntities,\n        parameterLimit: typeof opts.parameterLimit === 'number' ? opts.parameterLimit : defaults.parameterLimit,\n        parseArrays: opts.parseArrays !== false,\n        plainObjects: typeof opts.plainObjects === 'boolean' ? opts.plainObjects : defaults.plainObjects,\n        strictNullHandling: typeof opts.strictNullHandling === 'boolean' ? opts.strictNullHandling : defaults.strictNullHandling\n    };\n};\n\nmodule.exports = function (str, opts) {\n    var options = normalizeParseOptions(opts);\n\n    if (str === '' || str === null || typeof str === 'undefined') {\n        return options.plainObjects ? Object.create(null) : {};\n    }\n\n    var tempObj = typeof str === 'string' ? parseValues(str, options) : str;\n    var obj = options.plainObjects ? Object.create(null) : {};\n\n    // Iterate over the keys and setup the new object\n\n    var keys = Object.keys(tempObj);\n    for (var i = 0; i < keys.length; ++i) {\n        var key = keys[i];\n        var newObj = parseKeys(key, tempObj[key], options);\n        obj = utils.merge(obj, newObj, options);\n    }\n\n    return utils.compact(obj);\n};\n","'use strict';\n\nvar utils = require('./utils');\nvar formats = require('./formats');\nvar has = Object.prototype.hasOwnProperty;\n\nvar arrayPrefixGenerators = {\n    brackets: function brackets(prefix) { // eslint-disable-line func-name-matching\n        return prefix + '[]';\n    },\n    comma: 'comma',\n    indices: function indices(prefix, key) { // eslint-disable-line func-name-matching\n        return prefix + '[' + key + ']';\n    },\n    repeat: function repeat(prefix) { // eslint-disable-line func-name-matching\n        return prefix;\n    }\n};\n\nvar isArray = Array.isArray;\nvar push = Array.prototype.push;\nvar pushToArray = function (arr, valueOrArray) {\n    push.apply(arr, isArray(valueOrArray) ? valueOrArray : [valueOrArray]);\n};\n\nvar toISO = Date.prototype.toISOString;\n\nvar defaults = {\n    addQueryPrefix: false,\n    allowDots: false,\n    charset: 'utf-8',\n    charsetSentinel: false,\n    delimiter: '&',\n    encode: true,\n    encoder: utils.encode,\n    encodeValuesOnly: false,\n    formatter: formats.formatters[formats['default']],\n    // deprecated\n    indices: false,\n    serializeDate: function serializeDate(date) { // eslint-disable-line func-name-matching\n        return toISO.call(date);\n    },\n    skipNulls: false,\n    strictNullHandling: false\n};\n\nvar stringify = function stringify( // eslint-disable-line func-name-matching\n    object,\n    prefix,\n    generateArrayPrefix,\n    strictNullHandling,\n    skipNulls,\n    encoder,\n    filter,\n    sort,\n    allowDots,\n    serializeDate,\n    formatter,\n    encodeValuesOnly,\n    charset\n) {\n    var obj = object;\n    if (typeof filter === 'function') {\n        obj = filter(prefix, obj);\n    } else if (obj instanceof Date) {\n        obj = serializeDate(obj);\n    } else if (generateArrayPrefix === 'comma' && isArray(obj)) {\n        obj = obj.join(',');\n    }\n\n    if (obj === null) {\n        if (strictNullHandling) {\n            return encoder && !encodeValuesOnly ? encoder(prefix, defaults.encoder, charset) : prefix;\n        }\n\n        obj = '';\n    }\n\n    if (typeof obj === 'string' || typeof obj === 'number' || typeof obj === 'boolean' || utils.isBuffer(obj)) {\n        if (encoder) {\n            var keyValue = encodeValuesOnly ? prefix : encoder(prefix, defaults.encoder, charset);\n            return [formatter(keyValue) + '=' + formatter(encoder(obj, defaults.encoder, charset))];\n        }\n        return [formatter(prefix) + '=' + formatter(String(obj))];\n    }\n\n    var values = [];\n\n    if (typeof obj === 'undefined') {\n        return values;\n    }\n\n    var objKeys;\n    if (isArray(filter)) {\n        objKeys = filter;\n    } else {\n        var keys = Object.keys(obj);\n        objKeys = sort ? keys.sort(sort) : keys;\n    }\n\n    for (var i = 0; i < objKeys.length; ++i) {\n        var key = objKeys[i];\n\n        if (skipNulls && obj[key] === null) {\n            continue;\n        }\n\n        if (isArray(obj)) {\n            pushToArray(values, stringify(\n                obj[key],\n                typeof generateArrayPrefix === 'function' ? generateArrayPrefix(prefix, key) : prefix,\n                generateArrayPrefix,\n                strictNullHandling,\n                skipNulls,\n                encoder,\n                filter,\n                sort,\n                allowDots,\n                serializeDate,\n                formatter,\n                encodeValuesOnly,\n                charset\n            ));\n        } else {\n            pushToArray(values, stringify(\n                obj[key],\n                prefix + (allowDots ? '.' + key : '[' + key + ']'),\n                generateArrayPrefix,\n                strictNullHandling,\n                skipNulls,\n                encoder,\n                filter,\n                sort,\n                allowDots,\n                serializeDate,\n                formatter,\n                encodeValuesOnly,\n                charset\n            ));\n        }\n    }\n\n    return values;\n};\n\nvar normalizeStringifyOptions = function normalizeStringifyOptions(opts) {\n    if (!opts) {\n        return defaults;\n    }\n\n    if (opts.encoder !== null && opts.encoder !== undefined && typeof opts.encoder !== 'function') {\n        throw new TypeError('Encoder has to be a function.');\n    }\n\n    var charset = opts.charset || defaults.charset;\n    if (typeof opts.charset !== 'undefined' && opts.charset !== 'utf-8' && opts.charset !== 'iso-8859-1') {\n        throw new TypeError('The charset option must be either utf-8, iso-8859-1, or undefined');\n    }\n\n    var format = formats['default'];\n    if (typeof opts.format !== 'undefined') {\n        if (!has.call(formats.formatters, opts.format)) {\n            throw new TypeError('Unknown format option provided.');\n        }\n        format = opts.format;\n    }\n    var formatter = formats.formatters[format];\n\n    var filter = defaults.filter;\n    if (typeof opts.filter === 'function' || isArray(opts.filter)) {\n        filter = opts.filter;\n    }\n\n    return {\n        addQueryPrefix: typeof opts.addQueryPrefix === 'boolean' ? opts.addQueryPrefix : defaults.addQueryPrefix,\n        allowDots: typeof opts.allowDots === 'undefined' ? defaults.allowDots : !!opts.allowDots,\n        charset: charset,\n        charsetSentinel: typeof opts.charsetSentinel === 'boolean' ? opts.charsetSentinel : defaults.charsetSentinel,\n        delimiter: typeof opts.delimiter === 'undefined' ? defaults.delimiter : opts.delimiter,\n        encode: typeof opts.encode === 'boolean' ? opts.encode : defaults.encode,\n        encoder: typeof opts.encoder === 'function' ? opts.encoder : defaults.encoder,\n        encodeValuesOnly: typeof opts.encodeValuesOnly === 'boolean' ? opts.encodeValuesOnly : defaults.encodeValuesOnly,\n        filter: filter,\n        formatter: formatter,\n        serializeDate: typeof opts.serializeDate === 'function' ? opts.serializeDate : defaults.serializeDate,\n        skipNulls: typeof opts.skipNulls === 'boolean' ? opts.skipNulls : defaults.skipNulls,\n        sort: typeof opts.sort === 'function' ? opts.sort : null,\n        strictNullHandling: typeof opts.strictNullHandling === 'boolean' ? opts.strictNullHandling : defaults.strictNullHandling\n    };\n};\n\nmodule.exports = function (object, opts) {\n    var obj = object;\n    var options = normalizeStringifyOptions(opts);\n\n    var objKeys;\n    var filter;\n\n    if (typeof options.filter === 'function') {\n        filter = options.filter;\n        obj = filter('', obj);\n    } else if (isArray(options.filter)) {\n        filter = options.filter;\n        objKeys = filter;\n    }\n\n    var keys = [];\n\n    if (typeof obj !== 'object' || obj === null) {\n        return '';\n    }\n\n    var arrayFormat;\n    if (opts && opts.arrayFormat in arrayPrefixGenerators) {\n        arrayFormat = opts.arrayFormat;\n    } else if (opts && 'indices' in opts) {\n        arrayFormat = opts.indices ? 'indices' : 'repeat';\n    } else {\n        arrayFormat = 'indices';\n    }\n\n    var generateArrayPrefix = arrayPrefixGenerators[arrayFormat];\n\n    if (!objKeys) {\n        objKeys = Object.keys(obj);\n    }\n\n    if (options.sort) {\n        objKeys.sort(options.sort);\n    }\n\n    for (var i = 0; i < objKeys.length; ++i) {\n        var key = objKeys[i];\n\n        if (options.skipNulls && obj[key] === null) {\n            continue;\n        }\n        pushToArray(keys, stringify(\n            obj[key],\n            key,\n            generateArrayPrefix,\n            options.strictNullHandling,\n            options.skipNulls,\n            options.encode ? options.encoder : null,\n            options.filter,\n            options.sort,\n            options.allowDots,\n            options.serializeDate,\n            options.formatter,\n            options.encodeValuesOnly,\n            options.charset\n        ));\n    }\n\n    var joined = keys.join(options.delimiter);\n    var prefix = options.addQueryPrefix === true ? '?' : '';\n\n    if (options.charsetSentinel) {\n        if (options.charset === 'iso-8859-1') {\n            // encodeURIComponent('&#10003;'), the \"numeric entity\" representation of a checkmark\n            prefix += 'utf8=%26%2310003%3B&';\n        } else {\n            // encodeURIComponent('')\n            prefix += 'utf8=%E2%9C%93&';\n        }\n    }\n\n    return joined.length > 0 ? prefix + joined : '';\n};\n","'use strict';\n\nvar has = Object.prototype.hasOwnProperty;\nvar isArray = Array.isArray;\n\nvar hexTable = (function () {\n    var array = [];\n    for (var i = 0; i < 256; ++i) {\n        array.push('%' + ((i < 16 ? '0' : '') + i.toString(16)).toUpperCase());\n    }\n\n    return array;\n}());\n\nvar compactQueue = function compactQueue(queue) {\n    while (queue.length > 1) {\n        var item = queue.pop();\n        var obj = item.obj[item.prop];\n\n        if (isArray(obj)) {\n            var compacted = [];\n\n            for (var j = 0; j < obj.length; ++j) {\n                if (typeof obj[j] !== 'undefined') {\n                    compacted.push(obj[j]);\n                }\n            }\n\n            item.obj[item.prop] = compacted;\n        }\n    }\n};\n\nvar arrayToObject = function arrayToObject(source, options) {\n    var obj = options && options.plainObjects ? Object.create(null) : {};\n    for (var i = 0; i < source.length; ++i) {\n        if (typeof source[i] !== 'undefined') {\n            obj[i] = source[i];\n        }\n    }\n\n    return obj;\n};\n\nvar merge = function merge(target, source, options) {\n    if (!source) {\n        return target;\n    }\n\n    if (typeof source !== 'object') {\n        if (isArray(target)) {\n            target.push(source);\n        } else if (target && typeof target === 'object') {\n            if ((options && (options.plainObjects || options.allowPrototypes)) || !has.call(Object.prototype, source)) {\n                target[source] = true;\n            }\n        } else {\n            return [target, source];\n        }\n\n        return target;\n    }\n\n    if (!target || typeof target !== 'object') {\n        return [target].concat(source);\n    }\n\n    var mergeTarget = target;\n    if (isArray(target) && !isArray(source)) {\n        mergeTarget = arrayToObject(target, options);\n    }\n\n    if (isArray(target) && isArray(source)) {\n        source.forEach(function (item, i) {\n            if (has.call(target, i)) {\n                var targetItem = target[i];\n                if (targetItem && typeof targetItem === 'object' && item && typeof item === 'object') {\n                    target[i] = merge(targetItem, item, options);\n                } else {\n                    target.push(item);\n                }\n            } else {\n                target[i] = item;\n            }\n        });\n        return target;\n    }\n\n    return Object.keys(source).reduce(function (acc, key) {\n        var value = source[key];\n\n        if (has.call(acc, key)) {\n            acc[key] = merge(acc[key], value, options);\n        } else {\n            acc[key] = value;\n        }\n        return acc;\n    }, mergeTarget);\n};\n\nvar assign = function assignSingleSource(target, source) {\n    return Object.keys(source).reduce(function (acc, key) {\n        acc[key] = source[key];\n        return acc;\n    }, target);\n};\n\nvar decode = function (str, decoder, charset) {\n    var strWithoutPlus = str.replace(/\\+/g, ' ');\n    if (charset === 'iso-8859-1') {\n        // unescape never throws, no try...catch needed:\n        return strWithoutPlus.replace(/%[0-9a-f]{2}/gi, unescape);\n    }\n    // utf-8\n    try {\n        return decodeURIComponent(strWithoutPlus);\n    } catch (e) {\n        return strWithoutPlus;\n    }\n};\n\nvar encode = function encode(str, defaultEncoder, charset) {\n    // This code was originally written by Brian White (mscdex) for the io.js core querystring library.\n    // It has been adapted here for stricter adherence to RFC 3986\n    if (str.length === 0) {\n        return str;\n    }\n\n    var string = typeof str === 'string' ? str : String(str);\n\n    if (charset === 'iso-8859-1') {\n        return escape(string).replace(/%u[0-9a-f]{4}/gi, function ($0) {\n            return '%26%23' + parseInt($0.slice(2), 16) + '%3B';\n        });\n    }\n\n    var out = '';\n    for (var i = 0; i < string.length; ++i) {\n        var c = string.charCodeAt(i);\n\n        if (\n            c === 0x2D // -\n            || c === 0x2E // .\n            || c === 0x5F // _\n            || c === 0x7E // ~\n            || (c >= 0x30 && c <= 0x39) // 0-9\n            || (c >= 0x41 && c <= 0x5A) // a-z\n            || (c >= 0x61 && c <= 0x7A) // A-Z\n        ) {\n            out += string.charAt(i);\n            continue;\n        }\n\n        if (c < 0x80) {\n            out = out + hexTable[c];\n            continue;\n        }\n\n        if (c < 0x800) {\n            out = out + (hexTable[0xC0 | (c >> 6)] + hexTable[0x80 | (c & 0x3F)]);\n            continue;\n        }\n\n        if (c < 0xD800 || c >= 0xE000) {\n            out = out + (hexTable[0xE0 | (c >> 12)] + hexTable[0x80 | ((c >> 6) & 0x3F)] + hexTable[0x80 | (c & 0x3F)]);\n            continue;\n        }\n\n        i += 1;\n        c = 0x10000 + (((c & 0x3FF) << 10) | (string.charCodeAt(i) & 0x3FF));\n        out += hexTable[0xF0 | (c >> 18)]\n            + hexTable[0x80 | ((c >> 12) & 0x3F)]\n            + hexTable[0x80 | ((c >> 6) & 0x3F)]\n            + hexTable[0x80 | (c & 0x3F)];\n    }\n\n    return out;\n};\n\nvar compact = function compact(value) {\n    var queue = [{ obj: { o: value }, prop: 'o' }];\n    var refs = [];\n\n    for (var i = 0; i < queue.length; ++i) {\n        var item = queue[i];\n        var obj = item.obj[item.prop];\n\n        var keys = Object.keys(obj);\n        for (var j = 0; j < keys.length; ++j) {\n            var key = keys[j];\n            var val = obj[key];\n            if (typeof val === 'object' && val !== null && refs.indexOf(val) === -1) {\n                queue.push({ obj: obj, prop: key });\n                refs.push(val);\n            }\n        }\n    }\n\n    compactQueue(queue);\n\n    return value;\n};\n\nvar isRegExp = function isRegExp(obj) {\n    return Object.prototype.toString.call(obj) === '[object RegExp]';\n};\n\nvar isBuffer = function isBuffer(obj) {\n    if (!obj || typeof obj !== 'object') {\n        return false;\n    }\n\n    return !!(obj.constructor && obj.constructor.isBuffer && obj.constructor.isBuffer(obj));\n};\n\nvar combine = function combine(a, b) {\n    return [].concat(a, b);\n};\n\nmodule.exports = {\n    arrayToObject: arrayToObject,\n    assign: assign,\n    combine: combine,\n    compact: compact,\n    decode: decode,\n    encode: encode,\n    isBuffer: isBuffer,\n    isRegExp: isRegExp,\n    merge: merge\n};\n","/*!\n * range-parser\n * Copyright(c) 2012-2014 TJ Holowaychuk\n * Copyright(c) 2015-2016 Douglas Christopher Wilson\n * MIT Licensed\n */\n\n'use strict'\n\n/**\n * Module exports.\n * @public\n */\n\nmodule.exports = rangeParser\n\n/**\n * Parse \"Range\" header `str` relative to the given file `size`.\n *\n * @param {Number} size\n * @param {String} str\n * @param {Object} [options]\n * @return {Array}\n * @public\n */\n\nfunction rangeParser (size, str, options) {\n  if (typeof str !== 'string') {\n    throw new TypeError('argument str must be a string')\n  }\n\n  var index = str.indexOf('=')\n\n  if (index === -1) {\n    return -2\n  }\n\n  // split the range string\n  var arr = str.slice(index + 1).split(',')\n  var ranges = []\n\n  // add ranges type\n  ranges.type = str.slice(0, index)\n\n  // parse all ranges\n  for (var i = 0; i < arr.length; i++) {\n    var range = arr[i].split('-')\n    var start = parseInt(range[0], 10)\n    var end = parseInt(range[1], 10)\n\n    // -nnn\n    if (isNaN(start)) {\n      start = size - end\n      end = size - 1\n    // nnn-\n    } else if (isNaN(end)) {\n      end = size - 1\n    }\n\n    // limit last-byte-pos to current length\n    if (end > size - 1) {\n      end = size - 1\n    }\n\n    // invalid or unsatisifiable\n    if (isNaN(start) || isNaN(end) || start > end || start < 0) {\n      continue\n    }\n\n    // add range\n    ranges.push({\n      start: start,\n      end: end\n    })\n  }\n\n  if (ranges.length < 1) {\n    // unsatisifiable\n    return -1\n  }\n\n  return options && options.combine\n    ? combineRanges(ranges)\n    : ranges\n}\n\n/**\n * Combine overlapping & adjacent ranges.\n * @private\n */\n\nfunction combineRanges (ranges) {\n  var ordered = ranges.map(mapWithIndex).sort(sortByRangeStart)\n\n  for (var j = 0, i = 1; i < ordered.length; i++) {\n    var range = ordered[i]\n    var current = ordered[j]\n\n    if (range.start > current.end + 1) {\n      // next range\n      ordered[++j] = range\n    } else if (range.end > current.end) {\n      // extend range\n      current.end = range.end\n      current.index = Math.min(current.index, range.index)\n    }\n  }\n\n  // trim ordered array\n  ordered.length = j + 1\n\n  // generate combined range\n  var combined = ordered.sort(sortByRangeIndex).map(mapWithoutIndex)\n\n  // copy ranges type\n  combined.type = ranges.type\n\n  return combined\n}\n\n/**\n * Map function to add index value to ranges.\n * @private\n */\n\nfunction mapWithIndex (range, index) {\n  return {\n    start: range.start,\n    end: range.end,\n    index: index\n  }\n}\n\n/**\n * Map function to remove index value from ranges.\n * @private\n */\n\nfunction mapWithoutIndex (range) {\n  return {\n    start: range.start,\n    end: range.end\n  }\n}\n\n/**\n * Sort function to sort ranges by index.\n * @private\n */\n\nfunction sortByRangeIndex (a, b) {\n  return a.index - b.index\n}\n\n/**\n * Sort function to sort ranges by start position.\n * @private\n */\n\nfunction sortByRangeStart (a, b) {\n  return a.start - b.start\n}\n","/*!\n * raw-body\n * Copyright(c) 2013-2014 Jonathan Ong\n * Copyright(c) 2014-2015 Douglas Christopher Wilson\n * MIT Licensed\n */\n\n'use strict'\n\n/**\n * Module dependencies.\n * @private\n */\n\nvar bytes = require('bytes')\nvar createError = require('http-errors')\nvar iconv = require('iconv-lite')\nvar unpipe = require('unpipe')\n\n/**\n * Module exports.\n * @public\n */\n\nmodule.exports = getRawBody\n\n/**\n * Module variables.\n * @private\n */\n\nvar ICONV_ENCODING_MESSAGE_REGEXP = /^Encoding not recognized: /\n\n/**\n * Get the decoder for a given encoding.\n *\n * @param {string} encoding\n * @private\n */\n\nfunction getDecoder (encoding) {\n  if (!encoding) return null\n\n  try {\n    return iconv.getDecoder(encoding)\n  } catch (e) {\n    // error getting decoder\n    if (!ICONV_ENCODING_MESSAGE_REGEXP.test(e.message)) throw e\n\n    // the encoding was not found\n    throw createError(415, 'specified encoding unsupported', {\n      encoding: encoding,\n      type: 'encoding.unsupported'\n    })\n  }\n}\n\n/**\n * Get the raw body of a stream (typically HTTP).\n *\n * @param {object} stream\n * @param {object|string|function} [options]\n * @param {function} [callback]\n * @public\n */\n\nfunction getRawBody (stream, options, callback) {\n  var done = callback\n  var opts = options || {}\n\n  if (options === true || typeof options === 'string') {\n    // short cut for encoding\n    opts = {\n      encoding: options\n    }\n  }\n\n  if (typeof options === 'function') {\n    done = options\n    opts = {}\n  }\n\n  // validate callback is a function, if provided\n  if (done !== undefined && typeof done !== 'function') {\n    throw new TypeError('argument callback must be a function')\n  }\n\n  // require the callback without promises\n  if (!done && !global.Promise) {\n    throw new TypeError('argument callback is required')\n  }\n\n  // get encoding\n  var encoding = opts.encoding !== true\n    ? opts.encoding\n    : 'utf-8'\n\n  // convert the limit to an integer\n  var limit = bytes.parse(opts.limit)\n\n  // convert the expected length to an integer\n  var length = opts.length != null && !isNaN(opts.length)\n    ? parseInt(opts.length, 10)\n    : null\n\n  if (done) {\n    // classic callback style\n    return readStream(stream, encoding, length, limit, done)\n  }\n\n  return new Promise(function executor (resolve, reject) {\n    readStream(stream, encoding, length, limit, function onRead (err, buf) {\n      if (err) return reject(err)\n      resolve(buf)\n    })\n  })\n}\n\n/**\n * Halt a stream.\n *\n * @param {Object} stream\n * @private\n */\n\nfunction halt (stream) {\n  // unpipe everything from the stream\n  unpipe(stream)\n\n  // pause stream\n  if (typeof stream.pause === 'function') {\n    stream.pause()\n  }\n}\n\n/**\n * Read the data from the stream.\n *\n * @param {object} stream\n * @param {string} encoding\n * @param {number} length\n * @param {number} limit\n * @param {function} callback\n * @public\n */\n\nfunction readStream (stream, encoding, length, limit, callback) {\n  var complete = false\n  var sync = true\n\n  // check the length and limit options.\n  // note: we intentionally leave the stream paused,\n  // so users should handle the stream themselves.\n  if (limit !== null && length !== null && length > limit) {\n    return done(createError(413, 'request entity too large', {\n      expected: length,\n      length: length,\n      limit: limit,\n      type: 'entity.too.large'\n    }))\n  }\n\n  // streams1: assert request encoding is buffer.\n  // streams2+: assert the stream encoding is buffer.\n  //   stream._decoder: streams1\n  //   state.encoding: streams2\n  //   state.decoder: streams2, specifically < 0.10.6\n  var state = stream._readableState\n  if (stream._decoder || (state && (state.encoding || state.decoder))) {\n    // developer error\n    return done(createError(500, 'stream encoding should not be set', {\n      type: 'stream.encoding.set'\n    }))\n  }\n\n  var received = 0\n  var decoder\n\n  try {\n    decoder = getDecoder(encoding)\n  } catch (err) {\n    return done(err)\n  }\n\n  var buffer = decoder\n    ? ''\n    : []\n\n  // attach listeners\n  stream.on('aborted', onAborted)\n  stream.on('close', cleanup)\n  stream.on('data', onData)\n  stream.on('end', onEnd)\n  stream.on('error', onEnd)\n\n  // mark sync section complete\n  sync = false\n\n  function done () {\n    var args = new Array(arguments.length)\n\n    // copy arguments\n    for (var i = 0; i < args.length; i++) {\n      args[i] = arguments[i]\n    }\n\n    // mark complete\n    complete = true\n\n    if (sync) {\n      process.nextTick(invokeCallback)\n    } else {\n      invokeCallback()\n    }\n\n    function invokeCallback () {\n      cleanup()\n\n      if (args[0]) {\n        // halt the stream on error\n        halt(stream)\n      }\n\n      callback.apply(null, args)\n    }\n  }\n\n  function onAborted () {\n    if (complete) return\n\n    done(createError(400, 'request aborted', {\n      code: 'ECONNABORTED',\n      expected: length,\n      length: length,\n      received: received,\n      type: 'request.aborted'\n    }))\n  }\n\n  function onData (chunk) {\n    if (complete) return\n\n    received += chunk.length\n\n    if (limit !== null && received > limit) {\n      done(createError(413, 'request entity too large', {\n        limit: limit,\n        received: received,\n        type: 'entity.too.large'\n      }))\n    } else if (decoder) {\n      buffer += decoder.write(chunk)\n    } else {\n      buffer.push(chunk)\n    }\n  }\n\n  function onEnd (err) {\n    if (complete) return\n    if (err) return done(err)\n\n    if (length !== null && received !== length) {\n      done(createError(400, 'request size did not match content length', {\n        expected: length,\n        length: length,\n        received: received,\n        type: 'request.size.invalid'\n      }))\n    } else {\n      var string = decoder\n        ? buffer + (decoder.end() || '')\n        : Buffer.concat(buffer)\n      done(null, string)\n    }\n  }\n\n  function cleanup () {\n    buffer = null\n\n    stream.removeListener('aborted', onAborted)\n    stream.removeListener('data', onData)\n    stream.removeListener('end', onEnd)\n    stream.removeListener('error', onEnd)\n    stream.removeListener('close', cleanup)\n  }\n}\n","// Copyright 2010-2012 Mikeal Rogers\n//\n//    Licensed under the Apache License, Version 2.0 (the \"License\");\n//    you may not use this file except in compliance with the License.\n//    You may obtain a copy of the License at\n//\n//        http://www.apache.org/licenses/LICENSE-2.0\n//\n//    Unless required by applicable law or agreed to in writing, software\n//    distributed under the License is distributed on an \"AS IS\" BASIS,\n//    WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n//    See the License for the specific language governing permissions and\n//    limitations under the License.\n\n'use strict'\n\nvar extend = require('extend')\nvar cookies = require('./lib/cookies')\nvar helpers = require('./lib/helpers')\n\nvar paramsHaveRequestBody = helpers.paramsHaveRequestBody\n\n// organize params for patch, post, put, head, del\nfunction initParams (uri, options, callback) {\n  if (typeof options === 'function') {\n    callback = options\n  }\n\n  var params = {}\n  if (typeof options === 'object') {\n    extend(params, options, {uri: uri})\n  } else if (typeof uri === 'string') {\n    extend(params, {uri: uri})\n  } else {\n    extend(params, uri)\n  }\n\n  params.callback = callback || params.callback\n  return params\n}\n\nfunction request (uri, options, callback) {\n  if (typeof uri === 'undefined') {\n    throw new Error('undefined is not a valid uri or options object.')\n  }\n\n  var params = initParams(uri, options, callback)\n\n  if (params.method === 'HEAD' && paramsHaveRequestBody(params)) {\n    throw new Error('HTTP HEAD requests MUST NOT include a request body.')\n  }\n\n  return new request.Request(params)\n}\n\nfunction verbFunc (verb) {\n  var method = verb.toUpperCase()\n  return function (uri, options, callback) {\n    var params = initParams(uri, options, callback)\n    params.method = method\n    return request(params, params.callback)\n  }\n}\n\n// define like this to please codeintel/intellisense IDEs\nrequest.get = verbFunc('get')\nrequest.head = verbFunc('head')\nrequest.options = verbFunc('options')\nrequest.post = verbFunc('post')\nrequest.put = verbFunc('put')\nrequest.patch = verbFunc('patch')\nrequest.del = verbFunc('delete')\nrequest['delete'] = verbFunc('delete')\n\nrequest.jar = function (store) {\n  return cookies.jar(store)\n}\n\nrequest.cookie = function (str) {\n  return cookies.parse(str)\n}\n\nfunction wrapRequestMethod (method, options, requester, verb) {\n  return function (uri, opts, callback) {\n    var params = initParams(uri, opts, callback)\n\n    var target = {}\n    extend(true, target, options, params)\n\n    target.pool = params.pool || options.pool\n\n    if (verb) {\n      target.method = verb.toUpperCase()\n    }\n\n    if (typeof requester === 'function') {\n      method = requester\n    }\n\n    return method(target, target.callback)\n  }\n}\n\nrequest.defaults = function (options, requester) {\n  var self = this\n\n  options = options || {}\n\n  if (typeof options === 'function') {\n    requester = options\n    options = {}\n  }\n\n  var defaults = wrapRequestMethod(self, options, requester)\n\n  var verbs = ['get', 'head', 'post', 'put', 'patch', 'del', 'delete']\n  verbs.forEach(function (verb) {\n    defaults[verb] = wrapRequestMethod(self[verb], options, requester, verb)\n  })\n\n  defaults.cookie = wrapRequestMethod(self.cookie, options, requester)\n  defaults.jar = self.jar\n  defaults.defaults = self.defaults\n  return defaults\n}\n\nrequest.forever = function (agentOptions, optionsArg) {\n  var options = {}\n  if (optionsArg) {\n    extend(options, optionsArg)\n  }\n  if (agentOptions) {\n    options.agentOptions = agentOptions\n  }\n\n  options.forever = true\n  return request.defaults(options)\n}\n\n// Exports\n\nmodule.exports = request\nrequest.Request = require('./request')\nrequest.initParams = initParams\n\n// Backwards compatibility for request.debug\nObject.defineProperty(request, 'debug', {\n  enumerable: true,\n  get: function () {\n    return request.Request.debug\n  },\n  set: function (debug) {\n    request.Request.debug = debug\n  }\n})\n","'use strict'\n\nvar caseless = require('caseless')\nvar uuid = require('uuid/v4')\nvar helpers = require('./helpers')\n\nvar md5 = helpers.md5\nvar toBase64 = helpers.toBase64\n\nfunction Auth (request) {\n  // define all public properties here\n  this.request = request\n  this.hasAuth = false\n  this.sentAuth = false\n  this.bearerToken = null\n  this.user = null\n  this.pass = null\n}\n\nAuth.prototype.basic = function (user, pass, sendImmediately) {\n  var self = this\n  if (typeof user !== 'string' || (pass !== undefined && typeof pass !== 'string')) {\n    self.request.emit('error', new Error('auth() received invalid user or password'))\n  }\n  self.user = user\n  self.pass = pass\n  self.hasAuth = true\n  var header = user + ':' + (pass || '')\n  if (sendImmediately || typeof sendImmediately === 'undefined') {\n    var authHeader = 'Basic ' + toBase64(header)\n    self.sentAuth = true\n    return authHeader\n  }\n}\n\nAuth.prototype.bearer = function (bearer, sendImmediately) {\n  var self = this\n  self.bearerToken = bearer\n  self.hasAuth = true\n  if (sendImmediately || typeof sendImmediately === 'undefined') {\n    if (typeof bearer === 'function') {\n      bearer = bearer()\n    }\n    var authHeader = 'Bearer ' + (bearer || '')\n    self.sentAuth = true\n    return authHeader\n  }\n}\n\nAuth.prototype.digest = function (method, path, authHeader) {\n  // TODO: More complete implementation of RFC 2617.\n  //   - handle challenge.domain\n  //   - support qop=\"auth-int\" only\n  //   - handle Authentication-Info (not necessarily?)\n  //   - check challenge.stale (not necessarily?)\n  //   - increase nc (not necessarily?)\n  // For reference:\n  // http://tools.ietf.org/html/rfc2617#section-3\n  // https://github.com/bagder/curl/blob/master/lib/http_digest.c\n\n  var self = this\n\n  var challenge = {}\n  var re = /([a-z0-9_-]+)=(?:\"([^\"]+)\"|([a-z0-9_-]+))/gi\n  for (;;) {\n    var match = re.exec(authHeader)\n    if (!match) {\n      break\n    }\n    challenge[match[1]] = match[2] || match[3]\n  }\n\n  /**\n   * RFC 2617: handle both MD5 and MD5-sess algorithms.\n   *\n   * If the algorithm directive's value is \"MD5\" or unspecified, then HA1 is\n   *   HA1=MD5(username:realm:password)\n   * If the algorithm directive's value is \"MD5-sess\", then HA1 is\n   *   HA1=MD5(MD5(username:realm:password):nonce:cnonce)\n   */\n  var ha1Compute = function (algorithm, user, realm, pass, nonce, cnonce) {\n    var ha1 = md5(user + ':' + realm + ':' + pass)\n    if (algorithm && algorithm.toLowerCase() === 'md5-sess') {\n      return md5(ha1 + ':' + nonce + ':' + cnonce)\n    } else {\n      return ha1\n    }\n  }\n\n  var qop = /(^|,)\\s*auth\\s*($|,)/.test(challenge.qop) && 'auth'\n  var nc = qop && '00000001'\n  var cnonce = qop && uuid().replace(/-/g, '')\n  var ha1 = ha1Compute(challenge.algorithm, self.user, challenge.realm, self.pass, challenge.nonce, cnonce)\n  var ha2 = md5(method + ':' + path)\n  var digestResponse = qop\n    ? md5(ha1 + ':' + challenge.nonce + ':' + nc + ':' + cnonce + ':' + qop + ':' + ha2)\n    : md5(ha1 + ':' + challenge.nonce + ':' + ha2)\n  var authValues = {\n    username: self.user,\n    realm: challenge.realm,\n    nonce: challenge.nonce,\n    uri: path,\n    qop: qop,\n    response: digestResponse,\n    nc: nc,\n    cnonce: cnonce,\n    algorithm: challenge.algorithm,\n    opaque: challenge.opaque\n  }\n\n  authHeader = []\n  for (var k in authValues) {\n    if (authValues[k]) {\n      if (k === 'qop' || k === 'nc' || k === 'algorithm') {\n        authHeader.push(k + '=' + authValues[k])\n      } else {\n        authHeader.push(k + '=\"' + authValues[k] + '\"')\n      }\n    }\n  }\n  authHeader = 'Digest ' + authHeader.join(', ')\n  self.sentAuth = true\n  return authHeader\n}\n\nAuth.prototype.onRequest = function (user, pass, sendImmediately, bearer) {\n  var self = this\n  var request = self.request\n\n  var authHeader\n  if (bearer === undefined && user === undefined) {\n    self.request.emit('error', new Error('no auth mechanism defined'))\n  } else if (bearer !== undefined) {\n    authHeader = self.bearer(bearer, sendImmediately)\n  } else {\n    authHeader = self.basic(user, pass, sendImmediately)\n  }\n  if (authHeader) {\n    request.setHeader('authorization', authHeader)\n  }\n}\n\nAuth.prototype.onResponse = function (response) {\n  var self = this\n  var request = self.request\n\n  if (!self.hasAuth || self.sentAuth) { return null }\n\n  var c = caseless(response.headers)\n\n  var authHeader = c.get('www-authenticate')\n  var authVerb = authHeader && authHeader.split(' ')[0].toLowerCase()\n  request.debug('reauth', authVerb)\n\n  switch (authVerb) {\n    case 'basic':\n      return self.basic(self.user, self.pass, true)\n\n    case 'bearer':\n      return self.bearer(self.bearerToken, true)\n\n    case 'digest':\n      return self.digest(request.method, request.path, authHeader)\n  }\n}\n\nexports.Auth = Auth\n","'use strict'\n\nvar tough = require('tough-cookie')\n\nvar Cookie = tough.Cookie\nvar CookieJar = tough.CookieJar\n\nexports.parse = function (str) {\n  if (str && str.uri) {\n    str = str.uri\n  }\n  if (typeof str !== 'string') {\n    throw new Error('The cookie function only accepts STRING as param')\n  }\n  return Cookie.parse(str, {loose: true})\n}\n\n// Adapt the sometimes-Async api of tough.CookieJar to our requirements\nfunction RequestJar (store) {\n  var self = this\n  self._jar = new CookieJar(store, {looseMode: true})\n}\nRequestJar.prototype.setCookie = function (cookieOrStr, uri, options) {\n  var self = this\n  return self._jar.setCookieSync(cookieOrStr, uri, options || {})\n}\nRequestJar.prototype.getCookieString = function (uri) {\n  var self = this\n  return self._jar.getCookieStringSync(uri)\n}\nRequestJar.prototype.getCookies = function (uri) {\n  var self = this\n  return self._jar.getCookiesSync(uri)\n}\n\nexports.jar = function (store) {\n  return new RequestJar(store)\n}\n","'use strict'\n\nfunction formatHostname (hostname) {\n  // canonicalize the hostname, so that 'oogle.com' won't match 'google.com'\n  return hostname.replace(/^\\.*/, '.').toLowerCase()\n}\n\nfunction parseNoProxyZone (zone) {\n  zone = zone.trim().toLowerCase()\n\n  var zoneParts = zone.split(':', 2)\n  var zoneHost = formatHostname(zoneParts[0])\n  var zonePort = zoneParts[1]\n  var hasPort = zone.indexOf(':') > -1\n\n  return {hostname: zoneHost, port: zonePort, hasPort: hasPort}\n}\n\nfunction uriInNoProxy (uri, noProxy) {\n  var port = uri.port || (uri.protocol === 'https:' ? '443' : '80')\n  var hostname = formatHostname(uri.hostname)\n  var noProxyList = noProxy.split(',')\n\n  // iterate through the noProxyList until it finds a match.\n  return noProxyList.map(parseNoProxyZone).some(function (noProxyZone) {\n    var isMatchedAt = hostname.indexOf(noProxyZone.hostname)\n    var hostnameMatched = (\n      isMatchedAt > -1 &&\n        (isMatchedAt === hostname.length - noProxyZone.hostname.length)\n    )\n\n    if (noProxyZone.hasPort) {\n      return (port === noProxyZone.port) && hostnameMatched\n    }\n\n    return hostnameMatched\n  })\n}\n\nfunction getProxyFromURI (uri) {\n  // Decide the proper request proxy to use based on the request URI object and the\n  // environmental variables (NO_PROXY, HTTP_PROXY, etc.)\n  // respect NO_PROXY environment variables (see: http://lynx.isc.org/current/breakout/lynx_help/keystrokes/environments.html)\n\n  var noProxy = process.env.NO_PROXY || process.env.no_proxy || ''\n\n  // if the noProxy is a wildcard then return null\n\n  if (noProxy === '*') {\n    return null\n  }\n\n  // if the noProxy is not empty and the uri is found return null\n\n  if (noProxy !== '' && uriInNoProxy(uri, noProxy)) {\n    return null\n  }\n\n  // Check for HTTP or HTTPS Proxy in environment Else default to null\n\n  if (uri.protocol === 'http:') {\n    return process.env.HTTP_PROXY ||\n      process.env.http_proxy || null\n  }\n\n  if (uri.protocol === 'https:') {\n    return process.env.HTTPS_PROXY ||\n      process.env.https_proxy ||\n      process.env.HTTP_PROXY ||\n      process.env.http_proxy || null\n  }\n\n  // if none of that works, return null\n  // (What uri protocol are you using then?)\n\n  return null\n}\n\nmodule.exports = getProxyFromURI\n","'use strict'\n\nvar fs = require('fs')\nvar qs = require('querystring')\nvar validate = require('har-validator')\nvar extend = require('extend')\n\nfunction Har (request) {\n  this.request = request\n}\n\nHar.prototype.reducer = function (obj, pair) {\n  // new property ?\n  if (obj[pair.name] === undefined) {\n    obj[pair.name] = pair.value\n    return obj\n  }\n\n  // existing? convert to array\n  var arr = [\n    obj[pair.name],\n    pair.value\n  ]\n\n  obj[pair.name] = arr\n\n  return obj\n}\n\nHar.prototype.prep = function (data) {\n  // construct utility properties\n  data.queryObj = {}\n  data.headersObj = {}\n  data.postData.jsonObj = false\n  data.postData.paramsObj = false\n\n  // construct query objects\n  if (data.queryString && data.queryString.length) {\n    data.queryObj = data.queryString.reduce(this.reducer, {})\n  }\n\n  // construct headers objects\n  if (data.headers && data.headers.length) {\n    // loweCase header keys\n    data.headersObj = data.headers.reduceRight(function (headers, header) {\n      headers[header.name] = header.value\n      return headers\n    }, {})\n  }\n\n  // construct Cookie header\n  if (data.cookies && data.cookies.length) {\n    var cookies = data.cookies.map(function (cookie) {\n      return cookie.name + '=' + cookie.value\n    })\n\n    if (cookies.length) {\n      data.headersObj.cookie = cookies.join('; ')\n    }\n  }\n\n  // prep body\n  function some (arr) {\n    return arr.some(function (type) {\n      return data.postData.mimeType.indexOf(type) === 0\n    })\n  }\n\n  if (some([\n    'multipart/mixed',\n    'multipart/related',\n    'multipart/form-data',\n    'multipart/alternative'])) {\n    // reset values\n    data.postData.mimeType = 'multipart/form-data'\n  } else if (some([\n    'application/x-www-form-urlencoded'])) {\n    if (!data.postData.params) {\n      data.postData.text = ''\n    } else {\n      data.postData.paramsObj = data.postData.params.reduce(this.reducer, {})\n\n      // always overwrite\n      data.postData.text = qs.stringify(data.postData.paramsObj)\n    }\n  } else if (some([\n    'text/json',\n    'text/x-json',\n    'application/json',\n    'application/x-json'])) {\n    data.postData.mimeType = 'application/json'\n\n    if (data.postData.text) {\n      try {\n        data.postData.jsonObj = JSON.parse(data.postData.text)\n      } catch (e) {\n        this.request.debug(e)\n\n        // force back to text/plain\n        data.postData.mimeType = 'text/plain'\n      }\n    }\n  }\n\n  return data\n}\n\nHar.prototype.options = function (options) {\n  // skip if no har property defined\n  if (!options.har) {\n    return options\n  }\n\n  var har = {}\n  extend(har, options.har)\n\n  // only process the first entry\n  if (har.log && har.log.entries) {\n    har = har.log.entries[0]\n  }\n\n  // add optional properties to make validation successful\n  har.url = har.url || options.url || options.uri || options.baseUrl || '/'\n  har.httpVersion = har.httpVersion || 'HTTP/1.1'\n  har.queryString = har.queryString || []\n  har.headers = har.headers || []\n  har.cookies = har.cookies || []\n  har.postData = har.postData || {}\n  har.postData.mimeType = har.postData.mimeType || 'application/octet-stream'\n\n  har.bodySize = 0\n  har.headersSize = 0\n  har.postData.size = 0\n\n  if (!validate.request(har)) {\n    return options\n  }\n\n  // clean up and get some utility properties\n  var req = this.prep(har)\n\n  // construct new options\n  if (req.url) {\n    options.url = req.url\n  }\n\n  if (req.method) {\n    options.method = req.method\n  }\n\n  if (Object.keys(req.queryObj).length) {\n    options.qs = req.queryObj\n  }\n\n  if (Object.keys(req.headersObj).length) {\n    options.headers = req.headersObj\n  }\n\n  function test (type) {\n    return req.postData.mimeType.indexOf(type) === 0\n  }\n  if (test('application/x-www-form-urlencoded')) {\n    options.form = req.postData.paramsObj\n  } else if (test('application/json')) {\n    if (req.postData.jsonObj) {\n      options.body = req.postData.jsonObj\n      options.json = true\n    }\n  } else if (test('multipart/form-data')) {\n    options.formData = {}\n\n    req.postData.params.forEach(function (param) {\n      var attachment = {}\n\n      if (!param.fileName && !param.fileName && !param.contentType) {\n        options.formData[param.name] = param.value\n        return\n      }\n\n      // attempt to read from disk!\n      if (param.fileName && !param.value) {\n        attachment.value = fs.createReadStream(param.fileName)\n      } else if (param.value) {\n        attachment.value = param.value\n      }\n\n      if (param.fileName) {\n        attachment.options = {\n          filename: param.fileName,\n          contentType: param.contentType ? param.contentType : null\n        }\n      }\n\n      options.formData[param.name] = attachment\n    })\n  } else {\n    if (req.postData.text) {\n      options.body = req.postData.text\n    }\n  }\n\n  return options\n}\n\nexports.Har = Har\n","'use strict'\n\nvar crypto = require('crypto')\n\nfunction randomString (size) {\n  var bits = (size + 1) * 6\n  var buffer = crypto.randomBytes(Math.ceil(bits / 8))\n  var string = buffer.toString('base64').replace(/\\+/g, '-').replace(/\\//g, '_').replace(/=/g, '')\n  return string.slice(0, size)\n}\n\nfunction calculatePayloadHash (payload, algorithm, contentType) {\n  var hash = crypto.createHash(algorithm)\n  hash.update('hawk.1.payload\\n')\n  hash.update((contentType ? contentType.split(';')[0].trim().toLowerCase() : '') + '\\n')\n  hash.update(payload || '')\n  hash.update('\\n')\n  return hash.digest('base64')\n}\n\nexports.calculateMac = function (credentials, opts) {\n  var normalized = 'hawk.1.header\\n' +\n    opts.ts + '\\n' +\n    opts.nonce + '\\n' +\n    (opts.method || '').toUpperCase() + '\\n' +\n    opts.resource + '\\n' +\n    opts.host.toLowerCase() + '\\n' +\n    opts.port + '\\n' +\n    (opts.hash || '') + '\\n'\n\n  if (opts.ext) {\n    normalized = normalized + opts.ext.replace('\\\\', '\\\\\\\\').replace('\\n', '\\\\n')\n  }\n\n  normalized = normalized + '\\n'\n\n  if (opts.app) {\n    normalized = normalized + opts.app + '\\n' + (opts.dlg || '') + '\\n'\n  }\n\n  var hmac = crypto.createHmac(credentials.algorithm, credentials.key).update(normalized)\n  var digest = hmac.digest('base64')\n  return digest\n}\n\nexports.header = function (uri, method, opts) {\n  var timestamp = opts.timestamp || Math.floor((Date.now() + (opts.localtimeOffsetMsec || 0)) / 1000)\n  var credentials = opts.credentials\n  if (!credentials || !credentials.id || !credentials.key || !credentials.algorithm) {\n    return ''\n  }\n\n  if (['sha1', 'sha256'].indexOf(credentials.algorithm) === -1) {\n    return ''\n  }\n\n  var artifacts = {\n    ts: timestamp,\n    nonce: opts.nonce || randomString(6),\n    method: method,\n    resource: uri.pathname + (uri.search || ''),\n    host: uri.hostname,\n    port: uri.port || (uri.protocol === 'http:' ? 80 : 443),\n    hash: opts.hash,\n    ext: opts.ext,\n    app: opts.app,\n    dlg: opts.dlg\n  }\n\n  if (!artifacts.hash && (opts.payload || opts.payload === '')) {\n    artifacts.hash = calculatePayloadHash(opts.payload, credentials.algorithm, opts.contentType)\n  }\n\n  var mac = exports.calculateMac(credentials, artifacts)\n\n  var hasExt = artifacts.ext !== null && artifacts.ext !== undefined && artifacts.ext !== ''\n  var header = 'Hawk id=\"' + credentials.id +\n    '\", ts=\"' + artifacts.ts +\n    '\", nonce=\"' + artifacts.nonce +\n    (artifacts.hash ? '\", hash=\"' + artifacts.hash : '') +\n    (hasExt ? '\", ext=\"' + artifacts.ext.replace(/\\\\/g, '\\\\\\\\').replace(/\"/g, '\\\\\"') : '') +\n    '\", mac=\"' + mac + '\"'\n\n  if (artifacts.app) {\n    header = header + ', app=\"' + artifacts.app + (artifacts.dlg ? '\", dlg=\"' + artifacts.dlg : '') + '\"'\n  }\n\n  return header\n}\n","'use strict'\n\nvar jsonSafeStringify = require('json-stringify-safe')\nvar crypto = require('crypto')\nvar Buffer = require('safe-buffer').Buffer\n\nvar defer = typeof setImmediate === 'undefined'\n  ? process.nextTick\n  : setImmediate\n\nfunction paramsHaveRequestBody (params) {\n  return (\n    params.body ||\n    params.requestBodyStream ||\n    (params.json && typeof params.json !== 'boolean') ||\n    params.multipart\n  )\n}\n\nfunction safeStringify (obj, replacer) {\n  var ret\n  try {\n    ret = JSON.stringify(obj, replacer)\n  } catch (e) {\n    ret = jsonSafeStringify(obj, replacer)\n  }\n  return ret\n}\n\nfunction md5 (str) {\n  return crypto.createHash('md5').update(str).digest('hex')\n}\n\nfunction isReadStream (rs) {\n  return rs.readable && rs.path && rs.mode\n}\n\nfunction toBase64 (str) {\n  return Buffer.from(str || '', 'utf8').toString('base64')\n}\n\nfunction copy (obj) {\n  var o = {}\n  Object.keys(obj).forEach(function (i) {\n    o[i] = obj[i]\n  })\n  return o\n}\n\nfunction version () {\n  var numbers = process.version.replace('v', '').split('.')\n  return {\n    major: parseInt(numbers[0], 10),\n    minor: parseInt(numbers[1], 10),\n    patch: parseInt(numbers[2], 10)\n  }\n}\n\nexports.paramsHaveRequestBody = paramsHaveRequestBody\nexports.safeStringify = safeStringify\nexports.md5 = md5\nexports.isReadStream = isReadStream\nexports.toBase64 = toBase64\nexports.copy = copy\nexports.version = version\nexports.defer = defer\n","'use strict'\n\nvar uuid = require('uuid/v4')\nvar CombinedStream = require('combined-stream')\nvar isstream = require('isstream')\nvar Buffer = require('safe-buffer').Buffer\n\nfunction Multipart (request) {\n  this.request = request\n  this.boundary = uuid()\n  this.chunked = false\n  this.body = null\n}\n\nMultipart.prototype.isChunked = function (options) {\n  var self = this\n  var chunked = false\n  var parts = options.data || options\n\n  if (!parts.forEach) {\n    self.request.emit('error', new Error('Argument error, options.multipart.'))\n  }\n\n  if (options.chunked !== undefined) {\n    chunked = options.chunked\n  }\n\n  if (self.request.getHeader('transfer-encoding') === 'chunked') {\n    chunked = true\n  }\n\n  if (!chunked) {\n    parts.forEach(function (part) {\n      if (typeof part.body === 'undefined') {\n        self.request.emit('error', new Error('Body attribute missing in multipart.'))\n      }\n      if (isstream(part.body)) {\n        chunked = true\n      }\n    })\n  }\n\n  return chunked\n}\n\nMultipart.prototype.setHeaders = function (chunked) {\n  var self = this\n\n  if (chunked && !self.request.hasHeader('transfer-encoding')) {\n    self.request.setHeader('transfer-encoding', 'chunked')\n  }\n\n  var header = self.request.getHeader('content-type')\n\n  if (!header || header.indexOf('multipart') === -1) {\n    self.request.setHeader('content-type', 'multipart/related; boundary=' + self.boundary)\n  } else {\n    if (header.indexOf('boundary') !== -1) {\n      self.boundary = header.replace(/.*boundary=([^\\s;]+).*/, '$1')\n    } else {\n      self.request.setHeader('content-type', header + '; boundary=' + self.boundary)\n    }\n  }\n}\n\nMultipart.prototype.build = function (parts, chunked) {\n  var self = this\n  var body = chunked ? new CombinedStream() : []\n\n  function add (part) {\n    if (typeof part === 'number') {\n      part = part.toString()\n    }\n    return chunked ? body.append(part) : body.push(Buffer.from(part))\n  }\n\n  if (self.request.preambleCRLF) {\n    add('\\r\\n')\n  }\n\n  parts.forEach(function (part) {\n    var preamble = '--' + self.boundary + '\\r\\n'\n    Object.keys(part).forEach(function (key) {\n      if (key === 'body') { return }\n      preamble += key + ': ' + part[key] + '\\r\\n'\n    })\n    preamble += '\\r\\n'\n    add(preamble)\n    add(part.body)\n    add('\\r\\n')\n  })\n  add('--' + self.boundary + '--')\n\n  if (self.request.postambleCRLF) {\n    add('\\r\\n')\n  }\n\n  return body\n}\n\nMultipart.prototype.onRequest = function (options) {\n  var self = this\n\n  var chunked = self.isChunked(options)\n  var parts = options.data || options\n\n  self.setHeaders(chunked)\n  self.chunked = chunked\n  self.body = self.build(parts, chunked)\n}\n\nexports.Multipart = Multipart\n","'use strict'\n\nvar url = require('url')\nvar qs = require('qs')\nvar caseless = require('caseless')\nvar uuid = require('uuid/v4')\nvar oauth = require('oauth-sign')\nvar crypto = require('crypto')\nvar Buffer = require('safe-buffer').Buffer\n\nfunction OAuth (request) {\n  this.request = request\n  this.params = null\n}\n\nOAuth.prototype.buildParams = function (_oauth, uri, method, query, form, qsLib) {\n  var oa = {}\n  for (var i in _oauth) {\n    oa['oauth_' + i] = _oauth[i]\n  }\n  if (!oa.oauth_version) {\n    oa.oauth_version = '1.0'\n  }\n  if (!oa.oauth_timestamp) {\n    oa.oauth_timestamp = Math.floor(Date.now() / 1000).toString()\n  }\n  if (!oa.oauth_nonce) {\n    oa.oauth_nonce = uuid().replace(/-/g, '')\n  }\n  if (!oa.oauth_signature_method) {\n    oa.oauth_signature_method = 'HMAC-SHA1'\n  }\n\n  var consumer_secret_or_private_key = oa.oauth_consumer_secret || oa.oauth_private_key // eslint-disable-line camelcase\n  delete oa.oauth_consumer_secret\n  delete oa.oauth_private_key\n\n  var token_secret = oa.oauth_token_secret // eslint-disable-line camelcase\n  delete oa.oauth_token_secret\n\n  var realm = oa.oauth_realm\n  delete oa.oauth_realm\n  delete oa.oauth_transport_method\n\n  var baseurl = uri.protocol + '//' + uri.host + uri.pathname\n  var params = qsLib.parse([].concat(query, form, qsLib.stringify(oa)).join('&'))\n\n  oa.oauth_signature = oauth.sign(\n    oa.oauth_signature_method,\n    method,\n    baseurl,\n    params,\n    consumer_secret_or_private_key, // eslint-disable-line camelcase\n    token_secret // eslint-disable-line camelcase\n  )\n\n  if (realm) {\n    oa.realm = realm\n  }\n\n  return oa\n}\n\nOAuth.prototype.buildBodyHash = function (_oauth, body) {\n  if (['HMAC-SHA1', 'RSA-SHA1'].indexOf(_oauth.signature_method || 'HMAC-SHA1') < 0) {\n    this.request.emit('error', new Error('oauth: ' + _oauth.signature_method +\n      ' signature_method not supported with body_hash signing.'))\n  }\n\n  var shasum = crypto.createHash('sha1')\n  shasum.update(body || '')\n  var sha1 = shasum.digest('hex')\n\n  return Buffer.from(sha1, 'hex').toString('base64')\n}\n\nOAuth.prototype.concatParams = function (oa, sep, wrap) {\n  wrap = wrap || ''\n\n  var params = Object.keys(oa).filter(function (i) {\n    return i !== 'realm' && i !== 'oauth_signature'\n  }).sort()\n\n  if (oa.realm) {\n    params.splice(0, 0, 'realm')\n  }\n  params.push('oauth_signature')\n\n  return params.map(function (i) {\n    return i + '=' + wrap + oauth.rfc3986(oa[i]) + wrap\n  }).join(sep)\n}\n\nOAuth.prototype.onRequest = function (_oauth) {\n  var self = this\n  self.params = _oauth\n\n  var uri = self.request.uri || {}\n  var method = self.request.method || ''\n  var headers = caseless(self.request.headers)\n  var body = self.request.body || ''\n  var qsLib = self.request.qsLib || qs\n\n  var form\n  var query\n  var contentType = headers.get('content-type') || ''\n  var formContentType = 'application/x-www-form-urlencoded'\n  var transport = _oauth.transport_method || 'header'\n\n  if (contentType.slice(0, formContentType.length) === formContentType) {\n    contentType = formContentType\n    form = body\n  }\n  if (uri.query) {\n    query = uri.query\n  }\n  if (transport === 'body' && (method !== 'POST' || contentType !== formContentType)) {\n    self.request.emit('error', new Error('oauth: transport_method of body requires POST ' +\n      'and content-type ' + formContentType))\n  }\n\n  if (!form && typeof _oauth.body_hash === 'boolean') {\n    _oauth.body_hash = self.buildBodyHash(_oauth, self.request.body.toString())\n  }\n\n  var oa = self.buildParams(_oauth, uri, method, query, form, qsLib)\n\n  switch (transport) {\n    case 'header':\n      self.request.setHeader('Authorization', 'OAuth ' + self.concatParams(oa, ',', '\"'))\n      break\n\n    case 'query':\n      var href = self.request.uri.href += (query ? '&' : '?') + self.concatParams(oa, '&')\n      self.request.uri = url.parse(href)\n      self.request.path = self.request.uri.path\n      break\n\n    case 'body':\n      self.request.body = (form ? form + '&' : '') + self.concatParams(oa, '&')\n      break\n\n    default:\n      self.request.emit('error', new Error('oauth: transport_method invalid'))\n  }\n}\n\nexports.OAuth = OAuth\n","'use strict'\n\nvar qs = require('qs')\nvar querystring = require('querystring')\n\nfunction Querystring (request) {\n  this.request = request\n  this.lib = null\n  this.useQuerystring = null\n  this.parseOptions = null\n  this.stringifyOptions = null\n}\n\nQuerystring.prototype.init = function (options) {\n  if (this.lib) { return }\n\n  this.useQuerystring = options.useQuerystring\n  this.lib = (this.useQuerystring ? querystring : qs)\n\n  this.parseOptions = options.qsParseOptions || {}\n  this.stringifyOptions = options.qsStringifyOptions || {}\n}\n\nQuerystring.prototype.stringify = function (obj) {\n  return (this.useQuerystring)\n    ? this.rfc3986(this.lib.stringify(obj,\n      this.stringifyOptions.sep || null,\n      this.stringifyOptions.eq || null,\n      this.stringifyOptions))\n    : this.lib.stringify(obj, this.stringifyOptions)\n}\n\nQuerystring.prototype.parse = function (str) {\n  return (this.useQuerystring)\n    ? this.lib.parse(str,\n      this.parseOptions.sep || null,\n      this.parseOptions.eq || null,\n      this.parseOptions)\n    : this.lib.parse(str, this.parseOptions)\n}\n\nQuerystring.prototype.rfc3986 = function (str) {\n  return str.replace(/[!'()*]/g, function (c) {\n    return '%' + c.charCodeAt(0).toString(16).toUpperCase()\n  })\n}\n\nQuerystring.prototype.unescape = querystring.unescape\n\nexports.Querystring = Querystring\n","'use strict'\n\nvar url = require('url')\nvar isUrl = /^https?:/\n\nfunction Redirect (request) {\n  this.request = request\n  this.followRedirect = true\n  this.followRedirects = true\n  this.followAllRedirects = false\n  this.followOriginalHttpMethod = false\n  this.allowRedirect = function () { return true }\n  this.maxRedirects = 10\n  this.redirects = []\n  this.redirectsFollowed = 0\n  this.removeRefererHeader = false\n}\n\nRedirect.prototype.onRequest = function (options) {\n  var self = this\n\n  if (options.maxRedirects !== undefined) {\n    self.maxRedirects = options.maxRedirects\n  }\n  if (typeof options.followRedirect === 'function') {\n    self.allowRedirect = options.followRedirect\n  }\n  if (options.followRedirect !== undefined) {\n    self.followRedirects = !!options.followRedirect\n  }\n  if (options.followAllRedirects !== undefined) {\n    self.followAllRedirects = options.followAllRedirects\n  }\n  if (self.followRedirects || self.followAllRedirects) {\n    self.redirects = self.redirects || []\n  }\n  if (options.removeRefererHeader !== undefined) {\n    self.removeRefererHeader = options.removeRefererHeader\n  }\n  if (options.followOriginalHttpMethod !== undefined) {\n    self.followOriginalHttpMethod = options.followOriginalHttpMethod\n  }\n}\n\nRedirect.prototype.redirectTo = function (response) {\n  var self = this\n  var request = self.request\n\n  var redirectTo = null\n  if (response.statusCode >= 300 && response.statusCode < 400 && response.caseless.has('location')) {\n    var location = response.caseless.get('location')\n    request.debug('redirect', location)\n\n    if (self.followAllRedirects) {\n      redirectTo = location\n    } else if (self.followRedirects) {\n      switch (request.method) {\n        case 'PATCH':\n        case 'PUT':\n        case 'POST':\n        case 'DELETE':\n          // Do not follow redirects\n          break\n        default:\n          redirectTo = location\n          break\n      }\n    }\n  } else if (response.statusCode === 401) {\n    var authHeader = request._auth.onResponse(response)\n    if (authHeader) {\n      request.setHeader('authorization', authHeader)\n      redirectTo = request.uri\n    }\n  }\n  return redirectTo\n}\n\nRedirect.prototype.onResponse = function (response) {\n  var self = this\n  var request = self.request\n\n  var redirectTo = self.redirectTo(response)\n  if (!redirectTo || !self.allowRedirect.call(request, response)) {\n    return false\n  }\n\n  request.debug('redirect to', redirectTo)\n\n  // ignore any potential response body.  it cannot possibly be useful\n  // to us at this point.\n  // response.resume should be defined, but check anyway before calling. Workaround for browserify.\n  if (response.resume) {\n    response.resume()\n  }\n\n  if (self.redirectsFollowed >= self.maxRedirects) {\n    request.emit('error', new Error('Exceeded maxRedirects. Probably stuck in a redirect loop ' + request.uri.href))\n    return false\n  }\n  self.redirectsFollowed += 1\n\n  if (!isUrl.test(redirectTo)) {\n    redirectTo = url.resolve(request.uri.href, redirectTo)\n  }\n\n  var uriPrev = request.uri\n  request.uri = url.parse(redirectTo)\n\n  // handle the case where we change protocol from https to http or vice versa\n  if (request.uri.protocol !== uriPrev.protocol) {\n    delete request.agent\n  }\n\n  self.redirects.push({ statusCode: response.statusCode, redirectUri: redirectTo })\n\n  if (self.followAllRedirects && request.method !== 'HEAD' &&\n    response.statusCode !== 401 && response.statusCode !== 307) {\n    request.method = self.followOriginalHttpMethod ? request.method : 'GET'\n  }\n  // request.method = 'GET' // Force all redirects to use GET || commented out fixes #215\n  delete request.src\n  delete request.req\n  delete request._started\n  if (response.statusCode !== 401 && response.statusCode !== 307) {\n    // Remove parameters from the previous response, unless this is the second request\n    // for a server that requires digest authentication.\n    delete request.body\n    delete request._form\n    if (request.headers) {\n      request.removeHeader('host')\n      request.removeHeader('content-type')\n      request.removeHeader('content-length')\n      if (request.uri.hostname !== request.originalHost.split(':')[0]) {\n        // Remove authorization if changing hostnames (but not if just\n        // changing ports or protocols).  This matches the behavior of curl:\n        // https://github.com/bagder/curl/blob/6beb0eee/lib/http.c#L710\n        request.removeHeader('authorization')\n      }\n    }\n  }\n\n  if (!self.removeRefererHeader) {\n    request.setHeader('referer', uriPrev.href)\n  }\n\n  request.emit('redirect')\n\n  request.init()\n\n  return true\n}\n\nexports.Redirect = Redirect\n","'use strict'\n\nvar url = require('url')\nvar tunnel = require('tunnel-agent')\n\nvar defaultProxyHeaderWhiteList = [\n  'accept',\n  'accept-charset',\n  'accept-encoding',\n  'accept-language',\n  'accept-ranges',\n  'cache-control',\n  'content-encoding',\n  'content-language',\n  'content-location',\n  'content-md5',\n  'content-range',\n  'content-type',\n  'connection',\n  'date',\n  'expect',\n  'max-forwards',\n  'pragma',\n  'referer',\n  'te',\n  'user-agent',\n  'via'\n]\n\nvar defaultProxyHeaderExclusiveList = [\n  'proxy-authorization'\n]\n\nfunction constructProxyHost (uriObject) {\n  var port = uriObject.port\n  var protocol = uriObject.protocol\n  var proxyHost = uriObject.hostname + ':'\n\n  if (port) {\n    proxyHost += port\n  } else if (protocol === 'https:') {\n    proxyHost += '443'\n  } else {\n    proxyHost += '80'\n  }\n\n  return proxyHost\n}\n\nfunction constructProxyHeaderWhiteList (headers, proxyHeaderWhiteList) {\n  var whiteList = proxyHeaderWhiteList\n    .reduce(function (set, header) {\n      set[header.toLowerCase()] = true\n      return set\n    }, {})\n\n  return Object.keys(headers)\n    .filter(function (header) {\n      return whiteList[header.toLowerCase()]\n    })\n    .reduce(function (set, header) {\n      set[header] = headers[header]\n      return set\n    }, {})\n}\n\nfunction constructTunnelOptions (request, proxyHeaders) {\n  var proxy = request.proxy\n\n  var tunnelOptions = {\n    proxy: {\n      host: proxy.hostname,\n      port: +proxy.port,\n      proxyAuth: proxy.auth,\n      headers: proxyHeaders\n    },\n    headers: request.headers,\n    ca: request.ca,\n    cert: request.cert,\n    key: request.key,\n    passphrase: request.passphrase,\n    pfx: request.pfx,\n    ciphers: request.ciphers,\n    rejectUnauthorized: request.rejectUnauthorized,\n    secureOptions: request.secureOptions,\n    secureProtocol: request.secureProtocol\n  }\n\n  return tunnelOptions\n}\n\nfunction constructTunnelFnName (uri, proxy) {\n  var uriProtocol = (uri.protocol === 'https:' ? 'https' : 'http')\n  var proxyProtocol = (proxy.protocol === 'https:' ? 'Https' : 'Http')\n  return [uriProtocol, proxyProtocol].join('Over')\n}\n\nfunction getTunnelFn (request) {\n  var uri = request.uri\n  var proxy = request.proxy\n  var tunnelFnName = constructTunnelFnName(uri, proxy)\n  return tunnel[tunnelFnName]\n}\n\nfunction Tunnel (request) {\n  this.request = request\n  this.proxyHeaderWhiteList = defaultProxyHeaderWhiteList\n  this.proxyHeaderExclusiveList = []\n  if (typeof request.tunnel !== 'undefined') {\n    this.tunnelOverride = request.tunnel\n  }\n}\n\nTunnel.prototype.isEnabled = function () {\n  var self = this\n  var request = self.request\n    // Tunnel HTTPS by default. Allow the user to override this setting.\n\n  // If self.tunnelOverride is set (the user specified a value), use it.\n  if (typeof self.tunnelOverride !== 'undefined') {\n    return self.tunnelOverride\n  }\n\n  // If the destination is HTTPS, tunnel.\n  if (request.uri.protocol === 'https:') {\n    return true\n  }\n\n  // Otherwise, do not use tunnel.\n  return false\n}\n\nTunnel.prototype.setup = function (options) {\n  var self = this\n  var request = self.request\n\n  options = options || {}\n\n  if (typeof request.proxy === 'string') {\n    request.proxy = url.parse(request.proxy)\n  }\n\n  if (!request.proxy || !request.tunnel) {\n    return false\n  }\n\n  // Setup Proxy Header Exclusive List and White List\n  if (options.proxyHeaderWhiteList) {\n    self.proxyHeaderWhiteList = options.proxyHeaderWhiteList\n  }\n  if (options.proxyHeaderExclusiveList) {\n    self.proxyHeaderExclusiveList = options.proxyHeaderExclusiveList\n  }\n\n  var proxyHeaderExclusiveList = self.proxyHeaderExclusiveList.concat(defaultProxyHeaderExclusiveList)\n  var proxyHeaderWhiteList = self.proxyHeaderWhiteList.concat(proxyHeaderExclusiveList)\n\n  // Setup Proxy Headers and Proxy Headers Host\n  // Only send the Proxy White Listed Header names\n  var proxyHeaders = constructProxyHeaderWhiteList(request.headers, proxyHeaderWhiteList)\n  proxyHeaders.host = constructProxyHost(request.uri)\n\n  proxyHeaderExclusiveList.forEach(request.removeHeader, request)\n\n  // Set Agent from Tunnel Data\n  var tunnelFn = getTunnelFn(request)\n  var tunnelOptions = constructTunnelOptions(request, proxyHeaders)\n  request.agent = tunnelFn(tunnelOptions)\n\n  return true\n}\n\nTunnel.defaultProxyHeaderWhiteList = defaultProxyHeaderWhiteList\nTunnel.defaultProxyHeaderExclusiveList = defaultProxyHeaderExclusiveList\nexports.Tunnel = Tunnel\n","'use strict';\n\nvar replace = String.prototype.replace;\nvar percentTwenties = /%20/g;\n\nmodule.exports = {\n    'default': 'RFC3986',\n    formatters: {\n        RFC1738: function (value) {\n            return replace.call(value, percentTwenties, '+');\n        },\n        RFC3986: function (value) {\n            return value;\n        }\n    },\n    RFC1738: 'RFC1738',\n    RFC3986: 'RFC3986'\n};\n","'use strict';\n\nvar stringify = require('./stringify');\nvar parse = require('./parse');\nvar formats = require('./formats');\n\nmodule.exports = {\n    formats: formats,\n    parse: parse,\n    stringify: stringify\n};\n","'use strict';\n\nvar utils = require('./utils');\n\nvar has = Object.prototype.hasOwnProperty;\n\nvar defaults = {\n    allowDots: false,\n    allowPrototypes: false,\n    arrayLimit: 20,\n    decoder: utils.decode,\n    delimiter: '&',\n    depth: 5,\n    parameterLimit: 1000,\n    plainObjects: false,\n    strictNullHandling: false\n};\n\nvar parseValues = function parseQueryStringValues(str, options) {\n    var obj = {};\n    var cleanStr = options.ignoreQueryPrefix ? str.replace(/^\\?/, '') : str;\n    var limit = options.parameterLimit === Infinity ? undefined : options.parameterLimit;\n    var parts = cleanStr.split(options.delimiter, limit);\n\n    for (var i = 0; i < parts.length; ++i) {\n        var part = parts[i];\n\n        var bracketEqualsPos = part.indexOf(']=');\n        var pos = bracketEqualsPos === -1 ? part.indexOf('=') : bracketEqualsPos + 1;\n\n        var key, val;\n        if (pos === -1) {\n            key = options.decoder(part, defaults.decoder);\n            val = options.strictNullHandling ? null : '';\n        } else {\n            key = options.decoder(part.slice(0, pos), defaults.decoder);\n            val = options.decoder(part.slice(pos + 1), defaults.decoder);\n        }\n        if (has.call(obj, key)) {\n            obj[key] = [].concat(obj[key]).concat(val);\n        } else {\n            obj[key] = val;\n        }\n    }\n\n    return obj;\n};\n\nvar parseObject = function (chain, val, options) {\n    var leaf = val;\n\n    for (var i = chain.length - 1; i >= 0; --i) {\n        var obj;\n        var root = chain[i];\n\n        if (root === '[]') {\n            obj = [];\n            obj = obj.concat(leaf);\n        } else {\n            obj = options.plainObjects ? Object.create(null) : {};\n            var cleanRoot = root.charAt(0) === '[' && root.charAt(root.length - 1) === ']' ? root.slice(1, -1) : root;\n            var index = parseInt(cleanRoot, 10);\n            if (\n                !isNaN(index)\n                && root !== cleanRoot\n                && String(index) === cleanRoot\n                && index >= 0\n                && (options.parseArrays && index <= options.arrayLimit)\n            ) {\n                obj = [];\n                obj[index] = leaf;\n            } else {\n                obj[cleanRoot] = leaf;\n            }\n        }\n\n        leaf = obj;\n    }\n\n    return leaf;\n};\n\nvar parseKeys = function parseQueryStringKeys(givenKey, val, options) {\n    if (!givenKey) {\n        return;\n    }\n\n    // Transform dot notation to bracket notation\n    var key = options.allowDots ? givenKey.replace(/\\.([^.[]+)/g, '[$1]') : givenKey;\n\n    // The regex chunks\n\n    var brackets = /(\\[[^[\\]]*])/;\n    var child = /(\\[[^[\\]]*])/g;\n\n    // Get the parent\n\n    var segment = brackets.exec(key);\n    var parent = segment ? key.slice(0, segment.index) : key;\n\n    // Stash the parent if it exists\n\n    var keys = [];\n    if (parent) {\n        // If we aren't using plain objects, optionally prefix keys\n        // that would overwrite object prototype properties\n        if (!options.plainObjects && has.call(Object.prototype, parent)) {\n            if (!options.allowPrototypes) {\n                return;\n            }\n        }\n\n        keys.push(parent);\n    }\n\n    // Loop through children appending to the array until we hit depth\n\n    var i = 0;\n    while ((segment = child.exec(key)) !== null && i < options.depth) {\n        i += 1;\n        if (!options.plainObjects && has.call(Object.prototype, segment[1].slice(1, -1))) {\n            if (!options.allowPrototypes) {\n                return;\n            }\n        }\n        keys.push(segment[1]);\n    }\n\n    // If there's a remainder, just add whatever is left\n\n    if (segment) {\n        keys.push('[' + key.slice(segment.index) + ']');\n    }\n\n    return parseObject(keys, val, options);\n};\n\nmodule.exports = function (str, opts) {\n    var options = opts ? utils.assign({}, opts) : {};\n\n    if (options.decoder !== null && options.decoder !== undefined && typeof options.decoder !== 'function') {\n        throw new TypeError('Decoder has to be a function.');\n    }\n\n    options.ignoreQueryPrefix = options.ignoreQueryPrefix === true;\n    options.delimiter = typeof options.delimiter === 'string' || utils.isRegExp(options.delimiter) ? options.delimiter : defaults.delimiter;\n    options.depth = typeof options.depth === 'number' ? options.depth : defaults.depth;\n    options.arrayLimit = typeof options.arrayLimit === 'number' ? options.arrayLimit : defaults.arrayLimit;\n    options.parseArrays = options.parseArrays !== false;\n    options.decoder = typeof options.decoder === 'function' ? options.decoder : defaults.decoder;\n    options.allowDots = typeof options.allowDots === 'boolean' ? options.allowDots : defaults.allowDots;\n    options.plainObjects = typeof options.plainObjects === 'boolean' ? options.plainObjects : defaults.plainObjects;\n    options.allowPrototypes = typeof options.allowPrototypes === 'boolean' ? options.allowPrototypes : defaults.allowPrototypes;\n    options.parameterLimit = typeof options.parameterLimit === 'number' ? options.parameterLimit : defaults.parameterLimit;\n    options.strictNullHandling = typeof options.strictNullHandling === 'boolean' ? options.strictNullHandling : defaults.strictNullHandling;\n\n    if (str === '' || str === null || typeof str === 'undefined') {\n        return options.plainObjects ? Object.create(null) : {};\n    }\n\n    var tempObj = typeof str === 'string' ? parseValues(str, options) : str;\n    var obj = options.plainObjects ? Object.create(null) : {};\n\n    // Iterate over the keys and setup the new object\n\n    var keys = Object.keys(tempObj);\n    for (var i = 0; i < keys.length; ++i) {\n        var key = keys[i];\n        var newObj = parseKeys(key, tempObj[key], options);\n        obj = utils.merge(obj, newObj, options);\n    }\n\n    return utils.compact(obj);\n};\n","'use strict';\n\nvar utils = require('./utils');\nvar formats = require('./formats');\n\nvar arrayPrefixGenerators = {\n    brackets: function brackets(prefix) { // eslint-disable-line func-name-matching\n        return prefix + '[]';\n    },\n    indices: function indices(prefix, key) { // eslint-disable-line func-name-matching\n        return prefix + '[' + key + ']';\n    },\n    repeat: function repeat(prefix) { // eslint-disable-line func-name-matching\n        return prefix;\n    }\n};\n\nvar toISO = Date.prototype.toISOString;\n\nvar defaults = {\n    delimiter: '&',\n    encode: true,\n    encoder: utils.encode,\n    encodeValuesOnly: false,\n    serializeDate: function serializeDate(date) { // eslint-disable-line func-name-matching\n        return toISO.call(date);\n    },\n    skipNulls: false,\n    strictNullHandling: false\n};\n\nvar stringify = function stringify( // eslint-disable-line func-name-matching\n    object,\n    prefix,\n    generateArrayPrefix,\n    strictNullHandling,\n    skipNulls,\n    encoder,\n    filter,\n    sort,\n    allowDots,\n    serializeDate,\n    formatter,\n    encodeValuesOnly\n) {\n    var obj = object;\n    if (typeof filter === 'function') {\n        obj = filter(prefix, obj);\n    } else if (obj instanceof Date) {\n        obj = serializeDate(obj);\n    } else if (obj === null) {\n        if (strictNullHandling) {\n            return encoder && !encodeValuesOnly ? encoder(prefix, defaults.encoder) : prefix;\n        }\n\n        obj = '';\n    }\n\n    if (typeof obj === 'string' || typeof obj === 'number' || typeof obj === 'boolean' || utils.isBuffer(obj)) {\n        if (encoder) {\n            var keyValue = encodeValuesOnly ? prefix : encoder(prefix, defaults.encoder);\n            return [formatter(keyValue) + '=' + formatter(encoder(obj, defaults.encoder))];\n        }\n        return [formatter(prefix) + '=' + formatter(String(obj))];\n    }\n\n    var values = [];\n\n    if (typeof obj === 'undefined') {\n        return values;\n    }\n\n    var objKeys;\n    if (Array.isArray(filter)) {\n        objKeys = filter;\n    } else {\n        var keys = Object.keys(obj);\n        objKeys = sort ? keys.sort(sort) : keys;\n    }\n\n    for (var i = 0; i < objKeys.length; ++i) {\n        var key = objKeys[i];\n\n        if (skipNulls && obj[key] === null) {\n            continue;\n        }\n\n        if (Array.isArray(obj)) {\n            values = values.concat(stringify(\n                obj[key],\n                generateArrayPrefix(prefix, key),\n                generateArrayPrefix,\n                strictNullHandling,\n                skipNulls,\n                encoder,\n                filter,\n                sort,\n                allowDots,\n                serializeDate,\n                formatter,\n                encodeValuesOnly\n            ));\n        } else {\n            values = values.concat(stringify(\n                obj[key],\n                prefix + (allowDots ? '.' + key : '[' + key + ']'),\n                generateArrayPrefix,\n                strictNullHandling,\n                skipNulls,\n                encoder,\n                filter,\n                sort,\n                allowDots,\n                serializeDate,\n                formatter,\n                encodeValuesOnly\n            ));\n        }\n    }\n\n    return values;\n};\n\nmodule.exports = function (object, opts) {\n    var obj = object;\n    var options = opts ? utils.assign({}, opts) : {};\n\n    if (options.encoder !== null && options.encoder !== undefined && typeof options.encoder !== 'function') {\n        throw new TypeError('Encoder has to be a function.');\n    }\n\n    var delimiter = typeof options.delimiter === 'undefined' ? defaults.delimiter : options.delimiter;\n    var strictNullHandling = typeof options.strictNullHandling === 'boolean' ? options.strictNullHandling : defaults.strictNullHandling;\n    var skipNulls = typeof options.skipNulls === 'boolean' ? options.skipNulls : defaults.skipNulls;\n    var encode = typeof options.encode === 'boolean' ? options.encode : defaults.encode;\n    var encoder = typeof options.encoder === 'function' ? options.encoder : defaults.encoder;\n    var sort = typeof options.sort === 'function' ? options.sort : null;\n    var allowDots = typeof options.allowDots === 'undefined' ? false : options.allowDots;\n    var serializeDate = typeof options.serializeDate === 'function' ? options.serializeDate : defaults.serializeDate;\n    var encodeValuesOnly = typeof options.encodeValuesOnly === 'boolean' ? options.encodeValuesOnly : defaults.encodeValuesOnly;\n    if (typeof options.format === 'undefined') {\n        options.format = formats['default'];\n    } else if (!Object.prototype.hasOwnProperty.call(formats.formatters, options.format)) {\n        throw new TypeError('Unknown format option provided.');\n    }\n    var formatter = formats.formatters[options.format];\n    var objKeys;\n    var filter;\n\n    if (typeof options.filter === 'function') {\n        filter = options.filter;\n        obj = filter('', obj);\n    } else if (Array.isArray(options.filter)) {\n        filter = options.filter;\n        objKeys = filter;\n    }\n\n    var keys = [];\n\n    if (typeof obj !== 'object' || obj === null) {\n        return '';\n    }\n\n    var arrayFormat;\n    if (options.arrayFormat in arrayPrefixGenerators) {\n        arrayFormat = options.arrayFormat;\n    } else if ('indices' in options) {\n        arrayFormat = options.indices ? 'indices' : 'repeat';\n    } else {\n        arrayFormat = 'indices';\n    }\n\n    var generateArrayPrefix = arrayPrefixGenerators[arrayFormat];\n\n    if (!objKeys) {\n        objKeys = Object.keys(obj);\n    }\n\n    if (sort) {\n        objKeys.sort(sort);\n    }\n\n    for (var i = 0; i < objKeys.length; ++i) {\n        var key = objKeys[i];\n\n        if (skipNulls && obj[key] === null) {\n            continue;\n        }\n\n        keys = keys.concat(stringify(\n            obj[key],\n            key,\n            generateArrayPrefix,\n            strictNullHandling,\n            skipNulls,\n            encode ? encoder : null,\n            filter,\n            sort,\n            allowDots,\n            serializeDate,\n            formatter,\n            encodeValuesOnly\n        ));\n    }\n\n    var joined = keys.join(delimiter);\n    var prefix = options.addQueryPrefix === true ? '?' : '';\n\n    return joined.length > 0 ? prefix + joined : '';\n};\n","'use strict';\n\nvar has = Object.prototype.hasOwnProperty;\n\nvar hexTable = (function () {\n    var array = [];\n    for (var i = 0; i < 256; ++i) {\n        array.push('%' + ((i < 16 ? '0' : '') + i.toString(16)).toUpperCase());\n    }\n\n    return array;\n}());\n\nvar compactQueue = function compactQueue(queue) {\n    var obj;\n\n    while (queue.length) {\n        var item = queue.pop();\n        obj = item.obj[item.prop];\n\n        if (Array.isArray(obj)) {\n            var compacted = [];\n\n            for (var j = 0; j < obj.length; ++j) {\n                if (typeof obj[j] !== 'undefined') {\n                    compacted.push(obj[j]);\n                }\n            }\n\n            item.obj[item.prop] = compacted;\n        }\n    }\n\n    return obj;\n};\n\nvar arrayToObject = function arrayToObject(source, options) {\n    var obj = options && options.plainObjects ? Object.create(null) : {};\n    for (var i = 0; i < source.length; ++i) {\n        if (typeof source[i] !== 'undefined') {\n            obj[i] = source[i];\n        }\n    }\n\n    return obj;\n};\n\nvar merge = function merge(target, source, options) {\n    if (!source) {\n        return target;\n    }\n\n    if (typeof source !== 'object') {\n        if (Array.isArray(target)) {\n            target.push(source);\n        } else if (typeof target === 'object') {\n            if (options.plainObjects || options.allowPrototypes || !has.call(Object.prototype, source)) {\n                target[source] = true;\n            }\n        } else {\n            return [target, source];\n        }\n\n        return target;\n    }\n\n    if (typeof target !== 'object') {\n        return [target].concat(source);\n    }\n\n    var mergeTarget = target;\n    if (Array.isArray(target) && !Array.isArray(source)) {\n        mergeTarget = arrayToObject(target, options);\n    }\n\n    if (Array.isArray(target) && Array.isArray(source)) {\n        source.forEach(function (item, i) {\n            if (has.call(target, i)) {\n                if (target[i] && typeof target[i] === 'object') {\n                    target[i] = merge(target[i], item, options);\n                } else {\n                    target.push(item);\n                }\n            } else {\n                target[i] = item;\n            }\n        });\n        return target;\n    }\n\n    return Object.keys(source).reduce(function (acc, key) {\n        var value = source[key];\n\n        if (has.call(acc, key)) {\n            acc[key] = merge(acc[key], value, options);\n        } else {\n            acc[key] = value;\n        }\n        return acc;\n    }, mergeTarget);\n};\n\nvar assign = function assignSingleSource(target, source) {\n    return Object.keys(source).reduce(function (acc, key) {\n        acc[key] = source[key];\n        return acc;\n    }, target);\n};\n\nvar decode = function (str) {\n    try {\n        return decodeURIComponent(str.replace(/\\+/g, ' '));\n    } catch (e) {\n        return str;\n    }\n};\n\nvar encode = function encode(str) {\n    // This code was originally written by Brian White (mscdex) for the io.js core querystring library.\n    // It has been adapted here for stricter adherence to RFC 3986\n    if (str.length === 0) {\n        return str;\n    }\n\n    var string = typeof str === 'string' ? str : String(str);\n\n    var out = '';\n    for (var i = 0; i < string.length; ++i) {\n        var c = string.charCodeAt(i);\n\n        if (\n            c === 0x2D // -\n            || c === 0x2E // .\n            || c === 0x5F // _\n            || c === 0x7E // ~\n            || (c >= 0x30 && c <= 0x39) // 0-9\n            || (c >= 0x41 && c <= 0x5A) // a-z\n            || (c >= 0x61 && c <= 0x7A) // A-Z\n        ) {\n            out += string.charAt(i);\n            continue;\n        }\n\n        if (c < 0x80) {\n            out = out + hexTable[c];\n            continue;\n        }\n\n        if (c < 0x800) {\n            out = out + (hexTable[0xC0 | (c >> 6)] + hexTable[0x80 | (c & 0x3F)]);\n            continue;\n        }\n\n        if (c < 0xD800 || c >= 0xE000) {\n            out = out + (hexTable[0xE0 | (c >> 12)] + hexTable[0x80 | ((c >> 6) & 0x3F)] + hexTable[0x80 | (c & 0x3F)]);\n            continue;\n        }\n\n        i += 1;\n        c = 0x10000 + (((c & 0x3FF) << 10) | (string.charCodeAt(i) & 0x3FF));\n        out += hexTable[0xF0 | (c >> 18)]\n            + hexTable[0x80 | ((c >> 12) & 0x3F)]\n            + hexTable[0x80 | ((c >> 6) & 0x3F)]\n            + hexTable[0x80 | (c & 0x3F)];\n    }\n\n    return out;\n};\n\nvar compact = function compact(value) {\n    var queue = [{ obj: { o: value }, prop: 'o' }];\n    var refs = [];\n\n    for (var i = 0; i < queue.length; ++i) {\n        var item = queue[i];\n        var obj = item.obj[item.prop];\n\n        var keys = Object.keys(obj);\n        for (var j = 0; j < keys.length; ++j) {\n            var key = keys[j];\n            var val = obj[key];\n            if (typeof val === 'object' && val !== null && refs.indexOf(val) === -1) {\n                queue.push({ obj: obj, prop: key });\n                refs.push(val);\n            }\n        }\n    }\n\n    return compactQueue(queue);\n};\n\nvar isRegExp = function isRegExp(obj) {\n    return Object.prototype.toString.call(obj) === '[object RegExp]';\n};\n\nvar isBuffer = function isBuffer(obj) {\n    if (obj === null || typeof obj === 'undefined') {\n        return false;\n    }\n\n    return !!(obj.constructor && obj.constructor.isBuffer && obj.constructor.isBuffer(obj));\n};\n\nmodule.exports = {\n    arrayToObject: arrayToObject,\n    assign: assign,\n    compact: compact,\n    decode: decode,\n    encode: encode,\n    isBuffer: isBuffer,\n    isRegExp: isRegExp,\n    merge: merge\n};\n","'use strict'\n\nvar http = require('http')\nvar https = require('https')\nvar url = require('url')\nvar util = require('util')\nvar stream = require('stream')\nvar zlib = require('zlib')\nvar aws2 = require('aws-sign2')\nvar aws4 = require('aws4')\nvar httpSignature = require('http-signature')\nvar mime = require('mime-types')\nvar caseless = require('caseless')\nvar ForeverAgent = require('forever-agent')\nvar FormData = require('form-data')\nvar extend = require('extend')\nvar isstream = require('isstream')\nvar isTypedArray = require('is-typedarray').strict\nvar helpers = require('./lib/helpers')\nvar cookies = require('./lib/cookies')\nvar getProxyFromURI = require('./lib/getProxyFromURI')\nvar Querystring = require('./lib/querystring').Querystring\nvar Har = require('./lib/har').Har\nvar Auth = require('./lib/auth').Auth\nvar OAuth = require('./lib/oauth').OAuth\nvar hawk = require('./lib/hawk')\nvar Multipart = require('./lib/multipart').Multipart\nvar Redirect = require('./lib/redirect').Redirect\nvar Tunnel = require('./lib/tunnel').Tunnel\nvar now = require('performance-now')\nvar Buffer = require('safe-buffer').Buffer\n\nvar safeStringify = helpers.safeStringify\nvar isReadStream = helpers.isReadStream\nvar toBase64 = helpers.toBase64\nvar defer = helpers.defer\nvar copy = helpers.copy\nvar version = helpers.version\nvar globalCookieJar = cookies.jar()\n\nvar globalPool = {}\n\nfunction filterForNonReserved (reserved, options) {\n  // Filter out properties that are not reserved.\n  // Reserved values are passed in at call site.\n\n  var object = {}\n  for (var i in options) {\n    var notReserved = (reserved.indexOf(i) === -1)\n    if (notReserved) {\n      object[i] = options[i]\n    }\n  }\n  return object\n}\n\nfunction filterOutReservedFunctions (reserved, options) {\n  // Filter out properties that are functions and are reserved.\n  // Reserved values are passed in at call site.\n\n  var object = {}\n  for (var i in options) {\n    var isReserved = !(reserved.indexOf(i) === -1)\n    var isFunction = (typeof options[i] === 'function')\n    if (!(isReserved && isFunction)) {\n      object[i] = options[i]\n    }\n  }\n  return object\n}\n\n// Return a simpler request object to allow serialization\nfunction requestToJSON () {\n  var self = this\n  return {\n    uri: self.uri,\n    method: self.method,\n    headers: self.headers\n  }\n}\n\n// Return a simpler response object to allow serialization\nfunction responseToJSON () {\n  var self = this\n  return {\n    statusCode: self.statusCode,\n    body: self.body,\n    headers: self.headers,\n    request: requestToJSON.call(self.request)\n  }\n}\n\nfunction Request (options) {\n  // if given the method property in options, set property explicitMethod to true\n\n  // extend the Request instance with any non-reserved properties\n  // remove any reserved functions from the options object\n  // set Request instance to be readable and writable\n  // call init\n\n  var self = this\n\n  // start with HAR, then override with additional options\n  if (options.har) {\n    self._har = new Har(self)\n    options = self._har.options(options)\n  }\n\n  stream.Stream.call(self)\n  var reserved = Object.keys(Request.prototype)\n  var nonReserved = filterForNonReserved(reserved, options)\n\n  extend(self, nonReserved)\n  options = filterOutReservedFunctions(reserved, options)\n\n  self.readable = true\n  self.writable = true\n  if (options.method) {\n    self.explicitMethod = true\n  }\n  self._qs = new Querystring(self)\n  self._auth = new Auth(self)\n  self._oauth = new OAuth(self)\n  self._multipart = new Multipart(self)\n  self._redirect = new Redirect(self)\n  self._tunnel = new Tunnel(self)\n  self.init(options)\n}\n\nutil.inherits(Request, stream.Stream)\n\n// Debugging\nRequest.debug = process.env.NODE_DEBUG && /\\brequest\\b/.test(process.env.NODE_DEBUG)\nfunction debug () {\n  if (Request.debug) {\n    console.error('REQUEST %s', util.format.apply(util, arguments))\n  }\n}\nRequest.prototype.debug = debug\n\nRequest.prototype.init = function (options) {\n  // init() contains all the code to setup the request object.\n  // the actual outgoing request is not started until start() is called\n  // this function is called from both the constructor and on redirect.\n  var self = this\n  if (!options) {\n    options = {}\n  }\n  self.headers = self.headers ? copy(self.headers) : {}\n\n  // Delete headers with value undefined since they break\n  // ClientRequest.OutgoingMessage.setHeader in node 0.12\n  for (var headerName in self.headers) {\n    if (typeof self.headers[headerName] === 'undefined') {\n      delete self.headers[headerName]\n    }\n  }\n\n  caseless.httpify(self, self.headers)\n\n  if (!self.method) {\n    self.method = options.method || 'GET'\n  }\n  if (!self.localAddress) {\n    self.localAddress = options.localAddress\n  }\n\n  self._qs.init(options)\n\n  debug(options)\n  if (!self.pool && self.pool !== false) {\n    self.pool = globalPool\n  }\n  self.dests = self.dests || []\n  self.__isRequestRequest = true\n\n  // Protect against double callback\n  if (!self._callback && self.callback) {\n    self._callback = self.callback\n    self.callback = function () {\n      if (self._callbackCalled) {\n        return // Print a warning maybe?\n      }\n      self._callbackCalled = true\n      self._callback.apply(self, arguments)\n    }\n    self.on('error', self.callback.bind())\n    self.on('complete', self.callback.bind(self, null))\n  }\n\n  // People use this property instead all the time, so support it\n  if (!self.uri && self.url) {\n    self.uri = self.url\n    delete self.url\n  }\n\n  // If there's a baseUrl, then use it as the base URL (i.e. uri must be\n  // specified as a relative path and is appended to baseUrl).\n  if (self.baseUrl) {\n    if (typeof self.baseUrl !== 'string') {\n      return self.emit('error', new Error('options.baseUrl must be a string'))\n    }\n\n    if (typeof self.uri !== 'string') {\n      return self.emit('error', new Error('options.uri must be a string when using options.baseUrl'))\n    }\n\n    if (self.uri.indexOf('//') === 0 || self.uri.indexOf('://') !== -1) {\n      return self.emit('error', new Error('options.uri must be a path when using options.baseUrl'))\n    }\n\n    // Handle all cases to make sure that there's only one slash between\n    // baseUrl and uri.\n    var baseUrlEndsWithSlash = self.baseUrl.lastIndexOf('/') === self.baseUrl.length - 1\n    var uriStartsWithSlash = self.uri.indexOf('/') === 0\n\n    if (baseUrlEndsWithSlash && uriStartsWithSlash) {\n      self.uri = self.baseUrl + self.uri.slice(1)\n    } else if (baseUrlEndsWithSlash || uriStartsWithSlash) {\n      self.uri = self.baseUrl + self.uri\n    } else if (self.uri === '') {\n      self.uri = self.baseUrl\n    } else {\n      self.uri = self.baseUrl + '/' + self.uri\n    }\n    delete self.baseUrl\n  }\n\n  // A URI is needed by this point, emit error if we haven't been able to get one\n  if (!self.uri) {\n    return self.emit('error', new Error('options.uri is a required argument'))\n  }\n\n  // If a string URI/URL was given, parse it into a URL object\n  if (typeof self.uri === 'string') {\n    self.uri = url.parse(self.uri)\n  }\n\n  // Some URL objects are not from a URL parsed string and need href added\n  if (!self.uri.href) {\n    self.uri.href = url.format(self.uri)\n  }\n\n  // DEPRECATED: Warning for users of the old Unix Sockets URL Scheme\n  if (self.uri.protocol === 'unix:') {\n    return self.emit('error', new Error('`unix://` URL scheme is no longer supported. Please use the format `http://unix:SOCKET:PATH`'))\n  }\n\n  // Support Unix Sockets\n  if (self.uri.host === 'unix') {\n    self.enableUnixSocket()\n  }\n\n  if (self.strictSSL === false) {\n    self.rejectUnauthorized = false\n  }\n\n  if (!self.uri.pathname) { self.uri.pathname = '/' }\n\n  if (!(self.uri.host || (self.uri.hostname && self.uri.port)) && !self.uri.isUnix) {\n    // Invalid URI: it may generate lot of bad errors, like 'TypeError: Cannot call method `indexOf` of undefined' in CookieJar\n    // Detect and reject it as soon as possible\n    var faultyUri = url.format(self.uri)\n    var message = 'Invalid URI \"' + faultyUri + '\"'\n    if (Object.keys(options).length === 0) {\n      // No option ? This can be the sign of a redirect\n      // As this is a case where the user cannot do anything (they didn't call request directly with this URL)\n      // they should be warned that it can be caused by a redirection (can save some hair)\n      message += '. This can be caused by a crappy redirection.'\n    }\n    // This error was fatal\n    self.abort()\n    return self.emit('error', new Error(message))\n  }\n\n  if (!self.hasOwnProperty('proxy')) {\n    self.proxy = getProxyFromURI(self.uri)\n  }\n\n  self.tunnel = self._tunnel.isEnabled()\n  if (self.proxy) {\n    self._tunnel.setup(options)\n  }\n\n  self._redirect.onRequest(options)\n\n  self.setHost = false\n  if (!self.hasHeader('host')) {\n    var hostHeaderName = self.originalHostHeaderName || 'host'\n    self.setHeader(hostHeaderName, self.uri.host)\n    // Drop :port suffix from Host header if known protocol.\n    if (self.uri.port) {\n      if ((self.uri.port === '80' && self.uri.protocol === 'http:') ||\n          (self.uri.port === '443' && self.uri.protocol === 'https:')) {\n        self.setHeader(hostHeaderName, self.uri.hostname)\n      }\n    }\n    self.setHost = true\n  }\n\n  self.jar(self._jar || options.jar)\n\n  if (!self.uri.port) {\n    if (self.uri.protocol === 'http:') { self.uri.port = 80 } else if (self.uri.protocol === 'https:') { self.uri.port = 443 }\n  }\n\n  if (self.proxy && !self.tunnel) {\n    self.port = self.proxy.port\n    self.host = self.proxy.hostname\n  } else {\n    self.port = self.uri.port\n    self.host = self.uri.hostname\n  }\n\n  if (options.form) {\n    self.form(options.form)\n  }\n\n  if (options.formData) {\n    var formData = options.formData\n    var requestForm = self.form()\n    var appendFormValue = function (key, value) {\n      if (value && value.hasOwnProperty('value') && value.hasOwnProperty('options')) {\n        requestForm.append(key, value.value, value.options)\n      } else {\n        requestForm.append(key, value)\n      }\n    }\n    for (var formKey in formData) {\n      if (formData.hasOwnProperty(formKey)) {\n        var formValue = formData[formKey]\n        if (formValue instanceof Array) {\n          for (var j = 0; j < formValue.length; j++) {\n            appendFormValue(formKey, formValue[j])\n          }\n        } else {\n          appendFormValue(formKey, formValue)\n        }\n      }\n    }\n  }\n\n  if (options.qs) {\n    self.qs(options.qs)\n  }\n\n  if (self.uri.path) {\n    self.path = self.uri.path\n  } else {\n    self.path = self.uri.pathname + (self.uri.search || '')\n  }\n\n  if (self.path.length === 0) {\n    self.path = '/'\n  }\n\n  // Auth must happen last in case signing is dependent on other headers\n  if (options.aws) {\n    self.aws(options.aws)\n  }\n\n  if (options.hawk) {\n    self.hawk(options.hawk)\n  }\n\n  if (options.httpSignature) {\n    self.httpSignature(options.httpSignature)\n  }\n\n  if (options.auth) {\n    if (Object.prototype.hasOwnProperty.call(options.auth, 'username')) {\n      options.auth.user = options.auth.username\n    }\n    if (Object.prototype.hasOwnProperty.call(options.auth, 'password')) {\n      options.auth.pass = options.auth.password\n    }\n\n    self.auth(\n      options.auth.user,\n      options.auth.pass,\n      options.auth.sendImmediately,\n      options.auth.bearer\n    )\n  }\n\n  if (self.gzip && !self.hasHeader('accept-encoding')) {\n    self.setHeader('accept-encoding', 'gzip, deflate')\n  }\n\n  if (self.uri.auth && !self.hasHeader('authorization')) {\n    var uriAuthPieces = self.uri.auth.split(':').map(function (item) { return self._qs.unescape(item) })\n    self.auth(uriAuthPieces[0], uriAuthPieces.slice(1).join(':'), true)\n  }\n\n  if (!self.tunnel && self.proxy && self.proxy.auth && !self.hasHeader('proxy-authorization')) {\n    var proxyAuthPieces = self.proxy.auth.split(':').map(function (item) { return self._qs.unescape(item) })\n    var authHeader = 'Basic ' + toBase64(proxyAuthPieces.join(':'))\n    self.setHeader('proxy-authorization', authHeader)\n  }\n\n  if (self.proxy && !self.tunnel) {\n    self.path = (self.uri.protocol + '//' + self.uri.host + self.path)\n  }\n\n  if (options.json) {\n    self.json(options.json)\n  }\n  if (options.multipart) {\n    self.multipart(options.multipart)\n  }\n\n  if (options.time) {\n    self.timing = true\n\n    // NOTE: elapsedTime is deprecated in favor of .timings\n    self.elapsedTime = self.elapsedTime || 0\n  }\n\n  function setContentLength () {\n    if (isTypedArray(self.body)) {\n      self.body = Buffer.from(self.body)\n    }\n\n    if (!self.hasHeader('content-length')) {\n      var length\n      if (typeof self.body === 'string') {\n        length = Buffer.byteLength(self.body)\n      } else if (Array.isArray(self.body)) {\n        length = self.body.reduce(function (a, b) { return a + b.length }, 0)\n      } else {\n        length = self.body.length\n      }\n\n      if (length) {\n        self.setHeader('content-length', length)\n      } else {\n        self.emit('error', new Error('Argument error, options.body.'))\n      }\n    }\n  }\n  if (self.body && !isstream(self.body)) {\n    setContentLength()\n  }\n\n  if (options.oauth) {\n    self.oauth(options.oauth)\n  } else if (self._oauth.params && self.hasHeader('authorization')) {\n    self.oauth(self._oauth.params)\n  }\n\n  var protocol = self.proxy && !self.tunnel ? self.proxy.protocol : self.uri.protocol\n  var defaultModules = {'http:': http, 'https:': https}\n  var httpModules = self.httpModules || {}\n\n  self.httpModule = httpModules[protocol] || defaultModules[protocol]\n\n  if (!self.httpModule) {\n    return self.emit('error', new Error('Invalid protocol: ' + protocol))\n  }\n\n  if (options.ca) {\n    self.ca = options.ca\n  }\n\n  if (!self.agent) {\n    if (options.agentOptions) {\n      self.agentOptions = options.agentOptions\n    }\n\n    if (options.agentClass) {\n      self.agentClass = options.agentClass\n    } else if (options.forever) {\n      var v = version()\n      // use ForeverAgent in node 0.10- only\n      if (v.major === 0 && v.minor <= 10) {\n        self.agentClass = protocol === 'http:' ? ForeverAgent : ForeverAgent.SSL\n      } else {\n        self.agentClass = self.httpModule.Agent\n        self.agentOptions = self.agentOptions || {}\n        self.agentOptions.keepAlive = true\n      }\n    } else {\n      self.agentClass = self.httpModule.Agent\n    }\n  }\n\n  if (self.pool === false) {\n    self.agent = false\n  } else {\n    self.agent = self.agent || self.getNewAgent()\n  }\n\n  self.on('pipe', function (src) {\n    if (self.ntick && self._started) {\n      self.emit('error', new Error('You cannot pipe to this stream after the outbound request has started.'))\n    }\n    self.src = src\n    if (isReadStream(src)) {\n      if (!self.hasHeader('content-type')) {\n        self.setHeader('content-type', mime.lookup(src.path))\n      }\n    } else {\n      if (src.headers) {\n        for (var i in src.headers) {\n          if (!self.hasHeader(i)) {\n            self.setHeader(i, src.headers[i])\n          }\n        }\n      }\n      if (self._json && !self.hasHeader('content-type')) {\n        self.setHeader('content-type', 'application/json')\n      }\n      if (src.method && !self.explicitMethod) {\n        self.method = src.method\n      }\n    }\n\n  // self.on('pipe', function () {\n  //   console.error('You have already piped to this stream. Pipeing twice is likely to break the request.')\n  // })\n  })\n\n  defer(function () {\n    if (self._aborted) {\n      return\n    }\n\n    var end = function () {\n      if (self._form) {\n        if (!self._auth.hasAuth) {\n          self._form.pipe(self)\n        } else if (self._auth.hasAuth && self._auth.sentAuth) {\n          self._form.pipe(self)\n        }\n      }\n      if (self._multipart && self._multipart.chunked) {\n        self._multipart.body.pipe(self)\n      }\n      if (self.body) {\n        if (isstream(self.body)) {\n          self.body.pipe(self)\n        } else {\n          setContentLength()\n          if (Array.isArray(self.body)) {\n            self.body.forEach(function (part) {\n              self.write(part)\n            })\n          } else {\n            self.write(self.body)\n          }\n          self.end()\n        }\n      } else if (self.requestBodyStream) {\n        console.warn('options.requestBodyStream is deprecated, please pass the request object to stream.pipe.')\n        self.requestBodyStream.pipe(self)\n      } else if (!self.src) {\n        if (self._auth.hasAuth && !self._auth.sentAuth) {\n          self.end()\n          return\n        }\n        if (self.method !== 'GET' && typeof self.method !== 'undefined') {\n          self.setHeader('content-length', 0)\n        }\n        self.end()\n      }\n    }\n\n    if (self._form && !self.hasHeader('content-length')) {\n      // Before ending the request, we had to compute the length of the whole form, asyncly\n      self.setHeader(self._form.getHeaders(), true)\n      self._form.getLength(function (err, length) {\n        if (!err && !isNaN(length)) {\n          self.setHeader('content-length', length)\n        }\n        end()\n      })\n    } else {\n      end()\n    }\n\n    self.ntick = true\n  })\n}\n\nRequest.prototype.getNewAgent = function () {\n  var self = this\n  var Agent = self.agentClass\n  var options = {}\n  if (self.agentOptions) {\n    for (var i in self.agentOptions) {\n      options[i] = self.agentOptions[i]\n    }\n  }\n  if (self.ca) {\n    options.ca = self.ca\n  }\n  if (self.ciphers) {\n    options.ciphers = self.ciphers\n  }\n  if (self.secureProtocol) {\n    options.secureProtocol = self.secureProtocol\n  }\n  if (self.secureOptions) {\n    options.secureOptions = self.secureOptions\n  }\n  if (typeof self.rejectUnauthorized !== 'undefined') {\n    options.rejectUnauthorized = self.rejectUnauthorized\n  }\n\n  if (self.cert && self.key) {\n    options.key = self.key\n    options.cert = self.cert\n  }\n\n  if (self.pfx) {\n    options.pfx = self.pfx\n  }\n\n  if (self.passphrase) {\n    options.passphrase = self.passphrase\n  }\n\n  var poolKey = ''\n\n  // different types of agents are in different pools\n  if (Agent !== self.httpModule.Agent) {\n    poolKey += Agent.name\n  }\n\n  // ca option is only relevant if proxy or destination are https\n  var proxy = self.proxy\n  if (typeof proxy === 'string') {\n    proxy = url.parse(proxy)\n  }\n  var isHttps = (proxy && proxy.protocol === 'https:') || this.uri.protocol === 'https:'\n\n  if (isHttps) {\n    if (options.ca) {\n      if (poolKey) {\n        poolKey += ':'\n      }\n      poolKey += options.ca\n    }\n\n    if (typeof options.rejectUnauthorized !== 'undefined') {\n      if (poolKey) {\n        poolKey += ':'\n      }\n      poolKey += options.rejectUnauthorized\n    }\n\n    if (options.cert) {\n      if (poolKey) {\n        poolKey += ':'\n      }\n      poolKey += options.cert.toString('ascii') + options.key.toString('ascii')\n    }\n\n    if (options.pfx) {\n      if (poolKey) {\n        poolKey += ':'\n      }\n      poolKey += options.pfx.toString('ascii')\n    }\n\n    if (options.ciphers) {\n      if (poolKey) {\n        poolKey += ':'\n      }\n      poolKey += options.ciphers\n    }\n\n    if (options.secureProtocol) {\n      if (poolKey) {\n        poolKey += ':'\n      }\n      poolKey += options.secureProtocol\n    }\n\n    if (options.secureOptions) {\n      if (poolKey) {\n        poolKey += ':'\n      }\n      poolKey += options.secureOptions\n    }\n  }\n\n  if (self.pool === globalPool && !poolKey && Object.keys(options).length === 0 && self.httpModule.globalAgent) {\n    // not doing anything special.  Use the globalAgent\n    return self.httpModule.globalAgent\n  }\n\n  // we're using a stored agent.  Make sure it's protocol-specific\n  poolKey = self.uri.protocol + poolKey\n\n  // generate a new agent for this setting if none yet exists\n  if (!self.pool[poolKey]) {\n    self.pool[poolKey] = new Agent(options)\n    // properly set maxSockets on new agents\n    if (self.pool.maxSockets) {\n      self.pool[poolKey].maxSockets = self.pool.maxSockets\n    }\n  }\n\n  return self.pool[poolKey]\n}\n\nRequest.prototype.start = function () {\n  // start() is called once we are ready to send the outgoing HTTP request.\n  // this is usually called on the first write(), end() or on nextTick()\n  var self = this\n\n  if (self.timing) {\n    // All timings will be relative to this request's startTime.  In order to do this,\n    // we need to capture the wall-clock start time (via Date), immediately followed\n    // by the high-resolution timer (via now()).  While these two won't be set\n    // at the _exact_ same time, they should be close enough to be able to calculate\n    // high-resolution, monotonically non-decreasing timestamps relative to startTime.\n    var startTime = new Date().getTime()\n    var startTimeNow = now()\n  }\n\n  if (self._aborted) {\n    return\n  }\n\n  self._started = true\n  self.method = self.method || 'GET'\n  self.href = self.uri.href\n\n  if (self.src && self.src.stat && self.src.stat.size && !self.hasHeader('content-length')) {\n    self.setHeader('content-length', self.src.stat.size)\n  }\n  if (self._aws) {\n    self.aws(self._aws, true)\n  }\n\n  // We have a method named auth, which is completely different from the http.request\n  // auth option.  If we don't remove it, we're gonna have a bad time.\n  var reqOptions = copy(self)\n  delete reqOptions.auth\n\n  debug('make request', self.uri.href)\n\n  // node v6.8.0 now supports a `timeout` value in `http.request()`, but we\n  // should delete it for now since we handle timeouts manually for better\n  // consistency with node versions before v6.8.0\n  delete reqOptions.timeout\n\n  try {\n    self.req = self.httpModule.request(reqOptions)\n  } catch (err) {\n    self.emit('error', err)\n    return\n  }\n\n  if (self.timing) {\n    self.startTime = startTime\n    self.startTimeNow = startTimeNow\n\n    // Timing values will all be relative to startTime (by comparing to startTimeNow\n    // so we have an accurate clock)\n    self.timings = {}\n  }\n\n  var timeout\n  if (self.timeout && !self.timeoutTimer) {\n    if (self.timeout < 0) {\n      timeout = 0\n    } else if (typeof self.timeout === 'number' && isFinite(self.timeout)) {\n      timeout = self.timeout\n    }\n  }\n\n  self.req.on('response', self.onRequestResponse.bind(self))\n  self.req.on('error', self.onRequestError.bind(self))\n  self.req.on('drain', function () {\n    self.emit('drain')\n  })\n\n  self.req.on('socket', function (socket) {\n    // `._connecting` was the old property which was made public in node v6.1.0\n    var isConnecting = socket._connecting || socket.connecting\n    if (self.timing) {\n      self.timings.socket = now() - self.startTimeNow\n\n      if (isConnecting) {\n        var onLookupTiming = function () {\n          self.timings.lookup = now() - self.startTimeNow\n        }\n\n        var onConnectTiming = function () {\n          self.timings.connect = now() - self.startTimeNow\n        }\n\n        socket.once('lookup', onLookupTiming)\n        socket.once('connect', onConnectTiming)\n\n        // clean up timing event listeners if needed on error\n        self.req.once('error', function () {\n          socket.removeListener('lookup', onLookupTiming)\n          socket.removeListener('connect', onConnectTiming)\n        })\n      }\n    }\n\n    var setReqTimeout = function () {\n      // This timeout sets the amount of time to wait *between* bytes sent\n      // from the server once connected.\n      //\n      // In particular, it's useful for erroring if the server fails to send\n      // data halfway through streaming a response.\n      self.req.setTimeout(timeout, function () {\n        if (self.req) {\n          self.abort()\n          var e = new Error('ESOCKETTIMEDOUT')\n          e.code = 'ESOCKETTIMEDOUT'\n          e.connect = false\n          self.emit('error', e)\n        }\n      })\n    }\n    if (timeout !== undefined) {\n      // Only start the connection timer if we're actually connecting a new\n      // socket, otherwise if we're already connected (because this is a\n      // keep-alive connection) do not bother. This is important since we won't\n      // get a 'connect' event for an already connected socket.\n      if (isConnecting) {\n        var onReqSockConnect = function () {\n          socket.removeListener('connect', onReqSockConnect)\n          clearTimeout(self.timeoutTimer)\n          self.timeoutTimer = null\n          setReqTimeout()\n        }\n\n        socket.on('connect', onReqSockConnect)\n\n        self.req.on('error', function (err) { // eslint-disable-line handle-callback-err\n          socket.removeListener('connect', onReqSockConnect)\n        })\n\n        // Set a timeout in memory - this block will throw if the server takes more\n        // than `timeout` to write the HTTP status and headers (corresponding to\n        // the on('response') event on the client). NB: this measures wall-clock\n        // time, not the time between bytes sent by the server.\n        self.timeoutTimer = setTimeout(function () {\n          socket.removeListener('connect', onReqSockConnect)\n          self.abort()\n          var e = new Error('ETIMEDOUT')\n          e.code = 'ETIMEDOUT'\n          e.connect = true\n          self.emit('error', e)\n        }, timeout)\n      } else {\n        // We're already connected\n        setReqTimeout()\n      }\n    }\n    self.emit('socket', socket)\n  })\n\n  self.emit('request', self.req)\n}\n\nRequest.prototype.onRequestError = function (error) {\n  var self = this\n  if (self._aborted) {\n    return\n  }\n  if (self.req && self.req._reusedSocket && error.code === 'ECONNRESET' &&\n    self.agent.addRequestNoreuse) {\n    self.agent = { addRequest: self.agent.addRequestNoreuse.bind(self.agent) }\n    self.start()\n    self.req.end()\n    return\n  }\n  if (self.timeout && self.timeoutTimer) {\n    clearTimeout(self.timeoutTimer)\n    self.timeoutTimer = null\n  }\n  self.emit('error', error)\n}\n\nRequest.prototype.onRequestResponse = function (response) {\n  var self = this\n\n  if (self.timing) {\n    self.timings.response = now() - self.startTimeNow\n  }\n\n  debug('onRequestResponse', self.uri.href, response.statusCode, response.headers)\n  response.on('end', function () {\n    if (self.timing) {\n      self.timings.end = now() - self.startTimeNow\n      response.timingStart = self.startTime\n\n      // fill in the blanks for any periods that didn't trigger, such as\n      // no lookup or connect due to keep alive\n      if (!self.timings.socket) {\n        self.timings.socket = 0\n      }\n      if (!self.timings.lookup) {\n        self.timings.lookup = self.timings.socket\n      }\n      if (!self.timings.connect) {\n        self.timings.connect = self.timings.lookup\n      }\n      if (!self.timings.response) {\n        self.timings.response = self.timings.connect\n      }\n\n      debug('elapsed time', self.timings.end)\n\n      // elapsedTime includes all redirects\n      self.elapsedTime += Math.round(self.timings.end)\n\n      // NOTE: elapsedTime is deprecated in favor of .timings\n      response.elapsedTime = self.elapsedTime\n\n      // timings is just for the final fetch\n      response.timings = self.timings\n\n      // pre-calculate phase timings as well\n      response.timingPhases = {\n        wait: self.timings.socket,\n        dns: self.timings.lookup - self.timings.socket,\n        tcp: self.timings.connect - self.timings.lookup,\n        firstByte: self.timings.response - self.timings.connect,\n        download: self.timings.end - self.timings.response,\n        total: self.timings.end\n      }\n    }\n    debug('response end', self.uri.href, response.statusCode, response.headers)\n  })\n\n  if (self._aborted) {\n    debug('aborted', self.uri.href)\n    response.resume()\n    return\n  }\n\n  self.response = response\n  response.request = self\n  response.toJSON = responseToJSON\n\n  // XXX This is different on 0.10, because SSL is strict by default\n  if (self.httpModule === https &&\n    self.strictSSL && (!response.hasOwnProperty('socket') ||\n    !response.socket.authorized)) {\n    debug('strict ssl error', self.uri.href)\n    var sslErr = response.hasOwnProperty('socket') ? response.socket.authorizationError : self.uri.href + ' does not support SSL'\n    self.emit('error', new Error('SSL Error: ' + sslErr))\n    return\n  }\n\n  // Save the original host before any redirect (if it changes, we need to\n  // remove any authorization headers).  Also remember the case of the header\n  // name because lots of broken servers expect Host instead of host and we\n  // want the caller to be able to specify this.\n  self.originalHost = self.getHeader('host')\n  if (!self.originalHostHeaderName) {\n    self.originalHostHeaderName = self.hasHeader('host')\n  }\n  if (self.setHost) {\n    self.removeHeader('host')\n  }\n  if (self.timeout && self.timeoutTimer) {\n    clearTimeout(self.timeoutTimer)\n    self.timeoutTimer = null\n  }\n\n  var targetCookieJar = (self._jar && self._jar.setCookie) ? self._jar : globalCookieJar\n  var addCookie = function (cookie) {\n    // set the cookie if it's domain in the href's domain.\n    try {\n      targetCookieJar.setCookie(cookie, self.uri.href, {ignoreError: true})\n    } catch (e) {\n      self.emit('error', e)\n    }\n  }\n\n  response.caseless = caseless(response.headers)\n\n  if (response.caseless.has('set-cookie') && (!self._disableCookies)) {\n    var headerName = response.caseless.has('set-cookie')\n    if (Array.isArray(response.headers[headerName])) {\n      response.headers[headerName].forEach(addCookie)\n    } else {\n      addCookie(response.headers[headerName])\n    }\n  }\n\n  if (self._redirect.onResponse(response)) {\n    return // Ignore the rest of the response\n  } else {\n    // Be a good stream and emit end when the response is finished.\n    // Hack to emit end on close because of a core bug that never fires end\n    response.on('close', function () {\n      if (!self._ended) {\n        self.response.emit('end')\n      }\n    })\n\n    response.once('end', function () {\n      self._ended = true\n    })\n\n    var noBody = function (code) {\n      return (\n        self.method === 'HEAD' ||\n        // Informational\n        (code >= 100 && code < 200) ||\n        // No Content\n        code === 204 ||\n        // Not Modified\n        code === 304\n      )\n    }\n\n    var responseContent\n    if (self.gzip && !noBody(response.statusCode)) {\n      var contentEncoding = response.headers['content-encoding'] || 'identity'\n      contentEncoding = contentEncoding.trim().toLowerCase()\n\n      // Be more lenient with decoding compressed responses, since (very rarely)\n      // servers send slightly invalid gzip responses that are still accepted\n      // by common browsers.\n      // Always using Z_SYNC_FLUSH is what cURL does.\n      var zlibOptions = {\n        flush: zlib.Z_SYNC_FLUSH,\n        finishFlush: zlib.Z_SYNC_FLUSH\n      }\n\n      if (contentEncoding === 'gzip') {\n        responseContent = zlib.createGunzip(zlibOptions)\n        response.pipe(responseContent)\n      } else if (contentEncoding === 'deflate') {\n        responseContent = zlib.createInflate(zlibOptions)\n        response.pipe(responseContent)\n      } else {\n        // Since previous versions didn't check for Content-Encoding header,\n        // ignore any invalid values to preserve backwards-compatibility\n        if (contentEncoding !== 'identity') {\n          debug('ignoring unrecognized Content-Encoding ' + contentEncoding)\n        }\n        responseContent = response\n      }\n    } else {\n      responseContent = response\n    }\n\n    if (self.encoding) {\n      if (self.dests.length !== 0) {\n        console.error('Ignoring encoding parameter as this stream is being piped to another stream which makes the encoding option invalid.')\n      } else {\n        responseContent.setEncoding(self.encoding)\n      }\n    }\n\n    if (self._paused) {\n      responseContent.pause()\n    }\n\n    self.responseContent = responseContent\n\n    self.emit('response', response)\n\n    self.dests.forEach(function (dest) {\n      self.pipeDest(dest)\n    })\n\n    responseContent.on('data', function (chunk) {\n      if (self.timing && !self.responseStarted) {\n        self.responseStartTime = (new Date()).getTime()\n\n        // NOTE: responseStartTime is deprecated in favor of .timings\n        response.responseStartTime = self.responseStartTime\n      }\n      self._destdata = true\n      self.emit('data', chunk)\n    })\n    responseContent.once('end', function (chunk) {\n      self.emit('end', chunk)\n    })\n    responseContent.on('error', function (error) {\n      self.emit('error', error)\n    })\n    responseContent.on('close', function () { self.emit('close') })\n\n    if (self.callback) {\n      self.readResponseBody(response)\n    } else { // if no callback\n      self.on('end', function () {\n        if (self._aborted) {\n          debug('aborted', self.uri.href)\n          return\n        }\n        self.emit('complete', response)\n      })\n    }\n  }\n  debug('finish init function', self.uri.href)\n}\n\nRequest.prototype.readResponseBody = function (response) {\n  var self = this\n  debug(\"reading response's body\")\n  var buffers = []\n  var bufferLength = 0\n  var strings = []\n\n  self.on('data', function (chunk) {\n    if (!Buffer.isBuffer(chunk)) {\n      strings.push(chunk)\n    } else if (chunk.length) {\n      bufferLength += chunk.length\n      buffers.push(chunk)\n    }\n  })\n  self.on('end', function () {\n    debug('end event', self.uri.href)\n    if (self._aborted) {\n      debug('aborted', self.uri.href)\n      // `buffer` is defined in the parent scope and used in a closure it exists for the life of the request.\n      // This can lead to leaky behavior if the user retains a reference to the request object.\n      buffers = []\n      bufferLength = 0\n      return\n    }\n\n    if (bufferLength) {\n      debug('has body', self.uri.href, bufferLength)\n      response.body = Buffer.concat(buffers, bufferLength)\n      if (self.encoding !== null) {\n        response.body = response.body.toString(self.encoding)\n      }\n      // `buffer` is defined in the parent scope and used in a closure it exists for the life of the Request.\n      // This can lead to leaky behavior if the user retains a reference to the request object.\n      buffers = []\n      bufferLength = 0\n    } else if (strings.length) {\n      // The UTF8 BOM [0xEF,0xBB,0xBF] is converted to [0xFE,0xFF] in the JS UTC16/UCS2 representation.\n      // Strip this value out when the encoding is set to 'utf8', as upstream consumers won't expect it and it breaks JSON.parse().\n      if (self.encoding === 'utf8' && strings[0].length > 0 && strings[0][0] === '\\uFEFF') {\n        strings[0] = strings[0].substring(1)\n      }\n      response.body = strings.join('')\n    }\n\n    if (self._json) {\n      try {\n        response.body = JSON.parse(response.body, self._jsonReviver)\n      } catch (e) {\n        debug('invalid JSON received', self.uri.href)\n      }\n    }\n    debug('emitting complete', self.uri.href)\n    if (typeof response.body === 'undefined' && !self._json) {\n      response.body = self.encoding === null ? Buffer.alloc(0) : ''\n    }\n    self.emit('complete', response, response.body)\n  })\n}\n\nRequest.prototype.abort = function () {\n  var self = this\n  self._aborted = true\n\n  if (self.req) {\n    self.req.abort()\n  } else if (self.response) {\n    self.response.destroy()\n  }\n\n  self.emit('abort')\n}\n\nRequest.prototype.pipeDest = function (dest) {\n  var self = this\n  var response = self.response\n  // Called after the response is received\n  if (dest.headers && !dest.headersSent) {\n    if (response.caseless.has('content-type')) {\n      var ctname = response.caseless.has('content-type')\n      if (dest.setHeader) {\n        dest.setHeader(ctname, response.headers[ctname])\n      } else {\n        dest.headers[ctname] = response.headers[ctname]\n      }\n    }\n\n    if (response.caseless.has('content-length')) {\n      var clname = response.caseless.has('content-length')\n      if (dest.setHeader) {\n        dest.setHeader(clname, response.headers[clname])\n      } else {\n        dest.headers[clname] = response.headers[clname]\n      }\n    }\n  }\n  if (dest.setHeader && !dest.headersSent) {\n    for (var i in response.headers) {\n      // If the response content is being decoded, the Content-Encoding header\n      // of the response doesn't represent the piped content, so don't pass it.\n      if (!self.gzip || i !== 'content-encoding') {\n        dest.setHeader(i, response.headers[i])\n      }\n    }\n    dest.statusCode = response.statusCode\n  }\n  if (self.pipefilter) {\n    self.pipefilter(response, dest)\n  }\n}\n\nRequest.prototype.qs = function (q, clobber) {\n  var self = this\n  var base\n  if (!clobber && self.uri.query) {\n    base = self._qs.parse(self.uri.query)\n  } else {\n    base = {}\n  }\n\n  for (var i in q) {\n    base[i] = q[i]\n  }\n\n  var qs = self._qs.stringify(base)\n\n  if (qs === '') {\n    return self\n  }\n\n  self.uri = url.parse(self.uri.href.split('?')[0] + '?' + qs)\n  self.url = self.uri\n  self.path = self.uri.path\n\n  if (self.uri.host === 'unix') {\n    self.enableUnixSocket()\n  }\n\n  return self\n}\nRequest.prototype.form = function (form) {\n  var self = this\n  if (form) {\n    if (!/^application\\/x-www-form-urlencoded\\b/.test(self.getHeader('content-type'))) {\n      self.setHeader('content-type', 'application/x-www-form-urlencoded')\n    }\n    self.body = (typeof form === 'string')\n      ? self._qs.rfc3986(form.toString('utf8'))\n      : self._qs.stringify(form).toString('utf8')\n    return self\n  }\n  // create form-data object\n  self._form = new FormData()\n  self._form.on('error', function (err) {\n    err.message = 'form-data: ' + err.message\n    self.emit('error', err)\n    self.abort()\n  })\n  return self._form\n}\nRequest.prototype.multipart = function (multipart) {\n  var self = this\n\n  self._multipart.onRequest(multipart)\n\n  if (!self._multipart.chunked) {\n    self.body = self._multipart.body\n  }\n\n  return self\n}\nRequest.prototype.json = function (val) {\n  var self = this\n\n  if (!self.hasHeader('accept')) {\n    self.setHeader('accept', 'application/json')\n  }\n\n  if (typeof self.jsonReplacer === 'function') {\n    self._jsonReplacer = self.jsonReplacer\n  }\n\n  self._json = true\n  if (typeof val === 'boolean') {\n    if (self.body !== undefined) {\n      if (!/^application\\/x-www-form-urlencoded\\b/.test(self.getHeader('content-type'))) {\n        self.body = safeStringify(self.body, self._jsonReplacer)\n      } else {\n        self.body = self._qs.rfc3986(self.body)\n      }\n      if (!self.hasHeader('content-type')) {\n        self.setHeader('content-type', 'application/json')\n      }\n    }\n  } else {\n    self.body = safeStringify(val, self._jsonReplacer)\n    if (!self.hasHeader('content-type')) {\n      self.setHeader('content-type', 'application/json')\n    }\n  }\n\n  if (typeof self.jsonReviver === 'function') {\n    self._jsonReviver = self.jsonReviver\n  }\n\n  return self\n}\nRequest.prototype.getHeader = function (name, headers) {\n  var self = this\n  var result, re, match\n  if (!headers) {\n    headers = self.headers\n  }\n  Object.keys(headers).forEach(function (key) {\n    if (key.length !== name.length) {\n      return\n    }\n    re = new RegExp(name, 'i')\n    match = key.match(re)\n    if (match) {\n      result = headers[key]\n    }\n  })\n  return result\n}\nRequest.prototype.enableUnixSocket = function () {\n  // Get the socket & request paths from the URL\n  var unixParts = this.uri.path.split(':')\n  var host = unixParts[0]\n  var path = unixParts[1]\n  // Apply unix properties to request\n  this.socketPath = host\n  this.uri.pathname = path\n  this.uri.path = path\n  this.uri.host = host\n  this.uri.hostname = host\n  this.uri.isUnix = true\n}\n\nRequest.prototype.auth = function (user, pass, sendImmediately, bearer) {\n  var self = this\n\n  self._auth.onRequest(user, pass, sendImmediately, bearer)\n\n  return self\n}\nRequest.prototype.aws = function (opts, now) {\n  var self = this\n\n  if (!now) {\n    self._aws = opts\n    return self\n  }\n\n  if (opts.sign_version === 4 || opts.sign_version === '4') {\n    // use aws4\n    var options = {\n      host: self.uri.host,\n      path: self.uri.path,\n      method: self.method,\n      headers: self.headers,\n      body: self.body\n    }\n    if (opts.service) {\n      options.service = opts.service\n    }\n    var signRes = aws4.sign(options, {\n      accessKeyId: opts.key,\n      secretAccessKey: opts.secret,\n      sessionToken: opts.session\n    })\n    self.setHeader('authorization', signRes.headers.Authorization)\n    self.setHeader('x-amz-date', signRes.headers['X-Amz-Date'])\n    if (signRes.headers['X-Amz-Security-Token']) {\n      self.setHeader('x-amz-security-token', signRes.headers['X-Amz-Security-Token'])\n    }\n  } else {\n    // default: use aws-sign2\n    var date = new Date()\n    self.setHeader('date', date.toUTCString())\n    var auth = {\n      key: opts.key,\n      secret: opts.secret,\n      verb: self.method.toUpperCase(),\n      date: date,\n      contentType: self.getHeader('content-type') || '',\n      md5: self.getHeader('content-md5') || '',\n      amazonHeaders: aws2.canonicalizeHeaders(self.headers)\n    }\n    var path = self.uri.path\n    if (opts.bucket && path) {\n      auth.resource = '/' + opts.bucket + path\n    } else if (opts.bucket && !path) {\n      auth.resource = '/' + opts.bucket\n    } else if (!opts.bucket && path) {\n      auth.resource = path\n    } else if (!opts.bucket && !path) {\n      auth.resource = '/'\n    }\n    auth.resource = aws2.canonicalizeResource(auth.resource)\n    self.setHeader('authorization', aws2.authorization(auth))\n  }\n\n  return self\n}\nRequest.prototype.httpSignature = function (opts) {\n  var self = this\n  httpSignature.signRequest({\n    getHeader: function (header) {\n      return self.getHeader(header, self.headers)\n    },\n    setHeader: function (header, value) {\n      self.setHeader(header, value)\n    },\n    method: self.method,\n    path: self.path\n  }, opts)\n  debug('httpSignature authorization', self.getHeader('authorization'))\n\n  return self\n}\nRequest.prototype.hawk = function (opts) {\n  var self = this\n  self.setHeader('Authorization', hawk.header(self.uri, self.method, opts))\n}\nRequest.prototype.oauth = function (_oauth) {\n  var self = this\n\n  self._oauth.onRequest(_oauth)\n\n  return self\n}\n\nRequest.prototype.jar = function (jar) {\n  var self = this\n  var cookies\n\n  if (self._redirect.redirectsFollowed === 0) {\n    self.originalCookieHeader = self.getHeader('cookie')\n  }\n\n  if (!jar) {\n    // disable cookies\n    cookies = false\n    self._disableCookies = true\n  } else {\n    var targetCookieJar = (jar && jar.getCookieString) ? jar : globalCookieJar\n    var urihref = self.uri.href\n    // fetch cookie in the Specified host\n    if (targetCookieJar) {\n      cookies = targetCookieJar.getCookieString(urihref)\n    }\n  }\n\n  // if need cookie and cookie is not empty\n  if (cookies && cookies.length) {\n    if (self.originalCookieHeader) {\n      // Don't overwrite existing Cookie header\n      self.setHeader('cookie', self.originalCookieHeader + '; ' + cookies)\n    } else {\n      self.setHeader('cookie', cookies)\n    }\n  }\n  self._jar = jar\n  return self\n}\n\n// Stream API\nRequest.prototype.pipe = function (dest, opts) {\n  var self = this\n\n  if (self.response) {\n    if (self._destdata) {\n      self.emit('error', new Error('You cannot pipe after data has been emitted from the response.'))\n    } else if (self._ended) {\n      self.emit('error', new Error('You cannot pipe after the response has been ended.'))\n    } else {\n      stream.Stream.prototype.pipe.call(self, dest, opts)\n      self.pipeDest(dest)\n      return dest\n    }\n  } else {\n    self.dests.push(dest)\n    stream.Stream.prototype.pipe.call(self, dest, opts)\n    return dest\n  }\n}\nRequest.prototype.write = function () {\n  var self = this\n  if (self._aborted) { return }\n\n  if (!self._started) {\n    self.start()\n  }\n  if (self.req) {\n    return self.req.write.apply(self.req, arguments)\n  }\n}\nRequest.prototype.end = function (chunk) {\n  var self = this\n  if (self._aborted) { return }\n\n  if (chunk) {\n    self.write(chunk)\n  }\n  if (!self._started) {\n    self.start()\n  }\n  if (self.req) {\n    self.req.end()\n  }\n}\nRequest.prototype.pause = function () {\n  var self = this\n  if (!self.responseContent) {\n    self._paused = true\n  } else {\n    self.responseContent.pause.apply(self.responseContent, arguments)\n  }\n}\nRequest.prototype.resume = function () {\n  var self = this\n  if (!self.responseContent) {\n    self._paused = false\n  } else {\n    self.responseContent.resume.apply(self.responseContent, arguments)\n  }\n}\nRequest.prototype.destroy = function () {\n  var self = this\n  if (!self._ended) {\n    self.end()\n  } else if (self.response) {\n    self.response.destroy()\n  }\n}\n\nRequest.defaultProxyHeaderWhiteList =\n  Tunnel.defaultProxyHeaderWhiteList.slice()\n\nRequest.defaultProxyHeaderExclusiveList =\n  Tunnel.defaultProxyHeaderExclusiveList.slice()\n\n// Exports\n\nRequest.prototype.toJSON = requestToJSON\nmodule.exports = Request\n","/* eslint-disable node/no-deprecated-api */\nvar buffer = require('buffer')\nvar Buffer = buffer.Buffer\n\n// alternative to using Object.keys for old browsers\nfunction copyProps (src, dst) {\n  for (var key in src) {\n    dst[key] = src[key]\n  }\n}\nif (Buffer.from && Buffer.alloc && Buffer.allocUnsafe && Buffer.allocUnsafeSlow) {\n  module.exports = buffer\n} else {\n  // Copy properties from require('buffer')\n  copyProps(buffer, exports)\n  exports.Buffer = SafeBuffer\n}\n\nfunction SafeBuffer (arg, encodingOrOffset, length) {\n  return Buffer(arg, encodingOrOffset, length)\n}\n\n// Copy static methods from Buffer\ncopyProps(Buffer, SafeBuffer)\n\nSafeBuffer.from = function (arg, encodingOrOffset, length) {\n  if (typeof arg === 'number') {\n    throw new TypeError('Argument must not be a number')\n  }\n  return Buffer(arg, encodingOrOffset, length)\n}\n\nSafeBuffer.alloc = function (size, fill, encoding) {\n  if (typeof size !== 'number') {\n    throw new TypeError('Argument must be a number')\n  }\n  var buf = Buffer(size)\n  if (fill !== undefined) {\n    if (typeof encoding === 'string') {\n      buf.fill(fill, encoding)\n    } else {\n      buf.fill(fill)\n    }\n  } else {\n    buf.fill(0)\n  }\n  return buf\n}\n\nSafeBuffer.allocUnsafe = function (size) {\n  if (typeof size !== 'number') {\n    throw new TypeError('Argument must be a number')\n  }\n  return Buffer(size)\n}\n\nSafeBuffer.allocUnsafeSlow = function (size) {\n  if (typeof size !== 'number') {\n    throw new TypeError('Argument must be a number')\n  }\n  return buffer.SlowBuffer(size)\n}\n","/* eslint-disable node/no-deprecated-api */\n\n'use strict'\n\nvar buffer = require('buffer')\nvar Buffer = buffer.Buffer\n\nvar safer = {}\n\nvar key\n\nfor (key in buffer) {\n  if (!buffer.hasOwnProperty(key)) continue\n  if (key === 'SlowBuffer' || key === 'Buffer') continue\n  safer[key] = buffer[key]\n}\n\nvar Safer = safer.Buffer = {}\nfor (key in Buffer) {\n  if (!Buffer.hasOwnProperty(key)) continue\n  if (key === 'allocUnsafe' || key === 'allocUnsafeSlow') continue\n  Safer[key] = Buffer[key]\n}\n\nsafer.Buffer.prototype = Buffer.prototype\n\nif (!Safer.from || Safer.from === Uint8Array.from) {\n  Safer.from = function (value, encodingOrOffset, length) {\n    if (typeof value === 'number') {\n      throw new TypeError('The \"value\" argument must not be of type number. Received type ' + typeof value)\n    }\n    if (value && typeof value.length === 'undefined') {\n      throw new TypeError('The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type ' + typeof value)\n    }\n    return Buffer(value, encodingOrOffset, length)\n  }\n}\n\nif (!Safer.alloc) {\n  Safer.alloc = function (size, fill, encoding) {\n    if (typeof size !== 'number') {\n      throw new TypeError('The \"size\" argument must be of type number. Received type ' + typeof size)\n    }\n    if (size < 0 || size >= 2 * (1 << 30)) {\n      throw new RangeError('The value \"' + size + '\" is invalid for option \"size\"')\n    }\n    var buf = Buffer(size)\n    if (!fill || fill.length === 0) {\n      buf.fill(0)\n    } else if (typeof encoding === 'string') {\n      buf.fill(fill, encoding)\n    } else {\n      buf.fill(fill)\n    }\n    return buf\n  }\n}\n\nif (!safer.kStringMaxLength) {\n  try {\n    safer.kStringMaxLength = process.binding('buffer').kStringMaxLength\n  } catch (e) {\n    // we can't determine kStringMaxLength in environments where process.binding\n    // is unsupported, so let's not set it\n  }\n}\n\nif (!safer.constants) {\n  safer.constants = {\n    MAX_LENGTH: safer.kMaxLength\n  }\n  if (safer.kStringMaxLength) {\n    safer.constants.MAX_STRING_LENGTH = safer.kStringMaxLength\n  }\n}\n\nmodule.exports = safer\n","/*!\n * send\n * Copyright(c) 2012 TJ Holowaychuk\n * Copyright(c) 2014-2016 Douglas Christopher Wilson\n * MIT Licensed\n */\n\n'use strict'\n\n/**\n * Module dependencies.\n * @private\n */\n\nvar createError = require('http-errors')\nvar debug = require('debug')('send')\nvar deprecate = require('depd')('send')\nvar destroy = require('destroy')\nvar encodeUrl = require('encodeurl')\nvar escapeHtml = require('escape-html')\nvar etag = require('etag')\nvar fresh = require('fresh')\nvar fs = require('fs')\nvar mime = require('mime')\nvar ms = require('ms')\nvar onFinished = require('on-finished')\nvar parseRange = require('range-parser')\nvar path = require('path')\nvar statuses = require('statuses')\nvar Stream = require('stream')\nvar util = require('util')\n\n/**\n * Path function references.\n * @private\n */\n\nvar extname = path.extname\nvar join = path.join\nvar normalize = path.normalize\nvar resolve = path.resolve\nvar sep = path.sep\n\n/**\n * Regular expression for identifying a bytes Range header.\n * @private\n */\n\nvar BYTES_RANGE_REGEXP = /^ *bytes=/\n\n/**\n * Maximum value allowed for the max age.\n * @private\n */\n\nvar MAX_MAXAGE = 60 * 60 * 24 * 365 * 1000 // 1 year\n\n/**\n * Regular expression to match a path with a directory up component.\n * @private\n */\n\nvar UP_PATH_REGEXP = /(?:^|[\\\\/])\\.\\.(?:[\\\\/]|$)/\n\n/**\n * Module exports.\n * @public\n */\n\nmodule.exports = send\nmodule.exports.mime = mime\n\n/**\n * Return a `SendStream` for `req` and `path`.\n *\n * @param {object} req\n * @param {string} path\n * @param {object} [options]\n * @return {SendStream}\n * @public\n */\n\nfunction send (req, path, options) {\n  return new SendStream(req, path, options)\n}\n\n/**\n * Initialize a `SendStream` with the given `path`.\n *\n * @param {Request} req\n * @param {String} path\n * @param {object} [options]\n * @private\n */\n\nfunction SendStream (req, path, options) {\n  Stream.call(this)\n\n  var opts = options || {}\n\n  this.options = opts\n  this.path = path\n  this.req = req\n\n  this._acceptRanges = opts.acceptRanges !== undefined\n    ? Boolean(opts.acceptRanges)\n    : true\n\n  this._cacheControl = opts.cacheControl !== undefined\n    ? Boolean(opts.cacheControl)\n    : true\n\n  this._etag = opts.etag !== undefined\n    ? Boolean(opts.etag)\n    : true\n\n  this._dotfiles = opts.dotfiles !== undefined\n    ? opts.dotfiles\n    : 'ignore'\n\n  if (this._dotfiles !== 'ignore' && this._dotfiles !== 'allow' && this._dotfiles !== 'deny') {\n    throw new TypeError('dotfiles option must be \"allow\", \"deny\", or \"ignore\"')\n  }\n\n  this._hidden = Boolean(opts.hidden)\n\n  if (opts.hidden !== undefined) {\n    deprecate('hidden: use dotfiles: \\'' + (this._hidden ? 'allow' : 'ignore') + '\\' instead')\n  }\n\n  // legacy support\n  if (opts.dotfiles === undefined) {\n    this._dotfiles = undefined\n  }\n\n  this._extensions = opts.extensions !== undefined\n    ? normalizeList(opts.extensions, 'extensions option')\n    : []\n\n  this._immutable = opts.immutable !== undefined\n    ? Boolean(opts.immutable)\n    : false\n\n  this._index = opts.index !== undefined\n    ? normalizeList(opts.index, 'index option')\n    : ['index.html']\n\n  this._lastModified = opts.lastModified !== undefined\n    ? Boolean(opts.lastModified)\n    : true\n\n  this._maxage = opts.maxAge || opts.maxage\n  this._maxage = typeof this._maxage === 'string'\n    ? ms(this._maxage)\n    : Number(this._maxage)\n  this._maxage = !isNaN(this._maxage)\n    ? Math.min(Math.max(0, this._maxage), MAX_MAXAGE)\n    : 0\n\n  this._root = opts.root\n    ? resolve(opts.root)\n    : null\n\n  if (!this._root && opts.from) {\n    this.from(opts.from)\n  }\n}\n\n/**\n * Inherits from `Stream`.\n */\n\nutil.inherits(SendStream, Stream)\n\n/**\n * Enable or disable etag generation.\n *\n * @param {Boolean} val\n * @return {SendStream}\n * @api public\n */\n\nSendStream.prototype.etag = deprecate.function(function etag (val) {\n  this._etag = Boolean(val)\n  debug('etag %s', this._etag)\n  return this\n}, 'send.etag: pass etag as option')\n\n/**\n * Enable or disable \"hidden\" (dot) files.\n *\n * @param {Boolean} path\n * @return {SendStream}\n * @api public\n */\n\nSendStream.prototype.hidden = deprecate.function(function hidden (val) {\n  this._hidden = Boolean(val)\n  this._dotfiles = undefined\n  debug('hidden %s', this._hidden)\n  return this\n}, 'send.hidden: use dotfiles option')\n\n/**\n * Set index `paths`, set to a falsy\n * value to disable index support.\n *\n * @param {String|Boolean|Array} paths\n * @return {SendStream}\n * @api public\n */\n\nSendStream.prototype.index = deprecate.function(function index (paths) {\n  var index = !paths ? [] : normalizeList(paths, 'paths argument')\n  debug('index %o', paths)\n  this._index = index\n  return this\n}, 'send.index: pass index as option')\n\n/**\n * Set root `path`.\n *\n * @param {String} path\n * @return {SendStream}\n * @api public\n */\n\nSendStream.prototype.root = function root (path) {\n  this._root = resolve(String(path))\n  debug('root %s', this._root)\n  return this\n}\n\nSendStream.prototype.from = deprecate.function(SendStream.prototype.root,\n  'send.from: pass root as option')\n\nSendStream.prototype.root = deprecate.function(SendStream.prototype.root,\n  'send.root: pass root as option')\n\n/**\n * Set max-age to `maxAge`.\n *\n * @param {Number} maxAge\n * @return {SendStream}\n * @api public\n */\n\nSendStream.prototype.maxage = deprecate.function(function maxage (maxAge) {\n  this._maxage = typeof maxAge === 'string'\n    ? ms(maxAge)\n    : Number(maxAge)\n  this._maxage = !isNaN(this._maxage)\n    ? Math.min(Math.max(0, this._maxage), MAX_MAXAGE)\n    : 0\n  debug('max-age %d', this._maxage)\n  return this\n}, 'send.maxage: pass maxAge as option')\n\n/**\n * Emit error with `status`.\n *\n * @param {number} status\n * @param {Error} [err]\n * @private\n */\n\nSendStream.prototype.error = function error (status, err) {\n  // emit if listeners instead of responding\n  if (hasListeners(this, 'error')) {\n    return this.emit('error', createError(status, err, {\n      expose: false\n    }))\n  }\n\n  var res = this.res\n  var msg = statuses[status] || String(status)\n  var doc = createHtmlDocument('Error', escapeHtml(msg))\n\n  // clear existing headers\n  clearHeaders(res)\n\n  // add error headers\n  if (err && err.headers) {\n    setHeaders(res, err.headers)\n  }\n\n  // send basic response\n  res.statusCode = status\n  res.setHeader('Content-Type', 'text/html; charset=UTF-8')\n  res.setHeader('Content-Length', Buffer.byteLength(doc))\n  res.setHeader('Content-Security-Policy', \"default-src 'none'\")\n  res.setHeader('X-Content-Type-Options', 'nosniff')\n  res.end(doc)\n}\n\n/**\n * Check if the pathname ends with \"/\".\n *\n * @return {boolean}\n * @private\n */\n\nSendStream.prototype.hasTrailingSlash = function hasTrailingSlash () {\n  return this.path[this.path.length - 1] === '/'\n}\n\n/**\n * Check if this is a conditional GET request.\n *\n * @return {Boolean}\n * @api private\n */\n\nSendStream.prototype.isConditionalGET = function isConditionalGET () {\n  return this.req.headers['if-match'] ||\n    this.req.headers['if-unmodified-since'] ||\n    this.req.headers['if-none-match'] ||\n    this.req.headers['if-modified-since']\n}\n\n/**\n * Check if the request preconditions failed.\n *\n * @return {boolean}\n * @private\n */\n\nSendStream.prototype.isPreconditionFailure = function isPreconditionFailure () {\n  var req = this.req\n  var res = this.res\n\n  // if-match\n  var match = req.headers['if-match']\n  if (match) {\n    var etag = res.getHeader('ETag')\n    return !etag || (match !== '*' && parseTokenList(match).every(function (match) {\n      return match !== etag && match !== 'W/' + etag && 'W/' + match !== etag\n    }))\n  }\n\n  // if-unmodified-since\n  var unmodifiedSince = parseHttpDate(req.headers['if-unmodified-since'])\n  if (!isNaN(unmodifiedSince)) {\n    var lastModified = parseHttpDate(res.getHeader('Last-Modified'))\n    return isNaN(lastModified) || lastModified > unmodifiedSince\n  }\n\n  return false\n}\n\n/**\n * Strip content-* header fields.\n *\n * @private\n */\n\nSendStream.prototype.removeContentHeaderFields = function removeContentHeaderFields () {\n  var res = this.res\n  var headers = getHeaderNames(res)\n\n  for (var i = 0; i < headers.length; i++) {\n    var header = headers[i]\n    if (header.substr(0, 8) === 'content-' && header !== 'content-location') {\n      res.removeHeader(header)\n    }\n  }\n}\n\n/**\n * Respond with 304 not modified.\n *\n * @api private\n */\n\nSendStream.prototype.notModified = function notModified () {\n  var res = this.res\n  debug('not modified')\n  this.removeContentHeaderFields()\n  res.statusCode = 304\n  res.end()\n}\n\n/**\n * Raise error that headers already sent.\n *\n * @api private\n */\n\nSendStream.prototype.headersAlreadySent = function headersAlreadySent () {\n  var err = new Error('Can\\'t set headers after they are sent.')\n  debug('headers already sent')\n  this.error(500, err)\n}\n\n/**\n * Check if the request is cacheable, aka\n * responded with 2xx or 304 (see RFC 2616 section 14.2{5,6}).\n *\n * @return {Boolean}\n * @api private\n */\n\nSendStream.prototype.isCachable = function isCachable () {\n  var statusCode = this.res.statusCode\n  return (statusCode >= 200 && statusCode < 300) ||\n    statusCode === 304\n}\n\n/**\n * Handle stat() error.\n *\n * @param {Error} error\n * @private\n */\n\nSendStream.prototype.onStatError = function onStatError (error) {\n  switch (error.code) {\n    case 'ENAMETOOLONG':\n    case 'ENOENT':\n    case 'ENOTDIR':\n      this.error(404, error)\n      break\n    default:\n      this.error(500, error)\n      break\n  }\n}\n\n/**\n * Check if the cache is fresh.\n *\n * @return {Boolean}\n * @api private\n */\n\nSendStream.prototype.isFresh = function isFresh () {\n  return fresh(this.req.headers, {\n    'etag': this.res.getHeader('ETag'),\n    'last-modified': this.res.getHeader('Last-Modified')\n  })\n}\n\n/**\n * Check if the range is fresh.\n *\n * @return {Boolean}\n * @api private\n */\n\nSendStream.prototype.isRangeFresh = function isRangeFresh () {\n  var ifRange = this.req.headers['if-range']\n\n  if (!ifRange) {\n    return true\n  }\n\n  // if-range as etag\n  if (ifRange.indexOf('\"') !== -1) {\n    var etag = this.res.getHeader('ETag')\n    return Boolean(etag && ifRange.indexOf(etag) !== -1)\n  }\n\n  // if-range as modified date\n  var lastModified = this.res.getHeader('Last-Modified')\n  return parseHttpDate(lastModified) <= parseHttpDate(ifRange)\n}\n\n/**\n * Redirect to path.\n *\n * @param {string} path\n * @private\n */\n\nSendStream.prototype.redirect = function redirect (path) {\n  var res = this.res\n\n  if (hasListeners(this, 'directory')) {\n    this.emit('directory', res, path)\n    return\n  }\n\n  if (this.hasTrailingSlash()) {\n    this.error(403)\n    return\n  }\n\n  var loc = encodeUrl(collapseLeadingSlashes(this.path + '/'))\n  var doc = createHtmlDocument('Redirecting', 'Redirecting to <a href=\"' + escapeHtml(loc) + '\">' +\n    escapeHtml(loc) + '</a>')\n\n  // redirect\n  res.statusCode = 301\n  res.setHeader('Content-Type', 'text/html; charset=UTF-8')\n  res.setHeader('Content-Length', Buffer.byteLength(doc))\n  res.setHeader('Content-Security-Policy', \"default-src 'none'\")\n  res.setHeader('X-Content-Type-Options', 'nosniff')\n  res.setHeader('Location', loc)\n  res.end(doc)\n}\n\n/**\n * Pipe to `res.\n *\n * @param {Stream} res\n * @return {Stream} res\n * @api public\n */\n\nSendStream.prototype.pipe = function pipe (res) {\n  // root path\n  var root = this._root\n\n  // references\n  this.res = res\n\n  // decode the path\n  var path = decode(this.path)\n  if (path === -1) {\n    this.error(400)\n    return res\n  }\n\n  // null byte(s)\n  if (~path.indexOf('\\0')) {\n    this.error(400)\n    return res\n  }\n\n  var parts\n  if (root !== null) {\n    // normalize\n    if (path) {\n      path = normalize('.' + sep + path)\n    }\n\n    // malicious path\n    if (UP_PATH_REGEXP.test(path)) {\n      debug('malicious path \"%s\"', path)\n      this.error(403)\n      return res\n    }\n\n    // explode path parts\n    parts = path.split(sep)\n\n    // join / normalize from optional root dir\n    path = normalize(join(root, path))\n  } else {\n    // \"..\" is malicious without \"root\"\n    if (UP_PATH_REGEXP.test(path)) {\n      debug('malicious path \"%s\"', path)\n      this.error(403)\n      return res\n    }\n\n    // explode path parts\n    parts = normalize(path).split(sep)\n\n    // resolve the path\n    path = resolve(path)\n  }\n\n  // dotfile handling\n  if (containsDotFile(parts)) {\n    var access = this._dotfiles\n\n    // legacy support\n    if (access === undefined) {\n      access = parts[parts.length - 1][0] === '.'\n        ? (this._hidden ? 'allow' : 'ignore')\n        : 'allow'\n    }\n\n    debug('%s dotfile \"%s\"', access, path)\n    switch (access) {\n      case 'allow':\n        break\n      case 'deny':\n        this.error(403)\n        return res\n      case 'ignore':\n      default:\n        this.error(404)\n        return res\n    }\n  }\n\n  // index file support\n  if (this._index.length && this.hasTrailingSlash()) {\n    this.sendIndex(path)\n    return res\n  }\n\n  this.sendFile(path)\n  return res\n}\n\n/**\n * Transfer `path`.\n *\n * @param {String} path\n * @api public\n */\n\nSendStream.prototype.send = function send (path, stat) {\n  var len = stat.size\n  var options = this.options\n  var opts = {}\n  var res = this.res\n  var req = this.req\n  var ranges = req.headers.range\n  var offset = options.start || 0\n\n  if (headersSent(res)) {\n    // impossible to send now\n    this.headersAlreadySent()\n    return\n  }\n\n  debug('pipe \"%s\"', path)\n\n  // set header fields\n  this.setHeader(path, stat)\n\n  // set content-type\n  this.type(path)\n\n  // conditional GET support\n  if (this.isConditionalGET()) {\n    if (this.isPreconditionFailure()) {\n      this.error(412)\n      return\n    }\n\n    if (this.isCachable() && this.isFresh()) {\n      this.notModified()\n      return\n    }\n  }\n\n  // adjust len to start/end options\n  len = Math.max(0, len - offset)\n  if (options.end !== undefined) {\n    var bytes = options.end - offset + 1\n    if (len > bytes) len = bytes\n  }\n\n  // Range support\n  if (this._acceptRanges && BYTES_RANGE_REGEXP.test(ranges)) {\n    // parse\n    ranges = parseRange(len, ranges, {\n      combine: true\n    })\n\n    // If-Range support\n    if (!this.isRangeFresh()) {\n      debug('range stale')\n      ranges = -2\n    }\n\n    // unsatisfiable\n    if (ranges === -1) {\n      debug('range unsatisfiable')\n\n      // Content-Range\n      res.setHeader('Content-Range', contentRange('bytes', len))\n\n      // 416 Requested Range Not Satisfiable\n      return this.error(416, {\n        headers: { 'Content-Range': res.getHeader('Content-Range') }\n      })\n    }\n\n    // valid (syntactically invalid/multiple ranges are treated as a regular response)\n    if (ranges !== -2 && ranges.length === 1) {\n      debug('range %j', ranges)\n\n      // Content-Range\n      res.statusCode = 206\n      res.setHeader('Content-Range', contentRange('bytes', len, ranges[0]))\n\n      // adjust for requested range\n      offset += ranges[0].start\n      len = ranges[0].end - ranges[0].start + 1\n    }\n  }\n\n  // clone options\n  for (var prop in options) {\n    opts[prop] = options[prop]\n  }\n\n  // set read options\n  opts.start = offset\n  opts.end = Math.max(offset, offset + len - 1)\n\n  // content-length\n  res.setHeader('Content-Length', len)\n\n  // HEAD support\n  if (req.method === 'HEAD') {\n    res.end()\n    return\n  }\n\n  this.stream(path, opts)\n}\n\n/**\n * Transfer file for `path`.\n *\n * @param {String} path\n * @api private\n */\nSendStream.prototype.sendFile = function sendFile (path) {\n  var i = 0\n  var self = this\n\n  debug('stat \"%s\"', path)\n  fs.stat(path, function onstat (err, stat) {\n    if (err && err.code === 'ENOENT' && !extname(path) && path[path.length - 1] !== sep) {\n      // not found, check extensions\n      return next(err)\n    }\n    if (err) return self.onStatError(err)\n    if (stat.isDirectory()) return self.redirect(path)\n    self.emit('file', path, stat)\n    self.send(path, stat)\n  })\n\n  function next (err) {\n    if (self._extensions.length <= i) {\n      return err\n        ? self.onStatError(err)\n        : self.error(404)\n    }\n\n    var p = path + '.' + self._extensions[i++]\n\n    debug('stat \"%s\"', p)\n    fs.stat(p, function (err, stat) {\n      if (err) return next(err)\n      if (stat.isDirectory()) return next()\n      self.emit('file', p, stat)\n      self.send(p, stat)\n    })\n  }\n}\n\n/**\n * Transfer index for `path`.\n *\n * @param {String} path\n * @api private\n */\nSendStream.prototype.sendIndex = function sendIndex (path) {\n  var i = -1\n  var self = this\n\n  function next (err) {\n    if (++i >= self._index.length) {\n      if (err) return self.onStatError(err)\n      return self.error(404)\n    }\n\n    var p = join(path, self._index[i])\n\n    debug('stat \"%s\"', p)\n    fs.stat(p, function (err, stat) {\n      if (err) return next(err)\n      if (stat.isDirectory()) return next()\n      self.emit('file', p, stat)\n      self.send(p, stat)\n    })\n  }\n\n  next()\n}\n\n/**\n * Stream `path` to the response.\n *\n * @param {String} path\n * @param {Object} options\n * @api private\n */\n\nSendStream.prototype.stream = function stream (path, options) {\n  // TODO: this is all lame, refactor meeee\n  var finished = false\n  var self = this\n  var res = this.res\n\n  // pipe\n  var stream = fs.createReadStream(path, options)\n  this.emit('stream', stream)\n  stream.pipe(res)\n\n  // response finished, done with the fd\n  onFinished(res, function onfinished () {\n    finished = true\n    destroy(stream)\n  })\n\n  // error handling code-smell\n  stream.on('error', function onerror (err) {\n    // request already finished\n    if (finished) return\n\n    // clean up stream\n    finished = true\n    destroy(stream)\n\n    // error\n    self.onStatError(err)\n  })\n\n  // end\n  stream.on('end', function onend () {\n    self.emit('end')\n  })\n}\n\n/**\n * Set content-type based on `path`\n * if it hasn't been explicitly set.\n *\n * @param {String} path\n * @api private\n */\n\nSendStream.prototype.type = function type (path) {\n  var res = this.res\n\n  if (res.getHeader('Content-Type')) return\n\n  var type = mime.lookup(path)\n\n  if (!type) {\n    debug('no content-type')\n    return\n  }\n\n  var charset = mime.charsets.lookup(type)\n\n  debug('content-type %s', type)\n  res.setHeader('Content-Type', type + (charset ? '; charset=' + charset : ''))\n}\n\n/**\n * Set response header fields, most\n * fields may be pre-defined.\n *\n * @param {String} path\n * @param {Object} stat\n * @api private\n */\n\nSendStream.prototype.setHeader = function setHeader (path, stat) {\n  var res = this.res\n\n  this.emit('headers', res, path, stat)\n\n  if (this._acceptRanges && !res.getHeader('Accept-Ranges')) {\n    debug('accept ranges')\n    res.setHeader('Accept-Ranges', 'bytes')\n  }\n\n  if (this._cacheControl && !res.getHeader('Cache-Control')) {\n    var cacheControl = 'public, max-age=' + Math.floor(this._maxage / 1000)\n\n    if (this._immutable) {\n      cacheControl += ', immutable'\n    }\n\n    debug('cache-control %s', cacheControl)\n    res.setHeader('Cache-Control', cacheControl)\n  }\n\n  if (this._lastModified && !res.getHeader('Last-Modified')) {\n    var modified = stat.mtime.toUTCString()\n    debug('modified %s', modified)\n    res.setHeader('Last-Modified', modified)\n  }\n\n  if (this._etag && !res.getHeader('ETag')) {\n    var val = etag(stat)\n    debug('etag %s', val)\n    res.setHeader('ETag', val)\n  }\n}\n\n/**\n * Clear all headers from a response.\n *\n * @param {object} res\n * @private\n */\n\nfunction clearHeaders (res) {\n  var headers = getHeaderNames(res)\n\n  for (var i = 0; i < headers.length; i++) {\n    res.removeHeader(headers[i])\n  }\n}\n\n/**\n * Collapse all leading slashes into a single slash\n *\n * @param {string} str\n * @private\n */\nfunction collapseLeadingSlashes (str) {\n  for (var i = 0; i < str.length; i++) {\n    if (str[i] !== '/') {\n      break\n    }\n  }\n\n  return i > 1\n    ? '/' + str.substr(i)\n    : str\n}\n\n/**\n * Determine if path parts contain a dotfile.\n *\n * @api private\n */\n\nfunction containsDotFile (parts) {\n  for (var i = 0; i < parts.length; i++) {\n    var part = parts[i]\n    if (part.length > 1 && part[0] === '.') {\n      return true\n    }\n  }\n\n  return false\n}\n\n/**\n * Create a Content-Range header.\n *\n * @param {string} type\n * @param {number} size\n * @param {array} [range]\n */\n\nfunction contentRange (type, size, range) {\n  return type + ' ' + (range ? range.start + '-' + range.end : '*') + '/' + size\n}\n\n/**\n * Create a minimal HTML document.\n *\n * @param {string} title\n * @param {string} body\n * @private\n */\n\nfunction createHtmlDocument (title, body) {\n  return '<!DOCTYPE html>\\n' +\n    '<html lang=\"en\">\\n' +\n    '<head>\\n' +\n    '<meta charset=\"utf-8\">\\n' +\n    '<title>' + title + '</title>\\n' +\n    '</head>\\n' +\n    '<body>\\n' +\n    '<pre>' + body + '</pre>\\n' +\n    '</body>\\n' +\n    '</html>\\n'\n}\n\n/**\n * decodeURIComponent.\n *\n * Allows V8 to only deoptimize this fn instead of all\n * of send().\n *\n * @param {String} path\n * @api private\n */\n\nfunction decode (path) {\n  try {\n    return decodeURIComponent(path)\n  } catch (err) {\n    return -1\n  }\n}\n\n/**\n * Get the header names on a respnse.\n *\n * @param {object} res\n * @returns {array[string]}\n * @private\n */\n\nfunction getHeaderNames (res) {\n  return typeof res.getHeaderNames !== 'function'\n    ? Object.keys(res._headers || {})\n    : res.getHeaderNames()\n}\n\n/**\n * Determine if emitter has listeners of a given type.\n *\n * The way to do this check is done three different ways in Node.js >= 0.8\n * so this consolidates them into a minimal set using instance methods.\n *\n * @param {EventEmitter} emitter\n * @param {string} type\n * @returns {boolean}\n * @private\n */\n\nfunction hasListeners (emitter, type) {\n  var count = typeof emitter.listenerCount !== 'function'\n    ? emitter.listeners(type).length\n    : emitter.listenerCount(type)\n\n  return count > 0\n}\n\n/**\n * Determine if the response headers have been sent.\n *\n * @param {object} res\n * @returns {boolean}\n * @private\n */\n\nfunction headersSent (res) {\n  return typeof res.headersSent !== 'boolean'\n    ? Boolean(res._header)\n    : res.headersSent\n}\n\n/**\n * Normalize the index option into an array.\n *\n * @param {boolean|string|array} val\n * @param {string} name\n * @private\n */\n\nfunction normalizeList (val, name) {\n  var list = [].concat(val || [])\n\n  for (var i = 0; i < list.length; i++) {\n    if (typeof list[i] !== 'string') {\n      throw new TypeError(name + ' must be array of strings or false')\n    }\n  }\n\n  return list\n}\n\n/**\n * Parse an HTTP Date into a number.\n *\n * @param {string} date\n * @private\n */\n\nfunction parseHttpDate (date) {\n  var timestamp = date && Date.parse(date)\n\n  return typeof timestamp === 'number'\n    ? timestamp\n    : NaN\n}\n\n/**\n * Parse a HTTP token list.\n *\n * @param {string} str\n * @private\n */\n\nfunction parseTokenList (str) {\n  var end = 0\n  var list = []\n  var start = 0\n\n  // gather tokens\n  for (var i = 0, len = str.length; i < len; i++) {\n    switch (str.charCodeAt(i)) {\n      case 0x20: /*   */\n        if (start === end) {\n          start = end = i + 1\n        }\n        break\n      case 0x2c: /* , */\n        list.push(str.substring(start, end))\n        start = end = i + 1\n        break\n      default:\n        end = i + 1\n        break\n    }\n  }\n\n  // final token\n  list.push(str.substring(start, end))\n\n  return list\n}\n\n/**\n * Set an object of headers on a response.\n *\n * @param {object} res\n * @param {object} headers\n * @private\n */\n\nfunction setHeaders (res, headers) {\n  var keys = Object.keys(headers)\n\n  for (var i = 0; i < keys.length; i++) {\n    var key = keys[i]\n    res.setHeader(key, headers[key])\n  }\n}\n","/**\n * Helpers.\n */\n\nvar s = 1000;\nvar m = s * 60;\nvar h = m * 60;\nvar d = h * 24;\nvar w = d * 7;\nvar y = d * 365.25;\n\n/**\n * Parse or format the given `val`.\n *\n * Options:\n *\n *  - `long` verbose formatting [false]\n *\n * @param {String|Number} val\n * @param {Object} [options]\n * @throws {Error} throw an error if val is not a non-empty string or a number\n * @return {String|Number}\n * @api public\n */\n\nmodule.exports = function(val, options) {\n  options = options || {};\n  var type = typeof val;\n  if (type === 'string' && val.length > 0) {\n    return parse(val);\n  } else if (type === 'number' && isNaN(val) === false) {\n    return options.long ? fmtLong(val) : fmtShort(val);\n  }\n  throw new Error(\n    'val is not a non-empty string or a valid number. val=' +\n      JSON.stringify(val)\n  );\n};\n\n/**\n * Parse the given `str` and return milliseconds.\n *\n * @param {String} str\n * @return {Number}\n * @api private\n */\n\nfunction parse(str) {\n  str = String(str);\n  if (str.length > 100) {\n    return;\n  }\n  var match = /^((?:\\d+)?\\-?\\d?\\.?\\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(\n    str\n  );\n  if (!match) {\n    return;\n  }\n  var n = parseFloat(match[1]);\n  var type = (match[2] || 'ms').toLowerCase();\n  switch (type) {\n    case 'years':\n    case 'year':\n    case 'yrs':\n    case 'yr':\n    case 'y':\n      return n * y;\n    case 'weeks':\n    case 'week':\n    case 'w':\n      return n * w;\n    case 'days':\n    case 'day':\n    case 'd':\n      return n * d;\n    case 'hours':\n    case 'hour':\n    case 'hrs':\n    case 'hr':\n    case 'h':\n      return n * h;\n    case 'minutes':\n    case 'minute':\n    case 'mins':\n    case 'min':\n    case 'm':\n      return n * m;\n    case 'seconds':\n    case 'second':\n    case 'secs':\n    case 'sec':\n    case 's':\n      return n * s;\n    case 'milliseconds':\n    case 'millisecond':\n    case 'msecs':\n    case 'msec':\n    case 'ms':\n      return n;\n    default:\n      return undefined;\n  }\n}\n\n/**\n * Short format for `ms`.\n *\n * @param {Number} ms\n * @return {String}\n * @api private\n */\n\nfunction fmtShort(ms) {\n  var msAbs = Math.abs(ms);\n  if (msAbs >= d) {\n    return Math.round(ms / d) + 'd';\n  }\n  if (msAbs >= h) {\n    return Math.round(ms / h) + 'h';\n  }\n  if (msAbs >= m) {\n    return Math.round(ms / m) + 'm';\n  }\n  if (msAbs >= s) {\n    return Math.round(ms / s) + 's';\n  }\n  return ms + 'ms';\n}\n\n/**\n * Long format for `ms`.\n *\n * @param {Number} ms\n * @return {String}\n * @api private\n */\n\nfunction fmtLong(ms) {\n  var msAbs = Math.abs(ms);\n  if (msAbs >= d) {\n    return plural(ms, msAbs, d, 'day');\n  }\n  if (msAbs >= h) {\n    return plural(ms, msAbs, h, 'hour');\n  }\n  if (msAbs >= m) {\n    return plural(ms, msAbs, m, 'minute');\n  }\n  if (msAbs >= s) {\n    return plural(ms, msAbs, s, 'second');\n  }\n  return ms + ' ms';\n}\n\n/**\n * Pluralization helper.\n */\n\nfunction plural(ms, msAbs, n, name) {\n  var isPlural = msAbs >= n * 1.5;\n  return Math.round(ms / n) + ' ' + name + (isPlural ? 's' : '');\n}\n","/*!\n * serve-static\n * Copyright(c) 2010 Sencha Inc.\n * Copyright(c) 2011 TJ Holowaychuk\n * Copyright(c) 2014-2016 Douglas Christopher Wilson\n * MIT Licensed\n */\n\n'use strict'\n\n/**\n * Module dependencies.\n * @private\n */\n\nvar encodeUrl = require('encodeurl')\nvar escapeHtml = require('escape-html')\nvar parseUrl = require('parseurl')\nvar resolve = require('path').resolve\nvar send = require('send')\nvar url = require('url')\n\n/**\n * Module exports.\n * @public\n */\n\nmodule.exports = serveStatic\nmodule.exports.mime = send.mime\n\n/**\n * @param {string} root\n * @param {object} [options]\n * @return {function}\n * @public\n */\n\nfunction serveStatic (root, options) {\n  if (!root) {\n    throw new TypeError('root path required')\n  }\n\n  if (typeof root !== 'string') {\n    throw new TypeError('root path must be a string')\n  }\n\n  // copy options object\n  var opts = Object.create(options || null)\n\n  // fall-though\n  var fallthrough = opts.fallthrough !== false\n\n  // default redirect\n  var redirect = opts.redirect !== false\n\n  // headers listener\n  var setHeaders = opts.setHeaders\n\n  if (setHeaders && typeof setHeaders !== 'function') {\n    throw new TypeError('option setHeaders must be function')\n  }\n\n  // setup options for send\n  opts.maxage = opts.maxage || opts.maxAge || 0\n  opts.root = resolve(root)\n\n  // construct directory listener\n  var onDirectory = redirect\n    ? createRedirectDirectoryListener()\n    : createNotFoundDirectoryListener()\n\n  return function serveStatic (req, res, next) {\n    if (req.method !== 'GET' && req.method !== 'HEAD') {\n      if (fallthrough) {\n        return next()\n      }\n\n      // method not allowed\n      res.statusCode = 405\n      res.setHeader('Allow', 'GET, HEAD')\n      res.setHeader('Content-Length', '0')\n      res.end()\n      return\n    }\n\n    var forwardError = !fallthrough\n    var originalUrl = parseUrl.original(req)\n    var path = parseUrl(req).pathname\n\n    // make sure redirect occurs at mount\n    if (path === '/' && originalUrl.pathname.substr(-1) !== '/') {\n      path = ''\n    }\n\n    // create send stream\n    var stream = send(req, path, opts)\n\n    // add directory handler\n    stream.on('directory', onDirectory)\n\n    // add headers listener\n    if (setHeaders) {\n      stream.on('headers', setHeaders)\n    }\n\n    // add file listener for fallthrough\n    if (fallthrough) {\n      stream.on('file', function onFile () {\n        // once file is determined, always forward error\n        forwardError = true\n      })\n    }\n\n    // forward errors\n    stream.on('error', function error (err) {\n      if (forwardError || !(err.statusCode < 500)) {\n        next(err)\n        return\n      }\n\n      next()\n    })\n\n    // pipe\n    stream.pipe(res)\n  }\n}\n\n/**\n * Collapse all leading slashes into a single slash\n * @private\n */\nfunction collapseLeadingSlashes (str) {\n  for (var i = 0; i < str.length; i++) {\n    if (str.charCodeAt(i) !== 0x2f /* / */) {\n      break\n    }\n  }\n\n  return i > 1\n    ? '/' + str.substr(i)\n    : str\n}\n\n/**\n * Create a minimal HTML document.\n *\n * @param {string} title\n * @param {string} body\n * @private\n */\n\nfunction createHtmlDocument (title, body) {\n  return '<!DOCTYPE html>\\n' +\n    '<html lang=\"en\">\\n' +\n    '<head>\\n' +\n    '<meta charset=\"utf-8\">\\n' +\n    '<title>' + title + '</title>\\n' +\n    '</head>\\n' +\n    '<body>\\n' +\n    '<pre>' + body + '</pre>\\n' +\n    '</body>\\n' +\n    '</html>\\n'\n}\n\n/**\n * Create a directory listener that just 404s.\n * @private\n */\n\nfunction createNotFoundDirectoryListener () {\n  return function notFound () {\n    this.error(404)\n  }\n}\n\n/**\n * Create a directory listener that performs a redirect.\n * @private\n */\n\nfunction createRedirectDirectoryListener () {\n  return function redirect (res) {\n    if (this.hasTrailingSlash()) {\n      this.error(404)\n      return\n    }\n\n    // get original URL\n    var originalUrl = parseUrl.original(this.req)\n\n    // append trailing slash\n    originalUrl.path = null\n    originalUrl.pathname = collapseLeadingSlashes(originalUrl.pathname + '/')\n\n    // reformat the URL\n    var loc = encodeUrl(url.format(originalUrl))\n    var doc = createHtmlDocument('Redirecting', 'Redirecting to <a href=\"' + escapeHtml(loc) + '\">' +\n      escapeHtml(loc) + '</a>')\n\n    // send redirect response\n    res.statusCode = 301\n    res.setHeader('Content-Type', 'text/html; charset=UTF-8')\n    res.setHeader('Content-Length', Buffer.byteLength(doc))\n    res.setHeader('Content-Security-Policy', \"default-src 'none'\")\n    res.setHeader('X-Content-Type-Options', 'nosniff')\n    res.setHeader('Location', loc)\n    res.end(doc)\n  }\n}\n","'use strict'\n/* eslint no-proto: 0 */\nmodule.exports = Object.setPrototypeOf || ({ __proto__: [] } instanceof Array ? setProtoOf : mixinProperties)\n\nfunction setProtoOf (obj, proto) {\n  obj.__proto__ = proto\n  return obj\n}\n\nfunction mixinProperties (obj, proto) {\n  for (var prop in proto) {\n    if (!obj.hasOwnProperty(prop)) {\n      obj[prop] = proto[prop]\n    }\n  }\n  return obj\n}\n","// Copyright 2015 Joyent, Inc.\n\nvar Buffer = require('safer-buffer').Buffer;\n\nvar algInfo = {\n\t'dsa': {\n\t\tparts: ['p', 'q', 'g', 'y'],\n\t\tsizePart: 'p'\n\t},\n\t'rsa': {\n\t\tparts: ['e', 'n'],\n\t\tsizePart: 'n'\n\t},\n\t'ecdsa': {\n\t\tparts: ['curve', 'Q'],\n\t\tsizePart: 'Q'\n\t},\n\t'ed25519': {\n\t\tparts: ['A'],\n\t\tsizePart: 'A'\n\t}\n};\nalgInfo['curve25519'] = algInfo['ed25519'];\n\nvar algPrivInfo = {\n\t'dsa': {\n\t\tparts: ['p', 'q', 'g', 'y', 'x']\n\t},\n\t'rsa': {\n\t\tparts: ['n', 'e', 'd', 'iqmp', 'p', 'q']\n\t},\n\t'ecdsa': {\n\t\tparts: ['curve', 'Q', 'd']\n\t},\n\t'ed25519': {\n\t\tparts: ['A', 'k']\n\t}\n};\nalgPrivInfo['curve25519'] = algPrivInfo['ed25519'];\n\nvar hashAlgs = {\n\t'md5': true,\n\t'sha1': true,\n\t'sha256': true,\n\t'sha384': true,\n\t'sha512': true\n};\n\n/*\n * Taken from\n * http://csrc.nist.gov/groups/ST/toolkit/documents/dss/NISTReCur.pdf\n */\nvar curves = {\n\t'nistp256': {\n\t\tsize: 256,\n\t\tpkcs8oid: '1.2.840.10045.3.1.7',\n\t\tp: Buffer.from(('00' +\n\t\t    'ffffffff 00000001 00000000 00000000' +\n\t\t    '00000000 ffffffff ffffffff ffffffff').\n\t\t    replace(/ /g, ''), 'hex'),\n\t\ta: Buffer.from(('00' +\n\t\t    'FFFFFFFF 00000001 00000000 00000000' +\n\t\t    '00000000 FFFFFFFF FFFFFFFF FFFFFFFC').\n\t\t    replace(/ /g, ''), 'hex'),\n\t\tb: Buffer.from((\n\t\t    '5ac635d8 aa3a93e7 b3ebbd55 769886bc' +\n\t\t    '651d06b0 cc53b0f6 3bce3c3e 27d2604b').\n\t\t    replace(/ /g, ''), 'hex'),\n\t\ts: Buffer.from(('00' +\n\t\t    'c49d3608 86e70493 6a6678e1 139d26b7' +\n\t\t    '819f7e90').\n\t\t    replace(/ /g, ''), 'hex'),\n\t\tn: Buffer.from(('00' +\n\t\t    'ffffffff 00000000 ffffffff ffffffff' +\n\t\t    'bce6faad a7179e84 f3b9cac2 fc632551').\n\t\t    replace(/ /g, ''), 'hex'),\n\t\tG: Buffer.from(('04' +\n\t\t    '6b17d1f2 e12c4247 f8bce6e5 63a440f2' +\n\t\t    '77037d81 2deb33a0 f4a13945 d898c296' +\n\t\t    '4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16' +\n\t\t    '2bce3357 6b315ece cbb64068 37bf51f5').\n\t\t    replace(/ /g, ''), 'hex')\n\t},\n\t'nistp384': {\n\t\tsize: 384,\n\t\tpkcs8oid: '1.3.132.0.34',\n\t\tp: Buffer.from(('00' +\n\t\t    'ffffffff ffffffff ffffffff ffffffff' +\n\t\t    'ffffffff ffffffff ffffffff fffffffe' +\n\t\t    'ffffffff 00000000 00000000 ffffffff').\n\t\t    replace(/ /g, ''), 'hex'),\n\t\ta: Buffer.from(('00' +\n\t\t    'FFFFFFFF FFFFFFFF FFFFFFFF FFFFFFFF' +\n\t\t    'FFFFFFFF FFFFFFFF FFFFFFFF FFFFFFFE' +\n\t\t    'FFFFFFFF 00000000 00000000 FFFFFFFC').\n\t\t    replace(/ /g, ''), 'hex'),\n\t\tb: Buffer.from((\n\t\t    'b3312fa7 e23ee7e4 988e056b e3f82d19' +\n\t\t    '181d9c6e fe814112 0314088f 5013875a' +\n\t\t    'c656398d 8a2ed19d 2a85c8ed d3ec2aef').\n\t\t    replace(/ /g, ''), 'hex'),\n\t\ts: Buffer.from(('00' +\n\t\t    'a335926a a319a27a 1d00896a 6773a482' +\n\t\t    '7acdac73').\n\t\t    replace(/ /g, ''), 'hex'),\n\t\tn: Buffer.from(('00' +\n\t\t    'ffffffff ffffffff ffffffff ffffffff' +\n\t\t    'ffffffff ffffffff c7634d81 f4372ddf' +\n\t\t    '581a0db2 48b0a77a ecec196a ccc52973').\n\t\t    replace(/ /g, ''), 'hex'),\n\t\tG: Buffer.from(('04' +\n\t\t    'aa87ca22 be8b0537 8eb1c71e f320ad74' +\n\t\t    '6e1d3b62 8ba79b98 59f741e0 82542a38' +\n\t\t    '5502f25d bf55296c 3a545e38 72760ab7' +\n\t\t    '3617de4a 96262c6f 5d9e98bf 9292dc29' +\n\t\t    'f8f41dbd 289a147c e9da3113 b5f0b8c0' +\n\t\t    '0a60b1ce 1d7e819d 7a431d7c 90ea0e5f').\n\t\t    replace(/ /g, ''), 'hex')\n\t},\n\t'nistp521': {\n\t\tsize: 521,\n\t\tpkcs8oid: '1.3.132.0.35',\n\t\tp: Buffer.from((\n\t\t    '01ffffff ffffffff ffffffff ffffffff' +\n\t\t    'ffffffff ffffffff ffffffff ffffffff' +\n\t\t    'ffffffff ffffffff ffffffff ffffffff' +\n\t\t    'ffffffff ffffffff ffffffff ffffffff' +\n\t\t    'ffff').replace(/ /g, ''), 'hex'),\n\t\ta: Buffer.from(('01FF' +\n\t\t    'FFFFFFFF FFFFFFFF FFFFFFFF FFFFFFFF' +\n\t\t    'FFFFFFFF FFFFFFFF FFFFFFFF FFFFFFFF' +\n\t\t    'FFFFFFFF FFFFFFFF FFFFFFFF FFFFFFFF' +\n\t\t    'FFFFFFFF FFFFFFFF FFFFFFFF FFFFFFFC').\n\t\t    replace(/ /g, ''), 'hex'),\n\t\tb: Buffer.from(('51' +\n\t\t    '953eb961 8e1c9a1f 929a21a0 b68540ee' +\n\t\t    'a2da725b 99b315f3 b8b48991 8ef109e1' +\n\t\t    '56193951 ec7e937b 1652c0bd 3bb1bf07' +\n\t\t    '3573df88 3d2c34f1 ef451fd4 6b503f00').\n\t\t    replace(/ /g, ''), 'hex'),\n\t\ts: Buffer.from(('00' +\n\t\t    'd09e8800 291cb853 96cc6717 393284aa' +\n\t\t    'a0da64ba').replace(/ /g, ''), 'hex'),\n\t\tn: Buffer.from(('01ff' +\n\t\t    'ffffffff ffffffff ffffffff ffffffff' +\n\t\t    'ffffffff ffffffff ffffffff fffffffa' +\n\t\t    '51868783 bf2f966b 7fcc0148 f709a5d0' +\n\t\t    '3bb5c9b8 899c47ae bb6fb71e 91386409').\n\t\t    replace(/ /g, ''), 'hex'),\n\t\tG: Buffer.from(('04' +\n\t\t    '00c6 858e06b7 0404e9cd 9e3ecb66 2395b442' +\n\t\t         '9c648139 053fb521 f828af60 6b4d3dba' +\n\t\t         'a14b5e77 efe75928 fe1dc127 a2ffa8de' +\n\t\t         '3348b3c1 856a429b f97e7e31 c2e5bd66' +\n\t\t    '0118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9' +\n\t\t         '98f54449 579b4468 17afbd17 273e662c' +\n\t\t         '97ee7299 5ef42640 c550b901 3fad0761' +\n\t\t         '353c7086 a272c240 88be9476 9fd16650').\n\t\t    replace(/ /g, ''), 'hex')\n\t}\n};\n\nmodule.exports = {\n\tinfo: algInfo,\n\tprivInfo: algPrivInfo,\n\thashAlgs: hashAlgs,\n\tcurves: curves\n};\n","// Copyright 2016 Joyent, Inc.\n\nmodule.exports = Certificate;\n\nvar assert = require('assert-plus');\nvar Buffer = require('safer-buffer').Buffer;\nvar algs = require('./algs');\nvar crypto = require('crypto');\nvar Fingerprint = require('./fingerprint');\nvar Signature = require('./signature');\nvar errs = require('./errors');\nvar util = require('util');\nvar utils = require('./utils');\nvar Key = require('./key');\nvar PrivateKey = require('./private-key');\nvar Identity = require('./identity');\n\nvar formats = {};\nformats['openssh'] = require('./formats/openssh-cert');\nformats['x509'] = require('./formats/x509');\nformats['pem'] = require('./formats/x509-pem');\n\nvar CertificateParseError = errs.CertificateParseError;\nvar InvalidAlgorithmError = errs.InvalidAlgorithmError;\n\nfunction Certificate(opts) {\n\tassert.object(opts, 'options');\n\tassert.arrayOfObject(opts.subjects, 'options.subjects');\n\tutils.assertCompatible(opts.subjects[0], Identity, [1, 0],\n\t    'options.subjects');\n\tutils.assertCompatible(opts.subjectKey, Key, [1, 0],\n\t    'options.subjectKey');\n\tutils.assertCompatible(opts.issuer, Identity, [1, 0], 'options.issuer');\n\tif (opts.issuerKey !== undefined) {\n\t\tutils.assertCompatible(opts.issuerKey, Key, [1, 0],\n\t\t    'options.issuerKey');\n\t}\n\tassert.object(opts.signatures, 'options.signatures');\n\tassert.buffer(opts.serial, 'options.serial');\n\tassert.date(opts.validFrom, 'options.validFrom');\n\tassert.date(opts.validUntil, 'optons.validUntil');\n\n\tassert.optionalArrayOfString(opts.purposes, 'options.purposes');\n\n\tthis._hashCache = {};\n\n\tthis.subjects = opts.subjects;\n\tthis.issuer = opts.issuer;\n\tthis.subjectKey = opts.subjectKey;\n\tthis.issuerKey = opts.issuerKey;\n\tthis.signatures = opts.signatures;\n\tthis.serial = opts.serial;\n\tthis.validFrom = opts.validFrom;\n\tthis.validUntil = opts.validUntil;\n\tthis.purposes = opts.purposes;\n}\n\nCertificate.formats = formats;\n\nCertificate.prototype.toBuffer = function (format, options) {\n\tif (format === undefined)\n\t\tformat = 'x509';\n\tassert.string(format, 'format');\n\tassert.object(formats[format], 'formats[format]');\n\tassert.optionalObject(options, 'options');\n\n\treturn (formats[format].write(this, options));\n};\n\nCertificate.prototype.toString = function (format, options) {\n\tif (format === undefined)\n\t\tformat = 'pem';\n\treturn (this.toBuffer(format, options).toString());\n};\n\nCertificate.prototype.fingerprint = function (algo) {\n\tif (algo === undefined)\n\t\talgo = 'sha256';\n\tassert.string(algo, 'algorithm');\n\tvar opts = {\n\t\ttype: 'certificate',\n\t\thash: this.hash(algo),\n\t\talgorithm: algo\n\t};\n\treturn (new Fingerprint(opts));\n};\n\nCertificate.prototype.hash = function (algo) {\n\tassert.string(algo, 'algorithm');\n\talgo = algo.toLowerCase();\n\tif (algs.hashAlgs[algo] === undefined)\n\t\tthrow (new InvalidAlgorithmError(algo));\n\n\tif (this._hashCache[algo])\n\t\treturn (this._hashCache[algo]);\n\n\tvar hash = crypto.createHash(algo).\n\t    update(this.toBuffer('x509')).digest();\n\tthis._hashCache[algo] = hash;\n\treturn (hash);\n};\n\nCertificate.prototype.isExpired = function (when) {\n\tif (when === undefined)\n\t\twhen = new Date();\n\treturn (!((when.getTime() >= this.validFrom.getTime()) &&\n\t\t(when.getTime() < this.validUntil.getTime())));\n};\n\nCertificate.prototype.isSignedBy = function (issuerCert) {\n\tutils.assertCompatible(issuerCert, Certificate, [1, 0], 'issuer');\n\n\tif (!this.issuer.equals(issuerCert.subjects[0]))\n\t\treturn (false);\n\tif (this.issuer.purposes && this.issuer.purposes.length > 0 &&\n\t    this.issuer.purposes.indexOf('ca') === -1) {\n\t\treturn (false);\n\t}\n\n\treturn (this.isSignedByKey(issuerCert.subjectKey));\n};\n\nCertificate.prototype.getExtension = function (keyOrOid) {\n\tassert.string(keyOrOid, 'keyOrOid');\n\tvar ext = this.getExtensions().filter(function (maybeExt) {\n\t\tif (maybeExt.format === 'x509')\n\t\t\treturn (maybeExt.oid === keyOrOid);\n\t\tif (maybeExt.format === 'openssh')\n\t\t\treturn (maybeExt.name === keyOrOid);\n\t\treturn (false);\n\t})[0];\n\treturn (ext);\n};\n\nCertificate.prototype.getExtensions = function () {\n\tvar exts = [];\n\tvar x509 = this.signatures.x509;\n\tif (x509 && x509.extras && x509.extras.exts) {\n\t\tx509.extras.exts.forEach(function (ext) {\n\t\t\text.format = 'x509';\n\t\t\texts.push(ext);\n\t\t});\n\t}\n\tvar openssh = this.signatures.openssh;\n\tif (openssh && openssh.exts) {\n\t\topenssh.exts.forEach(function (ext) {\n\t\t\text.format = 'openssh';\n\t\t\texts.push(ext);\n\t\t});\n\t}\n\treturn (exts);\n};\n\nCertificate.prototype.isSignedByKey = function (issuerKey) {\n\tutils.assertCompatible(issuerKey, Key, [1, 2], 'issuerKey');\n\n\tif (this.issuerKey !== undefined) {\n\t\treturn (this.issuerKey.\n\t\t    fingerprint('sha512').matches(issuerKey));\n\t}\n\n\tvar fmt = Object.keys(this.signatures)[0];\n\tvar valid = formats[fmt].verify(this, issuerKey);\n\tif (valid)\n\t\tthis.issuerKey = issuerKey;\n\treturn (valid);\n};\n\nCertificate.prototype.signWith = function (key) {\n\tutils.assertCompatible(key, PrivateKey, [1, 2], 'key');\n\tvar fmts = Object.keys(formats);\n\tvar didOne = false;\n\tfor (var i = 0; i < fmts.length; ++i) {\n\t\tif (fmts[i] !== 'pem') {\n\t\t\tvar ret = formats[fmts[i]].sign(this, key);\n\t\t\tif (ret === true)\n\t\t\t\tdidOne = true;\n\t\t}\n\t}\n\tif (!didOne) {\n\t\tthrow (new Error('Failed to sign the certificate for any ' +\n\t\t    'available certificate formats'));\n\t}\n};\n\nCertificate.createSelfSigned = function (subjectOrSubjects, key, options) {\n\tvar subjects;\n\tif (Array.isArray(subjectOrSubjects))\n\t\tsubjects = subjectOrSubjects;\n\telse\n\t\tsubjects = [subjectOrSubjects];\n\n\tassert.arrayOfObject(subjects);\n\tsubjects.forEach(function (subject) {\n\t\tutils.assertCompatible(subject, Identity, [1, 0], 'subject');\n\t});\n\n\tutils.assertCompatible(key, PrivateKey, [1, 2], 'private key');\n\n\tassert.optionalObject(options, 'options');\n\tif (options === undefined)\n\t\toptions = {};\n\tassert.optionalObject(options.validFrom, 'options.validFrom');\n\tassert.optionalObject(options.validUntil, 'options.validUntil');\n\tvar validFrom = options.validFrom;\n\tvar validUntil = options.validUntil;\n\tif (validFrom === undefined)\n\t\tvalidFrom = new Date();\n\tif (validUntil === undefined) {\n\t\tassert.optionalNumber(options.lifetime, 'options.lifetime');\n\t\tvar lifetime = options.lifetime;\n\t\tif (lifetime === undefined)\n\t\t\tlifetime = 10*365*24*3600;\n\t\tvalidUntil = new Date();\n\t\tvalidUntil.setTime(validUntil.getTime() + lifetime*1000);\n\t}\n\tassert.optionalBuffer(options.serial, 'options.serial');\n\tvar serial = options.serial;\n\tif (serial === undefined)\n\t\tserial = Buffer.from('0000000000000001', 'hex');\n\n\tvar purposes = options.purposes;\n\tif (purposes === undefined)\n\t\tpurposes = [];\n\n\tif (purposes.indexOf('signature') === -1)\n\t\tpurposes.push('signature');\n\n\t/* Self-signed certs are always CAs. */\n\tif (purposes.indexOf('ca') === -1)\n\t\tpurposes.push('ca');\n\tif (purposes.indexOf('crl') === -1)\n\t\tpurposes.push('crl');\n\n\t/*\n\t * If we weren't explicitly given any other purposes, do the sensible\n\t * thing and add some basic ones depending on the subject type.\n\t */\n\tif (purposes.length <= 3) {\n\t\tvar hostSubjects = subjects.filter(function (subject) {\n\t\t\treturn (subject.type === 'host');\n\t\t});\n\t\tvar userSubjects = subjects.filter(function (subject) {\n\t\t\treturn (subject.type === 'user');\n\t\t});\n\t\tif (hostSubjects.length > 0) {\n\t\t\tif (purposes.indexOf('serverAuth') === -1)\n\t\t\t\tpurposes.push('serverAuth');\n\t\t}\n\t\tif (userSubjects.length > 0) {\n\t\t\tif (purposes.indexOf('clientAuth') === -1)\n\t\t\t\tpurposes.push('clientAuth');\n\t\t}\n\t\tif (userSubjects.length > 0 || hostSubjects.length > 0) {\n\t\t\tif (purposes.indexOf('keyAgreement') === -1)\n\t\t\t\tpurposes.push('keyAgreement');\n\t\t\tif (key.type === 'rsa' &&\n\t\t\t    purposes.indexOf('encryption') === -1)\n\t\t\t\tpurposes.push('encryption');\n\t\t}\n\t}\n\n\tvar cert = new Certificate({\n\t\tsubjects: subjects,\n\t\tissuer: subjects[0],\n\t\tsubjectKey: key.toPublic(),\n\t\tissuerKey: key.toPublic(),\n\t\tsignatures: {},\n\t\tserial: serial,\n\t\tvalidFrom: validFrom,\n\t\tvalidUntil: validUntil,\n\t\tpurposes: purposes\n\t});\n\tcert.signWith(key);\n\n\treturn (cert);\n};\n\nCertificate.create =\n    function (subjectOrSubjects, key, issuer, issuerKey, options) {\n\tvar subjects;\n\tif (Array.isArray(subjectOrSubjects))\n\t\tsubjects = subjectOrSubjects;\n\telse\n\t\tsubjects = [subjectOrSubjects];\n\n\tassert.arrayOfObject(subjects);\n\tsubjects.forEach(function (subject) {\n\t\tutils.assertCompatible(subject, Identity, [1, 0], 'subject');\n\t});\n\n\tutils.assertCompatible(key, Key, [1, 0], 'key');\n\tif (PrivateKey.isPrivateKey(key))\n\t\tkey = key.toPublic();\n\tutils.assertCompatible(issuer, Identity, [1, 0], 'issuer');\n\tutils.assertCompatible(issuerKey, PrivateKey, [1, 2], 'issuer key');\n\n\tassert.optionalObject(options, 'options');\n\tif (options === undefined)\n\t\toptions = {};\n\tassert.optionalObject(options.validFrom, 'options.validFrom');\n\tassert.optionalObject(options.validUntil, 'options.validUntil');\n\tvar validFrom = options.validFrom;\n\tvar validUntil = options.validUntil;\n\tif (validFrom === undefined)\n\t\tvalidFrom = new Date();\n\tif (validUntil === undefined) {\n\t\tassert.optionalNumber(options.lifetime, 'options.lifetime');\n\t\tvar lifetime = options.lifetime;\n\t\tif (lifetime === undefined)\n\t\t\tlifetime = 10*365*24*3600;\n\t\tvalidUntil = new Date();\n\t\tvalidUntil.setTime(validUntil.getTime() + lifetime*1000);\n\t}\n\tassert.optionalBuffer(options.serial, 'options.serial');\n\tvar serial = options.serial;\n\tif (serial === undefined)\n\t\tserial = Buffer.from('0000000000000001', 'hex');\n\n\tvar purposes = options.purposes;\n\tif (purposes === undefined)\n\t\tpurposes = [];\n\n\tif (purposes.indexOf('signature') === -1)\n\t\tpurposes.push('signature');\n\n\tif (options.ca === true) {\n\t\tif (purposes.indexOf('ca') === -1)\n\t\t\tpurposes.push('ca');\n\t\tif (purposes.indexOf('crl') === -1)\n\t\t\tpurposes.push('crl');\n\t}\n\n\tvar hostSubjects = subjects.filter(function (subject) {\n\t\treturn (subject.type === 'host');\n\t});\n\tvar userSubjects = subjects.filter(function (subject) {\n\t\treturn (subject.type === 'user');\n\t});\n\tif (hostSubjects.length > 0) {\n\t\tif (purposes.indexOf('serverAuth') === -1)\n\t\t\tpurposes.push('serverAuth');\n\t}\n\tif (userSubjects.length > 0) {\n\t\tif (purposes.indexOf('clientAuth') === -1)\n\t\t\tpurposes.push('clientAuth');\n\t}\n\tif (userSubjects.length > 0 || hostSubjects.length > 0) {\n\t\tif (purposes.indexOf('keyAgreement') === -1)\n\t\t\tpurposes.push('keyAgreement');\n\t\tif (key.type === 'rsa' &&\n\t\t    purposes.indexOf('encryption') === -1)\n\t\t\tpurposes.push('encryption');\n\t}\n\n\tvar cert = new Certificate({\n\t\tsubjects: subjects,\n\t\tissuer: issuer,\n\t\tsubjectKey: key,\n\t\tissuerKey: issuerKey.toPublic(),\n\t\tsignatures: {},\n\t\tserial: serial,\n\t\tvalidFrom: validFrom,\n\t\tvalidUntil: validUntil,\n\t\tpurposes: purposes\n\t});\n\tcert.signWith(issuerKey);\n\n\treturn (cert);\n};\n\nCertificate.parse = function (data, format, options) {\n\tif (typeof (data) !== 'string')\n\t\tassert.buffer(data, 'data');\n\tif (format === undefined)\n\t\tformat = 'auto';\n\tassert.string(format, 'format');\n\tif (typeof (options) === 'string')\n\t\toptions = { filename: options };\n\tassert.optionalObject(options, 'options');\n\tif (options === undefined)\n\t\toptions = {};\n\tassert.optionalString(options.filename, 'options.filename');\n\tif (options.filename === undefined)\n\t\toptions.filename = '(unnamed)';\n\n\tassert.object(formats[format], 'formats[format]');\n\n\ttry {\n\t\tvar k = formats[format].read(data, options);\n\t\treturn (k);\n\t} catch (e) {\n\t\tthrow (new CertificateParseError(options.filename, format, e));\n\t}\n};\n\nCertificate.isCertificate = function (obj, ver) {\n\treturn (utils.isCompatible(obj, Certificate, ver));\n};\n\n/*\n * API versions for Certificate:\n * [1,0] -- initial ver\n * [1,1] -- openssh format now unpacks extensions\n */\nCertificate.prototype._sshpkApiVersion = [1, 1];\n\nCertificate._oldVersionDetect = function (obj) {\n\treturn ([1, 0]);\n};\n","// Copyright 2017 Joyent, Inc.\n\nmodule.exports = {\n\tDiffieHellman: DiffieHellman,\n\tgenerateECDSA: generateECDSA,\n\tgenerateED25519: generateED25519\n};\n\nvar assert = require('assert-plus');\nvar crypto = require('crypto');\nvar Buffer = require('safer-buffer').Buffer;\nvar algs = require('./algs');\nvar utils = require('./utils');\nvar nacl = require('tweetnacl');\n\nvar Key = require('./key');\nvar PrivateKey = require('./private-key');\n\nvar CRYPTO_HAVE_ECDH = (crypto.createECDH !== undefined);\n\nvar ecdh = require('ecc-jsbn');\nvar ec = require('ecc-jsbn/lib/ec');\nvar jsbn = require('jsbn').BigInteger;\n\nfunction DiffieHellman(key) {\n\tutils.assertCompatible(key, Key, [1, 4], 'key');\n\tthis._isPriv = PrivateKey.isPrivateKey(key, [1, 3]);\n\tthis._algo = key.type;\n\tthis._curve = key.curve;\n\tthis._key = key;\n\tif (key.type === 'dsa') {\n\t\tif (!CRYPTO_HAVE_ECDH) {\n\t\t\tthrow (new Error('Due to bugs in the node 0.10 ' +\n\t\t\t    'crypto API, node 0.12.x or later is required ' +\n\t\t\t    'to use DH'));\n\t\t}\n\t\tthis._dh = crypto.createDiffieHellman(\n\t\t    key.part.p.data, undefined,\n\t\t    key.part.g.data, undefined);\n\t\tthis._p = key.part.p;\n\t\tthis._g = key.part.g;\n\t\tif (this._isPriv)\n\t\t\tthis._dh.setPrivateKey(key.part.x.data);\n\t\tthis._dh.setPublicKey(key.part.y.data);\n\n\t} else if (key.type === 'ecdsa') {\n\t\tif (!CRYPTO_HAVE_ECDH) {\n\t\t\tthis._ecParams = new X9ECParameters(this._curve);\n\n\t\t\tif (this._isPriv) {\n\t\t\t\tthis._priv = new ECPrivate(\n\t\t\t\t    this._ecParams, key.part.d.data);\n\t\t\t}\n\t\t\treturn;\n\t\t}\n\n\t\tvar curve = {\n\t\t\t'nistp256': 'prime256v1',\n\t\t\t'nistp384': 'secp384r1',\n\t\t\t'nistp521': 'secp521r1'\n\t\t}[key.curve];\n\t\tthis._dh = crypto.createECDH(curve);\n\t\tif (typeof (this._dh) !== 'object' ||\n\t\t    typeof (this._dh.setPrivateKey) !== 'function') {\n\t\t\tCRYPTO_HAVE_ECDH = false;\n\t\t\tDiffieHellman.call(this, key);\n\t\t\treturn;\n\t\t}\n\t\tif (this._isPriv)\n\t\t\tthis._dh.setPrivateKey(key.part.d.data);\n\t\tthis._dh.setPublicKey(key.part.Q.data);\n\n\t} else if (key.type === 'curve25519') {\n\t\tif (this._isPriv) {\n\t\t\tutils.assertCompatible(key, PrivateKey, [1, 5], 'key');\n\t\t\tthis._priv = key.part.k.data;\n\t\t}\n\n\t} else {\n\t\tthrow (new Error('DH not supported for ' + key.type + ' keys'));\n\t}\n}\n\nDiffieHellman.prototype.getPublicKey = function () {\n\tif (this._isPriv)\n\t\treturn (this._key.toPublic());\n\treturn (this._key);\n};\n\nDiffieHellman.prototype.getPrivateKey = function () {\n\tif (this._isPriv)\n\t\treturn (this._key);\n\telse\n\t\treturn (undefined);\n};\nDiffieHellman.prototype.getKey = DiffieHellman.prototype.getPrivateKey;\n\nDiffieHellman.prototype._keyCheck = function (pk, isPub) {\n\tassert.object(pk, 'key');\n\tif (!isPub)\n\t\tutils.assertCompatible(pk, PrivateKey, [1, 3], 'key');\n\tutils.assertCompatible(pk, Key, [1, 4], 'key');\n\n\tif (pk.type !== this._algo) {\n\t\tthrow (new Error('A ' + pk.type + ' key cannot be used in ' +\n\t\t    this._algo + ' Diffie-Hellman'));\n\t}\n\n\tif (pk.curve !== this._curve) {\n\t\tthrow (new Error('A key from the ' + pk.curve + ' curve ' +\n\t\t    'cannot be used with a ' + this._curve +\n\t\t    ' Diffie-Hellman'));\n\t}\n\n\tif (pk.type === 'dsa') {\n\t\tassert.deepEqual(pk.part.p, this._p,\n\t\t    'DSA key prime does not match');\n\t\tassert.deepEqual(pk.part.g, this._g,\n\t\t    'DSA key generator does not match');\n\t}\n};\n\nDiffieHellman.prototype.setKey = function (pk) {\n\tthis._keyCheck(pk);\n\n\tif (pk.type === 'dsa') {\n\t\tthis._dh.setPrivateKey(pk.part.x.data);\n\t\tthis._dh.setPublicKey(pk.part.y.data);\n\n\t} else if (pk.type === 'ecdsa') {\n\t\tif (CRYPTO_HAVE_ECDH) {\n\t\t\tthis._dh.setPrivateKey(pk.part.d.data);\n\t\t\tthis._dh.setPublicKey(pk.part.Q.data);\n\t\t} else {\n\t\t\tthis._priv = new ECPrivate(\n\t\t\t    this._ecParams, pk.part.d.data);\n\t\t}\n\n\t} else if (pk.type === 'curve25519') {\n\t\tvar k = pk.part.k;\n\t\tif (!pk.part.k)\n\t\t\tk = pk.part.r;\n\t\tthis._priv = k.data;\n\t\tif (this._priv[0] === 0x00)\n\t\t\tthis._priv = this._priv.slice(1);\n\t\tthis._priv = this._priv.slice(0, 32);\n\t}\n\tthis._key = pk;\n\tthis._isPriv = true;\n};\nDiffieHellman.prototype.setPrivateKey = DiffieHellman.prototype.setKey;\n\nDiffieHellman.prototype.computeSecret = function (otherpk) {\n\tthis._keyCheck(otherpk, true);\n\tif (!this._isPriv)\n\t\tthrow (new Error('DH exchange has not been initialized with ' +\n\t\t    'a private key yet'));\n\n\tvar pub;\n\tif (this._algo === 'dsa') {\n\t\treturn (this._dh.computeSecret(\n\t\t    otherpk.part.y.data));\n\n\t} else if (this._algo === 'ecdsa') {\n\t\tif (CRYPTO_HAVE_ECDH) {\n\t\t\treturn (this._dh.computeSecret(\n\t\t\t    otherpk.part.Q.data));\n\t\t} else {\n\t\t\tpub = new ECPublic(\n\t\t\t    this._ecParams, otherpk.part.Q.data);\n\t\t\treturn (this._priv.deriveSharedSecret(pub));\n\t\t}\n\n\t} else if (this._algo === 'curve25519') {\n\t\tpub = otherpk.part.A.data;\n\t\twhile (pub[0] === 0x00 && pub.length > 32)\n\t\t\tpub = pub.slice(1);\n\t\tvar priv = this._priv;\n\t\tassert.strictEqual(pub.length, 32);\n\t\tassert.strictEqual(priv.length, 32);\n\n\t\tvar secret = nacl.box.before(new Uint8Array(pub),\n\t\t    new Uint8Array(priv));\n\n\t\treturn (Buffer.from(secret));\n\t}\n\n\tthrow (new Error('Invalid algorithm: ' + this._algo));\n};\n\nDiffieHellman.prototype.generateKey = function () {\n\tvar parts = [];\n\tvar priv, pub;\n\tif (this._algo === 'dsa') {\n\t\tthis._dh.generateKeys();\n\n\t\tparts.push({name: 'p', data: this._p.data});\n\t\tparts.push({name: 'q', data: this._key.part.q.data});\n\t\tparts.push({name: 'g', data: this._g.data});\n\t\tparts.push({name: 'y', data: this._dh.getPublicKey()});\n\t\tparts.push({name: 'x', data: this._dh.getPrivateKey()});\n\t\tthis._key = new PrivateKey({\n\t\t\ttype: 'dsa',\n\t\t\tparts: parts\n\t\t});\n\t\tthis._isPriv = true;\n\t\treturn (this._key);\n\n\t} else if (this._algo === 'ecdsa') {\n\t\tif (CRYPTO_HAVE_ECDH) {\n\t\t\tthis._dh.generateKeys();\n\n\t\t\tparts.push({name: 'curve',\n\t\t\t    data: Buffer.from(this._curve)});\n\t\t\tparts.push({name: 'Q', data: this._dh.getPublicKey()});\n\t\t\tparts.push({name: 'd', data: this._dh.getPrivateKey()});\n\t\t\tthis._key = new PrivateKey({\n\t\t\t\ttype: 'ecdsa',\n\t\t\t\tcurve: this._curve,\n\t\t\t\tparts: parts\n\t\t\t});\n\t\t\tthis._isPriv = true;\n\t\t\treturn (this._key);\n\n\t\t} else {\n\t\t\tvar n = this._ecParams.getN();\n\t\t\tvar r = new jsbn(crypto.randomBytes(n.bitLength()));\n\t\t\tvar n1 = n.subtract(jsbn.ONE);\n\t\t\tpriv = r.mod(n1).add(jsbn.ONE);\n\t\t\tpub = this._ecParams.getG().multiply(priv);\n\n\t\t\tpriv = Buffer.from(priv.toByteArray());\n\t\t\tpub = Buffer.from(this._ecParams.getCurve().\n\t\t\t    encodePointHex(pub), 'hex');\n\n\t\t\tthis._priv = new ECPrivate(this._ecParams, priv);\n\n\t\t\tparts.push({name: 'curve',\n\t\t\t    data: Buffer.from(this._curve)});\n\t\t\tparts.push({name: 'Q', data: pub});\n\t\t\tparts.push({name: 'd', data: priv});\n\n\t\t\tthis._key = new PrivateKey({\n\t\t\t\ttype: 'ecdsa',\n\t\t\t\tcurve: this._curve,\n\t\t\t\tparts: parts\n\t\t\t});\n\t\t\tthis._isPriv = true;\n\t\t\treturn (this._key);\n\t\t}\n\n\t} else if (this._algo === 'curve25519') {\n\t\tvar pair = nacl.box.keyPair();\n\t\tpriv = Buffer.from(pair.secretKey);\n\t\tpub = Buffer.from(pair.publicKey);\n\t\tpriv = Buffer.concat([priv, pub]);\n\t\tassert.strictEqual(priv.length, 64);\n\t\tassert.strictEqual(pub.length, 32);\n\n\t\tparts.push({name: 'A', data: pub});\n\t\tparts.push({name: 'k', data: priv});\n\t\tthis._key = new PrivateKey({\n\t\t\ttype: 'curve25519',\n\t\t\tparts: parts\n\t\t});\n\t\tthis._isPriv = true;\n\t\treturn (this._key);\n\t}\n\n\tthrow (new Error('Invalid algorithm: ' + this._algo));\n};\nDiffieHellman.prototype.generateKeys = DiffieHellman.prototype.generateKey;\n\n/* These are helpers for using ecc-jsbn (for node 0.10 compatibility). */\n\nfunction X9ECParameters(name) {\n\tvar params = algs.curves[name];\n\tassert.object(params);\n\n\tvar p = new jsbn(params.p);\n\tvar a = new jsbn(params.a);\n\tvar b = new jsbn(params.b);\n\tvar n = new jsbn(params.n);\n\tvar h = jsbn.ONE;\n\tvar curve = new ec.ECCurveFp(p, a, b);\n\tvar G = curve.decodePointHex(params.G.toString('hex'));\n\n\tthis.curve = curve;\n\tthis.g = G;\n\tthis.n = n;\n\tthis.h = h;\n}\nX9ECParameters.prototype.getCurve = function () { return (this.curve); };\nX9ECParameters.prototype.getG = function () { return (this.g); };\nX9ECParameters.prototype.getN = function () { return (this.n); };\nX9ECParameters.prototype.getH = function () { return (this.h); };\n\nfunction ECPublic(params, buffer) {\n\tthis._params = params;\n\tif (buffer[0] === 0x00)\n\t\tbuffer = buffer.slice(1);\n\tthis._pub = params.getCurve().decodePointHex(buffer.toString('hex'));\n}\n\nfunction ECPrivate(params, buffer) {\n\tthis._params = params;\n\tthis._priv = new jsbn(utils.mpNormalize(buffer));\n}\nECPrivate.prototype.deriveSharedSecret = function (pubKey) {\n\tassert.ok(pubKey instanceof ECPublic);\n\tvar S = pubKey._pub.multiply(this._priv);\n\treturn (Buffer.from(S.getX().toBigInteger().toByteArray()));\n};\n\nfunction generateED25519() {\n\tvar pair = nacl.sign.keyPair();\n\tvar priv = Buffer.from(pair.secretKey);\n\tvar pub = Buffer.from(pair.publicKey);\n\tassert.strictEqual(priv.length, 64);\n\tassert.strictEqual(pub.length, 32);\n\n\tvar parts = [];\n\tparts.push({name: 'A', data: pub});\n\tparts.push({name: 'k', data: priv.slice(0, 32)});\n\tvar key = new PrivateKey({\n\t\ttype: 'ed25519',\n\t\tparts: parts\n\t});\n\treturn (key);\n}\n\n/* Generates a new ECDSA private key on a given curve. */\nfunction generateECDSA(curve) {\n\tvar parts = [];\n\tvar key;\n\n\tif (CRYPTO_HAVE_ECDH) {\n\t\t/*\n\t\t * Node crypto doesn't expose key generation directly, but the\n\t\t * ECDH instances can generate keys. It turns out this just\n\t\t * calls into the OpenSSL generic key generator, and we can\n\t\t * read its output happily without doing an actual DH. So we\n\t\t * use that here.\n\t\t */\n\t\tvar osCurve = {\n\t\t\t'nistp256': 'prime256v1',\n\t\t\t'nistp384': 'secp384r1',\n\t\t\t'nistp521': 'secp521r1'\n\t\t}[curve];\n\n\t\tvar dh = crypto.createECDH(osCurve);\n\t\tdh.generateKeys();\n\n\t\tparts.push({name: 'curve',\n\t\t    data: Buffer.from(curve)});\n\t\tparts.push({name: 'Q', data: dh.getPublicKey()});\n\t\tparts.push({name: 'd', data: dh.getPrivateKey()});\n\n\t\tkey = new PrivateKey({\n\t\t\ttype: 'ecdsa',\n\t\t\tcurve: curve,\n\t\t\tparts: parts\n\t\t});\n\t\treturn (key);\n\t} else {\n\n\t\tvar ecParams = new X9ECParameters(curve);\n\n\t\t/* This algorithm taken from FIPS PUB 186-4 (section B.4.1) */\n\t\tvar n = ecParams.getN();\n\t\t/*\n\t\t * The crypto.randomBytes() function can only give us whole\n\t\t * bytes, so taking a nod from X9.62, we round up.\n\t\t */\n\t\tvar cByteLen = Math.ceil((n.bitLength() + 64) / 8);\n\t\tvar c = new jsbn(crypto.randomBytes(cByteLen));\n\n\t\tvar n1 = n.subtract(jsbn.ONE);\n\t\tvar priv = c.mod(n1).add(jsbn.ONE);\n\t\tvar pub = ecParams.getG().multiply(priv);\n\n\t\tpriv = Buffer.from(priv.toByteArray());\n\t\tpub = Buffer.from(ecParams.getCurve().\n\t\t    encodePointHex(pub), 'hex');\n\n\t\tparts.push({name: 'curve', data: Buffer.from(curve)});\n\t\tparts.push({name: 'Q', data: pub});\n\t\tparts.push({name: 'd', data: priv});\n\n\t\tkey = new PrivateKey({\n\t\t\ttype: 'ecdsa',\n\t\t\tcurve: curve,\n\t\t\tparts: parts\n\t\t});\n\t\treturn (key);\n\t}\n}\n","// Copyright 2015 Joyent, Inc.\n\nmodule.exports = {\n\tVerifier: Verifier,\n\tSigner: Signer\n};\n\nvar nacl = require('tweetnacl');\nvar stream = require('stream');\nvar util = require('util');\nvar assert = require('assert-plus');\nvar Buffer = require('safer-buffer').Buffer;\nvar Signature = require('./signature');\n\nfunction Verifier(key, hashAlgo) {\n\tif (hashAlgo.toLowerCase() !== 'sha512')\n\t\tthrow (new Error('ED25519 only supports the use of ' +\n\t\t    'SHA-512 hashes'));\n\n\tthis.key = key;\n\tthis.chunks = [];\n\n\tstream.Writable.call(this, {});\n}\nutil.inherits(Verifier, stream.Writable);\n\nVerifier.prototype._write = function (chunk, enc, cb) {\n\tthis.chunks.push(chunk);\n\tcb();\n};\n\nVerifier.prototype.update = function (chunk) {\n\tif (typeof (chunk) === 'string')\n\t\tchunk = Buffer.from(chunk, 'binary');\n\tthis.chunks.push(chunk);\n};\n\nVerifier.prototype.verify = function (signature, fmt) {\n\tvar sig;\n\tif (Signature.isSignature(signature, [2, 0])) {\n\t\tif (signature.type !== 'ed25519')\n\t\t\treturn (false);\n\t\tsig = signature.toBuffer('raw');\n\n\t} else if (typeof (signature) === 'string') {\n\t\tsig = Buffer.from(signature, 'base64');\n\n\t} else if (Signature.isSignature(signature, [1, 0])) {\n\t\tthrow (new Error('signature was created by too old ' +\n\t\t    'a version of sshpk and cannot be verified'));\n\t}\n\n\tassert.buffer(sig);\n\treturn (nacl.sign.detached.verify(\n\t    new Uint8Array(Buffer.concat(this.chunks)),\n\t    new Uint8Array(sig),\n\t    new Uint8Array(this.key.part.A.data)));\n};\n\nfunction Signer(key, hashAlgo) {\n\tif (hashAlgo.toLowerCase() !== 'sha512')\n\t\tthrow (new Error('ED25519 only supports the use of ' +\n\t\t    'SHA-512 hashes'));\n\n\tthis.key = key;\n\tthis.chunks = [];\n\n\tstream.Writable.call(this, {});\n}\nutil.inherits(Signer, stream.Writable);\n\nSigner.prototype._write = function (chunk, enc, cb) {\n\tthis.chunks.push(chunk);\n\tcb();\n};\n\nSigner.prototype.update = function (chunk) {\n\tif (typeof (chunk) === 'string')\n\t\tchunk = Buffer.from(chunk, 'binary');\n\tthis.chunks.push(chunk);\n};\n\nSigner.prototype.sign = function () {\n\tvar sig = nacl.sign.detached(\n\t    new Uint8Array(Buffer.concat(this.chunks)),\n\t    new Uint8Array(Buffer.concat([\n\t\tthis.key.part.k.data, this.key.part.A.data])));\n\tvar sigBuf = Buffer.from(sig);\n\tvar sigObj = Signature.parse(sigBuf, 'ed25519', 'raw');\n\tsigObj.hashAlgorithm = 'sha512';\n\treturn (sigObj);\n};\n","// Copyright 2015 Joyent, Inc.\n\nvar assert = require('assert-plus');\nvar util = require('util');\n\nfunction FingerprintFormatError(fp, format) {\n\tif (Error.captureStackTrace)\n\t\tError.captureStackTrace(this, FingerprintFormatError);\n\tthis.name = 'FingerprintFormatError';\n\tthis.fingerprint = fp;\n\tthis.format = format;\n\tthis.message = 'Fingerprint format is not supported, or is invalid: ';\n\tif (fp !== undefined)\n\t\tthis.message += ' fingerprint = ' + fp;\n\tif (format !== undefined)\n\t\tthis.message += ' format = ' + format;\n}\nutil.inherits(FingerprintFormatError, Error);\n\nfunction InvalidAlgorithmError(alg) {\n\tif (Error.captureStackTrace)\n\t\tError.captureStackTrace(this, InvalidAlgorithmError);\n\tthis.name = 'InvalidAlgorithmError';\n\tthis.algorithm = alg;\n\tthis.message = 'Algorithm \"' + alg + '\" is not supported';\n}\nutil.inherits(InvalidAlgorithmError, Error);\n\nfunction KeyParseError(name, format, innerErr) {\n\tif (Error.captureStackTrace)\n\t\tError.captureStackTrace(this, KeyParseError);\n\tthis.name = 'KeyParseError';\n\tthis.format = format;\n\tthis.keyName = name;\n\tthis.innerErr = innerErr;\n\tthis.message = 'Failed to parse ' + name + ' as a valid ' + format +\n\t    ' format key: ' + innerErr.message;\n}\nutil.inherits(KeyParseError, Error);\n\nfunction SignatureParseError(type, format, innerErr) {\n\tif (Error.captureStackTrace)\n\t\tError.captureStackTrace(this, SignatureParseError);\n\tthis.name = 'SignatureParseError';\n\tthis.type = type;\n\tthis.format = format;\n\tthis.innerErr = innerErr;\n\tthis.message = 'Failed to parse the given data as a ' + type +\n\t    ' signature in ' + format + ' format: ' + innerErr.message;\n}\nutil.inherits(SignatureParseError, Error);\n\nfunction CertificateParseError(name, format, innerErr) {\n\tif (Error.captureStackTrace)\n\t\tError.captureStackTrace(this, CertificateParseError);\n\tthis.name = 'CertificateParseError';\n\tthis.format = format;\n\tthis.certName = name;\n\tthis.innerErr = innerErr;\n\tthis.message = 'Failed to parse ' + name + ' as a valid ' + format +\n\t    ' format certificate: ' + innerErr.message;\n}\nutil.inherits(CertificateParseError, Error);\n\nfunction KeyEncryptedError(name, format) {\n\tif (Error.captureStackTrace)\n\t\tError.captureStackTrace(this, KeyEncryptedError);\n\tthis.name = 'KeyEncryptedError';\n\tthis.format = format;\n\tthis.keyName = name;\n\tthis.message = 'The ' + format + ' format key ' + name + ' is ' +\n\t    'encrypted (password-protected), and no passphrase was ' +\n\t    'provided in `options`';\n}\nutil.inherits(KeyEncryptedError, Error);\n\nmodule.exports = {\n\tFingerprintFormatError: FingerprintFormatError,\n\tInvalidAlgorithmError: InvalidAlgorithmError,\n\tKeyParseError: KeyParseError,\n\tSignatureParseError: SignatureParseError,\n\tKeyEncryptedError: KeyEncryptedError,\n\tCertificateParseError: CertificateParseError\n};\n","// Copyright 2018 Joyent, Inc.\n\nmodule.exports = Fingerprint;\n\nvar assert = require('assert-plus');\nvar Buffer = require('safer-buffer').Buffer;\nvar algs = require('./algs');\nvar crypto = require('crypto');\nvar errs = require('./errors');\nvar Key = require('./key');\nvar PrivateKey = require('./private-key');\nvar Certificate = require('./certificate');\nvar utils = require('./utils');\n\nvar FingerprintFormatError = errs.FingerprintFormatError;\nvar InvalidAlgorithmError = errs.InvalidAlgorithmError;\n\nfunction Fingerprint(opts) {\n\tassert.object(opts, 'options');\n\tassert.string(opts.type, 'options.type');\n\tassert.buffer(opts.hash, 'options.hash');\n\tassert.string(opts.algorithm, 'options.algorithm');\n\n\tthis.algorithm = opts.algorithm.toLowerCase();\n\tif (algs.hashAlgs[this.algorithm] !== true)\n\t\tthrow (new InvalidAlgorithmError(this.algorithm));\n\n\tthis.hash = opts.hash;\n\tthis.type = opts.type;\n\tthis.hashType = opts.hashType;\n}\n\nFingerprint.prototype.toString = function (format) {\n\tif (format === undefined) {\n\t\tif (this.algorithm === 'md5' || this.hashType === 'spki')\n\t\t\tformat = 'hex';\n\t\telse\n\t\t\tformat = 'base64';\n\t}\n\tassert.string(format);\n\n\tswitch (format) {\n\tcase 'hex':\n\t\tif (this.hashType === 'spki')\n\t\t\treturn (this.hash.toString('hex'));\n\t\treturn (addColons(this.hash.toString('hex')));\n\tcase 'base64':\n\t\tif (this.hashType === 'spki')\n\t\t\treturn (this.hash.toString('base64'));\n\t\treturn (sshBase64Format(this.algorithm,\n\t\t    this.hash.toString('base64')));\n\tdefault:\n\t\tthrow (new FingerprintFormatError(undefined, format));\n\t}\n};\n\nFingerprint.prototype.matches = function (other) {\n\tassert.object(other, 'key or certificate');\n\tif (this.type === 'key' && this.hashType !== 'ssh') {\n\t\tutils.assertCompatible(other, Key, [1, 7], 'key with spki');\n\t\tif (PrivateKey.isPrivateKey(other)) {\n\t\t\tutils.assertCompatible(other, PrivateKey, [1, 6],\n\t\t\t    'privatekey with spki support');\n\t\t}\n\t} else if (this.type === 'key') {\n\t\tutils.assertCompatible(other, Key, [1, 0], 'key');\n\t} else {\n\t\tutils.assertCompatible(other, Certificate, [1, 0],\n\t\t    'certificate');\n\t}\n\n\tvar theirHash = other.hash(this.algorithm, this.hashType);\n\tvar theirHash2 = crypto.createHash(this.algorithm).\n\t    update(theirHash).digest('base64');\n\n\tif (this.hash2 === undefined)\n\t\tthis.hash2 = crypto.createHash(this.algorithm).\n\t\t    update(this.hash).digest('base64');\n\n\treturn (this.hash2 === theirHash2);\n};\n\n/*JSSTYLED*/\nvar base64RE = /^[A-Za-z0-9+\\/=]+$/;\n/*JSSTYLED*/\nvar hexRE = /^[a-fA-F0-9]+$/;\n\nFingerprint.parse = function (fp, options) {\n\tassert.string(fp, 'fingerprint');\n\n\tvar alg, hash, enAlgs;\n\tif (Array.isArray(options)) {\n\t\tenAlgs = options;\n\t\toptions = {};\n\t}\n\tassert.optionalObject(options, 'options');\n\tif (options === undefined)\n\t\toptions = {};\n\tif (options.enAlgs !== undefined)\n\t\tenAlgs = options.enAlgs;\n\tif (options.algorithms !== undefined)\n\t\tenAlgs = options.algorithms;\n\tassert.optionalArrayOfString(enAlgs, 'algorithms');\n\n\tvar hashType = 'ssh';\n\tif (options.hashType !== undefined)\n\t\thashType = options.hashType;\n\tassert.string(hashType, 'options.hashType');\n\n\tvar parts = fp.split(':');\n\tif (parts.length == 2) {\n\t\talg = parts[0].toLowerCase();\n\t\tif (!base64RE.test(parts[1]))\n\t\t\tthrow (new FingerprintFormatError(fp));\n\t\ttry {\n\t\t\thash = Buffer.from(parts[1], 'base64');\n\t\t} catch (e) {\n\t\t\tthrow (new FingerprintFormatError(fp));\n\t\t}\n\t} else if (parts.length > 2) {\n\t\talg = 'md5';\n\t\tif (parts[0].toLowerCase() === 'md5')\n\t\t\tparts = parts.slice(1);\n\t\tparts = parts.map(function (p) {\n\t\t\twhile (p.length < 2)\n\t\t\t\tp = '0' + p;\n\t\t\tif (p.length > 2)\n\t\t\t\tthrow (new FingerprintFormatError(fp));\n\t\t\treturn (p);\n\t\t});\n\t\tparts = parts.join('');\n\t\tif (!hexRE.test(parts) || parts.length % 2 !== 0)\n\t\t\tthrow (new FingerprintFormatError(fp));\n\t\ttry {\n\t\t\thash = Buffer.from(parts, 'hex');\n\t\t} catch (e) {\n\t\t\tthrow (new FingerprintFormatError(fp));\n\t\t}\n\t} else {\n\t\tif (hexRE.test(fp)) {\n\t\t\thash = Buffer.from(fp, 'hex');\n\t\t} else if (base64RE.test(fp)) {\n\t\t\thash = Buffer.from(fp, 'base64');\n\t\t} else {\n\t\t\tthrow (new FingerprintFormatError(fp));\n\t\t}\n\n\t\tswitch (hash.length) {\n\t\tcase 32:\n\t\t\talg = 'sha256';\n\t\t\tbreak;\n\t\tcase 16:\n\t\t\talg = 'md5';\n\t\t\tbreak;\n\t\tcase 20:\n\t\t\talg = 'sha1';\n\t\t\tbreak;\n\t\tcase 64:\n\t\t\talg = 'sha512';\n\t\t\tbreak;\n\t\tdefault:\n\t\t\tthrow (new FingerprintFormatError(fp));\n\t\t}\n\n\t\t/* Plain hex/base64: guess it's probably SPKI unless told. */\n\t\tif (options.hashType === undefined)\n\t\t\thashType = 'spki';\n\t}\n\n\tif (alg === undefined)\n\t\tthrow (new FingerprintFormatError(fp));\n\n\tif (algs.hashAlgs[alg] === undefined)\n\t\tthrow (new InvalidAlgorithmError(alg));\n\n\tif (enAlgs !== undefined) {\n\t\tenAlgs = enAlgs.map(function (a) { return a.toLowerCase(); });\n\t\tif (enAlgs.indexOf(alg) === -1)\n\t\t\tthrow (new InvalidAlgorithmError(alg));\n\t}\n\n\treturn (new Fingerprint({\n\t\talgorithm: alg,\n\t\thash: hash,\n\t\ttype: options.type || 'key',\n\t\thashType: hashType\n\t}));\n};\n\nfunction addColons(s) {\n\t/*JSSTYLED*/\n\treturn (s.replace(/(.{2})(?=.)/g, '$1:'));\n}\n\nfunction base64Strip(s) {\n\t/*JSSTYLED*/\n\treturn (s.replace(/=*$/, ''));\n}\n\nfunction sshBase64Format(alg, h) {\n\treturn (alg.toUpperCase() + ':' + base64Strip(h));\n}\n\nFingerprint.isFingerprint = function (obj, ver) {\n\treturn (utils.isCompatible(obj, Fingerprint, ver));\n};\n\n/*\n * API versions for Fingerprint:\n * [1,0] -- initial ver\n * [1,1] -- first tagged ver\n * [1,2] -- hashType and spki support\n */\nFingerprint.prototype._sshpkApiVersion = [1, 2];\n\nFingerprint._oldVersionDetect = function (obj) {\n\tassert.func(obj.toString);\n\tassert.func(obj.matches);\n\treturn ([1, 0]);\n};\n","// Copyright 2018 Joyent, Inc.\n\nmodule.exports = {\n\tread: read,\n\twrite: write\n};\n\nvar assert = require('assert-plus');\nvar Buffer = require('safer-buffer').Buffer;\nvar utils = require('../utils');\nvar Key = require('../key');\nvar PrivateKey = require('../private-key');\n\nvar pem = require('./pem');\nvar ssh = require('./ssh');\nvar rfc4253 = require('./rfc4253');\nvar dnssec = require('./dnssec');\nvar putty = require('./putty');\n\nvar DNSSEC_PRIVKEY_HEADER_PREFIX = 'Private-key-format: v1';\n\nfunction read(buf, options) {\n\tif (typeof (buf) === 'string') {\n\t\tif (buf.trim().match(/^[-]+[ ]*BEGIN/))\n\t\t\treturn (pem.read(buf, options));\n\t\tif (buf.match(/^\\s*ssh-[a-z]/))\n\t\t\treturn (ssh.read(buf, options));\n\t\tif (buf.match(/^\\s*ecdsa-/))\n\t\t\treturn (ssh.read(buf, options));\n\t\tif (buf.match(/^putty-user-key-file-2:/i))\n\t\t\treturn (putty.read(buf, options));\n\t\tif (findDNSSECHeader(buf))\n\t\t\treturn (dnssec.read(buf, options));\n\t\tbuf = Buffer.from(buf, 'binary');\n\t} else {\n\t\tassert.buffer(buf);\n\t\tif (findPEMHeader(buf))\n\t\t\treturn (pem.read(buf, options));\n\t\tif (findSSHHeader(buf))\n\t\t\treturn (ssh.read(buf, options));\n\t\tif (findPuTTYHeader(buf))\n\t\t\treturn (putty.read(buf, options));\n\t\tif (findDNSSECHeader(buf))\n\t\t\treturn (dnssec.read(buf, options));\n\t}\n\tif (buf.readUInt32BE(0) < buf.length)\n\t\treturn (rfc4253.read(buf, options));\n\tthrow (new Error('Failed to auto-detect format of key'));\n}\n\nfunction findPuTTYHeader(buf) {\n\tvar offset = 0;\n\twhile (offset < buf.length &&\n\t    (buf[offset] === 32 || buf[offset] === 10 || buf[offset] === 9))\n\t\t++offset;\n\tif (offset + 22 <= buf.length &&\n\t    buf.slice(offset, offset + 22).toString('ascii').toLowerCase() ===\n\t    'putty-user-key-file-2:')\n\t\treturn (true);\n\treturn (false);\n}\n\nfunction findSSHHeader(buf) {\n\tvar offset = 0;\n\twhile (offset < buf.length &&\n\t    (buf[offset] === 32 || buf[offset] === 10 || buf[offset] === 9))\n\t\t++offset;\n\tif (offset + 4 <= buf.length &&\n\t    buf.slice(offset, offset + 4).toString('ascii') === 'ssh-')\n\t\treturn (true);\n\tif (offset + 6 <= buf.length &&\n\t    buf.slice(offset, offset + 6).toString('ascii') === 'ecdsa-')\n\t\treturn (true);\n\treturn (false);\n}\n\nfunction findPEMHeader(buf) {\n\tvar offset = 0;\n\twhile (offset < buf.length &&\n\t    (buf[offset] === 32 || buf[offset] === 10))\n\t\t++offset;\n\tif (buf[offset] !== 45)\n\t\treturn (false);\n\twhile (offset < buf.length &&\n\t    (buf[offset] === 45))\n\t\t++offset;\n\twhile (offset < buf.length &&\n\t    (buf[offset] === 32))\n\t\t++offset;\n\tif (offset + 5 > buf.length ||\n\t    buf.slice(offset, offset + 5).toString('ascii') !== 'BEGIN')\n\t\treturn (false);\n\treturn (true);\n}\n\nfunction findDNSSECHeader(buf) {\n\t// private case first\n\tif (buf.length <= DNSSEC_PRIVKEY_HEADER_PREFIX.length)\n\t\treturn (false);\n\tvar headerCheck = buf.slice(0, DNSSEC_PRIVKEY_HEADER_PREFIX.length);\n\tif (headerCheck.toString('ascii') === DNSSEC_PRIVKEY_HEADER_PREFIX)\n\t\treturn (true);\n\n\t// public-key RFC3110 ?\n\t// 'domain.com. IN KEY ...' or 'domain.com. IN DNSKEY ...'\n\t// skip any comment-lines\n\tif (typeof (buf) !== 'string') {\n\t\tbuf = buf.toString('ascii');\n\t}\n\tvar lines = buf.split('\\n');\n\tvar line = 0;\n\t/* JSSTYLED */\n\twhile (lines[line].match(/^\\;/))\n\t\tline++;\n\tif (lines[line].toString('ascii').match(/\\. IN KEY /))\n\t\treturn (true);\n\tif (lines[line].toString('ascii').match(/\\. IN DNSKEY /))\n\t\treturn (true);\n\treturn (false);\n}\n\nfunction write(key, options) {\n\tthrow (new Error('\"auto\" format cannot be used for writing'));\n}\n","// Copyright 2017 Joyent, Inc.\n\nmodule.exports = {\n\tread: read,\n\twrite: write\n};\n\nvar assert = require('assert-plus');\nvar Buffer = require('safer-buffer').Buffer;\nvar Key = require('../key');\nvar PrivateKey = require('../private-key');\nvar utils = require('../utils');\nvar SSHBuffer = require('../ssh-buffer');\nvar Dhe = require('../dhe');\n\nvar supportedAlgos = {\n\t'rsa-sha1' : 5,\n\t'rsa-sha256' : 8,\n\t'rsa-sha512' : 10,\n\t'ecdsa-p256-sha256' : 13,\n\t'ecdsa-p384-sha384' : 14\n\t/*\n\t * ed25519 is hypothetically supported with id 15\n\t * but the common tools available don't appear to be\n\t * capable of generating/using ed25519 keys\n\t */\n};\n\nvar supportedAlgosById = {};\nObject.keys(supportedAlgos).forEach(function (k) {\n\tsupportedAlgosById[supportedAlgos[k]] = k.toUpperCase();\n});\n\nfunction read(buf, options) {\n\tif (typeof (buf) !== 'string') {\n\t\tassert.buffer(buf, 'buf');\n\t\tbuf = buf.toString('ascii');\n\t}\n\tvar lines = buf.split('\\n');\n\tif (lines[0].match(/^Private-key-format\\: v1/)) {\n\t\tvar algElems = lines[1].split(' ');\n\t\tvar algoNum = parseInt(algElems[1], 10);\n\t\tvar algoName = algElems[2];\n\t\tif (!supportedAlgosById[algoNum])\n\t\t\tthrow (new Error('Unsupported algorithm: ' + algoName));\n\t\treturn (readDNSSECPrivateKey(algoNum, lines.slice(2)));\n\t}\n\n\t// skip any comment-lines\n\tvar line = 0;\n\t/* JSSTYLED */\n\twhile (lines[line].match(/^\\;/))\n\t\tline++;\n\t// we should now have *one single* line left with our KEY on it.\n\tif ((lines[line].match(/\\. IN KEY /) ||\n\t    lines[line].match(/\\. IN DNSKEY /)) && lines[line+1].length === 0) {\n\t\treturn (readRFC3110(lines[line]));\n\t}\n\tthrow (new Error('Cannot parse dnssec key'));\n}\n\nfunction readRFC3110(keyString) {\n\tvar elems = keyString.split(' ');\n\t//unused var flags = parseInt(elems[3], 10);\n\t//unused var protocol = parseInt(elems[4], 10);\n\tvar algorithm = parseInt(elems[5], 10);\n\tif (!supportedAlgosById[algorithm])\n\t\tthrow (new Error('Unsupported algorithm: ' + algorithm));\n\tvar base64key = elems.slice(6, elems.length).join();\n\tvar keyBuffer = Buffer.from(base64key, 'base64');\n\tif (supportedAlgosById[algorithm].match(/^RSA-/)) {\n\t\t// join the rest of the body into a single base64-blob\n\t\tvar publicExponentLen = keyBuffer.readUInt8(0);\n\t\tif (publicExponentLen != 3 && publicExponentLen != 1)\n\t\t\tthrow (new Error('Cannot parse dnssec key: ' +\n\t\t\t    'unsupported exponent length'));\n\n\t\tvar publicExponent = keyBuffer.slice(1, publicExponentLen+1);\n\t\tpublicExponent = utils.mpNormalize(publicExponent);\n\t\tvar modulus = keyBuffer.slice(1+publicExponentLen);\n\t\tmodulus = utils.mpNormalize(modulus);\n\t\t// now, make the key\n\t\tvar rsaKey = {\n\t\t\ttype: 'rsa',\n\t\t\tparts: []\n\t\t};\n\t\trsaKey.parts.push({ name: 'e', data: publicExponent});\n\t\trsaKey.parts.push({ name: 'n', data: modulus});\n\t\treturn (new Key(rsaKey));\n\t}\n\tif (supportedAlgosById[algorithm] === 'ECDSA-P384-SHA384' ||\n\t    supportedAlgosById[algorithm] === 'ECDSA-P256-SHA256') {\n\t\tvar curve = 'nistp384';\n\t\tvar size = 384;\n\t\tif (supportedAlgosById[algorithm].match(/^ECDSA-P256-SHA256/)) {\n\t\t\tcurve = 'nistp256';\n\t\t\tsize = 256;\n\t\t}\n\n\t\tvar ecdsaKey = {\n\t\t\ttype: 'ecdsa',\n\t\t\tcurve: curve,\n\t\t\tsize: size,\n\t\t\tparts: [\n\t\t\t\t{name: 'curve', data: Buffer.from(curve) },\n\t\t\t\t{name: 'Q', data: utils.ecNormalize(keyBuffer) }\n\t\t\t]\n\t\t};\n\t\treturn (new Key(ecdsaKey));\n\t}\n\tthrow (new Error('Unsupported algorithm: ' +\n\t    supportedAlgosById[algorithm]));\n}\n\nfunction elementToBuf(e) {\n\treturn (Buffer.from(e.split(' ')[1], 'base64'));\n}\n\nfunction readDNSSECRSAPrivateKey(elements) {\n\tvar rsaParams = {};\n\telements.forEach(function (element) {\n\t\tif (element.split(' ')[0] === 'Modulus:')\n\t\t\trsaParams['n'] = elementToBuf(element);\n\t\telse if (element.split(' ')[0] === 'PublicExponent:')\n\t\t\trsaParams['e'] = elementToBuf(element);\n\t\telse if (element.split(' ')[0] === 'PrivateExponent:')\n\t\t\trsaParams['d'] = elementToBuf(element);\n\t\telse if (element.split(' ')[0] === 'Prime1:')\n\t\t\trsaParams['p'] = elementToBuf(element);\n\t\telse if (element.split(' ')[0] === 'Prime2:')\n\t\t\trsaParams['q'] = elementToBuf(element);\n\t\telse if (element.split(' ')[0] === 'Exponent1:')\n\t\t\trsaParams['dmodp'] = elementToBuf(element);\n\t\telse if (element.split(' ')[0] === 'Exponent2:')\n\t\t\trsaParams['dmodq'] = elementToBuf(element);\n\t\telse if (element.split(' ')[0] === 'Coefficient:')\n\t\t\trsaParams['iqmp'] = elementToBuf(element);\n\t});\n\t// now, make the key\n\tvar key = {\n\t\ttype: 'rsa',\n\t\tparts: [\n\t\t\t{ name: 'e', data: utils.mpNormalize(rsaParams['e'])},\n\t\t\t{ name: 'n', data: utils.mpNormalize(rsaParams['n'])},\n\t\t\t{ name: 'd', data: utils.mpNormalize(rsaParams['d'])},\n\t\t\t{ name: 'p', data: utils.mpNormalize(rsaParams['p'])},\n\t\t\t{ name: 'q', data: utils.mpNormalize(rsaParams['q'])},\n\t\t\t{ name: 'dmodp',\n\t\t\t    data: utils.mpNormalize(rsaParams['dmodp'])},\n\t\t\t{ name: 'dmodq',\n\t\t\t    data: utils.mpNormalize(rsaParams['dmodq'])},\n\t\t\t{ name: 'iqmp',\n\t\t\t    data: utils.mpNormalize(rsaParams['iqmp'])}\n\t\t]\n\t};\n\treturn (new PrivateKey(key));\n}\n\nfunction readDNSSECPrivateKey(alg, elements) {\n\tif (supportedAlgosById[alg].match(/^RSA-/)) {\n\t\treturn (readDNSSECRSAPrivateKey(elements));\n\t}\n\tif (supportedAlgosById[alg] === 'ECDSA-P384-SHA384' ||\n\t    supportedAlgosById[alg] === 'ECDSA-P256-SHA256') {\n\t\tvar d = Buffer.from(elements[0].split(' ')[1], 'base64');\n\t\tvar curve = 'nistp384';\n\t\tvar size = 384;\n\t\tif (supportedAlgosById[alg] === 'ECDSA-P256-SHA256') {\n\t\t\tcurve = 'nistp256';\n\t\t\tsize = 256;\n\t\t}\n\t\t// DNSSEC generates the public-key on the fly (go calculate it)\n\t\tvar publicKey = utils.publicFromPrivateECDSA(curve, d);\n\t\tvar Q = publicKey.part['Q'].data;\n\t\tvar ecdsaKey = {\n\t\t\ttype: 'ecdsa',\n\t\t\tcurve: curve,\n\t\t\tsize: size,\n\t\t\tparts: [\n\t\t\t\t{name: 'curve', data: Buffer.from(curve) },\n\t\t\t\t{name: 'd', data: d },\n\t\t\t\t{name: 'Q', data: Q }\n\t\t\t]\n\t\t};\n\t\treturn (new PrivateKey(ecdsaKey));\n\t}\n\tthrow (new Error('Unsupported algorithm: ' + supportedAlgosById[alg]));\n}\n\nfunction dnssecTimestamp(date) {\n\tvar year = date.getFullYear() + ''; //stringify\n\tvar month = (date.getMonth() + 1);\n\tvar timestampStr = year + month + date.getUTCDate();\n\ttimestampStr += '' + date.getUTCHours() + date.getUTCMinutes();\n\ttimestampStr += date.getUTCSeconds();\n\treturn (timestampStr);\n}\n\nfunction rsaAlgFromOptions(opts) {\n\tif (!opts || !opts.hashAlgo || opts.hashAlgo === 'sha1')\n\t\treturn ('5 (RSASHA1)');\n\telse if (opts.hashAlgo === 'sha256')\n\t\treturn ('8 (RSASHA256)');\n\telse if (opts.hashAlgo === 'sha512')\n\t\treturn ('10 (RSASHA512)');\n\telse\n\t\tthrow (new Error('Unknown or unsupported hash: ' +\n\t\t    opts.hashAlgo));\n}\n\nfunction writeRSA(key, options) {\n\t// if we're missing parts, add them.\n\tif (!key.part.dmodp || !key.part.dmodq) {\n\t\tutils.addRSAMissing(key);\n\t}\n\n\tvar out = '';\n\tout += 'Private-key-format: v1.3\\n';\n\tout += 'Algorithm: ' + rsaAlgFromOptions(options) + '\\n';\n\tvar n = utils.mpDenormalize(key.part['n'].data);\n\tout += 'Modulus: ' + n.toString('base64') + '\\n';\n\tvar e = utils.mpDenormalize(key.part['e'].data);\n\tout += 'PublicExponent: ' + e.toString('base64') + '\\n';\n\tvar d = utils.mpDenormalize(key.part['d'].data);\n\tout += 'PrivateExponent: ' + d.toString('base64') + '\\n';\n\tvar p = utils.mpDenormalize(key.part['p'].data);\n\tout += 'Prime1: ' + p.toString('base64') + '\\n';\n\tvar q = utils.mpDenormalize(key.part['q'].data);\n\tout += 'Prime2: ' + q.toString('base64') + '\\n';\n\tvar dmodp = utils.mpDenormalize(key.part['dmodp'].data);\n\tout += 'Exponent1: ' + dmodp.toString('base64') + '\\n';\n\tvar dmodq = utils.mpDenormalize(key.part['dmodq'].data);\n\tout += 'Exponent2: ' + dmodq.toString('base64') + '\\n';\n\tvar iqmp = utils.mpDenormalize(key.part['iqmp'].data);\n\tout += 'Coefficient: ' + iqmp.toString('base64') + '\\n';\n\t// Assume that we're valid as-of now\n\tvar timestamp = new Date();\n\tout += 'Created: ' + dnssecTimestamp(timestamp) + '\\n';\n\tout += 'Publish: ' + dnssecTimestamp(timestamp) + '\\n';\n\tout += 'Activate: ' + dnssecTimestamp(timestamp) + '\\n';\n\treturn (Buffer.from(out, 'ascii'));\n}\n\nfunction writeECDSA(key, options) {\n\tvar out = '';\n\tout += 'Private-key-format: v1.3\\n';\n\n\tif (key.curve === 'nistp256') {\n\t\tout += 'Algorithm: 13 (ECDSAP256SHA256)\\n';\n\t} else if (key.curve === 'nistp384') {\n\t\tout += 'Algorithm: 14 (ECDSAP384SHA384)\\n';\n\t} else {\n\t\tthrow (new Error('Unsupported curve'));\n\t}\n\tvar base64Key = key.part['d'].data.toString('base64');\n\tout += 'PrivateKey: ' + base64Key + '\\n';\n\n\t// Assume that we're valid as-of now\n\tvar timestamp = new Date();\n\tout += 'Created: ' + dnssecTimestamp(timestamp) + '\\n';\n\tout += 'Publish: ' + dnssecTimestamp(timestamp) + '\\n';\n\tout += 'Activate: ' + dnssecTimestamp(timestamp) + '\\n';\n\n\treturn (Buffer.from(out, 'ascii'));\n}\n\nfunction write(key, options) {\n\tif (PrivateKey.isPrivateKey(key)) {\n\t\tif (key.type === 'rsa') {\n\t\t\treturn (writeRSA(key, options));\n\t\t} else if (key.type === 'ecdsa') {\n\t\t\treturn (writeECDSA(key, options));\n\t\t} else {\n\t\t\tthrow (new Error('Unsupported algorithm: ' + key.type));\n\t\t}\n\t} else if (Key.isKey(key)) {\n\t\t/*\n\t\t * RFC3110 requires a keyname, and a keytype, which we\n\t\t * don't really have a mechanism for specifying such\n\t\t * additional metadata.\n\t\t */\n\t\tthrow (new Error('Format \"dnssec\" only supports ' +\n\t\t    'writing private keys'));\n\t} else {\n\t\tthrow (new Error('key is not a Key or PrivateKey'));\n\t}\n}\n","// Copyright 2017 Joyent, Inc.\n\nmodule.exports = {\n\tread: read,\n\tverify: verify,\n\tsign: sign,\n\tsignAsync: signAsync,\n\twrite: write,\n\n\t/* Internal private API */\n\tfromBuffer: fromBuffer,\n\ttoBuffer: toBuffer\n};\n\nvar assert = require('assert-plus');\nvar SSHBuffer = require('../ssh-buffer');\nvar crypto = require('crypto');\nvar Buffer = require('safer-buffer').Buffer;\nvar algs = require('../algs');\nvar Key = require('../key');\nvar PrivateKey = require('../private-key');\nvar Identity = require('../identity');\nvar rfc4253 = require('./rfc4253');\nvar Signature = require('../signature');\nvar utils = require('../utils');\nvar Certificate = require('../certificate');\n\nfunction verify(cert, key) {\n\t/*\n\t * We always give an issuerKey, so if our verify() is being called then\n\t * there was no signature. Return false.\n\t */\n\treturn (false);\n}\n\nvar TYPES = {\n\t'user': 1,\n\t'host': 2\n};\nObject.keys(TYPES).forEach(function (k) { TYPES[TYPES[k]] = k; });\n\nvar ECDSA_ALGO = /^ecdsa-sha2-([^@-]+)-cert-v01@openssh.com$/;\n\nfunction read(buf, options) {\n\tif (Buffer.isBuffer(buf))\n\t\tbuf = buf.toString('ascii');\n\tvar parts = buf.trim().split(/[ \\t\\n]+/g);\n\tif (parts.length < 2 || parts.length > 3)\n\t\tthrow (new Error('Not a valid SSH certificate line'));\n\n\tvar algo = parts[0];\n\tvar data = parts[1];\n\n\tdata = Buffer.from(data, 'base64');\n\treturn (fromBuffer(data, algo));\n}\n\nfunction fromBuffer(data, algo, partial) {\n\tvar sshbuf = new SSHBuffer({ buffer: data });\n\tvar innerAlgo = sshbuf.readString();\n\tif (algo !== undefined && innerAlgo !== algo)\n\t\tthrow (new Error('SSH certificate algorithm mismatch'));\n\tif (algo === undefined)\n\t\talgo = innerAlgo;\n\n\tvar cert = {};\n\tcert.signatures = {};\n\tcert.signatures.openssh = {};\n\n\tcert.signatures.openssh.nonce = sshbuf.readBuffer();\n\n\tvar key = {};\n\tvar parts = (key.parts = []);\n\tkey.type = getAlg(algo);\n\n\tvar partCount = algs.info[key.type].parts.length;\n\twhile (parts.length < partCount)\n\t\tparts.push(sshbuf.readPart());\n\tassert.ok(parts.length >= 1, 'key must have at least one part');\n\n\tvar algInfo = algs.info[key.type];\n\tif (key.type === 'ecdsa') {\n\t\tvar res = ECDSA_ALGO.exec(algo);\n\t\tassert.ok(res !== null);\n\t\tassert.strictEqual(res[1], parts[0].data.toString());\n\t}\n\n\tfor (var i = 0; i < algInfo.parts.length; ++i) {\n\t\tparts[i].name = algInfo.parts[i];\n\t\tif (parts[i].name !== 'curve' &&\n\t\t    algInfo.normalize !== false) {\n\t\t\tvar p = parts[i];\n\t\t\tp.data = utils.mpNormalize(p.data);\n\t\t}\n\t}\n\n\tcert.subjectKey = new Key(key);\n\n\tcert.serial = sshbuf.readInt64();\n\n\tvar type = TYPES[sshbuf.readInt()];\n\tassert.string(type, 'valid cert type');\n\n\tcert.signatures.openssh.keyId = sshbuf.readString();\n\n\tvar principals = [];\n\tvar pbuf = sshbuf.readBuffer();\n\tvar psshbuf = new SSHBuffer({ buffer: pbuf });\n\twhile (!psshbuf.atEnd())\n\t\tprincipals.push(psshbuf.readString());\n\tif (principals.length === 0)\n\t\tprincipals = ['*'];\n\n\tcert.subjects = principals.map(function (pr) {\n\t\tif (type === 'user')\n\t\t\treturn (Identity.forUser(pr));\n\t\telse if (type === 'host')\n\t\t\treturn (Identity.forHost(pr));\n\t\tthrow (new Error('Unknown identity type ' + type));\n\t});\n\n\tcert.validFrom = int64ToDate(sshbuf.readInt64());\n\tcert.validUntil = int64ToDate(sshbuf.readInt64());\n\n\tvar exts = [];\n\tvar extbuf = new SSHBuffer({ buffer: sshbuf.readBuffer() });\n\tvar ext;\n\twhile (!extbuf.atEnd()) {\n\t\text = { critical: true };\n\t\text.name = extbuf.readString();\n\t\text.data = extbuf.readBuffer();\n\t\texts.push(ext);\n\t}\n\textbuf = new SSHBuffer({ buffer: sshbuf.readBuffer() });\n\twhile (!extbuf.atEnd()) {\n\t\text = { critical: false };\n\t\text.name = extbuf.readString();\n\t\text.data = extbuf.readBuffer();\n\t\texts.push(ext);\n\t}\n\tcert.signatures.openssh.exts = exts;\n\n\t/* reserved */\n\tsshbuf.readBuffer();\n\n\tvar signingKeyBuf = sshbuf.readBuffer();\n\tcert.issuerKey = rfc4253.read(signingKeyBuf);\n\n\t/*\n\t * OpenSSH certs don't give the identity of the issuer, just their\n\t * public key. So, we use an Identity that matches anything. The\n\t * isSignedBy() function will later tell you if the key matches.\n\t */\n\tcert.issuer = Identity.forHost('**');\n\n\tvar sigBuf = sshbuf.readBuffer();\n\tcert.signatures.openssh.signature =\n\t    Signature.parse(sigBuf, cert.issuerKey.type, 'ssh');\n\n\tif (partial !== undefined) {\n\t\tpartial.remainder = sshbuf.remainder();\n\t\tpartial.consumed = sshbuf._offset;\n\t}\n\n\treturn (new Certificate(cert));\n}\n\nfunction int64ToDate(buf) {\n\tvar i = buf.readUInt32BE(0) * 4294967296;\n\ti += buf.readUInt32BE(4);\n\tvar d = new Date();\n\td.setTime(i * 1000);\n\td.sourceInt64 = buf;\n\treturn (d);\n}\n\nfunction dateToInt64(date) {\n\tif (date.sourceInt64 !== undefined)\n\t\treturn (date.sourceInt64);\n\tvar i = Math.round(date.getTime() / 1000);\n\tvar upper = Math.floor(i / 4294967296);\n\tvar lower = Math.floor(i % 4294967296);\n\tvar buf = Buffer.alloc(8);\n\tbuf.writeUInt32BE(upper, 0);\n\tbuf.writeUInt32BE(lower, 4);\n\treturn (buf);\n}\n\nfunction sign(cert, key) {\n\tif (cert.signatures.openssh === undefined)\n\t\tcert.signatures.openssh = {};\n\ttry {\n\t\tvar blob = toBuffer(cert, true);\n\t} catch (e) {\n\t\tdelete (cert.signatures.openssh);\n\t\treturn (false);\n\t}\n\tvar sig = cert.signatures.openssh;\n\tvar hashAlgo = undefined;\n\tif (key.type === 'rsa' || key.type === 'dsa')\n\t\thashAlgo = 'sha1';\n\tvar signer = key.createSign(hashAlgo);\n\tsigner.write(blob);\n\tsig.signature = signer.sign();\n\treturn (true);\n}\n\nfunction signAsync(cert, signer, done) {\n\tif (cert.signatures.openssh === undefined)\n\t\tcert.signatures.openssh = {};\n\ttry {\n\t\tvar blob = toBuffer(cert, true);\n\t} catch (e) {\n\t\tdelete (cert.signatures.openssh);\n\t\tdone(e);\n\t\treturn;\n\t}\n\tvar sig = cert.signatures.openssh;\n\n\tsigner(blob, function (err, signature) {\n\t\tif (err) {\n\t\t\tdone(err);\n\t\t\treturn;\n\t\t}\n\t\ttry {\n\t\t\t/*\n\t\t\t * This will throw if the signature isn't of a\n\t\t\t * type/algo that can be used for SSH.\n\t\t\t */\n\t\t\tsignature.toBuffer('ssh');\n\t\t} catch (e) {\n\t\t\tdone(e);\n\t\t\treturn;\n\t\t}\n\t\tsig.signature = signature;\n\t\tdone();\n\t});\n}\n\nfunction write(cert, options) {\n\tif (options === undefined)\n\t\toptions = {};\n\n\tvar blob = toBuffer(cert);\n\tvar out = getCertType(cert.subjectKey) + ' ' + blob.toString('base64');\n\tif (options.comment)\n\t\tout = out + ' ' + options.comment;\n\treturn (out);\n}\n\n\nfunction toBuffer(cert, noSig) {\n\tassert.object(cert.signatures.openssh, 'signature for openssh format');\n\tvar sig = cert.signatures.openssh;\n\n\tif (sig.nonce === undefined)\n\t\tsig.nonce = crypto.randomBytes(16);\n\tvar buf = new SSHBuffer({});\n\tbuf.writeString(getCertType(cert.subjectKey));\n\tbuf.writeBuffer(sig.nonce);\n\n\tvar key = cert.subjectKey;\n\tvar algInfo = algs.info[key.type];\n\talgInfo.parts.forEach(function (part) {\n\t\tbuf.writePart(key.part[part]);\n\t});\n\n\tbuf.writeInt64(cert.serial);\n\n\tvar type = cert.subjects[0].type;\n\tassert.notStrictEqual(type, 'unknown');\n\tcert.subjects.forEach(function (id) {\n\t\tassert.strictEqual(id.type, type);\n\t});\n\ttype = TYPES[type];\n\tbuf.writeInt(type);\n\n\tif (sig.keyId === undefined) {\n\t\tsig.keyId = cert.subjects[0].type + '_' +\n\t\t    (cert.subjects[0].uid || cert.subjects[0].hostname);\n\t}\n\tbuf.writeString(sig.keyId);\n\n\tvar sub = new SSHBuffer({});\n\tcert.subjects.forEach(function (id) {\n\t\tif (type === TYPES.host)\n\t\t\tsub.writeString(id.hostname);\n\t\telse if (type === TYPES.user)\n\t\t\tsub.writeString(id.uid);\n\t});\n\tbuf.writeBuffer(sub.toBuffer());\n\n\tbuf.writeInt64(dateToInt64(cert.validFrom));\n\tbuf.writeInt64(dateToInt64(cert.validUntil));\n\n\tvar exts = sig.exts;\n\tif (exts === undefined)\n\t\texts = [];\n\n\tvar extbuf = new SSHBuffer({});\n\texts.forEach(function (ext) {\n\t\tif (ext.critical !== true)\n\t\t\treturn;\n\t\textbuf.writeString(ext.name);\n\t\textbuf.writeBuffer(ext.data);\n\t});\n\tbuf.writeBuffer(extbuf.toBuffer());\n\n\textbuf = new SSHBuffer({});\n\texts.forEach(function (ext) {\n\t\tif (ext.critical === true)\n\t\t\treturn;\n\t\textbuf.writeString(ext.name);\n\t\textbuf.writeBuffer(ext.data);\n\t});\n\tbuf.writeBuffer(extbuf.toBuffer());\n\n\t/* reserved */\n\tbuf.writeBuffer(Buffer.alloc(0));\n\n\tsub = rfc4253.write(cert.issuerKey);\n\tbuf.writeBuffer(sub);\n\n\tif (!noSig)\n\t\tbuf.writeBuffer(sig.signature.toBuffer('ssh'));\n\n\treturn (buf.toBuffer());\n}\n\nfunction getAlg(certType) {\n\tif (certType === 'ssh-rsa-cert-v01@openssh.com')\n\t\treturn ('rsa');\n\tif (certType === 'ssh-dss-cert-v01@openssh.com')\n\t\treturn ('dsa');\n\tif (certType.match(ECDSA_ALGO))\n\t\treturn ('ecdsa');\n\tif (certType === 'ssh-ed25519-cert-v01@openssh.com')\n\t\treturn ('ed25519');\n\tthrow (new Error('Unsupported cert type ' + certType));\n}\n\nfunction getCertType(key) {\n\tif (key.type === 'rsa')\n\t\treturn ('ssh-rsa-cert-v01@openssh.com');\n\tif (key.type === 'dsa')\n\t\treturn ('ssh-dss-cert-v01@openssh.com');\n\tif (key.type === 'ecdsa')\n\t\treturn ('ecdsa-sha2-' + key.curve + '-cert-v01@openssh.com');\n\tif (key.type === 'ed25519')\n\t\treturn ('ssh-ed25519-cert-v01@openssh.com');\n\tthrow (new Error('Unsupported key type ' + key.type));\n}\n","// Copyright 2018 Joyent, Inc.\n\nmodule.exports = {\n\tread: read,\n\twrite: write\n};\n\nvar assert = require('assert-plus');\nvar asn1 = require('asn1');\nvar crypto = require('crypto');\nvar Buffer = require('safer-buffer').Buffer;\nvar algs = require('../algs');\nvar utils = require('../utils');\nvar Key = require('../key');\nvar PrivateKey = require('../private-key');\n\nvar pkcs1 = require('./pkcs1');\nvar pkcs8 = require('./pkcs8');\nvar sshpriv = require('./ssh-private');\nvar rfc4253 = require('./rfc4253');\n\nvar errors = require('../errors');\n\nvar OID_PBES2 = '1.2.840.113549.1.5.13';\nvar OID_PBKDF2 = '1.2.840.113549.1.5.12';\n\nvar OID_TO_CIPHER = {\n\t'1.2.840.113549.3.7': '3des-cbc',\n\t'2.16.840.1.101.3.4.1.2': 'aes128-cbc',\n\t'2.16.840.1.101.3.4.1.42': 'aes256-cbc'\n};\nvar CIPHER_TO_OID = {};\nObject.keys(OID_TO_CIPHER).forEach(function (k) {\n\tCIPHER_TO_OID[OID_TO_CIPHER[k]] = k;\n});\n\nvar OID_TO_HASH = {\n\t'1.2.840.113549.2.7': 'sha1',\n\t'1.2.840.113549.2.9': 'sha256',\n\t'1.2.840.113549.2.11': 'sha512'\n};\nvar HASH_TO_OID = {};\nObject.keys(OID_TO_HASH).forEach(function (k) {\n\tHASH_TO_OID[OID_TO_HASH[k]] = k;\n});\n\n/*\n * For reading we support both PKCS#1 and PKCS#8. If we find a private key,\n * we just take the public component of it and use that.\n */\nfunction read(buf, options, forceType) {\n\tvar input = buf;\n\tif (typeof (buf) !== 'string') {\n\t\tassert.buffer(buf, 'buf');\n\t\tbuf = buf.toString('ascii');\n\t}\n\n\tvar lines = buf.trim().split(/[\\r\\n]+/g);\n\n\tvar m;\n\tvar si = -1;\n\twhile (!m && si < lines.length) {\n\t\tm = lines[++si].match(/*JSSTYLED*/\n\t\t    /[-]+[ ]*BEGIN ([A-Z0-9][A-Za-z0-9]+ )?(PUBLIC|PRIVATE) KEY[ ]*[-]+/);\n\t}\n\tassert.ok(m, 'invalid PEM header');\n\n\tvar m2;\n\tvar ei = lines.length;\n\twhile (!m2 && ei > 0) {\n\t\tm2 = lines[--ei].match(/*JSSTYLED*/\n\t\t    /[-]+[ ]*END ([A-Z0-9][A-Za-z0-9]+ )?(PUBLIC|PRIVATE) KEY[ ]*[-]+/);\n\t}\n\tassert.ok(m2, 'invalid PEM footer');\n\n\t/* Begin and end banners must match key type */\n\tassert.equal(m[2], m2[2]);\n\tvar type = m[2].toLowerCase();\n\n\tvar alg;\n\tif (m[1]) {\n\t\t/* They also must match algorithms, if given */\n\t\tassert.equal(m[1], m2[1], 'PEM header and footer mismatch');\n\t\talg = m[1].trim();\n\t}\n\n\tlines = lines.slice(si, ei + 1);\n\n\tvar headers = {};\n\twhile (true) {\n\t\tlines = lines.slice(1);\n\t\tm = lines[0].match(/*JSSTYLED*/\n\t\t    /^([A-Za-z0-9-]+): (.+)$/);\n\t\tif (!m)\n\t\t\tbreak;\n\t\theaders[m[1].toLowerCase()] = m[2];\n\t}\n\n\t/* Chop off the first and last lines */\n\tlines = lines.slice(0, -1).join('');\n\tbuf = Buffer.from(lines, 'base64');\n\n\tvar cipher, key, iv;\n\tif (headers['proc-type']) {\n\t\tvar parts = headers['proc-type'].split(',');\n\t\tif (parts[0] === '4' && parts[1] === 'ENCRYPTED') {\n\t\t\tif (typeof (options.passphrase) === 'string') {\n\t\t\t\toptions.passphrase = Buffer.from(\n\t\t\t\t    options.passphrase, 'utf-8');\n\t\t\t}\n\t\t\tif (!Buffer.isBuffer(options.passphrase)) {\n\t\t\t\tthrow (new errors.KeyEncryptedError(\n\t\t\t\t    options.filename, 'PEM'));\n\t\t\t} else {\n\t\t\t\tparts = headers['dek-info'].split(',');\n\t\t\t\tassert.ok(parts.length === 2);\n\t\t\t\tcipher = parts[0].toLowerCase();\n\t\t\t\tiv = Buffer.from(parts[1], 'hex');\n\t\t\t\tkey = utils.opensslKeyDeriv(cipher, iv,\n\t\t\t\t    options.passphrase, 1).key;\n\t\t\t}\n\t\t}\n\t}\n\n\tif (alg && alg.toLowerCase() === 'encrypted') {\n\t\tvar eder = new asn1.BerReader(buf);\n\t\tvar pbesEnd;\n\t\teder.readSequence();\n\n\t\teder.readSequence();\n\t\tpbesEnd = eder.offset + eder.length;\n\n\t\tvar method = eder.readOID();\n\t\tif (method !== OID_PBES2) {\n\t\t\tthrow (new Error('Unsupported PEM/PKCS8 encryption ' +\n\t\t\t    'scheme: ' + method));\n\t\t}\n\n\t\teder.readSequence();\t/* PBES2-params */\n\n\t\teder.readSequence();\t/* keyDerivationFunc */\n\t\tvar kdfEnd = eder.offset + eder.length;\n\t\tvar kdfOid = eder.readOID();\n\t\tif (kdfOid !== OID_PBKDF2)\n\t\t\tthrow (new Error('Unsupported PBES2 KDF: ' + kdfOid));\n\t\teder.readSequence();\n\t\tvar salt = eder.readString(asn1.Ber.OctetString, true);\n\t\tvar iterations = eder.readInt();\n\t\tvar hashAlg = 'sha1';\n\t\tif (eder.offset < kdfEnd) {\n\t\t\teder.readSequence();\n\t\t\tvar hashAlgOid = eder.readOID();\n\t\t\thashAlg = OID_TO_HASH[hashAlgOid];\n\t\t\tif (hashAlg === undefined) {\n\t\t\t\tthrow (new Error('Unsupported PBKDF2 hash: ' +\n\t\t\t\t    hashAlgOid));\n\t\t\t}\n\t\t}\n\t\teder._offset = kdfEnd;\n\n\t\teder.readSequence();\t/* encryptionScheme */\n\t\tvar cipherOid = eder.readOID();\n\t\tcipher = OID_TO_CIPHER[cipherOid];\n\t\tif (cipher === undefined) {\n\t\t\tthrow (new Error('Unsupported PBES2 cipher: ' +\n\t\t\t    cipherOid));\n\t\t}\n\t\tiv = eder.readString(asn1.Ber.OctetString, true);\n\n\t\teder._offset = pbesEnd;\n\t\tbuf = eder.readString(asn1.Ber.OctetString, true);\n\n\t\tif (typeof (options.passphrase) === 'string') {\n\t\t\toptions.passphrase = Buffer.from(\n\t\t\t    options.passphrase, 'utf-8');\n\t\t}\n\t\tif (!Buffer.isBuffer(options.passphrase)) {\n\t\t\tthrow (new errors.KeyEncryptedError(\n\t\t\t    options.filename, 'PEM'));\n\t\t}\n\n\t\tvar cinfo = utils.opensshCipherInfo(cipher);\n\n\t\tcipher = cinfo.opensslName;\n\t\tkey = utils.pbkdf2(hashAlg, salt, iterations, cinfo.keySize,\n\t\t    options.passphrase);\n\t\talg = undefined;\n\t}\n\n\tif (cipher && key && iv) {\n\t\tvar cipherStream = crypto.createDecipheriv(cipher, key, iv);\n\t\tvar chunk, chunks = [];\n\t\tcipherStream.once('error', function (e) {\n\t\t\tif (e.toString().indexOf('bad decrypt') !== -1) {\n\t\t\t\tthrow (new Error('Incorrect passphrase ' +\n\t\t\t\t    'supplied, could not decrypt key'));\n\t\t\t}\n\t\t\tthrow (e);\n\t\t});\n\t\tcipherStream.write(buf);\n\t\tcipherStream.end();\n\t\twhile ((chunk = cipherStream.read()) !== null)\n\t\t\tchunks.push(chunk);\n\t\tbuf = Buffer.concat(chunks);\n\t}\n\n\t/* The new OpenSSH internal format abuses PEM headers */\n\tif (alg && alg.toLowerCase() === 'openssh')\n\t\treturn (sshpriv.readSSHPrivate(type, buf, options));\n\tif (alg && alg.toLowerCase() === 'ssh2')\n\t\treturn (rfc4253.readType(type, buf, options));\n\n\tvar der = new asn1.BerReader(buf);\n\tder.originalInput = input;\n\n\t/*\n\t * All of the PEM file types start with a sequence tag, so chop it\n\t * off here\n\t */\n\tder.readSequence();\n\n\t/* PKCS#1 type keys name an algorithm in the banner explicitly */\n\tif (alg) {\n\t\tif (forceType)\n\t\t\tassert.strictEqual(forceType, 'pkcs1');\n\t\treturn (pkcs1.readPkcs1(alg, type, der));\n\t} else {\n\t\tif (forceType)\n\t\t\tassert.strictEqual(forceType, 'pkcs8');\n\t\treturn (pkcs8.readPkcs8(alg, type, der));\n\t}\n}\n\nfunction write(key, options, type) {\n\tassert.object(key);\n\n\tvar alg = {\n\t    'ecdsa': 'EC',\n\t    'rsa': 'RSA',\n\t    'dsa': 'DSA',\n\t    'ed25519': 'EdDSA'\n\t}[key.type];\n\tvar header;\n\n\tvar der = new asn1.BerWriter();\n\n\tif (PrivateKey.isPrivateKey(key)) {\n\t\tif (type && type === 'pkcs8') {\n\t\t\theader = 'PRIVATE KEY';\n\t\t\tpkcs8.writePkcs8(der, key);\n\t\t} else {\n\t\t\tif (type)\n\t\t\t\tassert.strictEqual(type, 'pkcs1');\n\t\t\theader = alg + ' PRIVATE KEY';\n\t\t\tpkcs1.writePkcs1(der, key);\n\t\t}\n\n\t} else if (Key.isKey(key)) {\n\t\tif (type && type === 'pkcs1') {\n\t\t\theader = alg + ' PUBLIC KEY';\n\t\t\tpkcs1.writePkcs1(der, key);\n\t\t} else {\n\t\t\tif (type)\n\t\t\t\tassert.strictEqual(type, 'pkcs8');\n\t\t\theader = 'PUBLIC KEY';\n\t\t\tpkcs8.writePkcs8(der, key);\n\t\t}\n\n\t} else {\n\t\tthrow (new Error('key is not a Key or PrivateKey'));\n\t}\n\n\tvar tmp = der.buffer.toString('base64');\n\tvar len = tmp.length + (tmp.length / 64) +\n\t    18 + 16 + header.length*2 + 10;\n\tvar buf = Buffer.alloc(len);\n\tvar o = 0;\n\to += buf.write('-----BEGIN ' + header + '-----\\n', o);\n\tfor (var i = 0; i < tmp.length; ) {\n\t\tvar limit = i + 64;\n\t\tif (limit > tmp.length)\n\t\t\tlimit = tmp.length;\n\t\to += buf.write(tmp.slice(i, limit), o);\n\t\tbuf[o++] = 10;\n\t\ti = limit;\n\t}\n\to += buf.write('-----END ' + header + '-----\\n', o);\n\n\treturn (buf.slice(0, o));\n}\n","// Copyright 2015 Joyent, Inc.\n\nmodule.exports = {\n\tread: read,\n\treadPkcs1: readPkcs1,\n\twrite: write,\n\twritePkcs1: writePkcs1\n};\n\nvar assert = require('assert-plus');\nvar asn1 = require('asn1');\nvar Buffer = require('safer-buffer').Buffer;\nvar algs = require('../algs');\nvar utils = require('../utils');\n\nvar Key = require('../key');\nvar PrivateKey = require('../private-key');\nvar pem = require('./pem');\n\nvar pkcs8 = require('./pkcs8');\nvar readECDSACurve = pkcs8.readECDSACurve;\n\nfunction read(buf, options) {\n\treturn (pem.read(buf, options, 'pkcs1'));\n}\n\nfunction write(key, options) {\n\treturn (pem.write(key, options, 'pkcs1'));\n}\n\n/* Helper to read in a single mpint */\nfunction readMPInt(der, nm) {\n\tassert.strictEqual(der.peek(), asn1.Ber.Integer,\n\t    nm + ' is not an Integer');\n\treturn (utils.mpNormalize(der.readString(asn1.Ber.Integer, true)));\n}\n\nfunction readPkcs1(alg, type, der) {\n\tswitch (alg) {\n\tcase 'RSA':\n\t\tif (type === 'public')\n\t\t\treturn (readPkcs1RSAPublic(der));\n\t\telse if (type === 'private')\n\t\t\treturn (readPkcs1RSAPrivate(der));\n\t\tthrow (new Error('Unknown key type: ' + type));\n\tcase 'DSA':\n\t\tif (type === 'public')\n\t\t\treturn (readPkcs1DSAPublic(der));\n\t\telse if (type === 'private')\n\t\t\treturn (readPkcs1DSAPrivate(der));\n\t\tthrow (new Error('Unknown key type: ' + type));\n\tcase 'EC':\n\tcase 'ECDSA':\n\t\tif (type === 'private')\n\t\t\treturn (readPkcs1ECDSAPrivate(der));\n\t\telse if (type === 'public')\n\t\t\treturn (readPkcs1ECDSAPublic(der));\n\t\tthrow (new Error('Unknown key type: ' + type));\n\tcase 'EDDSA':\n\tcase 'EdDSA':\n\t\tif (type === 'private')\n\t\t\treturn (readPkcs1EdDSAPrivate(der));\n\t\tthrow (new Error(type + ' keys not supported with EdDSA'));\n\tdefault:\n\t\tthrow (new Error('Unknown key algo: ' + alg));\n\t}\n}\n\nfunction readPkcs1RSAPublic(der) {\n\t// modulus and exponent\n\tvar n = readMPInt(der, 'modulus');\n\tvar e = readMPInt(der, 'exponent');\n\n\t// now, make the key\n\tvar key = {\n\t\ttype: 'rsa',\n\t\tparts: [\n\t\t\t{ name: 'e', data: e },\n\t\t\t{ name: 'n', data: n }\n\t\t]\n\t};\n\n\treturn (new Key(key));\n}\n\nfunction readPkcs1RSAPrivate(der) {\n\tvar version = readMPInt(der, 'version');\n\tassert.strictEqual(version[0], 0);\n\n\t// modulus then public exponent\n\tvar n = readMPInt(der, 'modulus');\n\tvar e = readMPInt(der, 'public exponent');\n\tvar d = readMPInt(der, 'private exponent');\n\tvar p = readMPInt(der, 'prime1');\n\tvar q = readMPInt(der, 'prime2');\n\tvar dmodp = readMPInt(der, 'exponent1');\n\tvar dmodq = readMPInt(der, 'exponent2');\n\tvar iqmp = readMPInt(der, 'iqmp');\n\n\t// now, make the key\n\tvar key = {\n\t\ttype: 'rsa',\n\t\tparts: [\n\t\t\t{ name: 'n', data: n },\n\t\t\t{ name: 'e', data: e },\n\t\t\t{ name: 'd', data: d },\n\t\t\t{ name: 'iqmp', data: iqmp },\n\t\t\t{ name: 'p', data: p },\n\t\t\t{ name: 'q', data: q },\n\t\t\t{ name: 'dmodp', data: dmodp },\n\t\t\t{ name: 'dmodq', data: dmodq }\n\t\t]\n\t};\n\n\treturn (new PrivateKey(key));\n}\n\nfunction readPkcs1DSAPrivate(der) {\n\tvar version = readMPInt(der, 'version');\n\tassert.strictEqual(version.readUInt8(0), 0);\n\n\tvar p = readMPInt(der, 'p');\n\tvar q = readMPInt(der, 'q');\n\tvar g = readMPInt(der, 'g');\n\tvar y = readMPInt(der, 'y');\n\tvar x = readMPInt(der, 'x');\n\n\t// now, make the key\n\tvar key = {\n\t\ttype: 'dsa',\n\t\tparts: [\n\t\t\t{ name: 'p', data: p },\n\t\t\t{ name: 'q', data: q },\n\t\t\t{ name: 'g', data: g },\n\t\t\t{ name: 'y', data: y },\n\t\t\t{ name: 'x', data: x }\n\t\t]\n\t};\n\n\treturn (new PrivateKey(key));\n}\n\nfunction readPkcs1EdDSAPrivate(der) {\n\tvar version = readMPInt(der, 'version');\n\tassert.strictEqual(version.readUInt8(0), 1);\n\n\t// private key\n\tvar k = der.readString(asn1.Ber.OctetString, true);\n\n\tder.readSequence(0xa0);\n\tvar oid = der.readOID();\n\tassert.strictEqual(oid, '1.3.101.112', 'the ed25519 curve identifier');\n\n\tder.readSequence(0xa1);\n\tvar A = utils.readBitString(der);\n\n\tvar key = {\n\t\ttype: 'ed25519',\n\t\tparts: [\n\t\t\t{ name: 'A', data: utils.zeroPadToLength(A, 32) },\n\t\t\t{ name: 'k', data: k }\n\t\t]\n\t};\n\n\treturn (new PrivateKey(key));\n}\n\nfunction readPkcs1DSAPublic(der) {\n\tvar y = readMPInt(der, 'y');\n\tvar p = readMPInt(der, 'p');\n\tvar q = readMPInt(der, 'q');\n\tvar g = readMPInt(der, 'g');\n\n\tvar key = {\n\t\ttype: 'dsa',\n\t\tparts: [\n\t\t\t{ name: 'y', data: y },\n\t\t\t{ name: 'p', data: p },\n\t\t\t{ name: 'q', data: q },\n\t\t\t{ name: 'g', data: g }\n\t\t]\n\t};\n\n\treturn (new Key(key));\n}\n\nfunction readPkcs1ECDSAPublic(der) {\n\tder.readSequence();\n\n\tvar oid = der.readOID();\n\tassert.strictEqual(oid, '1.2.840.10045.2.1', 'must be ecPublicKey');\n\n\tvar curveOid = der.readOID();\n\n\tvar curve;\n\tvar curves = Object.keys(algs.curves);\n\tfor (var j = 0; j < curves.length; ++j) {\n\t\tvar c = curves[j];\n\t\tvar cd = algs.curves[c];\n\t\tif (cd.pkcs8oid === curveOid) {\n\t\t\tcurve = c;\n\t\t\tbreak;\n\t\t}\n\t}\n\tassert.string(curve, 'a known ECDSA named curve');\n\n\tvar Q = der.readString(asn1.Ber.BitString, true);\n\tQ = utils.ecNormalize(Q);\n\n\tvar key = {\n\t\ttype: 'ecdsa',\n\t\tparts: [\n\t\t\t{ name: 'curve', data: Buffer.from(curve) },\n\t\t\t{ name: 'Q', data: Q }\n\t\t]\n\t};\n\n\treturn (new Key(key));\n}\n\nfunction readPkcs1ECDSAPrivate(der) {\n\tvar version = readMPInt(der, 'version');\n\tassert.strictEqual(version.readUInt8(0), 1);\n\n\t// private key\n\tvar d = der.readString(asn1.Ber.OctetString, true);\n\n\tder.readSequence(0xa0);\n\tvar curve = readECDSACurve(der);\n\tassert.string(curve, 'a known elliptic curve');\n\n\tder.readSequence(0xa1);\n\tvar Q = der.readString(asn1.Ber.BitString, true);\n\tQ = utils.ecNormalize(Q);\n\n\tvar key = {\n\t\ttype: 'ecdsa',\n\t\tparts: [\n\t\t\t{ name: 'curve', data: Buffer.from(curve) },\n\t\t\t{ name: 'Q', data: Q },\n\t\t\t{ name: 'd', data: d }\n\t\t]\n\t};\n\n\treturn (new PrivateKey(key));\n}\n\nfunction writePkcs1(der, key) {\n\tder.startSequence();\n\n\tswitch (key.type) {\n\tcase 'rsa':\n\t\tif (PrivateKey.isPrivateKey(key))\n\t\t\twritePkcs1RSAPrivate(der, key);\n\t\telse\n\t\t\twritePkcs1RSAPublic(der, key);\n\t\tbreak;\n\tcase 'dsa':\n\t\tif (PrivateKey.isPrivateKey(key))\n\t\t\twritePkcs1DSAPrivate(der, key);\n\t\telse\n\t\t\twritePkcs1DSAPublic(der, key);\n\t\tbreak;\n\tcase 'ecdsa':\n\t\tif (PrivateKey.isPrivateKey(key))\n\t\t\twritePkcs1ECDSAPrivate(der, key);\n\t\telse\n\t\t\twritePkcs1ECDSAPublic(der, key);\n\t\tbreak;\n\tcase 'ed25519':\n\t\tif (PrivateKey.isPrivateKey(key))\n\t\t\twritePkcs1EdDSAPrivate(der, key);\n\t\telse\n\t\t\twritePkcs1EdDSAPublic(der, key);\n\t\tbreak;\n\tdefault:\n\t\tthrow (new Error('Unknown key algo: ' + key.type));\n\t}\n\n\tder.endSequence();\n}\n\nfunction writePkcs1RSAPublic(der, key) {\n\tder.writeBuffer(key.part.n.data, asn1.Ber.Integer);\n\tder.writeBuffer(key.part.e.data, asn1.Ber.Integer);\n}\n\nfunction writePkcs1RSAPrivate(der, key) {\n\tvar ver = Buffer.from([0]);\n\tder.writeBuffer(ver, asn1.Ber.Integer);\n\n\tder.writeBuffer(key.part.n.data, asn1.Ber.Integer);\n\tder.writeBuffer(key.part.e.data, asn1.Ber.Integer);\n\tder.writeBuffer(key.part.d.data, asn1.Ber.Integer);\n\tder.writeBuffer(key.part.p.data, asn1.Ber.Integer);\n\tder.writeBuffer(key.part.q.data, asn1.Ber.Integer);\n\tif (!key.part.dmodp || !key.part.dmodq)\n\t\tutils.addRSAMissing(key);\n\tder.writeBuffer(key.part.dmodp.data, asn1.Ber.Integer);\n\tder.writeBuffer(key.part.dmodq.data, asn1.Ber.Integer);\n\tder.writeBuffer(key.part.iqmp.data, asn1.Ber.Integer);\n}\n\nfunction writePkcs1DSAPrivate(der, key) {\n\tvar ver = Buffer.from([0]);\n\tder.writeBuffer(ver, asn1.Ber.Integer);\n\n\tder.writeBuffer(key.part.p.data, asn1.Ber.Integer);\n\tder.writeBuffer(key.part.q.data, asn1.Ber.Integer);\n\tder.writeBuffer(key.part.g.data, asn1.Ber.Integer);\n\tder.writeBuffer(key.part.y.data, asn1.Ber.Integer);\n\tder.writeBuffer(key.part.x.data, asn1.Ber.Integer);\n}\n\nfunction writePkcs1DSAPublic(der, key) {\n\tder.writeBuffer(key.part.y.data, asn1.Ber.Integer);\n\tder.writeBuffer(key.part.p.data, asn1.Ber.Integer);\n\tder.writeBuffer(key.part.q.data, asn1.Ber.Integer);\n\tder.writeBuffer(key.part.g.data, asn1.Ber.Integer);\n}\n\nfunction writePkcs1ECDSAPublic(der, key) {\n\tder.startSequence();\n\n\tder.writeOID('1.2.840.10045.2.1'); /* ecPublicKey */\n\tvar curve = key.part.curve.data.toString();\n\tvar curveOid = algs.curves[curve].pkcs8oid;\n\tassert.string(curveOid, 'a known ECDSA named curve');\n\tder.writeOID(curveOid);\n\n\tder.endSequence();\n\n\tvar Q = utils.ecNormalize(key.part.Q.data, true);\n\tder.writeBuffer(Q, asn1.Ber.BitString);\n}\n\nfunction writePkcs1ECDSAPrivate(der, key) {\n\tvar ver = Buffer.from([1]);\n\tder.writeBuffer(ver, asn1.Ber.Integer);\n\n\tder.writeBuffer(key.part.d.data, asn1.Ber.OctetString);\n\n\tder.startSequence(0xa0);\n\tvar curve = key.part.curve.data.toString();\n\tvar curveOid = algs.curves[curve].pkcs8oid;\n\tassert.string(curveOid, 'a known ECDSA named curve');\n\tder.writeOID(curveOid);\n\tder.endSequence();\n\n\tder.startSequence(0xa1);\n\tvar Q = utils.ecNormalize(key.part.Q.data, true);\n\tder.writeBuffer(Q, asn1.Ber.BitString);\n\tder.endSequence();\n}\n\nfunction writePkcs1EdDSAPrivate(der, key) {\n\tvar ver = Buffer.from([1]);\n\tder.writeBuffer(ver, asn1.Ber.Integer);\n\n\tder.writeBuffer(key.part.k.data, asn1.Ber.OctetString);\n\n\tder.startSequence(0xa0);\n\tder.writeOID('1.3.101.112');\n\tder.endSequence();\n\n\tder.startSequence(0xa1);\n\tutils.writeBitString(der, key.part.A.data);\n\tder.endSequence();\n}\n\nfunction writePkcs1EdDSAPublic(der, key) {\n\tthrow (new Error('Public keys are not supported for EdDSA PKCS#1'));\n}\n","// Copyright 2018 Joyent, Inc.\n\nmodule.exports = {\n\tread: read,\n\treadPkcs8: readPkcs8,\n\twrite: write,\n\twritePkcs8: writePkcs8,\n\tpkcs8ToBuffer: pkcs8ToBuffer,\n\n\treadECDSACurve: readECDSACurve,\n\twriteECDSACurve: writeECDSACurve\n};\n\nvar assert = require('assert-plus');\nvar asn1 = require('asn1');\nvar Buffer = require('safer-buffer').Buffer;\nvar algs = require('../algs');\nvar utils = require('../utils');\nvar Key = require('../key');\nvar PrivateKey = require('../private-key');\nvar pem = require('./pem');\n\nfunction read(buf, options) {\n\treturn (pem.read(buf, options, 'pkcs8'));\n}\n\nfunction write(key, options) {\n\treturn (pem.write(key, options, 'pkcs8'));\n}\n\n/* Helper to read in a single mpint */\nfunction readMPInt(der, nm) {\n\tassert.strictEqual(der.peek(), asn1.Ber.Integer,\n\t    nm + ' is not an Integer');\n\treturn (utils.mpNormalize(der.readString(asn1.Ber.Integer, true)));\n}\n\nfunction readPkcs8(alg, type, der) {\n\t/* Private keys in pkcs#8 format have a weird extra int */\n\tif (der.peek() === asn1.Ber.Integer) {\n\t\tassert.strictEqual(type, 'private',\n\t\t    'unexpected Integer at start of public key');\n\t\tder.readString(asn1.Ber.Integer, true);\n\t}\n\n\tder.readSequence();\n\tvar next = der.offset + der.length;\n\n\tvar oid = der.readOID();\n\tswitch (oid) {\n\tcase '1.2.840.113549.1.1.1':\n\t\tder._offset = next;\n\t\tif (type === 'public')\n\t\t\treturn (readPkcs8RSAPublic(der));\n\t\telse\n\t\t\treturn (readPkcs8RSAPrivate(der));\n\tcase '1.2.840.10040.4.1':\n\t\tif (type === 'public')\n\t\t\treturn (readPkcs8DSAPublic(der));\n\t\telse\n\t\t\treturn (readPkcs8DSAPrivate(der));\n\tcase '1.2.840.10045.2.1':\n\t\tif (type === 'public')\n\t\t\treturn (readPkcs8ECDSAPublic(der));\n\t\telse\n\t\t\treturn (readPkcs8ECDSAPrivate(der));\n\tcase '1.3.101.112':\n\t\tif (type === 'public') {\n\t\t\treturn (readPkcs8EdDSAPublic(der));\n\t\t} else {\n\t\t\treturn (readPkcs8EdDSAPrivate(der));\n\t\t}\n\tcase '1.3.101.110':\n\t\tif (type === 'public') {\n\t\t\treturn (readPkcs8X25519Public(der));\n\t\t} else {\n\t\t\treturn (readPkcs8X25519Private(der));\n\t\t}\n\tdefault:\n\t\tthrow (new Error('Unknown key type OID ' + oid));\n\t}\n}\n\nfunction readPkcs8RSAPublic(der) {\n\t// bit string sequence\n\tder.readSequence(asn1.Ber.BitString);\n\tder.readByte();\n\tder.readSequence();\n\n\t// modulus\n\tvar n = readMPInt(der, 'modulus');\n\tvar e = readMPInt(der, 'exponent');\n\n\t// now, make the key\n\tvar key = {\n\t\ttype: 'rsa',\n\t\tsource: der.originalInput,\n\t\tparts: [\n\t\t\t{ name: 'e', data: e },\n\t\t\t{ name: 'n', data: n }\n\t\t]\n\t};\n\n\treturn (new Key(key));\n}\n\nfunction readPkcs8RSAPrivate(der) {\n\tder.readSequence(asn1.Ber.OctetString);\n\tder.readSequence();\n\n\tvar ver = readMPInt(der, 'version');\n\tassert.equal(ver[0], 0x0, 'unknown RSA private key version');\n\n\t// modulus then public exponent\n\tvar n = readMPInt(der, 'modulus');\n\tvar e = readMPInt(der, 'public exponent');\n\tvar d = readMPInt(der, 'private exponent');\n\tvar p = readMPInt(der, 'prime1');\n\tvar q = readMPInt(der, 'prime2');\n\tvar dmodp = readMPInt(der, 'exponent1');\n\tvar dmodq = readMPInt(der, 'exponent2');\n\tvar iqmp = readMPInt(der, 'iqmp');\n\n\t// now, make the key\n\tvar key = {\n\t\ttype: 'rsa',\n\t\tparts: [\n\t\t\t{ name: 'n', data: n },\n\t\t\t{ name: 'e', data: e },\n\t\t\t{ name: 'd', data: d },\n\t\t\t{ name: 'iqmp', data: iqmp },\n\t\t\t{ name: 'p', data: p },\n\t\t\t{ name: 'q', data: q },\n\t\t\t{ name: 'dmodp', data: dmodp },\n\t\t\t{ name: 'dmodq', data: dmodq }\n\t\t]\n\t};\n\n\treturn (new PrivateKey(key));\n}\n\nfunction readPkcs8DSAPublic(der) {\n\tder.readSequence();\n\n\tvar p = readMPInt(der, 'p');\n\tvar q = readMPInt(der, 'q');\n\tvar g = readMPInt(der, 'g');\n\n\t// bit string sequence\n\tder.readSequence(asn1.Ber.BitString);\n\tder.readByte();\n\n\tvar y = readMPInt(der, 'y');\n\n\t// now, make the key\n\tvar key = {\n\t\ttype: 'dsa',\n\t\tparts: [\n\t\t\t{ name: 'p', data: p },\n\t\t\t{ name: 'q', data: q },\n\t\t\t{ name: 'g', data: g },\n\t\t\t{ name: 'y', data: y }\n\t\t]\n\t};\n\n\treturn (new Key(key));\n}\n\nfunction readPkcs8DSAPrivate(der) {\n\tder.readSequence();\n\n\tvar p = readMPInt(der, 'p');\n\tvar q = readMPInt(der, 'q');\n\tvar g = readMPInt(der, 'g');\n\n\tder.readSequence(asn1.Ber.OctetString);\n\tvar x = readMPInt(der, 'x');\n\n\t/* The pkcs#8 format does not include the public key */\n\tvar y = utils.calculateDSAPublic(g, p, x);\n\n\tvar key = {\n\t\ttype: 'dsa',\n\t\tparts: [\n\t\t\t{ name: 'p', data: p },\n\t\t\t{ name: 'q', data: q },\n\t\t\t{ name: 'g', data: g },\n\t\t\t{ name: 'y', data: y },\n\t\t\t{ name: 'x', data: x }\n\t\t]\n\t};\n\n\treturn (new PrivateKey(key));\n}\n\nfunction readECDSACurve(der) {\n\tvar curveName, curveNames;\n\tvar j, c, cd;\n\n\tif (der.peek() === asn1.Ber.OID) {\n\t\tvar oid = der.readOID();\n\n\t\tcurveNames = Object.keys(algs.curves);\n\t\tfor (j = 0; j < curveNames.length; ++j) {\n\t\t\tc = curveNames[j];\n\t\t\tcd = algs.curves[c];\n\t\t\tif (cd.pkcs8oid === oid) {\n\t\t\t\tcurveName = c;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t} else {\n\t\t// ECParameters sequence\n\t\tder.readSequence();\n\t\tvar version = der.readString(asn1.Ber.Integer, true);\n\t\tassert.strictEqual(version[0], 1, 'ECDSA key not version 1');\n\n\t\tvar curve = {};\n\n\t\t// FieldID sequence\n\t\tder.readSequence();\n\t\tvar fieldTypeOid = der.readOID();\n\t\tassert.strictEqual(fieldTypeOid, '1.2.840.10045.1.1',\n\t\t    'ECDSA key is not from a prime-field');\n\t\tvar p = curve.p = utils.mpNormalize(\n\t\t    der.readString(asn1.Ber.Integer, true));\n\t\t/*\n\t\t * p always starts with a 1 bit, so count the zeros to get its\n\t\t * real size.\n\t\t */\n\t\tcurve.size = p.length * 8 - utils.countZeros(p);\n\n\t\t// Curve sequence\n\t\tder.readSequence();\n\t\tcurve.a = utils.mpNormalize(\n\t\t    der.readString(asn1.Ber.OctetString, true));\n\t\tcurve.b = utils.mpNormalize(\n\t\t    der.readString(asn1.Ber.OctetString, true));\n\t\tif (der.peek() === asn1.Ber.BitString)\n\t\t\tcurve.s = der.readString(asn1.Ber.BitString, true);\n\n\t\t// Combined Gx and Gy\n\t\tcurve.G = der.readString(asn1.Ber.OctetString, true);\n\t\tassert.strictEqual(curve.G[0], 0x4,\n\t\t    'uncompressed G is required');\n\n\t\tcurve.n = utils.mpNormalize(\n\t\t    der.readString(asn1.Ber.Integer, true));\n\t\tcurve.h = utils.mpNormalize(\n\t\t    der.readString(asn1.Ber.Integer, true));\n\t\tassert.strictEqual(curve.h[0], 0x1, 'a cofactor=1 curve is ' +\n\t\t    'required');\n\n\t\tcurveNames = Object.keys(algs.curves);\n\t\tvar ks = Object.keys(curve);\n\t\tfor (j = 0; j < curveNames.length; ++j) {\n\t\t\tc = curveNames[j];\n\t\t\tcd = algs.curves[c];\n\t\t\tvar equal = true;\n\t\t\tfor (var i = 0; i < ks.length; ++i) {\n\t\t\t\tvar k = ks[i];\n\t\t\t\tif (cd[k] === undefined)\n\t\t\t\t\tcontinue;\n\t\t\t\tif (typeof (cd[k]) === 'object' &&\n\t\t\t\t    cd[k].equals !== undefined) {\n\t\t\t\t\tif (!cd[k].equals(curve[k])) {\n\t\t\t\t\t\tequal = false;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t} else if (Buffer.isBuffer(cd[k])) {\n\t\t\t\t\tif (cd[k].toString('binary')\n\t\t\t\t\t    !== curve[k].toString('binary')) {\n\t\t\t\t\t\tequal = false;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tif (cd[k] !== curve[k]) {\n\t\t\t\t\t\tequal = false;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (equal) {\n\t\t\t\tcurveName = c;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n\treturn (curveName);\n}\n\nfunction readPkcs8ECDSAPrivate(der) {\n\tvar curveName = readECDSACurve(der);\n\tassert.string(curveName, 'a known elliptic curve');\n\n\tder.readSequence(asn1.Ber.OctetString);\n\tder.readSequence();\n\n\tvar version = readMPInt(der, 'version');\n\tassert.equal(version[0], 1, 'unknown version of ECDSA key');\n\n\tvar d = der.readString(asn1.Ber.OctetString, true);\n\tvar Q;\n\n\tif (der.peek() == 0xa0) {\n\t\tder.readSequence(0xa0);\n\t\tder._offset += der.length;\n\t}\n\tif (der.peek() == 0xa1) {\n\t\tder.readSequence(0xa1);\n\t\tQ = der.readString(asn1.Ber.BitString, true);\n\t\tQ = utils.ecNormalize(Q);\n\t}\n\n\tif (Q === undefined) {\n\t\tvar pub = utils.publicFromPrivateECDSA(curveName, d);\n\t\tQ = pub.part.Q.data;\n\t}\n\n\tvar key = {\n\t\ttype: 'ecdsa',\n\t\tparts: [\n\t\t\t{ name: 'curve', data: Buffer.from(curveName) },\n\t\t\t{ name: 'Q', data: Q },\n\t\t\t{ name: 'd', data: d }\n\t\t]\n\t};\n\n\treturn (new PrivateKey(key));\n}\n\nfunction readPkcs8ECDSAPublic(der) {\n\tvar curveName = readECDSACurve(der);\n\tassert.string(curveName, 'a known elliptic curve');\n\n\tvar Q = der.readString(asn1.Ber.BitString, true);\n\tQ = utils.ecNormalize(Q);\n\n\tvar key = {\n\t\ttype: 'ecdsa',\n\t\tparts: [\n\t\t\t{ name: 'curve', data: Buffer.from(curveName) },\n\t\t\t{ name: 'Q', data: Q }\n\t\t]\n\t};\n\n\treturn (new Key(key));\n}\n\nfunction readPkcs8EdDSAPublic(der) {\n\tif (der.peek() === 0x00)\n\t\tder.readByte();\n\n\tvar A = utils.readBitString(der);\n\n\tvar key = {\n\t\ttype: 'ed25519',\n\t\tparts: [\n\t\t\t{ name: 'A', data: utils.zeroPadToLength(A, 32) }\n\t\t]\n\t};\n\n\treturn (new Key(key));\n}\n\nfunction readPkcs8X25519Public(der) {\n\tvar A = utils.readBitString(der);\n\n\tvar key = {\n\t\ttype: 'curve25519',\n\t\tparts: [\n\t\t\t{ name: 'A', data: utils.zeroPadToLength(A, 32) }\n\t\t]\n\t};\n\n\treturn (new Key(key));\n}\n\nfunction readPkcs8EdDSAPrivate(der) {\n\tif (der.peek() === 0x00)\n\t\tder.readByte();\n\n\tder.readSequence(asn1.Ber.OctetString);\n\tvar k = der.readString(asn1.Ber.OctetString, true);\n\tk = utils.zeroPadToLength(k, 32);\n\n\tvar A;\n\tif (der.peek() === asn1.Ber.BitString) {\n\t\tA = utils.readBitString(der);\n\t\tA = utils.zeroPadToLength(A, 32);\n\t} else {\n\t\tA = utils.calculateED25519Public(k);\n\t}\n\n\tvar key = {\n\t\ttype: 'ed25519',\n\t\tparts: [\n\t\t\t{ name: 'A', data: utils.zeroPadToLength(A, 32) },\n\t\t\t{ name: 'k', data: utils.zeroPadToLength(k, 32) }\n\t\t]\n\t};\n\n\treturn (new PrivateKey(key));\n}\n\nfunction readPkcs8X25519Private(der) {\n\tif (der.peek() === 0x00)\n\t\tder.readByte();\n\n\tder.readSequence(asn1.Ber.OctetString);\n\tvar k = der.readString(asn1.Ber.OctetString, true);\n\tk = utils.zeroPadToLength(k, 32);\n\n\tvar A = utils.calculateX25519Public(k);\n\n\tvar key = {\n\t\ttype: 'curve25519',\n\t\tparts: [\n\t\t\t{ name: 'A', data: utils.zeroPadToLength(A, 32) },\n\t\t\t{ name: 'k', data: utils.zeroPadToLength(k, 32) }\n\t\t]\n\t};\n\n\treturn (new PrivateKey(key));\n}\n\nfunction pkcs8ToBuffer(key) {\n\tvar der = new asn1.BerWriter();\n\twritePkcs8(der, key);\n\treturn (der.buffer);\n}\n\nfunction writePkcs8(der, key) {\n\tder.startSequence();\n\n\tif (PrivateKey.isPrivateKey(key)) {\n\t\tvar sillyInt = Buffer.from([0]);\n\t\tder.writeBuffer(sillyInt, asn1.Ber.Integer);\n\t}\n\n\tder.startSequence();\n\tswitch (key.type) {\n\tcase 'rsa':\n\t\tder.writeOID('1.2.840.113549.1.1.1');\n\t\tif (PrivateKey.isPrivateKey(key))\n\t\t\twritePkcs8RSAPrivate(key, der);\n\t\telse\n\t\t\twritePkcs8RSAPublic(key, der);\n\t\tbreak;\n\tcase 'dsa':\n\t\tder.writeOID('1.2.840.10040.4.1');\n\t\tif (PrivateKey.isPrivateKey(key))\n\t\t\twritePkcs8DSAPrivate(key, der);\n\t\telse\n\t\t\twritePkcs8DSAPublic(key, der);\n\t\tbreak;\n\tcase 'ecdsa':\n\t\tder.writeOID('1.2.840.10045.2.1');\n\t\tif (PrivateKey.isPrivateKey(key))\n\t\t\twritePkcs8ECDSAPrivate(key, der);\n\t\telse\n\t\t\twritePkcs8ECDSAPublic(key, der);\n\t\tbreak;\n\tcase 'ed25519':\n\t\tder.writeOID('1.3.101.112');\n\t\tif (PrivateKey.isPrivateKey(key))\n\t\t\tthrow (new Error('Ed25519 private keys in pkcs8 ' +\n\t\t\t    'format are not supported'));\n\t\twritePkcs8EdDSAPublic(key, der);\n\t\tbreak;\n\tdefault:\n\t\tthrow (new Error('Unsupported key type: ' + key.type));\n\t}\n\n\tder.endSequence();\n}\n\nfunction writePkcs8RSAPrivate(key, der) {\n\tder.writeNull();\n\tder.endSequence();\n\n\tder.startSequence(asn1.Ber.OctetString);\n\tder.startSequence();\n\n\tvar version = Buffer.from([0]);\n\tder.writeBuffer(version, asn1.Ber.Integer);\n\n\tder.writeBuffer(key.part.n.data, asn1.Ber.Integer);\n\tder.writeBuffer(key.part.e.data, asn1.Ber.Integer);\n\tder.writeBuffer(key.part.d.data, asn1.Ber.Integer);\n\tder.writeBuffer(key.part.p.data, asn1.Ber.Integer);\n\tder.writeBuffer(key.part.q.data, asn1.Ber.Integer);\n\tif (!key.part.dmodp || !key.part.dmodq)\n\t\tutils.addRSAMissing(key);\n\tder.writeBuffer(key.part.dmodp.data, asn1.Ber.Integer);\n\tder.writeBuffer(key.part.dmodq.data, asn1.Ber.Integer);\n\tder.writeBuffer(key.part.iqmp.data, asn1.Ber.Integer);\n\n\tder.endSequence();\n\tder.endSequence();\n}\n\nfunction writePkcs8RSAPublic(key, der) {\n\tder.writeNull();\n\tder.endSequence();\n\n\tder.startSequence(asn1.Ber.BitString);\n\tder.writeByte(0x00);\n\n\tder.startSequence();\n\tder.writeBuffer(key.part.n.data, asn1.Ber.Integer);\n\tder.writeBuffer(key.part.e.data, asn1.Ber.Integer);\n\tder.endSequence();\n\n\tder.endSequence();\n}\n\nfunction writePkcs8DSAPrivate(key, der) {\n\tder.startSequence();\n\tder.writeBuffer(key.part.p.data, asn1.Ber.Integer);\n\tder.writeBuffer(key.part.q.data, asn1.Ber.Integer);\n\tder.writeBuffer(key.part.g.data, asn1.Ber.Integer);\n\tder.endSequence();\n\n\tder.endSequence();\n\n\tder.startSequence(asn1.Ber.OctetString);\n\tder.writeBuffer(key.part.x.data, asn1.Ber.Integer);\n\tder.endSequence();\n}\n\nfunction writePkcs8DSAPublic(key, der) {\n\tder.startSequence();\n\tder.writeBuffer(key.part.p.data, asn1.Ber.Integer);\n\tder.writeBuffer(key.part.q.data, asn1.Ber.Integer);\n\tder.writeBuffer(key.part.g.data, asn1.Ber.Integer);\n\tder.endSequence();\n\tder.endSequence();\n\n\tder.startSequence(asn1.Ber.BitString);\n\tder.writeByte(0x00);\n\tder.writeBuffer(key.part.y.data, asn1.Ber.Integer);\n\tder.endSequence();\n}\n\nfunction writeECDSACurve(key, der) {\n\tvar curve = algs.curves[key.curve];\n\tif (curve.pkcs8oid) {\n\t\t/* This one has a name in pkcs#8, so just write the oid */\n\t\tder.writeOID(curve.pkcs8oid);\n\n\t} else {\n\t\t// ECParameters sequence\n\t\tder.startSequence();\n\n\t\tvar version = Buffer.from([1]);\n\t\tder.writeBuffer(version, asn1.Ber.Integer);\n\n\t\t// FieldID sequence\n\t\tder.startSequence();\n\t\tder.writeOID('1.2.840.10045.1.1'); // prime-field\n\t\tder.writeBuffer(curve.p, asn1.Ber.Integer);\n\t\tder.endSequence();\n\n\t\t// Curve sequence\n\t\tder.startSequence();\n\t\tvar a = curve.p;\n\t\tif (a[0] === 0x0)\n\t\t\ta = a.slice(1);\n\t\tder.writeBuffer(a, asn1.Ber.OctetString);\n\t\tder.writeBuffer(curve.b, asn1.Ber.OctetString);\n\t\tder.writeBuffer(curve.s, asn1.Ber.BitString);\n\t\tder.endSequence();\n\n\t\tder.writeBuffer(curve.G, asn1.Ber.OctetString);\n\t\tder.writeBuffer(curve.n, asn1.Ber.Integer);\n\t\tvar h = curve.h;\n\t\tif (!h) {\n\t\t\th = Buffer.from([1]);\n\t\t}\n\t\tder.writeBuffer(h, asn1.Ber.Integer);\n\n\t\t// ECParameters\n\t\tder.endSequence();\n\t}\n}\n\nfunction writePkcs8ECDSAPublic(key, der) {\n\twriteECDSACurve(key, der);\n\tder.endSequence();\n\n\tvar Q = utils.ecNormalize(key.part.Q.data, true);\n\tder.writeBuffer(Q, asn1.Ber.BitString);\n}\n\nfunction writePkcs8ECDSAPrivate(key, der) {\n\twriteECDSACurve(key, der);\n\tder.endSequence();\n\n\tder.startSequence(asn1.Ber.OctetString);\n\tder.startSequence();\n\n\tvar version = Buffer.from([1]);\n\tder.writeBuffer(version, asn1.Ber.Integer);\n\n\tder.writeBuffer(key.part.d.data, asn1.Ber.OctetString);\n\n\tder.startSequence(0xa1);\n\tvar Q = utils.ecNormalize(key.part.Q.data, true);\n\tder.writeBuffer(Q, asn1.Ber.BitString);\n\tder.endSequence();\n\n\tder.endSequence();\n\tder.endSequence();\n}\n\nfunction writePkcs8EdDSAPublic(key, der) {\n\tder.endSequence();\n\n\tutils.writeBitString(der, key.part.A.data);\n}\n\nfunction writePkcs8EdDSAPrivate(key, der) {\n\tder.endSequence();\n\n\tvar k = utils.mpNormalize(key.part.k.data, true);\n\tder.startSequence(asn1.Ber.OctetString);\n\tder.writeBuffer(k, asn1.Ber.OctetString);\n\tder.endSequence();\n}\n","// Copyright 2018 Joyent, Inc.\n\nmodule.exports = {\n\tread: read,\n\twrite: write\n};\n\nvar assert = require('assert-plus');\nvar Buffer = require('safer-buffer').Buffer;\nvar rfc4253 = require('./rfc4253');\nvar Key = require('../key');\n\nvar errors = require('../errors');\n\nfunction read(buf, options) {\n\tvar lines = buf.toString('ascii').split(/[\\r\\n]+/);\n\tvar found = false;\n\tvar parts;\n\tvar si = 0;\n\twhile (si < lines.length) {\n\t\tparts = splitHeader(lines[si++]);\n\t\tif (parts &&\n\t\t    parts[0].toLowerCase() === 'putty-user-key-file-2') {\n\t\t\tfound = true;\n\t\t\tbreak;\n\t\t}\n\t}\n\tif (!found) {\n\t\tthrow (new Error('No PuTTY format first line found'));\n\t}\n\tvar alg = parts[1];\n\n\tparts = splitHeader(lines[si++]);\n\tassert.equal(parts[0].toLowerCase(), 'encryption');\n\n\tparts = splitHeader(lines[si++]);\n\tassert.equal(parts[0].toLowerCase(), 'comment');\n\tvar comment = parts[1];\n\n\tparts = splitHeader(lines[si++]);\n\tassert.equal(parts[0].toLowerCase(), 'public-lines');\n\tvar publicLines = parseInt(parts[1], 10);\n\tif (!isFinite(publicLines) || publicLines < 0 ||\n\t    publicLines > lines.length) {\n\t\tthrow (new Error('Invalid public-lines count'));\n\t}\n\n\tvar publicBuf = Buffer.from(\n\t    lines.slice(si, si + publicLines).join(''), 'base64');\n\tvar keyType = rfc4253.algToKeyType(alg);\n\tvar key = rfc4253.read(publicBuf);\n\tif (key.type !== keyType) {\n\t\tthrow (new Error('Outer key algorithm mismatch'));\n\t}\n\tkey.comment = comment;\n\treturn (key);\n}\n\nfunction splitHeader(line) {\n\tvar idx = line.indexOf(':');\n\tif (idx === -1)\n\t\treturn (null);\n\tvar header = line.slice(0, idx);\n\t++idx;\n\twhile (line[idx] === ' ')\n\t\t++idx;\n\tvar rest = line.slice(idx);\n\treturn ([header, rest]);\n}\n\nfunction write(key, options) {\n\tassert.object(key);\n\tif (!Key.isKey(key))\n\t\tthrow (new Error('Must be a public key'));\n\n\tvar alg = rfc4253.keyTypeToAlg(key);\n\tvar buf = rfc4253.write(key);\n\tvar comment = key.comment || '';\n\n\tvar b64 = buf.toString('base64');\n\tvar lines = wrap(b64, 64);\n\n\tlines.unshift('Public-Lines: ' + lines.length);\n\tlines.unshift('Comment: ' + comment);\n\tlines.unshift('Encryption: none');\n\tlines.unshift('PuTTY-User-Key-File-2: ' + alg);\n\n\treturn (Buffer.from(lines.join('\\n') + '\\n'));\n}\n\nfunction wrap(txt, len) {\n\tvar lines = [];\n\tvar pos = 0;\n\twhile (pos < txt.length) {\n\t\tlines.push(txt.slice(pos, pos + 64));\n\t\tpos += 64;\n\t}\n\treturn (lines);\n}\n","// Copyright 2015 Joyent, Inc.\n\nmodule.exports = {\n\tread: read.bind(undefined, false, undefined),\n\treadType: read.bind(undefined, false),\n\twrite: write,\n\t/* semi-private api, used by sshpk-agent */\n\treadPartial: read.bind(undefined, true),\n\n\t/* shared with ssh format */\n\treadInternal: read,\n\tkeyTypeToAlg: keyTypeToAlg,\n\talgToKeyType: algToKeyType\n};\n\nvar assert = require('assert-plus');\nvar Buffer = require('safer-buffer').Buffer;\nvar algs = require('../algs');\nvar utils = require('../utils');\nvar Key = require('../key');\nvar PrivateKey = require('../private-key');\nvar SSHBuffer = require('../ssh-buffer');\n\nfunction algToKeyType(alg) {\n\tassert.string(alg);\n\tif (alg === 'ssh-dss')\n\t\treturn ('dsa');\n\telse if (alg === 'ssh-rsa')\n\t\treturn ('rsa');\n\telse if (alg === 'ssh-ed25519')\n\t\treturn ('ed25519');\n\telse if (alg === 'ssh-curve25519')\n\t\treturn ('curve25519');\n\telse if (alg.match(/^ecdsa-sha2-/))\n\t\treturn ('ecdsa');\n\telse\n\t\tthrow (new Error('Unknown algorithm ' + alg));\n}\n\nfunction keyTypeToAlg(key) {\n\tassert.object(key);\n\tif (key.type === 'dsa')\n\t\treturn ('ssh-dss');\n\telse if (key.type === 'rsa')\n\t\treturn ('ssh-rsa');\n\telse if (key.type === 'ed25519')\n\t\treturn ('ssh-ed25519');\n\telse if (key.type === 'curve25519')\n\t\treturn ('ssh-curve25519');\n\telse if (key.type === 'ecdsa')\n\t\treturn ('ecdsa-sha2-' + key.part.curve.data.toString());\n\telse\n\t\tthrow (new Error('Unknown key type ' + key.type));\n}\n\nfunction read(partial, type, buf, options) {\n\tif (typeof (buf) === 'string')\n\t\tbuf = Buffer.from(buf);\n\tassert.buffer(buf, 'buf');\n\n\tvar key = {};\n\n\tvar parts = key.parts = [];\n\tvar sshbuf = new SSHBuffer({buffer: buf});\n\n\tvar alg = sshbuf.readString();\n\tassert.ok(!sshbuf.atEnd(), 'key must have at least one part');\n\n\tkey.type = algToKeyType(alg);\n\n\tvar partCount = algs.info[key.type].parts.length;\n\tif (type && type === 'private')\n\t\tpartCount = algs.privInfo[key.type].parts.length;\n\n\twhile (!sshbuf.atEnd() && parts.length < partCount)\n\t\tparts.push(sshbuf.readPart());\n\twhile (!partial && !sshbuf.atEnd())\n\t\tparts.push(sshbuf.readPart());\n\n\tassert.ok(parts.length >= 1,\n\t    'key must have at least one part');\n\tassert.ok(partial || sshbuf.atEnd(),\n\t    'leftover bytes at end of key');\n\n\tvar Constructor = Key;\n\tvar algInfo = algs.info[key.type];\n\tif (type === 'private' || algInfo.parts.length !== parts.length) {\n\t\talgInfo = algs.privInfo[key.type];\n\t\tConstructor = PrivateKey;\n\t}\n\tassert.strictEqual(algInfo.parts.length, parts.length);\n\n\tif (key.type === 'ecdsa') {\n\t\tvar res = /^ecdsa-sha2-(.+)$/.exec(alg);\n\t\tassert.ok(res !== null);\n\t\tassert.strictEqual(res[1], parts[0].data.toString());\n\t}\n\n\tvar normalized = true;\n\tfor (var i = 0; i < algInfo.parts.length; ++i) {\n\t\tvar p = parts[i];\n\t\tp.name = algInfo.parts[i];\n\t\t/*\n\t\t * OpenSSH stores ed25519 \"private\" keys as seed + public key\n\t\t * concat'd together (k followed by A). We want to keep them\n\t\t * separate for other formats that don't do this.\n\t\t */\n\t\tif (key.type === 'ed25519' && p.name === 'k')\n\t\t\tp.data = p.data.slice(0, 32);\n\n\t\tif (p.name !== 'curve' && algInfo.normalize !== false) {\n\t\t\tvar nd;\n\t\t\tif (key.type === 'ed25519') {\n\t\t\t\tnd = utils.zeroPadToLength(p.data, 32);\n\t\t\t} else {\n\t\t\t\tnd = utils.mpNormalize(p.data);\n\t\t\t}\n\t\t\tif (nd.toString('binary') !==\n\t\t\t    p.data.toString('binary')) {\n\t\t\t\tp.data = nd;\n\t\t\t\tnormalized = false;\n\t\t\t}\n\t\t}\n\t}\n\n\tif (normalized)\n\t\tkey._rfc4253Cache = sshbuf.toBuffer();\n\n\tif (partial && typeof (partial) === 'object') {\n\t\tpartial.remainder = sshbuf.remainder();\n\t\tpartial.consumed = sshbuf._offset;\n\t}\n\n\treturn (new Constructor(key));\n}\n\nfunction write(key, options) {\n\tassert.object(key);\n\n\tvar alg = keyTypeToAlg(key);\n\tvar i;\n\n\tvar algInfo = algs.info[key.type];\n\tif (PrivateKey.isPrivateKey(key))\n\t\talgInfo = algs.privInfo[key.type];\n\tvar parts = algInfo.parts;\n\n\tvar buf = new SSHBuffer({});\n\n\tbuf.writeString(alg);\n\n\tfor (i = 0; i < parts.length; ++i) {\n\t\tvar data = key.part[parts[i]].data;\n\t\tif (algInfo.normalize !== false) {\n\t\t\tif (key.type === 'ed25519')\n\t\t\t\tdata = utils.zeroPadToLength(data, 32);\n\t\t\telse\n\t\t\t\tdata = utils.mpNormalize(data);\n\t\t}\n\t\tif (key.type === 'ed25519' && parts[i] === 'k')\n\t\t\tdata = Buffer.concat([data, key.part.A.data]);\n\t\tbuf.writeBuffer(data);\n\t}\n\n\treturn (buf.toBuffer());\n}\n","// Copyright 2015 Joyent, Inc.\n\nmodule.exports = {\n\tread: read,\n\treadSSHPrivate: readSSHPrivate,\n\twrite: write\n};\n\nvar assert = require('assert-plus');\nvar asn1 = require('asn1');\nvar Buffer = require('safer-buffer').Buffer;\nvar algs = require('../algs');\nvar utils = require('../utils');\nvar crypto = require('crypto');\n\nvar Key = require('../key');\nvar PrivateKey = require('../private-key');\nvar pem = require('./pem');\nvar rfc4253 = require('./rfc4253');\nvar SSHBuffer = require('../ssh-buffer');\nvar errors = require('../errors');\n\nvar bcrypt;\n\nfunction read(buf, options) {\n\treturn (pem.read(buf, options));\n}\n\nvar MAGIC = 'openssh-key-v1';\n\nfunction readSSHPrivate(type, buf, options) {\n\tbuf = new SSHBuffer({buffer: buf});\n\n\tvar magic = buf.readCString();\n\tassert.strictEqual(magic, MAGIC, 'bad magic string');\n\n\tvar cipher = buf.readString();\n\tvar kdf = buf.readString();\n\tvar kdfOpts = buf.readBuffer();\n\n\tvar nkeys = buf.readInt();\n\tif (nkeys !== 1) {\n\t\tthrow (new Error('OpenSSH-format key file contains ' +\n\t\t    'multiple keys: this is unsupported.'));\n\t}\n\n\tvar pubKey = buf.readBuffer();\n\n\tif (type === 'public') {\n\t\tassert.ok(buf.atEnd(), 'excess bytes left after key');\n\t\treturn (rfc4253.read(pubKey));\n\t}\n\n\tvar privKeyBlob = buf.readBuffer();\n\tassert.ok(buf.atEnd(), 'excess bytes left after key');\n\n\tvar kdfOptsBuf = new SSHBuffer({ buffer: kdfOpts });\n\tswitch (kdf) {\n\tcase 'none':\n\t\tif (cipher !== 'none') {\n\t\t\tthrow (new Error('OpenSSH-format key uses KDF \"none\" ' +\n\t\t\t     'but specifies a cipher other than \"none\"'));\n\t\t}\n\t\tbreak;\n\tcase 'bcrypt':\n\t\tvar salt = kdfOptsBuf.readBuffer();\n\t\tvar rounds = kdfOptsBuf.readInt();\n\t\tvar cinf = utils.opensshCipherInfo(cipher);\n\t\tif (bcrypt === undefined) {\n\t\t\tbcrypt = require('bcrypt-pbkdf');\n\t\t}\n\n\t\tif (typeof (options.passphrase) === 'string') {\n\t\t\toptions.passphrase = Buffer.from(options.passphrase,\n\t\t\t    'utf-8');\n\t\t}\n\t\tif (!Buffer.isBuffer(options.passphrase)) {\n\t\t\tthrow (new errors.KeyEncryptedError(\n\t\t\t    options.filename, 'OpenSSH'));\n\t\t}\n\n\t\tvar pass = new Uint8Array(options.passphrase);\n\t\tvar salti = new Uint8Array(salt);\n\t\t/* Use the pbkdf to derive both the key and the IV. */\n\t\tvar out = new Uint8Array(cinf.keySize + cinf.blockSize);\n\t\tvar res = bcrypt.pbkdf(pass, pass.length, salti, salti.length,\n\t\t    out, out.length, rounds);\n\t\tif (res !== 0) {\n\t\t\tthrow (new Error('bcrypt_pbkdf function returned ' +\n\t\t\t    'failure, parameters invalid'));\n\t\t}\n\t\tout = Buffer.from(out);\n\t\tvar ckey = out.slice(0, cinf.keySize);\n\t\tvar iv = out.slice(cinf.keySize, cinf.keySize + cinf.blockSize);\n\t\tvar cipherStream = crypto.createDecipheriv(cinf.opensslName,\n\t\t    ckey, iv);\n\t\tcipherStream.setAutoPadding(false);\n\t\tvar chunk, chunks = [];\n\t\tcipherStream.once('error', function (e) {\n\t\t\tif (e.toString().indexOf('bad decrypt') !== -1) {\n\t\t\t\tthrow (new Error('Incorrect passphrase ' +\n\t\t\t\t    'supplied, could not decrypt key'));\n\t\t\t}\n\t\t\tthrow (e);\n\t\t});\n\t\tcipherStream.write(privKeyBlob);\n\t\tcipherStream.end();\n\t\twhile ((chunk = cipherStream.read()) !== null)\n\t\t\tchunks.push(chunk);\n\t\tprivKeyBlob = Buffer.concat(chunks);\n\t\tbreak;\n\tdefault:\n\t\tthrow (new Error(\n\t\t    'OpenSSH-format key uses unknown KDF \"' + kdf + '\"'));\n\t}\n\n\tbuf = new SSHBuffer({buffer: privKeyBlob});\n\n\tvar checkInt1 = buf.readInt();\n\tvar checkInt2 = buf.readInt();\n\tif (checkInt1 !== checkInt2) {\n\t\tthrow (new Error('Incorrect passphrase supplied, could not ' +\n\t\t    'decrypt key'));\n\t}\n\n\tvar ret = {};\n\tvar key = rfc4253.readInternal(ret, 'private', buf.remainder());\n\n\tbuf.skip(ret.consumed);\n\n\tvar comment = buf.readString();\n\tkey.comment = comment;\n\n\treturn (key);\n}\n\nfunction write(key, options) {\n\tvar pubKey;\n\tif (PrivateKey.isPrivateKey(key))\n\t\tpubKey = key.toPublic();\n\telse\n\t\tpubKey = key;\n\n\tvar cipher = 'none';\n\tvar kdf = 'none';\n\tvar kdfopts = Buffer.alloc(0);\n\tvar cinf = { blockSize: 8 };\n\tvar passphrase;\n\tif (options !== undefined) {\n\t\tpassphrase = options.passphrase;\n\t\tif (typeof (passphrase) === 'string')\n\t\t\tpassphrase = Buffer.from(passphrase, 'utf-8');\n\t\tif (passphrase !== undefined) {\n\t\t\tassert.buffer(passphrase, 'options.passphrase');\n\t\t\tassert.optionalString(options.cipher, 'options.cipher');\n\t\t\tcipher = options.cipher;\n\t\t\tif (cipher === undefined)\n\t\t\t\tcipher = 'aes128-ctr';\n\t\t\tcinf = utils.opensshCipherInfo(cipher);\n\t\t\tkdf = 'bcrypt';\n\t\t}\n\t}\n\n\tvar privBuf;\n\tif (PrivateKey.isPrivateKey(key)) {\n\t\tprivBuf = new SSHBuffer({});\n\t\tvar checkInt = crypto.randomBytes(4).readUInt32BE(0);\n\t\tprivBuf.writeInt(checkInt);\n\t\tprivBuf.writeInt(checkInt);\n\t\tprivBuf.write(key.toBuffer('rfc4253'));\n\t\tprivBuf.writeString(key.comment || '');\n\n\t\tvar n = 1;\n\t\twhile (privBuf._offset % cinf.blockSize !== 0)\n\t\t\tprivBuf.writeChar(n++);\n\t\tprivBuf = privBuf.toBuffer();\n\t}\n\n\tswitch (kdf) {\n\tcase 'none':\n\t\tbreak;\n\tcase 'bcrypt':\n\t\tvar salt = crypto.randomBytes(16);\n\t\tvar rounds = 16;\n\t\tvar kdfssh = new SSHBuffer({});\n\t\tkdfssh.writeBuffer(salt);\n\t\tkdfssh.writeInt(rounds);\n\t\tkdfopts = kdfssh.toBuffer();\n\n\t\tif (bcrypt === undefined) {\n\t\t\tbcrypt = require('bcrypt-pbkdf');\n\t\t}\n\t\tvar pass = new Uint8Array(passphrase);\n\t\tvar salti = new Uint8Array(salt);\n\t\t/* Use the pbkdf to derive both the key and the IV. */\n\t\tvar out = new Uint8Array(cinf.keySize + cinf.blockSize);\n\t\tvar res = bcrypt.pbkdf(pass, pass.length, salti, salti.length,\n\t\t    out, out.length, rounds);\n\t\tif (res !== 0) {\n\t\t\tthrow (new Error('bcrypt_pbkdf function returned ' +\n\t\t\t    'failure, parameters invalid'));\n\t\t}\n\t\tout = Buffer.from(out);\n\t\tvar ckey = out.slice(0, cinf.keySize);\n\t\tvar iv = out.slice(cinf.keySize, cinf.keySize + cinf.blockSize);\n\n\t\tvar cipherStream = crypto.createCipheriv(cinf.opensslName,\n\t\t    ckey, iv);\n\t\tcipherStream.setAutoPadding(false);\n\t\tvar chunk, chunks = [];\n\t\tcipherStream.once('error', function (e) {\n\t\t\tthrow (e);\n\t\t});\n\t\tcipherStream.write(privBuf);\n\t\tcipherStream.end();\n\t\twhile ((chunk = cipherStream.read()) !== null)\n\t\t\tchunks.push(chunk);\n\t\tprivBuf = Buffer.concat(chunks);\n\t\tbreak;\n\tdefault:\n\t\tthrow (new Error('Unsupported kdf ' + kdf));\n\t}\n\n\tvar buf = new SSHBuffer({});\n\n\tbuf.writeCString(MAGIC);\n\tbuf.writeString(cipher);\t/* cipher */\n\tbuf.writeString(kdf);\t\t/* kdf */\n\tbuf.writeBuffer(kdfopts);\t/* kdfoptions */\n\n\tbuf.writeInt(1);\t\t/* nkeys */\n\tbuf.writeBuffer(pubKey.toBuffer('rfc4253'));\n\n\tif (privBuf)\n\t\tbuf.writeBuffer(privBuf);\n\n\tbuf = buf.toBuffer();\n\n\tvar header;\n\tif (PrivateKey.isPrivateKey(key))\n\t\theader = 'OPENSSH PRIVATE KEY';\n\telse\n\t\theader = 'OPENSSH PUBLIC KEY';\n\n\tvar tmp = buf.toString('base64');\n\tvar len = tmp.length + (tmp.length / 70) +\n\t    18 + 16 + header.length*2 + 10;\n\tbuf = Buffer.alloc(len);\n\tvar o = 0;\n\to += buf.write('-----BEGIN ' + header + '-----\\n', o);\n\tfor (var i = 0; i < tmp.length; ) {\n\t\tvar limit = i + 70;\n\t\tif (limit > tmp.length)\n\t\t\tlimit = tmp.length;\n\t\to += buf.write(tmp.slice(i, limit), o);\n\t\tbuf[o++] = 10;\n\t\ti = limit;\n\t}\n\to += buf.write('-----END ' + header + '-----\\n', o);\n\n\treturn (buf.slice(0, o));\n}\n","// Copyright 2015 Joyent, Inc.\n\nmodule.exports = {\n\tread: read,\n\twrite: write\n};\n\nvar assert = require('assert-plus');\nvar Buffer = require('safer-buffer').Buffer;\nvar rfc4253 = require('./rfc4253');\nvar utils = require('../utils');\nvar Key = require('../key');\nvar PrivateKey = require('../private-key');\n\nvar sshpriv = require('./ssh-private');\n\n/*JSSTYLED*/\nvar SSHKEY_RE = /^([a-z0-9-]+)[ \\t]+([a-zA-Z0-9+\\/]+[=]*)([ \\t]+([^ \\t][^\\n]*[\\n]*)?)?$/;\n/*JSSTYLED*/\nvar SSHKEY_RE2 = /^([a-z0-9-]+)[ \\t\\n]+([a-zA-Z0-9+\\/][a-zA-Z0-9+\\/ \\t\\n=]*)([^a-zA-Z0-9+\\/ \\t\\n=].*)?$/;\n\nfunction read(buf, options) {\n\tif (typeof (buf) !== 'string') {\n\t\tassert.buffer(buf, 'buf');\n\t\tbuf = buf.toString('ascii');\n\t}\n\n\tvar trimmed = buf.trim().replace(/[\\\\\\r]/g, '');\n\tvar m = trimmed.match(SSHKEY_RE);\n\tif (!m)\n\t\tm = trimmed.match(SSHKEY_RE2);\n\tassert.ok(m, 'key must match regex');\n\n\tvar type = rfc4253.algToKeyType(m[1]);\n\tvar kbuf = Buffer.from(m[2], 'base64');\n\n\t/*\n\t * This is a bit tricky. If we managed to parse the key and locate the\n\t * key comment with the regex, then do a non-partial read and assert\n\t * that we have consumed all bytes. If we couldn't locate the key\n\t * comment, though, there may be whitespace shenanigans going on that\n\t * have conjoined the comment to the rest of the key. We do a partial\n\t * read in this case to try to make the best out of a sorry situation.\n\t */\n\tvar key;\n\tvar ret = {};\n\tif (m[4]) {\n\t\ttry {\n\t\t\tkey = rfc4253.read(kbuf);\n\n\t\t} catch (e) {\n\t\t\tm = trimmed.match(SSHKEY_RE2);\n\t\t\tassert.ok(m, 'key must match regex');\n\t\t\tkbuf = Buffer.from(m[2], 'base64');\n\t\t\tkey = rfc4253.readInternal(ret, 'public', kbuf);\n\t\t}\n\t} else {\n\t\tkey = rfc4253.readInternal(ret, 'public', kbuf);\n\t}\n\n\tassert.strictEqual(type, key.type);\n\n\tif (m[4] && m[4].length > 0) {\n\t\tkey.comment = m[4];\n\n\t} else if (ret.consumed) {\n\t\t/*\n\t\t * Now the magic: trying to recover the key comment when it's\n\t\t * gotten conjoined to the key or otherwise shenanigan'd.\n\t\t *\n\t\t * Work out how much base64 we used, then drop all non-base64\n\t\t * chars from the beginning up to this point in the the string.\n\t\t * Then offset in this and try to make up for missing = chars.\n\t\t */\n\t\tvar data = m[2] + (m[3] ? m[3] : '');\n\t\tvar realOffset = Math.ceil(ret.consumed / 3) * 4;\n\t\tdata = data.slice(0, realOffset - 2). /*JSSTYLED*/\n\t\t    replace(/[^a-zA-Z0-9+\\/=]/g, '') +\n\t\t    data.slice(realOffset - 2);\n\n\t\tvar padding = ret.consumed % 3;\n\t\tif (padding > 0 &&\n\t\t    data.slice(realOffset - 1, realOffset) !== '=')\n\t\t\trealOffset--;\n\t\twhile (data.slice(realOffset, realOffset + 1) === '=')\n\t\t\trealOffset++;\n\n\t\t/* Finally, grab what we think is the comment & clean it up. */\n\t\tvar trailer = data.slice(realOffset);\n\t\ttrailer = trailer.replace(/[\\r\\n]/g, ' ').\n\t\t    replace(/^\\s+/, '');\n\t\tif (trailer.match(/^[a-zA-Z0-9]/))\n\t\t\tkey.comment = trailer;\n\t}\n\n\treturn (key);\n}\n\nfunction write(key, options) {\n\tassert.object(key);\n\tif (!Key.isKey(key))\n\t\tthrow (new Error('Must be a public key'));\n\n\tvar parts = [];\n\tvar alg = rfc4253.keyTypeToAlg(key);\n\tparts.push(alg);\n\n\tvar buf = rfc4253.write(key);\n\tparts.push(buf.toString('base64'));\n\n\tif (key.comment)\n\t\tparts.push(key.comment);\n\n\treturn (Buffer.from(parts.join(' ')));\n}\n","// Copyright 2016 Joyent, Inc.\n\nvar x509 = require('./x509');\n\nmodule.exports = {\n\tread: read,\n\tverify: x509.verify,\n\tsign: x509.sign,\n\twrite: write\n};\n\nvar assert = require('assert-plus');\nvar asn1 = require('asn1');\nvar Buffer = require('safer-buffer').Buffer;\nvar algs = require('../algs');\nvar utils = require('../utils');\nvar Key = require('../key');\nvar PrivateKey = require('../private-key');\nvar pem = require('./pem');\nvar Identity = require('../identity');\nvar Signature = require('../signature');\nvar Certificate = require('../certificate');\n\nfunction read(buf, options) {\n\tif (typeof (buf) !== 'string') {\n\t\tassert.buffer(buf, 'buf');\n\t\tbuf = buf.toString('ascii');\n\t}\n\n\tvar lines = buf.trim().split(/[\\r\\n]+/g);\n\n\tvar m;\n\tvar si = -1;\n\twhile (!m && si < lines.length) {\n\t\tm = lines[++si].match(/*JSSTYLED*/\n\t\t    /[-]+[ ]*BEGIN CERTIFICATE[ ]*[-]+/);\n\t}\n\tassert.ok(m, 'invalid PEM header');\n\n\tvar m2;\n\tvar ei = lines.length;\n\twhile (!m2 && ei > 0) {\n\t\tm2 = lines[--ei].match(/*JSSTYLED*/\n\t\t    /[-]+[ ]*END CERTIFICATE[ ]*[-]+/);\n\t}\n\tassert.ok(m2, 'invalid PEM footer');\n\n\tlines = lines.slice(si, ei + 1);\n\n\tvar headers = {};\n\twhile (true) {\n\t\tlines = lines.slice(1);\n\t\tm = lines[0].match(/*JSSTYLED*/\n\t\t    /^([A-Za-z0-9-]+): (.+)$/);\n\t\tif (!m)\n\t\t\tbreak;\n\t\theaders[m[1].toLowerCase()] = m[2];\n\t}\n\n\t/* Chop off the first and last lines */\n\tlines = lines.slice(0, -1).join('');\n\tbuf = Buffer.from(lines, 'base64');\n\n\treturn (x509.read(buf, options));\n}\n\nfunction write(cert, options) {\n\tvar dbuf = x509.write(cert, options);\n\n\tvar header = 'CERTIFICATE';\n\tvar tmp = dbuf.toString('base64');\n\tvar len = tmp.length + (tmp.length / 64) +\n\t    18 + 16 + header.length*2 + 10;\n\tvar buf = Buffer.alloc(len);\n\tvar o = 0;\n\to += buf.write('-----BEGIN ' + header + '-----\\n', o);\n\tfor (var i = 0; i < tmp.length; ) {\n\t\tvar limit = i + 64;\n\t\tif (limit > tmp.length)\n\t\t\tlimit = tmp.length;\n\t\to += buf.write(tmp.slice(i, limit), o);\n\t\tbuf[o++] = 10;\n\t\ti = limit;\n\t}\n\to += buf.write('-----END ' + header + '-----\\n', o);\n\n\treturn (buf.slice(0, o));\n}\n","// Copyright 2017 Joyent, Inc.\n\nmodule.exports = {\n\tread: read,\n\tverify: verify,\n\tsign: sign,\n\tsignAsync: signAsync,\n\twrite: write\n};\n\nvar assert = require('assert-plus');\nvar asn1 = require('asn1');\nvar Buffer = require('safer-buffer').Buffer;\nvar algs = require('../algs');\nvar utils = require('../utils');\nvar Key = require('../key');\nvar PrivateKey = require('../private-key');\nvar pem = require('./pem');\nvar Identity = require('../identity');\nvar Signature = require('../signature');\nvar Certificate = require('../certificate');\nvar pkcs8 = require('./pkcs8');\n\n/*\n * This file is based on RFC5280 (X.509).\n */\n\n/* Helper to read in a single mpint */\nfunction readMPInt(der, nm) {\n\tassert.strictEqual(der.peek(), asn1.Ber.Integer,\n\t    nm + ' is not an Integer');\n\treturn (utils.mpNormalize(der.readString(asn1.Ber.Integer, true)));\n}\n\nfunction verify(cert, key) {\n\tvar sig = cert.signatures.x509;\n\tassert.object(sig, 'x509 signature');\n\n\tvar algParts = sig.algo.split('-');\n\tif (algParts[0] !== key.type)\n\t\treturn (false);\n\n\tvar blob = sig.cache;\n\tif (blob === undefined) {\n\t\tvar der = new asn1.BerWriter();\n\t\twriteTBSCert(cert, der);\n\t\tblob = der.buffer;\n\t}\n\n\tvar verifier = key.createVerify(algParts[1]);\n\tverifier.write(blob);\n\treturn (verifier.verify(sig.signature));\n}\n\nfunction Local(i) {\n\treturn (asn1.Ber.Context | asn1.Ber.Constructor | i);\n}\n\nfunction Context(i) {\n\treturn (asn1.Ber.Context | i);\n}\n\nvar SIGN_ALGS = {\n\t'rsa-md5': '1.2.840.113549.1.1.4',\n\t'rsa-sha1': '1.2.840.113549.1.1.5',\n\t'rsa-sha256': '1.2.840.113549.1.1.11',\n\t'rsa-sha384': '1.2.840.113549.1.1.12',\n\t'rsa-sha512': '1.2.840.113549.1.1.13',\n\t'dsa-sha1': '1.2.840.10040.4.3',\n\t'dsa-sha256': '2.16.840.1.101.3.4.3.2',\n\t'ecdsa-sha1': '1.2.840.10045.4.1',\n\t'ecdsa-sha256': '1.2.840.10045.4.3.2',\n\t'ecdsa-sha384': '1.2.840.10045.4.3.3',\n\t'ecdsa-sha512': '1.2.840.10045.4.3.4',\n\t'ed25519-sha512': '1.3.101.112'\n};\nObject.keys(SIGN_ALGS).forEach(function (k) {\n\tSIGN_ALGS[SIGN_ALGS[k]] = k;\n});\nSIGN_ALGS['1.3.14.3.2.3'] = 'rsa-md5';\nSIGN_ALGS['1.3.14.3.2.29'] = 'rsa-sha1';\n\nvar EXTS = {\n\t'issuerKeyId': '2.5.29.35',\n\t'altName': '2.5.29.17',\n\t'basicConstraints': '2.5.29.19',\n\t'keyUsage': '2.5.29.15',\n\t'extKeyUsage': '2.5.29.37'\n};\n\nfunction read(buf, options) {\n\tif (typeof (buf) === 'string') {\n\t\tbuf = Buffer.from(buf, 'binary');\n\t}\n\tassert.buffer(buf, 'buf');\n\n\tvar der = new asn1.BerReader(buf);\n\n\tder.readSequence();\n\tif (Math.abs(der.length - der.remain) > 1) {\n\t\tthrow (new Error('DER sequence does not contain whole byte ' +\n\t\t    'stream'));\n\t}\n\n\tvar tbsStart = der.offset;\n\tder.readSequence();\n\tvar sigOffset = der.offset + der.length;\n\tvar tbsEnd = sigOffset;\n\n\tif (der.peek() === Local(0)) {\n\t\tder.readSequence(Local(0));\n\t\tvar version = der.readInt();\n\t\tassert.ok(version <= 3,\n\t\t    'only x.509 versions up to v3 supported');\n\t}\n\n\tvar cert = {};\n\tcert.signatures = {};\n\tvar sig = (cert.signatures.x509 = {});\n\tsig.extras = {};\n\n\tcert.serial = readMPInt(der, 'serial');\n\n\tder.readSequence();\n\tvar after = der.offset + der.length;\n\tvar certAlgOid = der.readOID();\n\tvar certAlg = SIGN_ALGS[certAlgOid];\n\tif (certAlg === undefined)\n\t\tthrow (new Error('unknown signature algorithm ' + certAlgOid));\n\n\tder._offset = after;\n\tcert.issuer = Identity.parseAsn1(der);\n\n\tder.readSequence();\n\tcert.validFrom = readDate(der);\n\tcert.validUntil = readDate(der);\n\n\tcert.subjects = [Identity.parseAsn1(der)];\n\n\tder.readSequence();\n\tafter = der.offset + der.length;\n\tcert.subjectKey = pkcs8.readPkcs8(undefined, 'public', der);\n\tder._offset = after;\n\n\t/* issuerUniqueID */\n\tif (der.peek() === Local(1)) {\n\t\tder.readSequence(Local(1));\n\t\tsig.extras.issuerUniqueID =\n\t\t    buf.slice(der.offset, der.offset + der.length);\n\t\tder._offset += der.length;\n\t}\n\n\t/* subjectUniqueID */\n\tif (der.peek() === Local(2)) {\n\t\tder.readSequence(Local(2));\n\t\tsig.extras.subjectUniqueID =\n\t\t    buf.slice(der.offset, der.offset + der.length);\n\t\tder._offset += der.length;\n\t}\n\n\t/* extensions */\n\tif (der.peek() === Local(3)) {\n\t\tder.readSequence(Local(3));\n\t\tvar extEnd = der.offset + der.length;\n\t\tder.readSequence();\n\n\t\twhile (der.offset < extEnd)\n\t\t\treadExtension(cert, buf, der);\n\n\t\tassert.strictEqual(der.offset, extEnd);\n\t}\n\n\tassert.strictEqual(der.offset, sigOffset);\n\n\tder.readSequence();\n\tafter = der.offset + der.length;\n\tvar sigAlgOid = der.readOID();\n\tvar sigAlg = SIGN_ALGS[sigAlgOid];\n\tif (sigAlg === undefined)\n\t\tthrow (new Error('unknown signature algorithm ' + sigAlgOid));\n\tder._offset = after;\n\n\tvar sigData = der.readString(asn1.Ber.BitString, true);\n\tif (sigData[0] === 0)\n\t\tsigData = sigData.slice(1);\n\tvar algParts = sigAlg.split('-');\n\n\tsig.signature = Signature.parse(sigData, algParts[0], 'asn1');\n\tsig.signature.hashAlgorithm = algParts[1];\n\tsig.algo = sigAlg;\n\tsig.cache = buf.slice(tbsStart, tbsEnd);\n\n\treturn (new Certificate(cert));\n}\n\nfunction readDate(der) {\n\tif (der.peek() === asn1.Ber.UTCTime) {\n\t\treturn (utcTimeToDate(der.readString(asn1.Ber.UTCTime)));\n\t} else if (der.peek() === asn1.Ber.GeneralizedTime) {\n\t\treturn (gTimeToDate(der.readString(asn1.Ber.GeneralizedTime)));\n\t} else {\n\t\tthrow (new Error('Unsupported date format'));\n\t}\n}\n\nfunction writeDate(der, date) {\n\tif (date.getUTCFullYear() >= 2050 || date.getUTCFullYear() < 1950) {\n\t\tder.writeString(dateToGTime(date), asn1.Ber.GeneralizedTime);\n\t} else {\n\t\tder.writeString(dateToUTCTime(date), asn1.Ber.UTCTime);\n\t}\n}\n\n/* RFC5280, section 4.2.1.6 (GeneralName type) */\nvar ALTNAME = {\n\tOtherName: Local(0),\n\tRFC822Name: Context(1),\n\tDNSName: Context(2),\n\tX400Address: Local(3),\n\tDirectoryName: Local(4),\n\tEDIPartyName: Local(5),\n\tURI: Context(6),\n\tIPAddress: Context(7),\n\tOID: Context(8)\n};\n\n/* RFC5280, section 4.2.1.12 (KeyPurposeId) */\nvar EXTPURPOSE = {\n\t'serverAuth': '1.3.6.1.5.5.7.3.1',\n\t'clientAuth': '1.3.6.1.5.5.7.3.2',\n\t'codeSigning': '1.3.6.1.5.5.7.3.3',\n\n\t/* See https://github.com/joyent/oid-docs/blob/master/root.md */\n\t'joyentDocker': '1.3.6.1.4.1.38678.1.4.1',\n\t'joyentCmon': '1.3.6.1.4.1.38678.1.4.2'\n};\nvar EXTPURPOSE_REV = {};\nObject.keys(EXTPURPOSE).forEach(function (k) {\n\tEXTPURPOSE_REV[EXTPURPOSE[k]] = k;\n});\n\nvar KEYUSEBITS = [\n\t'signature', 'identity', 'keyEncryption',\n\t'encryption', 'keyAgreement', 'ca', 'crl'\n];\n\nfunction readExtension(cert, buf, der) {\n\tder.readSequence();\n\tvar after = der.offset + der.length;\n\tvar extId = der.readOID();\n\tvar id;\n\tvar sig = cert.signatures.x509;\n\tif (!sig.extras.exts)\n\t\tsig.extras.exts = [];\n\n\tvar critical;\n\tif (der.peek() === asn1.Ber.Boolean)\n\t\tcritical = der.readBoolean();\n\n\tswitch (extId) {\n\tcase (EXTS.basicConstraints):\n\t\tder.readSequence(asn1.Ber.OctetString);\n\t\tder.readSequence();\n\t\tvar bcEnd = der.offset + der.length;\n\t\tvar ca = false;\n\t\tif (der.peek() === asn1.Ber.Boolean)\n\t\t\tca = der.readBoolean();\n\t\tif (cert.purposes === undefined)\n\t\t\tcert.purposes = [];\n\t\tif (ca === true)\n\t\t\tcert.purposes.push('ca');\n\t\tvar bc = { oid: extId, critical: critical };\n\t\tif (der.offset < bcEnd && der.peek() === asn1.Ber.Integer)\n\t\t\tbc.pathLen = der.readInt();\n\t\tsig.extras.exts.push(bc);\n\t\tbreak;\n\tcase (EXTS.extKeyUsage):\n\t\tder.readSequence(asn1.Ber.OctetString);\n\t\tder.readSequence();\n\t\tif (cert.purposes === undefined)\n\t\t\tcert.purposes = [];\n\t\tvar ekEnd = der.offset + der.length;\n\t\twhile (der.offset < ekEnd) {\n\t\t\tvar oid = der.readOID();\n\t\t\tcert.purposes.push(EXTPURPOSE_REV[oid] || oid);\n\t\t}\n\t\t/*\n\t\t * This is a bit of a hack: in the case where we have a cert\n\t\t * that's only allowed to do serverAuth or clientAuth (and not\n\t\t * the other), we want to make sure all our Subjects are of\n\t\t * the right type. But we already parsed our Subjects and\n\t\t * decided if they were hosts or users earlier (since it appears\n\t\t * first in the cert).\n\t\t *\n\t\t * So we go through and mutate them into the right kind here if\n\t\t * it doesn't match. This might not be hugely beneficial, as it\n\t\t * seems that single-purpose certs are not often seen in the\n\t\t * wild.\n\t\t */\n\t\tif (cert.purposes.indexOf('serverAuth') !== -1 &&\n\t\t    cert.purposes.indexOf('clientAuth') === -1) {\n\t\t\tcert.subjects.forEach(function (ide) {\n\t\t\t\tif (ide.type !== 'host') {\n\t\t\t\t\tide.type = 'host';\n\t\t\t\t\tide.hostname = ide.uid ||\n\t\t\t\t\t    ide.email ||\n\t\t\t\t\t    ide.components[0].value;\n\t\t\t\t}\n\t\t\t});\n\t\t} else if (cert.purposes.indexOf('clientAuth') !== -1 &&\n\t\t    cert.purposes.indexOf('serverAuth') === -1) {\n\t\t\tcert.subjects.forEach(function (ide) {\n\t\t\t\tif (ide.type !== 'user') {\n\t\t\t\t\tide.type = 'user';\n\t\t\t\t\tide.uid = ide.hostname ||\n\t\t\t\t\t    ide.email ||\n\t\t\t\t\t    ide.components[0].value;\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t\tsig.extras.exts.push({ oid: extId, critical: critical });\n\t\tbreak;\n\tcase (EXTS.keyUsage):\n\t\tder.readSequence(asn1.Ber.OctetString);\n\t\tvar bits = der.readString(asn1.Ber.BitString, true);\n\t\tvar setBits = readBitField(bits, KEYUSEBITS);\n\t\tsetBits.forEach(function (bit) {\n\t\t\tif (cert.purposes === undefined)\n\t\t\t\tcert.purposes = [];\n\t\t\tif (cert.purposes.indexOf(bit) === -1)\n\t\t\t\tcert.purposes.push(bit);\n\t\t});\n\t\tsig.extras.exts.push({ oid: extId, critical: critical,\n\t\t    bits: bits });\n\t\tbreak;\n\tcase (EXTS.altName):\n\t\tder.readSequence(asn1.Ber.OctetString);\n\t\tder.readSequence();\n\t\tvar aeEnd = der.offset + der.length;\n\t\twhile (der.offset < aeEnd) {\n\t\t\tswitch (der.peek()) {\n\t\t\tcase ALTNAME.OtherName:\n\t\t\tcase ALTNAME.EDIPartyName:\n\t\t\t\tder.readSequence();\n\t\t\t\tder._offset += der.length;\n\t\t\t\tbreak;\n\t\t\tcase ALTNAME.OID:\n\t\t\t\tder.readOID(ALTNAME.OID);\n\t\t\t\tbreak;\n\t\t\tcase ALTNAME.RFC822Name:\n\t\t\t\t/* RFC822 specifies email addresses */\n\t\t\t\tvar email = der.readString(ALTNAME.RFC822Name);\n\t\t\t\tid = Identity.forEmail(email);\n\t\t\t\tif (!cert.subjects[0].equals(id))\n\t\t\t\t\tcert.subjects.push(id);\n\t\t\t\tbreak;\n\t\t\tcase ALTNAME.DirectoryName:\n\t\t\t\tder.readSequence(ALTNAME.DirectoryName);\n\t\t\t\tid = Identity.parseAsn1(der);\n\t\t\t\tif (!cert.subjects[0].equals(id))\n\t\t\t\t\tcert.subjects.push(id);\n\t\t\t\tbreak;\n\t\t\tcase ALTNAME.DNSName:\n\t\t\t\tvar host = der.readString(\n\t\t\t\t    ALTNAME.DNSName);\n\t\t\t\tid = Identity.forHost(host);\n\t\t\t\tif (!cert.subjects[0].equals(id))\n\t\t\t\t\tcert.subjects.push(id);\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tder.readString(der.peek());\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\tsig.extras.exts.push({ oid: extId, critical: critical });\n\t\tbreak;\n\tdefault:\n\t\tsig.extras.exts.push({\n\t\t\toid: extId,\n\t\t\tcritical: critical,\n\t\t\tdata: der.readString(asn1.Ber.OctetString, true)\n\t\t});\n\t\tbreak;\n\t}\n\n\tder._offset = after;\n}\n\nvar UTCTIME_RE =\n    /^([0-9]{2})([0-9]{2})([0-9]{2})([0-9]{2})([0-9]{2})([0-9]{2})?Z$/;\nfunction utcTimeToDate(t) {\n\tvar m = t.match(UTCTIME_RE);\n\tassert.ok(m, 'timestamps must be in UTC');\n\tvar d = new Date();\n\n\tvar thisYear = d.getUTCFullYear();\n\tvar century = Math.floor(thisYear / 100) * 100;\n\n\tvar year = parseInt(m[1], 10);\n\tif (thisYear % 100 < 50 && year >= 60)\n\t\tyear += (century - 1);\n\telse\n\t\tyear += century;\n\td.setUTCFullYear(year, parseInt(m[2], 10) - 1, parseInt(m[3], 10));\n\td.setUTCHours(parseInt(m[4], 10), parseInt(m[5], 10));\n\tif (m[6] && m[6].length > 0)\n\t\td.setUTCSeconds(parseInt(m[6], 10));\n\treturn (d);\n}\n\nvar GTIME_RE =\n    /^([0-9]{4})([0-9]{2})([0-9]{2})([0-9]{2})([0-9]{2})([0-9]{2})?Z$/;\nfunction gTimeToDate(t) {\n\tvar m = t.match(GTIME_RE);\n\tassert.ok(m);\n\tvar d = new Date();\n\n\td.setUTCFullYear(parseInt(m[1], 10), parseInt(m[2], 10) - 1,\n\t    parseInt(m[3], 10));\n\td.setUTCHours(parseInt(m[4], 10), parseInt(m[5], 10));\n\tif (m[6] && m[6].length > 0)\n\t\td.setUTCSeconds(parseInt(m[6], 10));\n\treturn (d);\n}\n\nfunction zeroPad(n, m) {\n\tif (m === undefined)\n\t\tm = 2;\n\tvar s = '' + n;\n\twhile (s.length < m)\n\t\ts = '0' + s;\n\treturn (s);\n}\n\nfunction dateToUTCTime(d) {\n\tvar s = '';\n\ts += zeroPad(d.getUTCFullYear() % 100);\n\ts += zeroPad(d.getUTCMonth() + 1);\n\ts += zeroPad(d.getUTCDate());\n\ts += zeroPad(d.getUTCHours());\n\ts += zeroPad(d.getUTCMinutes());\n\ts += zeroPad(d.getUTCSeconds());\n\ts += 'Z';\n\treturn (s);\n}\n\nfunction dateToGTime(d) {\n\tvar s = '';\n\ts += zeroPad(d.getUTCFullYear(), 4);\n\ts += zeroPad(d.getUTCMonth() + 1);\n\ts += zeroPad(d.getUTCDate());\n\ts += zeroPad(d.getUTCHours());\n\ts += zeroPad(d.getUTCMinutes());\n\ts += zeroPad(d.getUTCSeconds());\n\ts += 'Z';\n\treturn (s);\n}\n\nfunction sign(cert, key) {\n\tif (cert.signatures.x509 === undefined)\n\t\tcert.signatures.x509 = {};\n\tvar sig = cert.signatures.x509;\n\n\tsig.algo = key.type + '-' + key.defaultHashAlgorithm();\n\tif (SIGN_ALGS[sig.algo] === undefined)\n\t\treturn (false);\n\n\tvar der = new asn1.BerWriter();\n\twriteTBSCert(cert, der);\n\tvar blob = der.buffer;\n\tsig.cache = blob;\n\n\tvar signer = key.createSign();\n\tsigner.write(blob);\n\tcert.signatures.x509.signature = signer.sign();\n\n\treturn (true);\n}\n\nfunction signAsync(cert, signer, done) {\n\tif (cert.signatures.x509 === undefined)\n\t\tcert.signatures.x509 = {};\n\tvar sig = cert.signatures.x509;\n\n\tvar der = new asn1.BerWriter();\n\twriteTBSCert(cert, der);\n\tvar blob = der.buffer;\n\tsig.cache = blob;\n\n\tsigner(blob, function (err, signature) {\n\t\tif (err) {\n\t\t\tdone(err);\n\t\t\treturn;\n\t\t}\n\t\tsig.algo = signature.type + '-' + signature.hashAlgorithm;\n\t\tif (SIGN_ALGS[sig.algo] === undefined) {\n\t\t\tdone(new Error('Invalid signing algorithm \"' +\n\t\t\t    sig.algo + '\"'));\n\t\t\treturn;\n\t\t}\n\t\tsig.signature = signature;\n\t\tdone();\n\t});\n}\n\nfunction write(cert, options) {\n\tvar sig = cert.signatures.x509;\n\tassert.object(sig, 'x509 signature');\n\n\tvar der = new asn1.BerWriter();\n\tder.startSequence();\n\tif (sig.cache) {\n\t\tder._ensure(sig.cache.length);\n\t\tsig.cache.copy(der._buf, der._offset);\n\t\tder._offset += sig.cache.length;\n\t} else {\n\t\twriteTBSCert(cert, der);\n\t}\n\n\tder.startSequence();\n\tder.writeOID(SIGN_ALGS[sig.algo]);\n\tif (sig.algo.match(/^rsa-/))\n\t\tder.writeNull();\n\tder.endSequence();\n\n\tvar sigData = sig.signature.toBuffer('asn1');\n\tvar data = Buffer.alloc(sigData.length + 1);\n\tdata[0] = 0;\n\tsigData.copy(data, 1);\n\tder.writeBuffer(data, asn1.Ber.BitString);\n\tder.endSequence();\n\n\treturn (der.buffer);\n}\n\nfunction writeTBSCert(cert, der) {\n\tvar sig = cert.signatures.x509;\n\tassert.object(sig, 'x509 signature');\n\n\tder.startSequence();\n\n\tder.startSequence(Local(0));\n\tder.writeInt(2);\n\tder.endSequence();\n\n\tder.writeBuffer(utils.mpNormalize(cert.serial), asn1.Ber.Integer);\n\n\tder.startSequence();\n\tder.writeOID(SIGN_ALGS[sig.algo]);\n\tif (sig.algo.match(/^rsa-/))\n\t\tder.writeNull();\n\tder.endSequence();\n\n\tcert.issuer.toAsn1(der);\n\n\tder.startSequence();\n\twriteDate(der, cert.validFrom);\n\twriteDate(der, cert.validUntil);\n\tder.endSequence();\n\n\tvar subject = cert.subjects[0];\n\tvar altNames = cert.subjects.slice(1);\n\tsubject.toAsn1(der);\n\n\tpkcs8.writePkcs8(der, cert.subjectKey);\n\n\tif (sig.extras && sig.extras.issuerUniqueID) {\n\t\tder.writeBuffer(sig.extras.issuerUniqueID, Local(1));\n\t}\n\n\tif (sig.extras && sig.extras.subjectUniqueID) {\n\t\tder.writeBuffer(sig.extras.subjectUniqueID, Local(2));\n\t}\n\n\tif (altNames.length > 0 || subject.type === 'host' ||\n\t    (cert.purposes !== undefined && cert.purposes.length > 0) ||\n\t    (sig.extras && sig.extras.exts)) {\n\t\tder.startSequence(Local(3));\n\t\tder.startSequence();\n\n\t\tvar exts = [];\n\t\tif (cert.purposes !== undefined && cert.purposes.length > 0) {\n\t\t\texts.push({\n\t\t\t\toid: EXTS.basicConstraints,\n\t\t\t\tcritical: true\n\t\t\t});\n\t\t\texts.push({\n\t\t\t\toid: EXTS.keyUsage,\n\t\t\t\tcritical: true\n\t\t\t});\n\t\t\texts.push({\n\t\t\t\toid: EXTS.extKeyUsage,\n\t\t\t\tcritical: true\n\t\t\t});\n\t\t}\n\t\texts.push({ oid: EXTS.altName });\n\t\tif (sig.extras && sig.extras.exts)\n\t\t\texts = sig.extras.exts;\n\n\t\tfor (var i = 0; i < exts.length; ++i) {\n\t\t\tder.startSequence();\n\t\t\tder.writeOID(exts[i].oid);\n\n\t\t\tif (exts[i].critical !== undefined)\n\t\t\t\tder.writeBoolean(exts[i].critical);\n\n\t\t\tif (exts[i].oid === EXTS.altName) {\n\t\t\t\tder.startSequence(asn1.Ber.OctetString);\n\t\t\t\tder.startSequence();\n\t\t\t\tif (subject.type === 'host') {\n\t\t\t\t\tder.writeString(subject.hostname,\n\t\t\t\t\t    Context(2));\n\t\t\t\t}\n\t\t\t\tfor (var j = 0; j < altNames.length; ++j) {\n\t\t\t\t\tif (altNames[j].type === 'host') {\n\t\t\t\t\t\tder.writeString(\n\t\t\t\t\t\t    altNames[j].hostname,\n\t\t\t\t\t\t    ALTNAME.DNSName);\n\t\t\t\t\t} else if (altNames[j].type ===\n\t\t\t\t\t    'email') {\n\t\t\t\t\t\tder.writeString(\n\t\t\t\t\t\t    altNames[j].email,\n\t\t\t\t\t\t    ALTNAME.RFC822Name);\n\t\t\t\t\t} else {\n\t\t\t\t\t\t/*\n\t\t\t\t\t\t * Encode anything else as a\n\t\t\t\t\t\t * DN style name for now.\n\t\t\t\t\t\t */\n\t\t\t\t\t\tder.startSequence(\n\t\t\t\t\t\t    ALTNAME.DirectoryName);\n\t\t\t\t\t\taltNames[j].toAsn1(der);\n\t\t\t\t\t\tder.endSequence();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tder.endSequence();\n\t\t\t\tder.endSequence();\n\t\t\t} else if (exts[i].oid === EXTS.basicConstraints) {\n\t\t\t\tder.startSequence(asn1.Ber.OctetString);\n\t\t\t\tder.startSequence();\n\t\t\t\tvar ca = (cert.purposes.indexOf('ca') !== -1);\n\t\t\t\tvar pathLen = exts[i].pathLen;\n\t\t\t\tder.writeBoolean(ca);\n\t\t\t\tif (pathLen !== undefined)\n\t\t\t\t\tder.writeInt(pathLen);\n\t\t\t\tder.endSequence();\n\t\t\t\tder.endSequence();\n\t\t\t} else if (exts[i].oid === EXTS.extKeyUsage) {\n\t\t\t\tder.startSequence(asn1.Ber.OctetString);\n\t\t\t\tder.startSequence();\n\t\t\t\tcert.purposes.forEach(function (purpose) {\n\t\t\t\t\tif (purpose === 'ca')\n\t\t\t\t\t\treturn;\n\t\t\t\t\tif (KEYUSEBITS.indexOf(purpose) !== -1)\n\t\t\t\t\t\treturn;\n\t\t\t\t\tvar oid = purpose;\n\t\t\t\t\tif (EXTPURPOSE[purpose] !== undefined)\n\t\t\t\t\t\toid = EXTPURPOSE[purpose];\n\t\t\t\t\tder.writeOID(oid);\n\t\t\t\t});\n\t\t\t\tder.endSequence();\n\t\t\t\tder.endSequence();\n\t\t\t} else if (exts[i].oid === EXTS.keyUsage) {\n\t\t\t\tder.startSequence(asn1.Ber.OctetString);\n\t\t\t\t/*\n\t\t\t\t * If we parsed this certificate from a byte\n\t\t\t\t * stream (i.e. we didn't generate it in sshpk)\n\t\t\t\t * then we'll have a \".bits\" property on the\n\t\t\t\t * ext with the original raw byte contents.\n\t\t\t\t *\n\t\t\t\t * If we have this, use it here instead of\n\t\t\t\t * regenerating it. This guarantees we output\n\t\t\t\t * the same data we parsed, so signatures still\n\t\t\t\t * validate.\n\t\t\t\t */\n\t\t\t\tif (exts[i].bits !== undefined) {\n\t\t\t\t\tder.writeBuffer(exts[i].bits,\n\t\t\t\t\t    asn1.Ber.BitString);\n\t\t\t\t} else {\n\t\t\t\t\tvar bits = writeBitField(cert.purposes,\n\t\t\t\t\t    KEYUSEBITS);\n\t\t\t\t\tder.writeBuffer(bits,\n\t\t\t\t\t    asn1.Ber.BitString);\n\t\t\t\t}\n\t\t\t\tder.endSequence();\n\t\t\t} else {\n\t\t\t\tder.writeBuffer(exts[i].data,\n\t\t\t\t    asn1.Ber.OctetString);\n\t\t\t}\n\n\t\t\tder.endSequence();\n\t\t}\n\n\t\tder.endSequence();\n\t\tder.endSequence();\n\t}\n\n\tder.endSequence();\n}\n\n/*\n * Reads an ASN.1 BER bitfield out of the Buffer produced by doing\n * `BerReader#readString(asn1.Ber.BitString)`. That function gives us the raw\n * contents of the BitString tag, which is a count of unused bits followed by\n * the bits as a right-padded byte string.\n *\n * `bits` is the Buffer, `bitIndex` should contain an array of string names\n * for the bits in the string, ordered starting with bit #0 in the ASN.1 spec.\n *\n * Returns an array of Strings, the names of the bits that were set to 1.\n */\nfunction readBitField(bits, bitIndex) {\n\tvar bitLen = 8 * (bits.length - 1) - bits[0];\n\tvar setBits = {};\n\tfor (var i = 0; i < bitLen; ++i) {\n\t\tvar byteN = 1 + Math.floor(i / 8);\n\t\tvar bit = 7 - (i % 8);\n\t\tvar mask = 1 << bit;\n\t\tvar bitVal = ((bits[byteN] & mask) !== 0);\n\t\tvar name = bitIndex[i];\n\t\tif (bitVal && typeof (name) === 'string') {\n\t\t\tsetBits[name] = true;\n\t\t}\n\t}\n\treturn (Object.keys(setBits));\n}\n\n/*\n * `setBits` is an array of strings, containing the names for each bit that\n * sould be set to 1. `bitIndex` is same as in `readBitField()`.\n *\n * Returns a Buffer, ready to be written out with `BerWriter#writeString()`.\n */\nfunction writeBitField(setBits, bitIndex) {\n\tvar bitLen = bitIndex.length;\n\tvar blen = Math.ceil(bitLen / 8);\n\tvar unused = blen * 8 - bitLen;\n\tvar bits = Buffer.alloc(1 + blen); // zero-filled\n\tbits[0] = unused;\n\tfor (var i = 0; i < bitLen; ++i) {\n\t\tvar byteN = 1 + Math.floor(i / 8);\n\t\tvar bit = 7 - (i % 8);\n\t\tvar mask = 1 << bit;\n\t\tvar name = bitIndex[i];\n\t\tif (name === undefined)\n\t\t\tcontinue;\n\t\tvar bitVal = (setBits.indexOf(name) !== -1);\n\t\tif (bitVal) {\n\t\t\tbits[byteN] |= mask;\n\t\t}\n\t}\n\treturn (bits);\n}\n","// Copyright 2017 Joyent, Inc.\n\nmodule.exports = Identity;\n\nvar assert = require('assert-plus');\nvar algs = require('./algs');\nvar crypto = require('crypto');\nvar Fingerprint = require('./fingerprint');\nvar Signature = require('./signature');\nvar errs = require('./errors');\nvar util = require('util');\nvar utils = require('./utils');\nvar asn1 = require('asn1');\nvar Buffer = require('safer-buffer').Buffer;\n\n/*JSSTYLED*/\nvar DNS_NAME_RE = /^([*]|[a-z0-9][a-z0-9\\-]{0,62})(?:\\.([*]|[a-z0-9][a-z0-9\\-]{0,62}))*$/i;\n\nvar oids = {};\noids.cn = '2.5.4.3';\noids.o = '2.5.4.10';\noids.ou = '2.5.4.11';\noids.l = '2.5.4.7';\noids.s = '2.5.4.8';\noids.c = '2.5.4.6';\noids.sn = '2.5.4.4';\noids.postalCode = '2.5.4.17';\noids.serialNumber = '2.5.4.5';\noids.street = '2.5.4.9';\noids.x500UniqueIdentifier = '2.5.4.45';\noids.role = '2.5.4.72';\noids.telephoneNumber = '2.5.4.20';\noids.description = '2.5.4.13';\noids.dc = '0.9.2342.19200300.100.1.25';\noids.uid = '0.9.2342.19200300.100.1.1';\noids.mail = '0.9.2342.19200300.100.1.3';\noids.title = '2.5.4.12';\noids.gn = '2.5.4.42';\noids.initials = '2.5.4.43';\noids.pseudonym = '2.5.4.65';\noids.emailAddress = '1.2.840.113549.1.9.1';\n\nvar unoids = {};\nObject.keys(oids).forEach(function (k) {\n\tunoids[oids[k]] = k;\n});\n\nfunction Identity(opts) {\n\tvar self = this;\n\tassert.object(opts, 'options');\n\tassert.arrayOfObject(opts.components, 'options.components');\n\tthis.components = opts.components;\n\tthis.componentLookup = {};\n\tthis.components.forEach(function (c) {\n\t\tif (c.name && !c.oid)\n\t\t\tc.oid = oids[c.name];\n\t\tif (c.oid && !c.name)\n\t\t\tc.name = unoids[c.oid];\n\t\tif (self.componentLookup[c.name] === undefined)\n\t\t\tself.componentLookup[c.name] = [];\n\t\tself.componentLookup[c.name].push(c);\n\t});\n\tif (this.componentLookup.cn && this.componentLookup.cn.length > 0) {\n\t\tthis.cn = this.componentLookup.cn[0].value;\n\t}\n\tassert.optionalString(opts.type, 'options.type');\n\tif (opts.type === undefined) {\n\t\tif (this.components.length === 1 &&\n\t\t    this.componentLookup.cn &&\n\t\t    this.componentLookup.cn.length === 1 &&\n\t\t    this.componentLookup.cn[0].value.match(DNS_NAME_RE)) {\n\t\t\tthis.type = 'host';\n\t\t\tthis.hostname = this.componentLookup.cn[0].value;\n\n\t\t} else if (this.componentLookup.dc &&\n\t\t    this.components.length === this.componentLookup.dc.length) {\n\t\t\tthis.type = 'host';\n\t\t\tthis.hostname = this.componentLookup.dc.map(\n\t\t\t    function (c) {\n\t\t\t\treturn (c.value);\n\t\t\t}).join('.');\n\n\t\t} else if (this.componentLookup.uid &&\n\t\t    this.components.length ===\n\t\t    this.componentLookup.uid.length) {\n\t\t\tthis.type = 'user';\n\t\t\tthis.uid = this.componentLookup.uid[0].value;\n\n\t\t} else if (this.componentLookup.cn &&\n\t\t    this.componentLookup.cn.length === 1 &&\n\t\t    this.componentLookup.cn[0].value.match(DNS_NAME_RE)) {\n\t\t\tthis.type = 'host';\n\t\t\tthis.hostname = this.componentLookup.cn[0].value;\n\n\t\t} else if (this.componentLookup.uid &&\n\t\t    this.componentLookup.uid.length === 1) {\n\t\t\tthis.type = 'user';\n\t\t\tthis.uid = this.componentLookup.uid[0].value;\n\n\t\t} else if (this.componentLookup.mail &&\n\t\t    this.componentLookup.mail.length === 1) {\n\t\t\tthis.type = 'email';\n\t\t\tthis.email = this.componentLookup.mail[0].value;\n\n\t\t} else if (this.componentLookup.cn &&\n\t\t    this.componentLookup.cn.length === 1) {\n\t\t\tthis.type = 'user';\n\t\t\tthis.uid = this.componentLookup.cn[0].value;\n\n\t\t} else {\n\t\t\tthis.type = 'unknown';\n\t\t}\n\t} else {\n\t\tthis.type = opts.type;\n\t\tif (this.type === 'host')\n\t\t\tthis.hostname = opts.hostname;\n\t\telse if (this.type === 'user')\n\t\t\tthis.uid = opts.uid;\n\t\telse if (this.type === 'email')\n\t\t\tthis.email = opts.email;\n\t\telse\n\t\t\tthrow (new Error('Unknown type ' + this.type));\n\t}\n}\n\nIdentity.prototype.toString = function () {\n\treturn (this.components.map(function (c) {\n\t\tvar n = c.name.toUpperCase();\n\t\t/*JSSTYLED*/\n\t\tn = n.replace(/=/g, '\\\\=');\n\t\tvar v = c.value;\n\t\t/*JSSTYLED*/\n\t\tv = v.replace(/,/g, '\\\\,');\n\t\treturn (n + '=' + v);\n\t}).join(', '));\n};\n\nIdentity.prototype.get = function (name, asArray) {\n\tassert.string(name, 'name');\n\tvar arr = this.componentLookup[name];\n\tif (arr === undefined || arr.length === 0)\n\t\treturn (undefined);\n\tif (!asArray && arr.length > 1)\n\t\tthrow (new Error('Multiple values for attribute ' + name));\n\tif (!asArray)\n\t\treturn (arr[0].value);\n\treturn (arr.map(function (c) {\n\t\treturn (c.value);\n\t}));\n};\n\nIdentity.prototype.toArray = function (idx) {\n\treturn (this.components.map(function (c) {\n\t\treturn ({\n\t\t\tname: c.name,\n\t\t\tvalue: c.value\n\t\t});\n\t}));\n};\n\n/*\n * These are from X.680 -- PrintableString allowed chars are in section 37.4\n * table 8. Spec for IA5Strings is \"1,6 + SPACE + DEL\" where 1 refers to\n * ISO IR #001 (standard ASCII control characters) and 6 refers to ISO IR #006\n * (the basic ASCII character set).\n */\n/* JSSTYLED */\nvar NOT_PRINTABLE = /[^a-zA-Z0-9 '(),+.\\/:=?-]/;\n/* JSSTYLED */\nvar NOT_IA5 = /[^\\x00-\\x7f]/;\n\nIdentity.prototype.toAsn1 = function (der, tag) {\n\tder.startSequence(tag);\n\tthis.components.forEach(function (c) {\n\t\tder.startSequence(asn1.Ber.Constructor | asn1.Ber.Set);\n\t\tder.startSequence();\n\t\tder.writeOID(c.oid);\n\t\t/*\n\t\t * If we fit in a PrintableString, use that. Otherwise use an\n\t\t * IA5String or UTF8String.\n\t\t *\n\t\t * If this identity was parsed from a DN, use the ASN.1 types\n\t\t * from the original representation (otherwise this might not\n\t\t * be a full match for the original in some validators).\n\t\t */\n\t\tif (c.asn1type === asn1.Ber.Utf8String ||\n\t\t    c.value.match(NOT_IA5)) {\n\t\t\tvar v = Buffer.from(c.value, 'utf8');\n\t\t\tder.writeBuffer(v, asn1.Ber.Utf8String);\n\n\t\t} else if (c.asn1type === asn1.Ber.IA5String ||\n\t\t    c.value.match(NOT_PRINTABLE)) {\n\t\t\tder.writeString(c.value, asn1.Ber.IA5String);\n\n\t\t} else {\n\t\t\tvar type = asn1.Ber.PrintableString;\n\t\t\tif (c.asn1type !== undefined)\n\t\t\t\ttype = c.asn1type;\n\t\t\tder.writeString(c.value, type);\n\t\t}\n\t\tder.endSequence();\n\t\tder.endSequence();\n\t});\n\tder.endSequence();\n};\n\nfunction globMatch(a, b) {\n\tif (a === '**' || b === '**')\n\t\treturn (true);\n\tvar aParts = a.split('.');\n\tvar bParts = b.split('.');\n\tif (aParts.length !== bParts.length)\n\t\treturn (false);\n\tfor (var i = 0; i < aParts.length; ++i) {\n\t\tif (aParts[i] === '*' || bParts[i] === '*')\n\t\t\tcontinue;\n\t\tif (aParts[i] !== bParts[i])\n\t\t\treturn (false);\n\t}\n\treturn (true);\n}\n\nIdentity.prototype.equals = function (other) {\n\tif (!Identity.isIdentity(other, [1, 0]))\n\t\treturn (false);\n\tif (other.components.length !== this.components.length)\n\t\treturn (false);\n\tfor (var i = 0; i < this.components.length; ++i) {\n\t\tif (this.components[i].oid !== other.components[i].oid)\n\t\t\treturn (false);\n\t\tif (!globMatch(this.components[i].value,\n\t\t    other.components[i].value)) {\n\t\t\treturn (false);\n\t\t}\n\t}\n\treturn (true);\n};\n\nIdentity.forHost = function (hostname) {\n\tassert.string(hostname, 'hostname');\n\treturn (new Identity({\n\t\ttype: 'host',\n\t\thostname: hostname,\n\t\tcomponents: [ { name: 'cn', value: hostname } ]\n\t}));\n};\n\nIdentity.forUser = function (uid) {\n\tassert.string(uid, 'uid');\n\treturn (new Identity({\n\t\ttype: 'user',\n\t\tuid: uid,\n\t\tcomponents: [ { name: 'uid', value: uid } ]\n\t}));\n};\n\nIdentity.forEmail = function (email) {\n\tassert.string(email, 'email');\n\treturn (new Identity({\n\t\ttype: 'email',\n\t\temail: email,\n\t\tcomponents: [ { name: 'mail', value: email } ]\n\t}));\n};\n\nIdentity.parseDN = function (dn) {\n\tassert.string(dn, 'dn');\n\tvar parts = [''];\n\tvar idx = 0;\n\tvar rem = dn;\n\twhile (rem.length > 0) {\n\t\tvar m;\n\t\t/*JSSTYLED*/\n\t\tif ((m = /^,/.exec(rem)) !== null) {\n\t\t\tparts[++idx] = '';\n\t\t\trem = rem.slice(m[0].length);\n\t\t/*JSSTYLED*/\n\t\t} else if ((m = /^\\\\,/.exec(rem)) !== null) {\n\t\t\tparts[idx] += ',';\n\t\t\trem = rem.slice(m[0].length);\n\t\t/*JSSTYLED*/\n\t\t} else if ((m = /^\\\\./.exec(rem)) !== null) {\n\t\t\tparts[idx] += m[0];\n\t\t\trem = rem.slice(m[0].length);\n\t\t/*JSSTYLED*/\n\t\t} else if ((m = /^[^\\\\,]+/.exec(rem)) !== null) {\n\t\t\tparts[idx] += m[0];\n\t\t\trem = rem.slice(m[0].length);\n\t\t} else {\n\t\t\tthrow (new Error('Failed to parse DN'));\n\t\t}\n\t}\n\tvar cmps = parts.map(function (c) {\n\t\tc = c.trim();\n\t\tvar eqPos = c.indexOf('=');\n\t\twhile (eqPos > 0 && c.charAt(eqPos - 1) === '\\\\')\n\t\t\teqPos = c.indexOf('=', eqPos + 1);\n\t\tif (eqPos === -1) {\n\t\t\tthrow (new Error('Failed to parse DN'));\n\t\t}\n\t\t/*JSSTYLED*/\n\t\tvar name = c.slice(0, eqPos).toLowerCase().replace(/\\\\=/g, '=');\n\t\tvar value = c.slice(eqPos + 1);\n\t\treturn ({ name: name, value: value });\n\t});\n\treturn (new Identity({ components: cmps }));\n};\n\nIdentity.fromArray = function (components) {\n\tassert.arrayOfObject(components, 'components');\n\tcomponents.forEach(function (cmp) {\n\t\tassert.object(cmp, 'component');\n\t\tassert.string(cmp.name, 'component.name');\n\t\tif (!Buffer.isBuffer(cmp.value) &&\n\t\t    !(typeof (cmp.value) === 'string')) {\n\t\t\tthrow (new Error('Invalid component value'));\n\t\t}\n\t});\n\treturn (new Identity({ components: components }));\n};\n\nIdentity.parseAsn1 = function (der, top) {\n\tvar components = [];\n\tder.readSequence(top);\n\tvar end = der.offset + der.length;\n\twhile (der.offset < end) {\n\t\tder.readSequence(asn1.Ber.Constructor | asn1.Ber.Set);\n\t\tvar after = der.offset + der.length;\n\t\tder.readSequence();\n\t\tvar oid = der.readOID();\n\t\tvar type = der.peek();\n\t\tvar value;\n\t\tswitch (type) {\n\t\tcase asn1.Ber.PrintableString:\n\t\tcase asn1.Ber.IA5String:\n\t\tcase asn1.Ber.OctetString:\n\t\tcase asn1.Ber.T61String:\n\t\t\tvalue = der.readString(type);\n\t\t\tbreak;\n\t\tcase asn1.Ber.Utf8String:\n\t\t\tvalue = der.readString(type, true);\n\t\t\tvalue = value.toString('utf8');\n\t\t\tbreak;\n\t\tcase asn1.Ber.CharacterString:\n\t\tcase asn1.Ber.BMPString:\n\t\t\tvalue = der.readString(type, true);\n\t\t\tvalue = value.toString('utf16le');\n\t\t\tbreak;\n\t\tdefault:\n\t\t\tthrow (new Error('Unknown asn1 type ' + type));\n\t\t}\n\t\tcomponents.push({ oid: oid, asn1type: type, value: value });\n\t\tder._offset = after;\n\t}\n\tder._offset = end;\n\treturn (new Identity({\n\t\tcomponents: components\n\t}));\n};\n\nIdentity.isIdentity = function (obj, ver) {\n\treturn (utils.isCompatible(obj, Identity, ver));\n};\n\n/*\n * API versions for Identity:\n * [1,0] -- initial ver\n */\nIdentity.prototype._sshpkApiVersion = [1, 0];\n\nIdentity._oldVersionDetect = function (obj) {\n\treturn ([1, 0]);\n};\n","// Copyright 2015 Joyent, Inc.\n\nvar Key = require('./key');\nvar Fingerprint = require('./fingerprint');\nvar Signature = require('./signature');\nvar PrivateKey = require('./private-key');\nvar Certificate = require('./certificate');\nvar Identity = require('./identity');\nvar errs = require('./errors');\n\nmodule.exports = {\n\t/* top-level classes */\n\tKey: Key,\n\tparseKey: Key.parse,\n\tFingerprint: Fingerprint,\n\tparseFingerprint: Fingerprint.parse,\n\tSignature: Signature,\n\tparseSignature: Signature.parse,\n\tPrivateKey: PrivateKey,\n\tparsePrivateKey: PrivateKey.parse,\n\tgeneratePrivateKey: PrivateKey.generate,\n\tCertificate: Certificate,\n\tparseCertificate: Certificate.parse,\n\tcreateSelfSignedCertificate: Certificate.createSelfSigned,\n\tcreateCertificate: Certificate.create,\n\tIdentity: Identity,\n\tidentityFromDN: Identity.parseDN,\n\tidentityForHost: Identity.forHost,\n\tidentityForUser: Identity.forUser,\n\tidentityForEmail: Identity.forEmail,\n\tidentityFromArray: Identity.fromArray,\n\n\t/* errors */\n\tFingerprintFormatError: errs.FingerprintFormatError,\n\tInvalidAlgorithmError: errs.InvalidAlgorithmError,\n\tKeyParseError: errs.KeyParseError,\n\tSignatureParseError: errs.SignatureParseError,\n\tKeyEncryptedError: errs.KeyEncryptedError,\n\tCertificateParseError: errs.CertificateParseError\n};\n","// Copyright 2018 Joyent, Inc.\n\nmodule.exports = Key;\n\nvar assert = require('assert-plus');\nvar algs = require('./algs');\nvar crypto = require('crypto');\nvar Fingerprint = require('./fingerprint');\nvar Signature = require('./signature');\nvar DiffieHellman = require('./dhe').DiffieHellman;\nvar errs = require('./errors');\nvar utils = require('./utils');\nvar PrivateKey = require('./private-key');\nvar edCompat;\n\ntry {\n\tedCompat = require('./ed-compat');\n} catch (e) {\n\t/* Just continue through, and bail out if we try to use it. */\n}\n\nvar InvalidAlgorithmError = errs.InvalidAlgorithmError;\nvar KeyParseError = errs.KeyParseError;\n\nvar formats = {};\nformats['auto'] = require('./formats/auto');\nformats['pem'] = require('./formats/pem');\nformats['pkcs1'] = require('./formats/pkcs1');\nformats['pkcs8'] = require('./formats/pkcs8');\nformats['rfc4253'] = require('./formats/rfc4253');\nformats['ssh'] = require('./formats/ssh');\nformats['ssh-private'] = require('./formats/ssh-private');\nformats['openssh'] = formats['ssh-private'];\nformats['dnssec'] = require('./formats/dnssec');\nformats['putty'] = require('./formats/putty');\nformats['ppk'] = formats['putty'];\n\nfunction Key(opts) {\n\tassert.object(opts, 'options');\n\tassert.arrayOfObject(opts.parts, 'options.parts');\n\tassert.string(opts.type, 'options.type');\n\tassert.optionalString(opts.comment, 'options.comment');\n\n\tvar algInfo = algs.info[opts.type];\n\tif (typeof (algInfo) !== 'object')\n\t\tthrow (new InvalidAlgorithmError(opts.type));\n\n\tvar partLookup = {};\n\tfor (var i = 0; i < opts.parts.length; ++i) {\n\t\tvar part = opts.parts[i];\n\t\tpartLookup[part.name] = part;\n\t}\n\n\tthis.type = opts.type;\n\tthis.parts = opts.parts;\n\tthis.part = partLookup;\n\tthis.comment = undefined;\n\tthis.source = opts.source;\n\n\t/* for speeding up hashing/fingerprint operations */\n\tthis._rfc4253Cache = opts._rfc4253Cache;\n\tthis._hashCache = {};\n\n\tvar sz;\n\tthis.curve = undefined;\n\tif (this.type === 'ecdsa') {\n\t\tvar curve = this.part.curve.data.toString();\n\t\tthis.curve = curve;\n\t\tsz = algs.curves[curve].size;\n\t} else if (this.type === 'ed25519' || this.type === 'curve25519') {\n\t\tsz = 256;\n\t\tthis.curve = 'curve25519';\n\t} else {\n\t\tvar szPart = this.part[algInfo.sizePart];\n\t\tsz = szPart.data.length;\n\t\tsz = sz * 8 - utils.countZeros(szPart.data);\n\t}\n\tthis.size = sz;\n}\n\nKey.formats = formats;\n\nKey.prototype.toBuffer = function (format, options) {\n\tif (format === undefined)\n\t\tformat = 'ssh';\n\tassert.string(format, 'format');\n\tassert.object(formats[format], 'formats[format]');\n\tassert.optionalObject(options, 'options');\n\n\tif (format === 'rfc4253') {\n\t\tif (this._rfc4253Cache === undefined)\n\t\t\tthis._rfc4253Cache = formats['rfc4253'].write(this);\n\t\treturn (this._rfc4253Cache);\n\t}\n\n\treturn (formats[format].write(this, options));\n};\n\nKey.prototype.toString = function (format, options) {\n\treturn (this.toBuffer(format, options).toString());\n};\n\nKey.prototype.hash = function (algo, type) {\n\tassert.string(algo, 'algorithm');\n\tassert.optionalString(type, 'type');\n\tif (type === undefined)\n\t\ttype = 'ssh';\n\talgo = algo.toLowerCase();\n\tif (algs.hashAlgs[algo] === undefined)\n\t\tthrow (new InvalidAlgorithmError(algo));\n\n\tvar cacheKey = algo + '||' + type;\n\tif (this._hashCache[cacheKey])\n\t\treturn (this._hashCache[cacheKey]);\n\n\tvar buf;\n\tif (type === 'ssh') {\n\t\tbuf = this.toBuffer('rfc4253');\n\t} else if (type === 'spki') {\n\t\tbuf = formats.pkcs8.pkcs8ToBuffer(this);\n\t} else {\n\t\tthrow (new Error('Hash type ' + type + ' not supported'));\n\t}\n\tvar hash = crypto.createHash(algo).update(buf).digest();\n\tthis._hashCache[cacheKey] = hash;\n\treturn (hash);\n};\n\nKey.prototype.fingerprint = function (algo, type) {\n\tif (algo === undefined)\n\t\talgo = 'sha256';\n\tif (type === undefined)\n\t\ttype = 'ssh';\n\tassert.string(algo, 'algorithm');\n\tassert.string(type, 'type');\n\tvar opts = {\n\t\ttype: 'key',\n\t\thash: this.hash(algo, type),\n\t\talgorithm: algo,\n\t\thashType: type\n\t};\n\treturn (new Fingerprint(opts));\n};\n\nKey.prototype.defaultHashAlgorithm = function () {\n\tvar hashAlgo = 'sha1';\n\tif (this.type === 'rsa')\n\t\thashAlgo = 'sha256';\n\tif (this.type === 'dsa' && this.size > 1024)\n\t\thashAlgo = 'sha256';\n\tif (this.type === 'ed25519')\n\t\thashAlgo = 'sha512';\n\tif (this.type === 'ecdsa') {\n\t\tif (this.size <= 256)\n\t\t\thashAlgo = 'sha256';\n\t\telse if (this.size <= 384)\n\t\t\thashAlgo = 'sha384';\n\t\telse\n\t\t\thashAlgo = 'sha512';\n\t}\n\treturn (hashAlgo);\n};\n\nKey.prototype.createVerify = function (hashAlgo) {\n\tif (hashAlgo === undefined)\n\t\thashAlgo = this.defaultHashAlgorithm();\n\tassert.string(hashAlgo, 'hash algorithm');\n\n\t/* ED25519 is not supported by OpenSSL, use a javascript impl. */\n\tif (this.type === 'ed25519' && edCompat !== undefined)\n\t\treturn (new edCompat.Verifier(this, hashAlgo));\n\tif (this.type === 'curve25519')\n\t\tthrow (new Error('Curve25519 keys are not suitable for ' +\n\t\t    'signing or verification'));\n\n\tvar v, nm, err;\n\ttry {\n\t\tnm = hashAlgo.toUpperCase();\n\t\tv = crypto.createVerify(nm);\n\t} catch (e) {\n\t\terr = e;\n\t}\n\tif (v === undefined || (err instanceof Error &&\n\t    err.message.match(/Unknown message digest/))) {\n\t\tnm = 'RSA-';\n\t\tnm += hashAlgo.toUpperCase();\n\t\tv = crypto.createVerify(nm);\n\t}\n\tassert.ok(v, 'failed to create verifier');\n\tvar oldVerify = v.verify.bind(v);\n\tvar key = this.toBuffer('pkcs8');\n\tvar curve = this.curve;\n\tvar self = this;\n\tv.verify = function (signature, fmt) {\n\t\tif (Signature.isSignature(signature, [2, 0])) {\n\t\t\tif (signature.type !== self.type)\n\t\t\t\treturn (false);\n\t\t\tif (signature.hashAlgorithm &&\n\t\t\t    signature.hashAlgorithm !== hashAlgo)\n\t\t\t\treturn (false);\n\t\t\tif (signature.curve && self.type === 'ecdsa' &&\n\t\t\t    signature.curve !== curve)\n\t\t\t\treturn (false);\n\t\t\treturn (oldVerify(key, signature.toBuffer('asn1')));\n\n\t\t} else if (typeof (signature) === 'string' ||\n\t\t    Buffer.isBuffer(signature)) {\n\t\t\treturn (oldVerify(key, signature, fmt));\n\n\t\t/*\n\t\t * Avoid doing this on valid arguments, walking the prototype\n\t\t * chain can be quite slow.\n\t\t */\n\t\t} else if (Signature.isSignature(signature, [1, 0])) {\n\t\t\tthrow (new Error('signature was created by too old ' +\n\t\t\t    'a version of sshpk and cannot be verified'));\n\n\t\t} else {\n\t\t\tthrow (new TypeError('signature must be a string, ' +\n\t\t\t    'Buffer, or Signature object'));\n\t\t}\n\t};\n\treturn (v);\n};\n\nKey.prototype.createDiffieHellman = function () {\n\tif (this.type === 'rsa')\n\t\tthrow (new Error('RSA keys do not support Diffie-Hellman'));\n\n\treturn (new DiffieHellman(this));\n};\nKey.prototype.createDH = Key.prototype.createDiffieHellman;\n\nKey.parse = function (data, format, options) {\n\tif (typeof (data) !== 'string')\n\t\tassert.buffer(data, 'data');\n\tif (format === undefined)\n\t\tformat = 'auto';\n\tassert.string(format, 'format');\n\tif (typeof (options) === 'string')\n\t\toptions = { filename: options };\n\tassert.optionalObject(options, 'options');\n\tif (options === undefined)\n\t\toptions = {};\n\tassert.optionalString(options.filename, 'options.filename');\n\tif (options.filename === undefined)\n\t\toptions.filename = '(unnamed)';\n\n\tassert.object(formats[format], 'formats[format]');\n\n\ttry {\n\t\tvar k = formats[format].read(data, options);\n\t\tif (k instanceof PrivateKey)\n\t\t\tk = k.toPublic();\n\t\tif (!k.comment)\n\t\t\tk.comment = options.filename;\n\t\treturn (k);\n\t} catch (e) {\n\t\tif (e.name === 'KeyEncryptedError')\n\t\t\tthrow (e);\n\t\tthrow (new KeyParseError(options.filename, format, e));\n\t}\n};\n\nKey.isKey = function (obj, ver) {\n\treturn (utils.isCompatible(obj, Key, ver));\n};\n\n/*\n * API versions for Key:\n * [1,0] -- initial ver, may take Signature for createVerify or may not\n * [1,1] -- added pkcs1, pkcs8 formats\n * [1,2] -- added auto, ssh-private, openssh formats\n * [1,3] -- added defaultHashAlgorithm\n * [1,4] -- added ed support, createDH\n * [1,5] -- first explicitly tagged version\n * [1,6] -- changed ed25519 part names\n * [1,7] -- spki hash types\n */\nKey.prototype._sshpkApiVersion = [1, 7];\n\nKey._oldVersionDetect = function (obj) {\n\tassert.func(obj.toBuffer);\n\tassert.func(obj.fingerprint);\n\tif (obj.createDH)\n\t\treturn ([1, 4]);\n\tif (obj.defaultHashAlgorithm)\n\t\treturn ([1, 3]);\n\tif (obj.formats['auto'])\n\t\treturn ([1, 2]);\n\tif (obj.formats['pkcs1'])\n\t\treturn ([1, 1]);\n\treturn ([1, 0]);\n};\n","// Copyright 2017 Joyent, Inc.\n\nmodule.exports = PrivateKey;\n\nvar assert = require('assert-plus');\nvar Buffer = require('safer-buffer').Buffer;\nvar algs = require('./algs');\nvar crypto = require('crypto');\nvar Fingerprint = require('./fingerprint');\nvar Signature = require('./signature');\nvar errs = require('./errors');\nvar util = require('util');\nvar utils = require('./utils');\nvar dhe = require('./dhe');\nvar generateECDSA = dhe.generateECDSA;\nvar generateED25519 = dhe.generateED25519;\nvar edCompat = require('./ed-compat');\nvar nacl = require('tweetnacl');\n\nvar Key = require('./key');\n\nvar InvalidAlgorithmError = errs.InvalidAlgorithmError;\nvar KeyParseError = errs.KeyParseError;\nvar KeyEncryptedError = errs.KeyEncryptedError;\n\nvar formats = {};\nformats['auto'] = require('./formats/auto');\nformats['pem'] = require('./formats/pem');\nformats['pkcs1'] = require('./formats/pkcs1');\nformats['pkcs8'] = require('./formats/pkcs8');\nformats['rfc4253'] = require('./formats/rfc4253');\nformats['ssh-private'] = require('./formats/ssh-private');\nformats['openssh'] = formats['ssh-private'];\nformats['ssh'] = formats['ssh-private'];\nformats['dnssec'] = require('./formats/dnssec');\n\nfunction PrivateKey(opts) {\n\tassert.object(opts, 'options');\n\tKey.call(this, opts);\n\n\tthis._pubCache = undefined;\n}\nutil.inherits(PrivateKey, Key);\n\nPrivateKey.formats = formats;\n\nPrivateKey.prototype.toBuffer = function (format, options) {\n\tif (format === undefined)\n\t\tformat = 'pkcs1';\n\tassert.string(format, 'format');\n\tassert.object(formats[format], 'formats[format]');\n\tassert.optionalObject(options, 'options');\n\n\treturn (formats[format].write(this, options));\n};\n\nPrivateKey.prototype.hash = function (algo, type) {\n\treturn (this.toPublic().hash(algo, type));\n};\n\nPrivateKey.prototype.fingerprint = function (algo, type) {\n\treturn (this.toPublic().fingerprint(algo, type));\n};\n\nPrivateKey.prototype.toPublic = function () {\n\tif (this._pubCache)\n\t\treturn (this._pubCache);\n\n\tvar algInfo = algs.info[this.type];\n\tvar pubParts = [];\n\tfor (var i = 0; i < algInfo.parts.length; ++i) {\n\t\tvar p = algInfo.parts[i];\n\t\tpubParts.push(this.part[p]);\n\t}\n\n\tthis._pubCache = new Key({\n\t\ttype: this.type,\n\t\tsource: this,\n\t\tparts: pubParts\n\t});\n\tif (this.comment)\n\t\tthis._pubCache.comment = this.comment;\n\treturn (this._pubCache);\n};\n\nPrivateKey.prototype.derive = function (newType) {\n\tassert.string(newType, 'type');\n\tvar priv, pub, pair;\n\n\tif (this.type === 'ed25519' && newType === 'curve25519') {\n\t\tpriv = this.part.k.data;\n\t\tif (priv[0] === 0x00)\n\t\t\tpriv = priv.slice(1);\n\n\t\tpair = nacl.box.keyPair.fromSecretKey(new Uint8Array(priv));\n\t\tpub = Buffer.from(pair.publicKey);\n\n\t\treturn (new PrivateKey({\n\t\t\ttype: 'curve25519',\n\t\t\tparts: [\n\t\t\t\t{ name: 'A', data: utils.mpNormalize(pub) },\n\t\t\t\t{ name: 'k', data: utils.mpNormalize(priv) }\n\t\t\t]\n\t\t}));\n\t} else if (this.type === 'curve25519' && newType === 'ed25519') {\n\t\tpriv = this.part.k.data;\n\t\tif (priv[0] === 0x00)\n\t\t\tpriv = priv.slice(1);\n\n\t\tpair = nacl.sign.keyPair.fromSeed(new Uint8Array(priv));\n\t\tpub = Buffer.from(pair.publicKey);\n\n\t\treturn (new PrivateKey({\n\t\t\ttype: 'ed25519',\n\t\t\tparts: [\n\t\t\t\t{ name: 'A', data: utils.mpNormalize(pub) },\n\t\t\t\t{ name: 'k', data: utils.mpNormalize(priv) }\n\t\t\t]\n\t\t}));\n\t}\n\tthrow (new Error('Key derivation not supported from ' + this.type +\n\t    ' to ' + newType));\n};\n\nPrivateKey.prototype.createVerify = function (hashAlgo) {\n\treturn (this.toPublic().createVerify(hashAlgo));\n};\n\nPrivateKey.prototype.createSign = function (hashAlgo) {\n\tif (hashAlgo === undefined)\n\t\thashAlgo = this.defaultHashAlgorithm();\n\tassert.string(hashAlgo, 'hash algorithm');\n\n\t/* ED25519 is not supported by OpenSSL, use a javascript impl. */\n\tif (this.type === 'ed25519' && edCompat !== undefined)\n\t\treturn (new edCompat.Signer(this, hashAlgo));\n\tif (this.type === 'curve25519')\n\t\tthrow (new Error('Curve25519 keys are not suitable for ' +\n\t\t    'signing or verification'));\n\n\tvar v, nm, err;\n\ttry {\n\t\tnm = hashAlgo.toUpperCase();\n\t\tv = crypto.createSign(nm);\n\t} catch (e) {\n\t\terr = e;\n\t}\n\tif (v === undefined || (err instanceof Error &&\n\t    err.message.match(/Unknown message digest/))) {\n\t\tnm = 'RSA-';\n\t\tnm += hashAlgo.toUpperCase();\n\t\tv = crypto.createSign(nm);\n\t}\n\tassert.ok(v, 'failed to create verifier');\n\tvar oldSign = v.sign.bind(v);\n\tvar key = this.toBuffer('pkcs1');\n\tvar type = this.type;\n\tvar curve = this.curve;\n\tv.sign = function () {\n\t\tvar sig = oldSign(key);\n\t\tif (typeof (sig) === 'string')\n\t\t\tsig = Buffer.from(sig, 'binary');\n\t\tsig = Signature.parse(sig, type, 'asn1');\n\t\tsig.hashAlgorithm = hashAlgo;\n\t\tsig.curve = curve;\n\t\treturn (sig);\n\t};\n\treturn (v);\n};\n\nPrivateKey.parse = function (data, format, options) {\n\tif (typeof (data) !== 'string')\n\t\tassert.buffer(data, 'data');\n\tif (format === undefined)\n\t\tformat = 'auto';\n\tassert.string(format, 'format');\n\tif (typeof (options) === 'string')\n\t\toptions = { filename: options };\n\tassert.optionalObject(options, 'options');\n\tif (options === undefined)\n\t\toptions = {};\n\tassert.optionalString(options.filename, 'options.filename');\n\tif (options.filename === undefined)\n\t\toptions.filename = '(unnamed)';\n\n\tassert.object(formats[format], 'formats[format]');\n\n\ttry {\n\t\tvar k = formats[format].read(data, options);\n\t\tassert.ok(k instanceof PrivateKey, 'key is not a private key');\n\t\tif (!k.comment)\n\t\t\tk.comment = options.filename;\n\t\treturn (k);\n\t} catch (e) {\n\t\tif (e.name === 'KeyEncryptedError')\n\t\t\tthrow (e);\n\t\tthrow (new KeyParseError(options.filename, format, e));\n\t}\n};\n\nPrivateKey.isPrivateKey = function (obj, ver) {\n\treturn (utils.isCompatible(obj, PrivateKey, ver));\n};\n\nPrivateKey.generate = function (type, options) {\n\tif (options === undefined)\n\t\toptions = {};\n\tassert.object(options, 'options');\n\n\tswitch (type) {\n\tcase 'ecdsa':\n\t\tif (options.curve === undefined)\n\t\t\toptions.curve = 'nistp256';\n\t\tassert.string(options.curve, 'options.curve');\n\t\treturn (generateECDSA(options.curve));\n\tcase 'ed25519':\n\t\treturn (generateED25519());\n\tdefault:\n\t\tthrow (new Error('Key generation not supported with key ' +\n\t\t    'type \"' + type + '\"'));\n\t}\n};\n\n/*\n * API versions for PrivateKey:\n * [1,0] -- initial ver\n * [1,1] -- added auto, pkcs[18], openssh/ssh-private formats\n * [1,2] -- added defaultHashAlgorithm\n * [1,3] -- added derive, ed, createDH\n * [1,4] -- first tagged version\n * [1,5] -- changed ed25519 part names and format\n * [1,6] -- type arguments for hash() and fingerprint()\n */\nPrivateKey.prototype._sshpkApiVersion = [1, 6];\n\nPrivateKey._oldVersionDetect = function (obj) {\n\tassert.func(obj.toPublic);\n\tassert.func(obj.createSign);\n\tif (obj.derive)\n\t\treturn ([1, 3]);\n\tif (obj.defaultHashAlgorithm)\n\t\treturn ([1, 2]);\n\tif (obj.formats['auto'])\n\t\treturn ([1, 1]);\n\treturn ([1, 0]);\n};\n","// Copyright 2015 Joyent, Inc.\n\nmodule.exports = Signature;\n\nvar assert = require('assert-plus');\nvar Buffer = require('safer-buffer').Buffer;\nvar algs = require('./algs');\nvar crypto = require('crypto');\nvar errs = require('./errors');\nvar utils = require('./utils');\nvar asn1 = require('asn1');\nvar SSHBuffer = require('./ssh-buffer');\n\nvar InvalidAlgorithmError = errs.InvalidAlgorithmError;\nvar SignatureParseError = errs.SignatureParseError;\n\nfunction Signature(opts) {\n\tassert.object(opts, 'options');\n\tassert.arrayOfObject(opts.parts, 'options.parts');\n\tassert.string(opts.type, 'options.type');\n\n\tvar partLookup = {};\n\tfor (var i = 0; i < opts.parts.length; ++i) {\n\t\tvar part = opts.parts[i];\n\t\tpartLookup[part.name] = part;\n\t}\n\n\tthis.type = opts.type;\n\tthis.hashAlgorithm = opts.hashAlgo;\n\tthis.curve = opts.curve;\n\tthis.parts = opts.parts;\n\tthis.part = partLookup;\n}\n\nSignature.prototype.toBuffer = function (format) {\n\tif (format === undefined)\n\t\tformat = 'asn1';\n\tassert.string(format, 'format');\n\n\tvar buf;\n\tvar stype = 'ssh-' + this.type;\n\n\tswitch (this.type) {\n\tcase 'rsa':\n\t\tswitch (this.hashAlgorithm) {\n\t\tcase 'sha256':\n\t\t\tstype = 'rsa-sha2-256';\n\t\t\tbreak;\n\t\tcase 'sha512':\n\t\t\tstype = 'rsa-sha2-512';\n\t\t\tbreak;\n\t\tcase 'sha1':\n\t\tcase undefined:\n\t\t\tbreak;\n\t\tdefault:\n\t\t\tthrow (new Error('SSH signature ' +\n\t\t\t    'format does not support hash ' +\n\t\t\t    'algorithm ' + this.hashAlgorithm));\n\t\t}\n\t\tif (format === 'ssh') {\n\t\t\tbuf = new SSHBuffer({});\n\t\t\tbuf.writeString(stype);\n\t\t\tbuf.writePart(this.part.sig);\n\t\t\treturn (buf.toBuffer());\n\t\t} else {\n\t\t\treturn (this.part.sig.data);\n\t\t}\n\t\tbreak;\n\n\tcase 'ed25519':\n\t\tif (format === 'ssh') {\n\t\t\tbuf = new SSHBuffer({});\n\t\t\tbuf.writeString(stype);\n\t\t\tbuf.writePart(this.part.sig);\n\t\t\treturn (buf.toBuffer());\n\t\t} else {\n\t\t\treturn (this.part.sig.data);\n\t\t}\n\t\tbreak;\n\n\tcase 'dsa':\n\tcase 'ecdsa':\n\t\tvar r, s;\n\t\tif (format === 'asn1') {\n\t\t\tvar der = new asn1.BerWriter();\n\t\t\tder.startSequence();\n\t\t\tr = utils.mpNormalize(this.part.r.data);\n\t\t\ts = utils.mpNormalize(this.part.s.data);\n\t\t\tder.writeBuffer(r, asn1.Ber.Integer);\n\t\t\tder.writeBuffer(s, asn1.Ber.Integer);\n\t\t\tder.endSequence();\n\t\t\treturn (der.buffer);\n\t\t} else if (format === 'ssh' && this.type === 'dsa') {\n\t\t\tbuf = new SSHBuffer({});\n\t\t\tbuf.writeString('ssh-dss');\n\t\t\tr = this.part.r.data;\n\t\t\tif (r.length > 20 && r[0] === 0x00)\n\t\t\t\tr = r.slice(1);\n\t\t\ts = this.part.s.data;\n\t\t\tif (s.length > 20 && s[0] === 0x00)\n\t\t\t\ts = s.slice(1);\n\t\t\tif ((this.hashAlgorithm &&\n\t\t\t    this.hashAlgorithm !== 'sha1') ||\n\t\t\t    r.length + s.length !== 40) {\n\t\t\t\tthrow (new Error('OpenSSH only supports ' +\n\t\t\t\t    'DSA signatures with SHA1 hash'));\n\t\t\t}\n\t\t\tbuf.writeBuffer(Buffer.concat([r, s]));\n\t\t\treturn (buf.toBuffer());\n\t\t} else if (format === 'ssh' && this.type === 'ecdsa') {\n\t\t\tvar inner = new SSHBuffer({});\n\t\t\tr = this.part.r.data;\n\t\t\tinner.writeBuffer(r);\n\t\t\tinner.writePart(this.part.s);\n\n\t\t\tbuf = new SSHBuffer({});\n\t\t\t/* XXX: find a more proper way to do this? */\n\t\t\tvar curve;\n\t\t\tif (r[0] === 0x00)\n\t\t\t\tr = r.slice(1);\n\t\t\tvar sz = r.length * 8;\n\t\t\tif (sz === 256)\n\t\t\t\tcurve = 'nistp256';\n\t\t\telse if (sz === 384)\n\t\t\t\tcurve = 'nistp384';\n\t\t\telse if (sz === 528)\n\t\t\t\tcurve = 'nistp521';\n\t\t\tbuf.writeString('ecdsa-sha2-' + curve);\n\t\t\tbuf.writeBuffer(inner.toBuffer());\n\t\t\treturn (buf.toBuffer());\n\t\t}\n\t\tthrow (new Error('Invalid signature format'));\n\tdefault:\n\t\tthrow (new Error('Invalid signature data'));\n\t}\n};\n\nSignature.prototype.toString = function (format) {\n\tassert.optionalString(format, 'format');\n\treturn (this.toBuffer(format).toString('base64'));\n};\n\nSignature.parse = function (data, type, format) {\n\tif (typeof (data) === 'string')\n\t\tdata = Buffer.from(data, 'base64');\n\tassert.buffer(data, 'data');\n\tassert.string(format, 'format');\n\tassert.string(type, 'type');\n\n\tvar opts = {};\n\topts.type = type.toLowerCase();\n\topts.parts = [];\n\n\ttry {\n\t\tassert.ok(data.length > 0, 'signature must not be empty');\n\t\tswitch (opts.type) {\n\t\tcase 'rsa':\n\t\t\treturn (parseOneNum(data, type, format, opts));\n\t\tcase 'ed25519':\n\t\t\treturn (parseOneNum(data, type, format, opts));\n\n\t\tcase 'dsa':\n\t\tcase 'ecdsa':\n\t\t\tif (format === 'asn1')\n\t\t\t\treturn (parseDSAasn1(data, type, format, opts));\n\t\t\telse if (opts.type === 'dsa')\n\t\t\t\treturn (parseDSA(data, type, format, opts));\n\t\t\telse\n\t\t\t\treturn (parseECDSA(data, type, format, opts));\n\n\t\tdefault:\n\t\t\tthrow (new InvalidAlgorithmError(type));\n\t\t}\n\n\t} catch (e) {\n\t\tif (e instanceof InvalidAlgorithmError)\n\t\t\tthrow (e);\n\t\tthrow (new SignatureParseError(type, format, e));\n\t}\n};\n\nfunction parseOneNum(data, type, format, opts) {\n\tif (format === 'ssh') {\n\t\ttry {\n\t\t\tvar buf = new SSHBuffer({buffer: data});\n\t\t\tvar head = buf.readString();\n\t\t} catch (e) {\n\t\t\t/* fall through */\n\t\t}\n\t\tif (buf !== undefined) {\n\t\t\tvar msg = 'SSH signature does not match expected ' +\n\t\t\t    'type (expected ' + type + ', got ' + head + ')';\n\t\t\tswitch (head) {\n\t\t\tcase 'ssh-rsa':\n\t\t\t\tassert.strictEqual(type, 'rsa', msg);\n\t\t\t\topts.hashAlgo = 'sha1';\n\t\t\t\tbreak;\n\t\t\tcase 'rsa-sha2-256':\n\t\t\t\tassert.strictEqual(type, 'rsa', msg);\n\t\t\t\topts.hashAlgo = 'sha256';\n\t\t\t\tbreak;\n\t\t\tcase 'rsa-sha2-512':\n\t\t\t\tassert.strictEqual(type, 'rsa', msg);\n\t\t\t\topts.hashAlgo = 'sha512';\n\t\t\t\tbreak;\n\t\t\tcase 'ssh-ed25519':\n\t\t\t\tassert.strictEqual(type, 'ed25519', msg);\n\t\t\t\topts.hashAlgo = 'sha512';\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tthrow (new Error('Unknown SSH signature ' +\n\t\t\t\t    'type: ' + head));\n\t\t\t}\n\t\t\tvar sig = buf.readPart();\n\t\t\tassert.ok(buf.atEnd(), 'extra trailing bytes');\n\t\t\tsig.name = 'sig';\n\t\t\topts.parts.push(sig);\n\t\t\treturn (new Signature(opts));\n\t\t}\n\t}\n\topts.parts.push({name: 'sig', data: data});\n\treturn (new Signature(opts));\n}\n\nfunction parseDSAasn1(data, type, format, opts) {\n\tvar der = new asn1.BerReader(data);\n\tder.readSequence();\n\tvar r = der.readString(asn1.Ber.Integer, true);\n\tvar s = der.readString(asn1.Ber.Integer, true);\n\n\topts.parts.push({name: 'r', data: utils.mpNormalize(r)});\n\topts.parts.push({name: 's', data: utils.mpNormalize(s)});\n\n\treturn (new Signature(opts));\n}\n\nfunction parseDSA(data, type, format, opts) {\n\tif (data.length != 40) {\n\t\tvar buf = new SSHBuffer({buffer: data});\n\t\tvar d = buf.readBuffer();\n\t\tif (d.toString('ascii') === 'ssh-dss')\n\t\t\td = buf.readBuffer();\n\t\tassert.ok(buf.atEnd(), 'extra trailing bytes');\n\t\tassert.strictEqual(d.length, 40, 'invalid inner length');\n\t\tdata = d;\n\t}\n\topts.parts.push({name: 'r', data: data.slice(0, 20)});\n\topts.parts.push({name: 's', data: data.slice(20, 40)});\n\treturn (new Signature(opts));\n}\n\nfunction parseECDSA(data, type, format, opts) {\n\tvar buf = new SSHBuffer({buffer: data});\n\n\tvar r, s;\n\tvar inner = buf.readBuffer();\n\tvar stype = inner.toString('ascii');\n\tif (stype.slice(0, 6) === 'ecdsa-') {\n\t\tvar parts = stype.split('-');\n\t\tassert.strictEqual(parts[0], 'ecdsa');\n\t\tassert.strictEqual(parts[1], 'sha2');\n\t\topts.curve = parts[2];\n\t\tswitch (opts.curve) {\n\t\tcase 'nistp256':\n\t\t\topts.hashAlgo = 'sha256';\n\t\t\tbreak;\n\t\tcase 'nistp384':\n\t\t\topts.hashAlgo = 'sha384';\n\t\t\tbreak;\n\t\tcase 'nistp521':\n\t\t\topts.hashAlgo = 'sha512';\n\t\t\tbreak;\n\t\tdefault:\n\t\t\tthrow (new Error('Unsupported ECDSA curve: ' +\n\t\t\t    opts.curve));\n\t\t}\n\t\tinner = buf.readBuffer();\n\t\tassert.ok(buf.atEnd(), 'extra trailing bytes on outer');\n\t\tbuf = new SSHBuffer({buffer: inner});\n\t\tr = buf.readPart();\n\t} else {\n\t\tr = {data: inner};\n\t}\n\n\ts = buf.readPart();\n\tassert.ok(buf.atEnd(), 'extra trailing bytes');\n\n\tr.name = 'r';\n\ts.name = 's';\n\n\topts.parts.push(r);\n\topts.parts.push(s);\n\treturn (new Signature(opts));\n}\n\nSignature.isSignature = function (obj, ver) {\n\treturn (utils.isCompatible(obj, Signature, ver));\n};\n\n/*\n * API versions for Signature:\n * [1,0] -- initial ver\n * [2,0] -- support for rsa in full ssh format, compat with sshpk-agent\n *          hashAlgorithm property\n * [2,1] -- first tagged version\n */\nSignature.prototype._sshpkApiVersion = [2, 1];\n\nSignature._oldVersionDetect = function (obj) {\n\tassert.func(obj.toBuffer);\n\tif (obj.hasOwnProperty('hashAlgorithm'))\n\t\treturn ([2, 0]);\n\treturn ([1, 0]);\n};\n","// Copyright 2015 Joyent, Inc.\n\nmodule.exports = SSHBuffer;\n\nvar assert = require('assert-plus');\nvar Buffer = require('safer-buffer').Buffer;\n\nfunction SSHBuffer(opts) {\n\tassert.object(opts, 'options');\n\tif (opts.buffer !== undefined)\n\t\tassert.buffer(opts.buffer, 'options.buffer');\n\n\tthis._size = opts.buffer ? opts.buffer.length : 1024;\n\tthis._buffer = opts.buffer || Buffer.alloc(this._size);\n\tthis._offset = 0;\n}\n\nSSHBuffer.prototype.toBuffer = function () {\n\treturn (this._buffer.slice(0, this._offset));\n};\n\nSSHBuffer.prototype.atEnd = function () {\n\treturn (this._offset >= this._buffer.length);\n};\n\nSSHBuffer.prototype.remainder = function () {\n\treturn (this._buffer.slice(this._offset));\n};\n\nSSHBuffer.prototype.skip = function (n) {\n\tthis._offset += n;\n};\n\nSSHBuffer.prototype.expand = function () {\n\tthis._size *= 2;\n\tvar buf = Buffer.alloc(this._size);\n\tthis._buffer.copy(buf, 0);\n\tthis._buffer = buf;\n};\n\nSSHBuffer.prototype.readPart = function () {\n\treturn ({data: this.readBuffer()});\n};\n\nSSHBuffer.prototype.readBuffer = function () {\n\tvar len = this._buffer.readUInt32BE(this._offset);\n\tthis._offset += 4;\n\tassert.ok(this._offset + len <= this._buffer.length,\n\t    'length out of bounds at +0x' + this._offset.toString(16) +\n\t    ' (data truncated?)');\n\tvar buf = this._buffer.slice(this._offset, this._offset + len);\n\tthis._offset += len;\n\treturn (buf);\n};\n\nSSHBuffer.prototype.readString = function () {\n\treturn (this.readBuffer().toString());\n};\n\nSSHBuffer.prototype.readCString = function () {\n\tvar offset = this._offset;\n\twhile (offset < this._buffer.length &&\n\t    this._buffer[offset] !== 0x00)\n\t\toffset++;\n\tassert.ok(offset < this._buffer.length, 'c string does not terminate');\n\tvar str = this._buffer.slice(this._offset, offset).toString();\n\tthis._offset = offset + 1;\n\treturn (str);\n};\n\nSSHBuffer.prototype.readInt = function () {\n\tvar v = this._buffer.readUInt32BE(this._offset);\n\tthis._offset += 4;\n\treturn (v);\n};\n\nSSHBuffer.prototype.readInt64 = function () {\n\tassert.ok(this._offset + 8 < this._buffer.length,\n\t    'buffer not long enough to read Int64');\n\tvar v = this._buffer.slice(this._offset, this._offset + 8);\n\tthis._offset += 8;\n\treturn (v);\n};\n\nSSHBuffer.prototype.readChar = function () {\n\tvar v = this._buffer[this._offset++];\n\treturn (v);\n};\n\nSSHBuffer.prototype.writeBuffer = function (buf) {\n\twhile (this._offset + 4 + buf.length > this._size)\n\t\tthis.expand();\n\tthis._buffer.writeUInt32BE(buf.length, this._offset);\n\tthis._offset += 4;\n\tbuf.copy(this._buffer, this._offset);\n\tthis._offset += buf.length;\n};\n\nSSHBuffer.prototype.writeString = function (str) {\n\tthis.writeBuffer(Buffer.from(str, 'utf8'));\n};\n\nSSHBuffer.prototype.writeCString = function (str) {\n\twhile (this._offset + 1 + str.length > this._size)\n\t\tthis.expand();\n\tthis._buffer.write(str, this._offset);\n\tthis._offset += str.length;\n\tthis._buffer[this._offset++] = 0;\n};\n\nSSHBuffer.prototype.writeInt = function (v) {\n\twhile (this._offset + 4 > this._size)\n\t\tthis.expand();\n\tthis._buffer.writeUInt32BE(v, this._offset);\n\tthis._offset += 4;\n};\n\nSSHBuffer.prototype.writeInt64 = function (v) {\n\tassert.buffer(v, 'value');\n\tif (v.length > 8) {\n\t\tvar lead = v.slice(0, v.length - 8);\n\t\tfor (var i = 0; i < lead.length; ++i) {\n\t\t\tassert.strictEqual(lead[i], 0,\n\t\t\t    'must fit in 64 bits of precision');\n\t\t}\n\t\tv = v.slice(v.length - 8, v.length);\n\t}\n\twhile (this._offset + 8 > this._size)\n\t\tthis.expand();\n\tv.copy(this._buffer, this._offset);\n\tthis._offset += 8;\n};\n\nSSHBuffer.prototype.writeChar = function (v) {\n\twhile (this._offset + 1 > this._size)\n\t\tthis.expand();\n\tthis._buffer[this._offset++] = v;\n};\n\nSSHBuffer.prototype.writePart = function (p) {\n\tthis.writeBuffer(p.data);\n};\n\nSSHBuffer.prototype.write = function (buf) {\n\twhile (this._offset + buf.length > this._size)\n\t\tthis.expand();\n\tbuf.copy(this._buffer, this._offset);\n\tthis._offset += buf.length;\n};\n","// Copyright 2015 Joyent, Inc.\n\nmodule.exports = {\n\tbufferSplit: bufferSplit,\n\taddRSAMissing: addRSAMissing,\n\tcalculateDSAPublic: calculateDSAPublic,\n\tcalculateED25519Public: calculateED25519Public,\n\tcalculateX25519Public: calculateX25519Public,\n\tmpNormalize: mpNormalize,\n\tmpDenormalize: mpDenormalize,\n\tecNormalize: ecNormalize,\n\tcountZeros: countZeros,\n\tassertCompatible: assertCompatible,\n\tisCompatible: isCompatible,\n\topensslKeyDeriv: opensslKeyDeriv,\n\topensshCipherInfo: opensshCipherInfo,\n\tpublicFromPrivateECDSA: publicFromPrivateECDSA,\n\tzeroPadToLength: zeroPadToLength,\n\twriteBitString: writeBitString,\n\treadBitString: readBitString,\n\tpbkdf2: pbkdf2\n};\n\nvar assert = require('assert-plus');\nvar Buffer = require('safer-buffer').Buffer;\nvar PrivateKey = require('./private-key');\nvar Key = require('./key');\nvar crypto = require('crypto');\nvar algs = require('./algs');\nvar asn1 = require('asn1');\n\nvar ec = require('ecc-jsbn/lib/ec');\nvar jsbn = require('jsbn').BigInteger;\nvar nacl = require('tweetnacl');\n\nvar MAX_CLASS_DEPTH = 3;\n\nfunction isCompatible(obj, klass, needVer) {\n\tif (obj === null || typeof (obj) !== 'object')\n\t\treturn (false);\n\tif (needVer === undefined)\n\t\tneedVer = klass.prototype._sshpkApiVersion;\n\tif (obj instanceof klass &&\n\t    klass.prototype._sshpkApiVersion[0] == needVer[0])\n\t\treturn (true);\n\tvar proto = Object.getPrototypeOf(obj);\n\tvar depth = 0;\n\twhile (proto.constructor.name !== klass.name) {\n\t\tproto = Object.getPrototypeOf(proto);\n\t\tif (!proto || ++depth > MAX_CLASS_DEPTH)\n\t\t\treturn (false);\n\t}\n\tif (proto.constructor.name !== klass.name)\n\t\treturn (false);\n\tvar ver = proto._sshpkApiVersion;\n\tif (ver === undefined)\n\t\tver = klass._oldVersionDetect(obj);\n\tif (ver[0] != needVer[0] || ver[1] < needVer[1])\n\t\treturn (false);\n\treturn (true);\n}\n\nfunction assertCompatible(obj, klass, needVer, name) {\n\tif (name === undefined)\n\t\tname = 'object';\n\tassert.ok(obj, name + ' must not be null');\n\tassert.object(obj, name + ' must be an object');\n\tif (needVer === undefined)\n\t\tneedVer = klass.prototype._sshpkApiVersion;\n\tif (obj instanceof klass &&\n\t    klass.prototype._sshpkApiVersion[0] == needVer[0])\n\t\treturn;\n\tvar proto = Object.getPrototypeOf(obj);\n\tvar depth = 0;\n\twhile (proto.constructor.name !== klass.name) {\n\t\tproto = Object.getPrototypeOf(proto);\n\t\tassert.ok(proto && ++depth <= MAX_CLASS_DEPTH,\n\t\t    name + ' must be a ' + klass.name + ' instance');\n\t}\n\tassert.strictEqual(proto.constructor.name, klass.name,\n\t    name + ' must be a ' + klass.name + ' instance');\n\tvar ver = proto._sshpkApiVersion;\n\tif (ver === undefined)\n\t\tver = klass._oldVersionDetect(obj);\n\tassert.ok(ver[0] == needVer[0] && ver[1] >= needVer[1],\n\t    name + ' must be compatible with ' + klass.name + ' klass ' +\n\t    'version ' + needVer[0] + '.' + needVer[1]);\n}\n\nvar CIPHER_LEN = {\n\t'des-ede3-cbc': { key: 24, iv: 8 },\n\t'aes-128-cbc': { key: 16, iv: 16 },\n\t'aes-256-cbc': { key: 32, iv: 16 }\n};\nvar PKCS5_SALT_LEN = 8;\n\nfunction opensslKeyDeriv(cipher, salt, passphrase, count) {\n\tassert.buffer(salt, 'salt');\n\tassert.buffer(passphrase, 'passphrase');\n\tassert.number(count, 'iteration count');\n\n\tvar clen = CIPHER_LEN[cipher];\n\tassert.object(clen, 'supported cipher');\n\n\tsalt = salt.slice(0, PKCS5_SALT_LEN);\n\n\tvar D, D_prev, bufs;\n\tvar material = Buffer.alloc(0);\n\twhile (material.length < clen.key + clen.iv) {\n\t\tbufs = [];\n\t\tif (D_prev)\n\t\t\tbufs.push(D_prev);\n\t\tbufs.push(passphrase);\n\t\tbufs.push(salt);\n\t\tD = Buffer.concat(bufs);\n\t\tfor (var j = 0; j < count; ++j)\n\t\t\tD = crypto.createHash('md5').update(D).digest();\n\t\tmaterial = Buffer.concat([material, D]);\n\t\tD_prev = D;\n\t}\n\n\treturn ({\n\t    key: material.slice(0, clen.key),\n\t    iv: material.slice(clen.key, clen.key + clen.iv)\n\t});\n}\n\n/* See: RFC2898 */\nfunction pbkdf2(hashAlg, salt, iterations, size, passphrase) {\n\tvar hkey = Buffer.alloc(salt.length + 4);\n\tsalt.copy(hkey);\n\n\tvar gen = 0, ts = [];\n\tvar i = 1;\n\twhile (gen < size) {\n\t\tvar t = T(i++);\n\t\tgen += t.length;\n\t\tts.push(t);\n\t}\n\treturn (Buffer.concat(ts).slice(0, size));\n\n\tfunction T(I) {\n\t\thkey.writeUInt32BE(I, hkey.length - 4);\n\n\t\tvar hmac = crypto.createHmac(hashAlg, passphrase);\n\t\thmac.update(hkey);\n\n\t\tvar Ti = hmac.digest();\n\t\tvar Uc = Ti;\n\t\tvar c = 1;\n\t\twhile (c++ < iterations) {\n\t\t\thmac = crypto.createHmac(hashAlg, passphrase);\n\t\t\thmac.update(Uc);\n\t\t\tUc = hmac.digest();\n\t\t\tfor (var x = 0; x < Ti.length; ++x)\n\t\t\t\tTi[x] ^= Uc[x];\n\t\t}\n\t\treturn (Ti);\n\t}\n}\n\n/* Count leading zero bits on a buffer */\nfunction countZeros(buf) {\n\tvar o = 0, obit = 8;\n\twhile (o < buf.length) {\n\t\tvar mask = (1 << obit);\n\t\tif ((buf[o] & mask) === mask)\n\t\t\tbreak;\n\t\tobit--;\n\t\tif (obit < 0) {\n\t\t\to++;\n\t\t\tobit = 8;\n\t\t}\n\t}\n\treturn (o*8 + (8 - obit) - 1);\n}\n\nfunction bufferSplit(buf, chr) {\n\tassert.buffer(buf);\n\tassert.string(chr);\n\n\tvar parts = [];\n\tvar lastPart = 0;\n\tvar matches = 0;\n\tfor (var i = 0; i < buf.length; ++i) {\n\t\tif (buf[i] === chr.charCodeAt(matches))\n\t\t\t++matches;\n\t\telse if (buf[i] === chr.charCodeAt(0))\n\t\t\tmatches = 1;\n\t\telse\n\t\t\tmatches = 0;\n\n\t\tif (matches >= chr.length) {\n\t\t\tvar newPart = i + 1;\n\t\t\tparts.push(buf.slice(lastPart, newPart - matches));\n\t\t\tlastPart = newPart;\n\t\t\tmatches = 0;\n\t\t}\n\t}\n\tif (lastPart <= buf.length)\n\t\tparts.push(buf.slice(lastPart, buf.length));\n\n\treturn (parts);\n}\n\nfunction ecNormalize(buf, addZero) {\n\tassert.buffer(buf);\n\tif (buf[0] === 0x00 && buf[1] === 0x04) {\n\t\tif (addZero)\n\t\t\treturn (buf);\n\t\treturn (buf.slice(1));\n\t} else if (buf[0] === 0x04) {\n\t\tif (!addZero)\n\t\t\treturn (buf);\n\t} else {\n\t\twhile (buf[0] === 0x00)\n\t\t\tbuf = buf.slice(1);\n\t\tif (buf[0] === 0x02 || buf[0] === 0x03)\n\t\t\tthrow (new Error('Compressed elliptic curve points ' +\n\t\t\t    'are not supported'));\n\t\tif (buf[0] !== 0x04)\n\t\t\tthrow (new Error('Not a valid elliptic curve point'));\n\t\tif (!addZero)\n\t\t\treturn (buf);\n\t}\n\tvar b = Buffer.alloc(buf.length + 1);\n\tb[0] = 0x0;\n\tbuf.copy(b, 1);\n\treturn (b);\n}\n\nfunction readBitString(der, tag) {\n\tif (tag === undefined)\n\t\ttag = asn1.Ber.BitString;\n\tvar buf = der.readString(tag, true);\n\tassert.strictEqual(buf[0], 0x00, 'bit strings with unused bits are ' +\n\t    'not supported (0x' + buf[0].toString(16) + ')');\n\treturn (buf.slice(1));\n}\n\nfunction writeBitString(der, buf, tag) {\n\tif (tag === undefined)\n\t\ttag = asn1.Ber.BitString;\n\tvar b = Buffer.alloc(buf.length + 1);\n\tb[0] = 0x00;\n\tbuf.copy(b, 1);\n\tder.writeBuffer(b, tag);\n}\n\nfunction mpNormalize(buf) {\n\tassert.buffer(buf);\n\twhile (buf.length > 1 && buf[0] === 0x00 && (buf[1] & 0x80) === 0x00)\n\t\tbuf = buf.slice(1);\n\tif ((buf[0] & 0x80) === 0x80) {\n\t\tvar b = Buffer.alloc(buf.length + 1);\n\t\tb[0] = 0x00;\n\t\tbuf.copy(b, 1);\n\t\tbuf = b;\n\t}\n\treturn (buf);\n}\n\nfunction mpDenormalize(buf) {\n\tassert.buffer(buf);\n\twhile (buf.length > 1 && buf[0] === 0x00)\n\t\tbuf = buf.slice(1);\n\treturn (buf);\n}\n\nfunction zeroPadToLength(buf, len) {\n\tassert.buffer(buf);\n\tassert.number(len);\n\twhile (buf.length > len) {\n\t\tassert.equal(buf[0], 0x00);\n\t\tbuf = buf.slice(1);\n\t}\n\twhile (buf.length < len) {\n\t\tvar b = Buffer.alloc(buf.length + 1);\n\t\tb[0] = 0x00;\n\t\tbuf.copy(b, 1);\n\t\tbuf = b;\n\t}\n\treturn (buf);\n}\n\nfunction bigintToMpBuf(bigint) {\n\tvar buf = Buffer.from(bigint.toByteArray());\n\tbuf = mpNormalize(buf);\n\treturn (buf);\n}\n\nfunction calculateDSAPublic(g, p, x) {\n\tassert.buffer(g);\n\tassert.buffer(p);\n\tassert.buffer(x);\n\tg = new jsbn(g);\n\tp = new jsbn(p);\n\tx = new jsbn(x);\n\tvar y = g.modPow(x, p);\n\tvar ybuf = bigintToMpBuf(y);\n\treturn (ybuf);\n}\n\nfunction calculateED25519Public(k) {\n\tassert.buffer(k);\n\n\tvar kp = nacl.sign.keyPair.fromSeed(new Uint8Array(k));\n\treturn (Buffer.from(kp.publicKey));\n}\n\nfunction calculateX25519Public(k) {\n\tassert.buffer(k);\n\n\tvar kp = nacl.box.keyPair.fromSeed(new Uint8Array(k));\n\treturn (Buffer.from(kp.publicKey));\n}\n\nfunction addRSAMissing(key) {\n\tassert.object(key);\n\tassertCompatible(key, PrivateKey, [1, 1]);\n\n\tvar d = new jsbn(key.part.d.data);\n\tvar buf;\n\n\tif (!key.part.dmodp) {\n\t\tvar p = new jsbn(key.part.p.data);\n\t\tvar dmodp = d.mod(p.subtract(1));\n\n\t\tbuf = bigintToMpBuf(dmodp);\n\t\tkey.part.dmodp = {name: 'dmodp', data: buf};\n\t\tkey.parts.push(key.part.dmodp);\n\t}\n\tif (!key.part.dmodq) {\n\t\tvar q = new jsbn(key.part.q.data);\n\t\tvar dmodq = d.mod(q.subtract(1));\n\n\t\tbuf = bigintToMpBuf(dmodq);\n\t\tkey.part.dmodq = {name: 'dmodq', data: buf};\n\t\tkey.parts.push(key.part.dmodq);\n\t}\n}\n\nfunction publicFromPrivateECDSA(curveName, priv) {\n\tassert.string(curveName, 'curveName');\n\tassert.buffer(priv);\n\tvar params = algs.curves[curveName];\n\tvar p = new jsbn(params.p);\n\tvar a = new jsbn(params.a);\n\tvar b = new jsbn(params.b);\n\tvar curve = new ec.ECCurveFp(p, a, b);\n\tvar G = curve.decodePointHex(params.G.toString('hex'));\n\n\tvar d = new jsbn(mpNormalize(priv));\n\tvar pub = G.multiply(d);\n\tpub = Buffer.from(curve.encodePointHex(pub), 'hex');\n\n\tvar parts = [];\n\tparts.push({name: 'curve', data: Buffer.from(curveName)});\n\tparts.push({name: 'Q', data: pub});\n\n\tvar key = new Key({type: 'ecdsa', curve: curve, parts: parts});\n\treturn (key);\n}\n\nfunction opensshCipherInfo(cipher) {\n\tvar inf = {};\n\tswitch (cipher) {\n\tcase '3des-cbc':\n\t\tinf.keySize = 24;\n\t\tinf.blockSize = 8;\n\t\tinf.opensslName = 'des-ede3-cbc';\n\t\tbreak;\n\tcase 'blowfish-cbc':\n\t\tinf.keySize = 16;\n\t\tinf.blockSize = 8;\n\t\tinf.opensslName = 'bf-cbc';\n\t\tbreak;\n\tcase 'aes128-cbc':\n\tcase 'aes128-ctr':\n\tcase 'aes128-gcm@openssh.com':\n\t\tinf.keySize = 16;\n\t\tinf.blockSize = 16;\n\t\tinf.opensslName = 'aes-128-' + cipher.slice(7, 10);\n\t\tbreak;\n\tcase 'aes192-cbc':\n\tcase 'aes192-ctr':\n\tcase 'aes192-gcm@openssh.com':\n\t\tinf.keySize = 24;\n\t\tinf.blockSize = 16;\n\t\tinf.opensslName = 'aes-192-' + cipher.slice(7, 10);\n\t\tbreak;\n\tcase 'aes256-cbc':\n\tcase 'aes256-ctr':\n\tcase 'aes256-gcm@openssh.com':\n\t\tinf.keySize = 32;\n\t\tinf.blockSize = 16;\n\t\tinf.opensslName = 'aes-256-' + cipher.slice(7, 10);\n\t\tbreak;\n\tdefault:\n\t\tthrow (new Error(\n\t\t    'Unsupported openssl cipher \"' + cipher + '\"'));\n\t}\n\treturn (inf);\n}\n","/*!\n * statuses\n * Copyright(c) 2014 Jonathan Ong\n * Copyright(c) 2016 Douglas Christopher Wilson\n * MIT Licensed\n */\n\n'use strict'\n\n/**\n * Module dependencies.\n * @private\n */\n\nvar codes = require('./codes.json')\n\n/**\n * Module exports.\n * @public\n */\n\nmodule.exports = status\n\n// status code to message map\nstatus.STATUS_CODES = codes\n\n// array of status codes\nstatus.codes = populateStatusesMap(status, codes)\n\n// status codes for redirects\nstatus.redirect = {\n  300: true,\n  301: true,\n  302: true,\n  303: true,\n  305: true,\n  307: true,\n  308: true\n}\n\n// status codes for empty bodies\nstatus.empty = {\n  204: true,\n  205: true,\n  304: true\n}\n\n// status codes for when you should retry the request\nstatus.retry = {\n  502: true,\n  503: true,\n  504: true\n}\n\n/**\n * Populate the statuses map for given codes.\n * @private\n */\n\nfunction populateStatusesMap (statuses, codes) {\n  var arr = []\n\n  Object.keys(codes).forEach(function forEachCode (code) {\n    var message = codes[code]\n    var status = Number(code)\n\n    // Populate properties\n    statuses[status] = message\n    statuses[message] = status\n    statuses[message.toLowerCase()] = status\n\n    // Add to array\n    arr.push(status)\n  })\n\n  return arr\n}\n\n/**\n * Get the status code.\n *\n * Given a number, this will throw if it is not a known status\n * code, otherwise the code will be returned. Given a string,\n * the string will be parsed for a number and return the code\n * if valid, otherwise will lookup the code assuming this is\n * the status message.\n *\n * @param {string|number} code\n * @returns {number}\n * @public\n */\n\nfunction status (code) {\n  if (typeof code === 'number') {\n    if (!status[code]) throw new Error('invalid status code: ' + code)\n    return code\n  }\n\n  if (typeof code !== 'string') {\n    throw new TypeError('code must be a number or string')\n  }\n\n  // '403'\n  var n = parseInt(code, 10)\n  if (!isNaN(n)) {\n    if (!status[n]) throw new Error('invalid status code: ' + n)\n    return n\n  }\n\n  n = status[code.toLowerCase()]\n  if (!n) throw new Error('invalid status message: \"' + code + '\"')\n  return n\n}\n","/*!\n * toidentifier\n * Copyright(c) 2016 Douglas Christopher Wilson\n * MIT Licensed\n */\n\n/**\n * Module exports.\n * @public\n */\n\nmodule.exports = toIdentifier\n\n/**\n * Trasform the given string into a JavaScript identifier\n *\n * @param {string} str\n * @returns {string}\n * @public\n */\n\nfunction toIdentifier (str) {\n  return str\n    .split(' ')\n    .map(function (token) {\n      return token.slice(0, 1).toUpperCase() + token.slice(1)\n    })\n    .join('')\n    .replace(/[^ _0-9a-z]/gi, '')\n}\n","/*!\n * Copyright (c) 2015, Salesforce.com, Inc.\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *\n * 1. Redistributions of source code must retain the above copyright notice,\n * this list of conditions and the following disclaimer.\n *\n * 2. Redistributions in binary form must reproduce the above copyright notice,\n * this list of conditions and the following disclaimer in the documentation\n * and/or other materials provided with the distribution.\n *\n * 3. Neither the name of Salesforce.com nor the names of its contributors may\n * be used to endorse or promote products derived from this software without\n * specific prior written permission.\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\"\n * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE\n * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE\n * ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE\n * LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR\n * CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF\n * SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS\n * INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN\n * CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)\n * ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE\n * POSSIBILITY OF SUCH DAMAGE.\n */\n'use strict';\nvar net = require('net');\nvar urlParse = require('url').parse;\nvar util = require('util');\nvar pubsuffix = require('./pubsuffix-psl');\nvar Store = require('./store').Store;\nvar MemoryCookieStore = require('./memstore').MemoryCookieStore;\nvar pathMatch = require('./pathMatch').pathMatch;\nvar VERSION = require('../package.json').version;\n\nvar punycode;\ntry {\n  punycode = require('punycode');\n} catch(e) {\n  console.warn(\"tough-cookie: can't load punycode; won't use punycode for domain normalization\");\n}\n\n// From RFC6265 S4.1.1\n// note that it excludes \\x3B \";\"\nvar COOKIE_OCTETS = /^[\\x21\\x23-\\x2B\\x2D-\\x3A\\x3C-\\x5B\\x5D-\\x7E]+$/;\n\nvar CONTROL_CHARS = /[\\x00-\\x1F]/;\n\n// From Chromium // '\\r', '\\n' and '\\0' should be treated as a terminator in\n// the \"relaxed\" mode, see:\n// https://github.com/ChromiumWebApps/chromium/blob/b3d3b4da8bb94c1b2e061600df106d590fda3620/net/cookies/parsed_cookie.cc#L60\nvar TERMINATORS = ['\\n', '\\r', '\\0'];\n\n// RFC6265 S4.1.1 defines path value as 'any CHAR except CTLs or \";\"'\n// Note ';' is \\x3B\nvar PATH_VALUE = /[\\x20-\\x3A\\x3C-\\x7E]+/;\n\n// date-time parsing constants (RFC6265 S5.1.1)\n\nvar DATE_DELIM = /[\\x09\\x20-\\x2F\\x3B-\\x40\\x5B-\\x60\\x7B-\\x7E]/;\n\nvar MONTH_TO_NUM = {\n  jan:0, feb:1, mar:2, apr:3, may:4, jun:5,\n  jul:6, aug:7, sep:8, oct:9, nov:10, dec:11\n};\nvar NUM_TO_MONTH = [\n  'Jan','Feb','Mar','Apr','May','Jun','Jul','Aug','Sep','Oct','Nov','Dec'\n];\nvar NUM_TO_DAY = [\n  'Sun','Mon','Tue','Wed','Thu','Fri','Sat'\n];\n\nvar MAX_TIME = 2147483647000; // 31-bit max\nvar MIN_TIME = 0; // 31-bit min\n\n/*\n * Parses a Natural number (i.e., non-negative integer) with either the\n *    <min>*<max>DIGIT ( non-digit *OCTET )\n * or\n *    <min>*<max>DIGIT\n * grammar (RFC6265 S5.1.1).\n *\n * The \"trailingOK\" boolean controls if the grammar accepts a\n * \"( non-digit *OCTET )\" trailer.\n */\nfunction parseDigits(token, minDigits, maxDigits, trailingOK) {\n  var count = 0;\n  while (count < token.length) {\n    var c = token.charCodeAt(count);\n    // \"non-digit = %x00-2F / %x3A-FF\"\n    if (c <= 0x2F || c >= 0x3A) {\n      break;\n    }\n    count++;\n  }\n\n  // constrain to a minimum and maximum number of digits.\n  if (count < minDigits || count > maxDigits) {\n    return null;\n  }\n\n  if (!trailingOK && count != token.length) {\n    return null;\n  }\n\n  return parseInt(token.substr(0,count), 10);\n}\n\nfunction parseTime(token) {\n  var parts = token.split(':');\n  var result = [0,0,0];\n\n  /* RF6256 S5.1.1:\n   *      time            = hms-time ( non-digit *OCTET )\n   *      hms-time        = time-field \":\" time-field \":\" time-field\n   *      time-field      = 1*2DIGIT\n   */\n\n  if (parts.length !== 3) {\n    return null;\n  }\n\n  for (var i = 0; i < 3; i++) {\n    // \"time-field\" must be strictly \"1*2DIGIT\", HOWEVER, \"hms-time\" can be\n    // followed by \"( non-digit *OCTET )\" so therefore the last time-field can\n    // have a trailer\n    var trailingOK = (i == 2);\n    var num = parseDigits(parts[i], 1, 2, trailingOK);\n    if (num === null) {\n      return null;\n    }\n    result[i] = num;\n  }\n\n  return result;\n}\n\nfunction parseMonth(token) {\n  token = String(token).substr(0,3).toLowerCase();\n  var num = MONTH_TO_NUM[token];\n  return num >= 0 ? num : null;\n}\n\n/*\n * RFC6265 S5.1.1 date parser (see RFC for full grammar)\n */\nfunction parseDate(str) {\n  if (!str) {\n    return;\n  }\n\n  /* RFC6265 S5.1.1:\n   * 2. Process each date-token sequentially in the order the date-tokens\n   * appear in the cookie-date\n   */\n  var tokens = str.split(DATE_DELIM);\n  if (!tokens) {\n    return;\n  }\n\n  var hour = null;\n  var minute = null;\n  var second = null;\n  var dayOfMonth = null;\n  var month = null;\n  var year = null;\n\n  for (var i=0; i<tokens.length; i++) {\n    var token = tokens[i].trim();\n    if (!token.length) {\n      continue;\n    }\n\n    var result;\n\n    /* 2.1. If the found-time flag is not set and the token matches the time\n     * production, set the found-time flag and set the hour- value,\n     * minute-value, and second-value to the numbers denoted by the digits in\n     * the date-token, respectively.  Skip the remaining sub-steps and continue\n     * to the next date-token.\n     */\n    if (second === null) {\n      result = parseTime(token);\n      if (result) {\n        hour = result[0];\n        minute = result[1];\n        second = result[2];\n        continue;\n      }\n    }\n\n    /* 2.2. If the found-day-of-month flag is not set and the date-token matches\n     * the day-of-month production, set the found-day-of- month flag and set\n     * the day-of-month-value to the number denoted by the date-token.  Skip\n     * the remaining sub-steps and continue to the next date-token.\n     */\n    if (dayOfMonth === null) {\n      // \"day-of-month = 1*2DIGIT ( non-digit *OCTET )\"\n      result = parseDigits(token, 1, 2, true);\n      if (result !== null) {\n        dayOfMonth = result;\n        continue;\n      }\n    }\n\n    /* 2.3. If the found-month flag is not set and the date-token matches the\n     * month production, set the found-month flag and set the month-value to\n     * the month denoted by the date-token.  Skip the remaining sub-steps and\n     * continue to the next date-token.\n     */\n    if (month === null) {\n      result = parseMonth(token);\n      if (result !== null) {\n        month = result;\n        continue;\n      }\n    }\n\n    /* 2.4. If the found-year flag is not set and the date-token matches the\n     * year production, set the found-year flag and set the year-value to the\n     * number denoted by the date-token.  Skip the remaining sub-steps and\n     * continue to the next date-token.\n     */\n    if (year === null) {\n      // \"year = 2*4DIGIT ( non-digit *OCTET )\"\n      result = parseDigits(token, 2, 4, true);\n      if (result !== null) {\n        year = result;\n        /* From S5.1.1:\n         * 3.  If the year-value is greater than or equal to 70 and less\n         * than or equal to 99, increment the year-value by 1900.\n         * 4.  If the year-value is greater than or equal to 0 and less\n         * than or equal to 69, increment the year-value by 2000.\n         */\n        if (year >= 70 && year <= 99) {\n          year += 1900;\n        } else if (year >= 0 && year <= 69) {\n          year += 2000;\n        }\n      }\n    }\n  }\n\n  /* RFC 6265 S5.1.1\n   * \"5. Abort these steps and fail to parse the cookie-date if:\n   *     *  at least one of the found-day-of-month, found-month, found-\n   *        year, or found-time flags is not set,\n   *     *  the day-of-month-value is less than 1 or greater than 31,\n   *     *  the year-value is less than 1601,\n   *     *  the hour-value is greater than 23,\n   *     *  the minute-value is greater than 59, or\n   *     *  the second-value is greater than 59.\n   *     (Note that leap seconds cannot be represented in this syntax.)\"\n   *\n   * So, in order as above:\n   */\n  if (\n    dayOfMonth === null || month === null || year === null || second === null ||\n    dayOfMonth < 1 || dayOfMonth > 31 ||\n    year < 1601 ||\n    hour > 23 ||\n    minute > 59 ||\n    second > 59\n  ) {\n    return;\n  }\n\n  return new Date(Date.UTC(year, month, dayOfMonth, hour, minute, second));\n}\n\nfunction formatDate(date) {\n  var d = date.getUTCDate(); d = d >= 10 ? d : '0'+d;\n  var h = date.getUTCHours(); h = h >= 10 ? h : '0'+h;\n  var m = date.getUTCMinutes(); m = m >= 10 ? m : '0'+m;\n  var s = date.getUTCSeconds(); s = s >= 10 ? s : '0'+s;\n  return NUM_TO_DAY[date.getUTCDay()] + ', ' +\n    d+' '+ NUM_TO_MONTH[date.getUTCMonth()] +' '+ date.getUTCFullYear() +' '+\n    h+':'+m+':'+s+' GMT';\n}\n\n// S5.1.2 Canonicalized Host Names\nfunction canonicalDomain(str) {\n  if (str == null) {\n    return null;\n  }\n  str = str.trim().replace(/^\\./,''); // S4.1.2.3 & S5.2.3: ignore leading .\n\n  // convert to IDN if any non-ASCII characters\n  if (punycode && /[^\\u0001-\\u007f]/.test(str)) {\n    str = punycode.toASCII(str);\n  }\n\n  return str.toLowerCase();\n}\n\n// S5.1.3 Domain Matching\nfunction domainMatch(str, domStr, canonicalize) {\n  if (str == null || domStr == null) {\n    return null;\n  }\n  if (canonicalize !== false) {\n    str = canonicalDomain(str);\n    domStr = canonicalDomain(domStr);\n  }\n\n  /*\n   * \"The domain string and the string are identical. (Note that both the\n   * domain string and the string will have been canonicalized to lower case at\n   * this point)\"\n   */\n  if (str == domStr) {\n    return true;\n  }\n\n  /* \"All of the following [three] conditions hold:\" (order adjusted from the RFC) */\n\n  /* \"* The string is a host name (i.e., not an IP address).\" */\n  if (net.isIP(str)) {\n    return false;\n  }\n\n  /* \"* The domain string is a suffix of the string\" */\n  var idx = str.indexOf(domStr);\n  if (idx <= 0) {\n    return false; // it's a non-match (-1) or prefix (0)\n  }\n\n  // e.g \"a.b.c\".indexOf(\"b.c\") === 2\n  // 5 === 3+2\n  if (str.length !== domStr.length + idx) { // it's not a suffix\n    return false;\n  }\n\n  /* \"* The last character of the string that is not included in the domain\n  * string is a %x2E (\".\") character.\" */\n  if (str.substr(idx-1,1) !== '.') {\n    return false;\n  }\n\n  return true;\n}\n\n\n// RFC6265 S5.1.4 Paths and Path-Match\n\n/*\n * \"The user agent MUST use an algorithm equivalent to the following algorithm\n * to compute the default-path of a cookie:\"\n *\n * Assumption: the path (and not query part or absolute uri) is passed in.\n */\nfunction defaultPath(path) {\n  // \"2. If the uri-path is empty or if the first character of the uri-path is not\n  // a %x2F (\"/\") character, output %x2F (\"/\") and skip the remaining steps.\n  if (!path || path.substr(0,1) !== \"/\") {\n    return \"/\";\n  }\n\n  // \"3. If the uri-path contains no more than one %x2F (\"/\") character, output\n  // %x2F (\"/\") and skip the remaining step.\"\n  if (path === \"/\") {\n    return path;\n  }\n\n  var rightSlash = path.lastIndexOf(\"/\");\n  if (rightSlash === 0) {\n    return \"/\";\n  }\n\n  // \"4. Output the characters of the uri-path from the first character up to,\n  // but not including, the right-most %x2F (\"/\").\"\n  return path.slice(0, rightSlash);\n}\n\nfunction trimTerminator(str) {\n  for (var t = 0; t < TERMINATORS.length; t++) {\n    var terminatorIdx = str.indexOf(TERMINATORS[t]);\n    if (terminatorIdx !== -1) {\n      str = str.substr(0,terminatorIdx);\n    }\n  }\n\n  return str;\n}\n\nfunction parseCookiePair(cookiePair, looseMode) {\n  cookiePair = trimTerminator(cookiePair);\n\n  var firstEq = cookiePair.indexOf('=');\n  if (looseMode) {\n    if (firstEq === 0) { // '=' is immediately at start\n      cookiePair = cookiePair.substr(1);\n      firstEq = cookiePair.indexOf('='); // might still need to split on '='\n    }\n  } else { // non-loose mode\n    if (firstEq <= 0) { // no '=' or is at start\n      return; // needs to have non-empty \"cookie-name\"\n    }\n  }\n\n  var cookieName, cookieValue;\n  if (firstEq <= 0) {\n    cookieName = \"\";\n    cookieValue = cookiePair.trim();\n  } else {\n    cookieName = cookiePair.substr(0, firstEq).trim();\n    cookieValue = cookiePair.substr(firstEq+1).trim();\n  }\n\n  if (CONTROL_CHARS.test(cookieName) || CONTROL_CHARS.test(cookieValue)) {\n    return;\n  }\n\n  var c = new Cookie();\n  c.key = cookieName;\n  c.value = cookieValue;\n  return c;\n}\n\nfunction parse(str, options) {\n  if (!options || typeof options !== 'object') {\n    options = {};\n  }\n  str = str.trim();\n\n  // We use a regex to parse the \"name-value-pair\" part of S5.2\n  var firstSemi = str.indexOf(';'); // S5.2 step 1\n  var cookiePair = (firstSemi === -1) ? str : str.substr(0, firstSemi);\n  var c = parseCookiePair(cookiePair, !!options.loose);\n  if (!c) {\n    return;\n  }\n\n  if (firstSemi === -1) {\n    return c;\n  }\n\n  // S5.2.3 \"unparsed-attributes consist of the remainder of the set-cookie-string\n  // (including the %x3B (\";\") in question).\" plus later on in the same section\n  // \"discard the first \";\" and trim\".\n  var unparsed = str.slice(firstSemi + 1).trim();\n\n  // \"If the unparsed-attributes string is empty, skip the rest of these\n  // steps.\"\n  if (unparsed.length === 0) {\n    return c;\n  }\n\n  /*\n   * S5.2 says that when looping over the items \"[p]rocess the attribute-name\n   * and attribute-value according to the requirements in the following\n   * subsections\" for every item.  Plus, for many of the individual attributes\n   * in S5.3 it says to use the \"attribute-value of the last attribute in the\n   * cookie-attribute-list\".  Therefore, in this implementation, we overwrite\n   * the previous value.\n   */\n  var cookie_avs = unparsed.split(';');\n  while (cookie_avs.length) {\n    var av = cookie_avs.shift().trim();\n    if (av.length === 0) { // happens if \";;\" appears\n      continue;\n    }\n    var av_sep = av.indexOf('=');\n    var av_key, av_value;\n\n    if (av_sep === -1) {\n      av_key = av;\n      av_value = null;\n    } else {\n      av_key = av.substr(0,av_sep);\n      av_value = av.substr(av_sep+1);\n    }\n\n    av_key = av_key.trim().toLowerCase();\n\n    if (av_value) {\n      av_value = av_value.trim();\n    }\n\n    switch(av_key) {\n    case 'expires': // S5.2.1\n      if (av_value) {\n        var exp = parseDate(av_value);\n        // \"If the attribute-value failed to parse as a cookie date, ignore the\n        // cookie-av.\"\n        if (exp) {\n          // over and underflow not realistically a concern: V8's getTime() seems to\n          // store something larger than a 32-bit time_t (even with 32-bit node)\n          c.expires = exp;\n        }\n      }\n      break;\n\n    case 'max-age': // S5.2.2\n      if (av_value) {\n        // \"If the first character of the attribute-value is not a DIGIT or a \"-\"\n        // character ...[or]... If the remainder of attribute-value contains a\n        // non-DIGIT character, ignore the cookie-av.\"\n        if (/^-?[0-9]+$/.test(av_value)) {\n          var delta = parseInt(av_value, 10);\n          // \"If delta-seconds is less than or equal to zero (0), let expiry-time\n          // be the earliest representable date and time.\"\n          c.setMaxAge(delta);\n        }\n      }\n      break;\n\n    case 'domain': // S5.2.3\n      // \"If the attribute-value is empty, the behavior is undefined.  However,\n      // the user agent SHOULD ignore the cookie-av entirely.\"\n      if (av_value) {\n        // S5.2.3 \"Let cookie-domain be the attribute-value without the leading %x2E\n        // (\".\") character.\"\n        var domain = av_value.trim().replace(/^\\./, '');\n        if (domain) {\n          // \"Convert the cookie-domain to lower case.\"\n          c.domain = domain.toLowerCase();\n        }\n      }\n      break;\n\n    case 'path': // S5.2.4\n      /*\n       * \"If the attribute-value is empty or if the first character of the\n       * attribute-value is not %x2F (\"/\"):\n       *   Let cookie-path be the default-path.\n       * Otherwise:\n       *   Let cookie-path be the attribute-value.\"\n       *\n       * We'll represent the default-path as null since it depends on the\n       * context of the parsing.\n       */\n      c.path = av_value && av_value[0] === \"/\" ? av_value : null;\n      break;\n\n    case 'secure': // S5.2.5\n      /*\n       * \"If the attribute-name case-insensitively matches the string \"Secure\",\n       * the user agent MUST append an attribute to the cookie-attribute-list\n       * with an attribute-name of Secure and an empty attribute-value.\"\n       */\n      c.secure = true;\n      break;\n\n    case 'httponly': // S5.2.6 -- effectively the same as 'secure'\n      c.httpOnly = true;\n      break;\n\n    default:\n      c.extensions = c.extensions || [];\n      c.extensions.push(av);\n      break;\n    }\n  }\n\n  return c;\n}\n\n// avoid the V8 deoptimization monster!\nfunction jsonParse(str) {\n  var obj;\n  try {\n    obj = JSON.parse(str);\n  } catch (e) {\n    return e;\n  }\n  return obj;\n}\n\nfunction fromJSON(str) {\n  if (!str) {\n    return null;\n  }\n\n  var obj;\n  if (typeof str === 'string') {\n    obj = jsonParse(str);\n    if (obj instanceof Error) {\n      return null;\n    }\n  } else {\n    // assume it's an Object\n    obj = str;\n  }\n\n  var c = new Cookie();\n  for (var i=0; i<Cookie.serializableProperties.length; i++) {\n    var prop = Cookie.serializableProperties[i];\n    if (obj[prop] === undefined ||\n        obj[prop] === Cookie.prototype[prop])\n    {\n      continue; // leave as prototype default\n    }\n\n    if (prop === 'expires' ||\n        prop === 'creation' ||\n        prop === 'lastAccessed')\n    {\n      if (obj[prop] === null) {\n        c[prop] = null;\n      } else {\n        c[prop] = obj[prop] == \"Infinity\" ?\n          \"Infinity\" : new Date(obj[prop]);\n      }\n    } else {\n      c[prop] = obj[prop];\n    }\n  }\n\n  return c;\n}\n\n/* Section 5.4 part 2:\n * \"*  Cookies with longer paths are listed before cookies with\n *     shorter paths.\n *\n *  *  Among cookies that have equal-length path fields, cookies with\n *     earlier creation-times are listed before cookies with later\n *     creation-times.\"\n */\n\nfunction cookieCompare(a,b) {\n  var cmp = 0;\n\n  // descending for length: b CMP a\n  var aPathLen = a.path ? a.path.length : 0;\n  var bPathLen = b.path ? b.path.length : 0;\n  cmp = bPathLen - aPathLen;\n  if (cmp !== 0) {\n    return cmp;\n  }\n\n  // ascending for time: a CMP b\n  var aTime = a.creation ? a.creation.getTime() : MAX_TIME;\n  var bTime = b.creation ? b.creation.getTime() : MAX_TIME;\n  cmp = aTime - bTime;\n  if (cmp !== 0) {\n    return cmp;\n  }\n\n  // break ties for the same millisecond (precision of JavaScript's clock)\n  cmp = a.creationIndex - b.creationIndex;\n\n  return cmp;\n}\n\n// Gives the permutation of all possible pathMatch()es of a given path. The\n// array is in longest-to-shortest order.  Handy for indexing.\nfunction permutePath(path) {\n  if (path === '/') {\n    return ['/'];\n  }\n  if (path.lastIndexOf('/') === path.length-1) {\n    path = path.substr(0,path.length-1);\n  }\n  var permutations = [path];\n  while (path.length > 1) {\n    var lindex = path.lastIndexOf('/');\n    if (lindex === 0) {\n      break;\n    }\n    path = path.substr(0,lindex);\n    permutations.push(path);\n  }\n  permutations.push('/');\n  return permutations;\n}\n\nfunction getCookieContext(url) {\n  if (url instanceof Object) {\n    return url;\n  }\n  // NOTE: decodeURI will throw on malformed URIs (see GH-32).\n  // Therefore, we will just skip decoding for such URIs.\n  try {\n    url = decodeURI(url);\n  }\n  catch(err) {\n    // Silently swallow error\n  }\n\n  return urlParse(url);\n}\n\nfunction Cookie(options) {\n  options = options || {};\n\n  Object.keys(options).forEach(function(prop) {\n    if (Cookie.prototype.hasOwnProperty(prop) &&\n        Cookie.prototype[prop] !== options[prop] &&\n        prop.substr(0,1) !== '_')\n    {\n      this[prop] = options[prop];\n    }\n  }, this);\n\n  this.creation = this.creation || new Date();\n\n  // used to break creation ties in cookieCompare():\n  Object.defineProperty(this, 'creationIndex', {\n    configurable: false,\n    enumerable: false, // important for assert.deepEqual checks\n    writable: true,\n    value: ++Cookie.cookiesCreated\n  });\n}\n\nCookie.cookiesCreated = 0; // incremented each time a cookie is created\n\nCookie.parse = parse;\nCookie.fromJSON = fromJSON;\n\nCookie.prototype.key = \"\";\nCookie.prototype.value = \"\";\n\n// the order in which the RFC has them:\nCookie.prototype.expires = \"Infinity\"; // coerces to literal Infinity\nCookie.prototype.maxAge = null; // takes precedence over expires for TTL\nCookie.prototype.domain = null;\nCookie.prototype.path = null;\nCookie.prototype.secure = false;\nCookie.prototype.httpOnly = false;\nCookie.prototype.extensions = null;\n\n// set by the CookieJar:\nCookie.prototype.hostOnly = null; // boolean when set\nCookie.prototype.pathIsDefault = null; // boolean when set\nCookie.prototype.creation = null; // Date when set; defaulted by Cookie.parse\nCookie.prototype.lastAccessed = null; // Date when set\nObject.defineProperty(Cookie.prototype, 'creationIndex', {\n  configurable: true,\n  enumerable: false,\n  writable: true,\n  value: 0\n});\n\nCookie.serializableProperties = Object.keys(Cookie.prototype)\n  .filter(function(prop) {\n    return !(\n      Cookie.prototype[prop] instanceof Function ||\n      prop === 'creationIndex' ||\n      prop.substr(0,1) === '_'\n    );\n  });\n\nCookie.prototype.inspect = function inspect() {\n  var now = Date.now();\n  return 'Cookie=\"'+this.toString() +\n    '; hostOnly='+(this.hostOnly != null ? this.hostOnly : '?') +\n    '; aAge='+(this.lastAccessed ? (now-this.lastAccessed.getTime())+'ms' : '?') +\n    '; cAge='+(this.creation ? (now-this.creation.getTime())+'ms' : '?') +\n    '\"';\n};\n\n// Use the new custom inspection symbol to add the custom inspect function if\n// available.\nif (util.inspect.custom) {\n  Cookie.prototype[util.inspect.custom] = Cookie.prototype.inspect;\n}\n\nCookie.prototype.toJSON = function() {\n  var obj = {};\n\n  var props = Cookie.serializableProperties;\n  for (var i=0; i<props.length; i++) {\n    var prop = props[i];\n    if (this[prop] === Cookie.prototype[prop]) {\n      continue; // leave as prototype default\n    }\n\n    if (prop === 'expires' ||\n        prop === 'creation' ||\n        prop === 'lastAccessed')\n    {\n      if (this[prop] === null) {\n        obj[prop] = null;\n      } else {\n        obj[prop] = this[prop] == \"Infinity\" ? // intentionally not ===\n          \"Infinity\" : this[prop].toISOString();\n      }\n    } else if (prop === 'maxAge') {\n      if (this[prop] !== null) {\n        // again, intentionally not ===\n        obj[prop] = (this[prop] == Infinity || this[prop] == -Infinity) ?\n          this[prop].toString() : this[prop];\n      }\n    } else {\n      if (this[prop] !== Cookie.prototype[prop]) {\n        obj[prop] = this[prop];\n      }\n    }\n  }\n\n  return obj;\n};\n\nCookie.prototype.clone = function() {\n  return fromJSON(this.toJSON());\n};\n\nCookie.prototype.validate = function validate() {\n  if (!COOKIE_OCTETS.test(this.value)) {\n    return false;\n  }\n  if (this.expires != Infinity && !(this.expires instanceof Date) && !parseDate(this.expires)) {\n    return false;\n  }\n  if (this.maxAge != null && this.maxAge <= 0) {\n    return false; // \"Max-Age=\" non-zero-digit *DIGIT\n  }\n  if (this.path != null && !PATH_VALUE.test(this.path)) {\n    return false;\n  }\n\n  var cdomain = this.cdomain();\n  if (cdomain) {\n    if (cdomain.match(/\\.$/)) {\n      return false; // S4.1.2.3 suggests that this is bad. domainMatch() tests confirm this\n    }\n    var suffix = pubsuffix.getPublicSuffix(cdomain);\n    if (suffix == null) { // it's a public suffix\n      return false;\n    }\n  }\n  return true;\n};\n\nCookie.prototype.setExpires = function setExpires(exp) {\n  if (exp instanceof Date) {\n    this.expires = exp;\n  } else {\n    this.expires = parseDate(exp) || \"Infinity\";\n  }\n};\n\nCookie.prototype.setMaxAge = function setMaxAge(age) {\n  if (age === Infinity || age === -Infinity) {\n    this.maxAge = age.toString(); // so JSON.stringify() works\n  } else {\n    this.maxAge = age;\n  }\n};\n\n// gives Cookie header format\nCookie.prototype.cookieString = function cookieString() {\n  var val = this.value;\n  if (val == null) {\n    val = '';\n  }\n  if (this.key === '') {\n    return val;\n  }\n  return this.key+'='+val;\n};\n\n// gives Set-Cookie header format\nCookie.prototype.toString = function toString() {\n  var str = this.cookieString();\n\n  if (this.expires != Infinity) {\n    if (this.expires instanceof Date) {\n      str += '; Expires='+formatDate(this.expires);\n    } else {\n      str += '; Expires='+this.expires;\n    }\n  }\n\n  if (this.maxAge != null && this.maxAge != Infinity) {\n    str += '; Max-Age='+this.maxAge;\n  }\n\n  if (this.domain && !this.hostOnly) {\n    str += '; Domain='+this.domain;\n  }\n  if (this.path) {\n    str += '; Path='+this.path;\n  }\n\n  if (this.secure) {\n    str += '; Secure';\n  }\n  if (this.httpOnly) {\n    str += '; HttpOnly';\n  }\n  if (this.extensions) {\n    this.extensions.forEach(function(ext) {\n      str += '; '+ext;\n    });\n  }\n\n  return str;\n};\n\n// TTL() partially replaces the \"expiry-time\" parts of S5.3 step 3 (setCookie()\n// elsewhere)\n// S5.3 says to give the \"latest representable date\" for which we use Infinity\n// For \"expired\" we use 0\nCookie.prototype.TTL = function TTL(now) {\n  /* RFC6265 S4.1.2.2 If a cookie has both the Max-Age and the Expires\n   * attribute, the Max-Age attribute has precedence and controls the\n   * expiration date of the cookie.\n   * (Concurs with S5.3 step 3)\n   */\n  if (this.maxAge != null) {\n    return this.maxAge<=0 ? 0 : this.maxAge*1000;\n  }\n\n  var expires = this.expires;\n  if (expires != Infinity) {\n    if (!(expires instanceof Date)) {\n      expires = parseDate(expires) || Infinity;\n    }\n\n    if (expires == Infinity) {\n      return Infinity;\n    }\n\n    return expires.getTime() - (now || Date.now());\n  }\n\n  return Infinity;\n};\n\n// expiryTime() replaces the \"expiry-time\" parts of S5.3 step 3 (setCookie()\n// elsewhere)\nCookie.prototype.expiryTime = function expiryTime(now) {\n  if (this.maxAge != null) {\n    var relativeTo = now || this.creation || new Date();\n    var age = (this.maxAge <= 0) ? -Infinity : this.maxAge*1000;\n    return relativeTo.getTime() + age;\n  }\n\n  if (this.expires == Infinity) {\n    return Infinity;\n  }\n  return this.expires.getTime();\n};\n\n// expiryDate() replaces the \"expiry-time\" parts of S5.3 step 3 (setCookie()\n// elsewhere), except it returns a Date\nCookie.prototype.expiryDate = function expiryDate(now) {\n  var millisec = this.expiryTime(now);\n  if (millisec == Infinity) {\n    return new Date(MAX_TIME);\n  } else if (millisec == -Infinity) {\n    return new Date(MIN_TIME);\n  } else {\n    return new Date(millisec);\n  }\n};\n\n// This replaces the \"persistent-flag\" parts of S5.3 step 3\nCookie.prototype.isPersistent = function isPersistent() {\n  return (this.maxAge != null || this.expires != Infinity);\n};\n\n// Mostly S5.1.2 and S5.2.3:\nCookie.prototype.cdomain =\nCookie.prototype.canonicalizedDomain = function canonicalizedDomain() {\n  if (this.domain == null) {\n    return null;\n  }\n  return canonicalDomain(this.domain);\n};\n\nfunction CookieJar(store, options) {\n  if (typeof options === \"boolean\") {\n    options = {rejectPublicSuffixes: options};\n  } else if (options == null) {\n    options = {};\n  }\n  if (options.rejectPublicSuffixes != null) {\n    this.rejectPublicSuffixes = options.rejectPublicSuffixes;\n  }\n  if (options.looseMode != null) {\n    this.enableLooseMode = options.looseMode;\n  }\n\n  if (!store) {\n    store = new MemoryCookieStore();\n  }\n  this.store = store;\n}\nCookieJar.prototype.store = null;\nCookieJar.prototype.rejectPublicSuffixes = true;\nCookieJar.prototype.enableLooseMode = false;\nvar CAN_BE_SYNC = [];\n\nCAN_BE_SYNC.push('setCookie');\nCookieJar.prototype.setCookie = function(cookie, url, options, cb) {\n  var err;\n  var context = getCookieContext(url);\n  if (options instanceof Function) {\n    cb = options;\n    options = {};\n  }\n\n  var host = canonicalDomain(context.hostname);\n  var loose = this.enableLooseMode;\n  if (options.loose != null) {\n    loose = options.loose;\n  }\n\n  // S5.3 step 1\n  if (!(cookie instanceof Cookie)) {\n    cookie = Cookie.parse(cookie, { loose: loose });\n  }\n  if (!cookie) {\n    err = new Error(\"Cookie failed to parse\");\n    return cb(options.ignoreError ? null : err);\n  }\n\n  // S5.3 step 2\n  var now = options.now || new Date(); // will assign later to save effort in the face of errors\n\n  // S5.3 step 3: NOOP; persistent-flag and expiry-time is handled by getCookie()\n\n  // S5.3 step 4: NOOP; domain is null by default\n\n  // S5.3 step 5: public suffixes\n  if (this.rejectPublicSuffixes && cookie.domain) {\n    var suffix = pubsuffix.getPublicSuffix(cookie.cdomain());\n    if (suffix == null) { // e.g. \"com\"\n      err = new Error(\"Cookie has domain set to a public suffix\");\n      return cb(options.ignoreError ? null : err);\n    }\n  }\n\n  // S5.3 step 6:\n  if (cookie.domain) {\n    if (!domainMatch(host, cookie.cdomain(), false)) {\n      err = new Error(\"Cookie not in this host's domain. Cookie:\"+cookie.cdomain()+\" Request:\"+host);\n      return cb(options.ignoreError ? null : err);\n    }\n\n    if (cookie.hostOnly == null) { // don't reset if already set\n      cookie.hostOnly = false;\n    }\n\n  } else {\n    cookie.hostOnly = true;\n    cookie.domain = host;\n  }\n\n  //S5.2.4 If the attribute-value is empty or if the first character of the\n  //attribute-value is not %x2F (\"/\"):\n  //Let cookie-path be the default-path.\n  if (!cookie.path || cookie.path[0] !== '/') {\n    cookie.path = defaultPath(context.pathname);\n    cookie.pathIsDefault = true;\n  }\n\n  // S5.3 step 8: NOOP; secure attribute\n  // S5.3 step 9: NOOP; httpOnly attribute\n\n  // S5.3 step 10\n  if (options.http === false && cookie.httpOnly) {\n    err = new Error(\"Cookie is HttpOnly and this isn't an HTTP API\");\n    return cb(options.ignoreError ? null : err);\n  }\n\n  var store = this.store;\n\n  if (!store.updateCookie) {\n    store.updateCookie = function(oldCookie, newCookie, cb) {\n      this.putCookie(newCookie, cb);\n    };\n  }\n\n  function withCookie(err, oldCookie) {\n    if (err) {\n      return cb(err);\n    }\n\n    var next = function(err) {\n      if (err) {\n        return cb(err);\n      } else {\n        cb(null, cookie);\n      }\n    };\n\n    if (oldCookie) {\n      // S5.3 step 11 - \"If the cookie store contains a cookie with the same name,\n      // domain, and path as the newly created cookie:\"\n      if (options.http === false && oldCookie.httpOnly) { // step 11.2\n        err = new Error(\"old Cookie is HttpOnly and this isn't an HTTP API\");\n        return cb(options.ignoreError ? null : err);\n      }\n      cookie.creation = oldCookie.creation; // step 11.3\n      cookie.creationIndex = oldCookie.creationIndex; // preserve tie-breaker\n      cookie.lastAccessed = now;\n      // Step 11.4 (delete cookie) is implied by just setting the new one:\n      store.updateCookie(oldCookie, cookie, next); // step 12\n\n    } else {\n      cookie.creation = cookie.lastAccessed = now;\n      store.putCookie(cookie, next); // step 12\n    }\n  }\n\n  store.findCookie(cookie.domain, cookie.path, cookie.key, withCookie);\n};\n\n// RFC6365 S5.4\nCAN_BE_SYNC.push('getCookies');\nCookieJar.prototype.getCookies = function(url, options, cb) {\n  var context = getCookieContext(url);\n  if (options instanceof Function) {\n    cb = options;\n    options = {};\n  }\n\n  var host = canonicalDomain(context.hostname);\n  var path = context.pathname || '/';\n\n  var secure = options.secure;\n  if (secure == null && context.protocol &&\n      (context.protocol == 'https:' || context.protocol == 'wss:'))\n  {\n    secure = true;\n  }\n\n  var http = options.http;\n  if (http == null) {\n    http = true;\n  }\n\n  var now = options.now || Date.now();\n  var expireCheck = options.expire !== false;\n  var allPaths = !!options.allPaths;\n  var store = this.store;\n\n  function matchingCookie(c) {\n    // \"Either:\n    //   The cookie's host-only-flag is true and the canonicalized\n    //   request-host is identical to the cookie's domain.\n    // Or:\n    //   The cookie's host-only-flag is false and the canonicalized\n    //   request-host domain-matches the cookie's domain.\"\n    if (c.hostOnly) {\n      if (c.domain != host) {\n        return false;\n      }\n    } else {\n      if (!domainMatch(host, c.domain, false)) {\n        return false;\n      }\n    }\n\n    // \"The request-uri's path path-matches the cookie's path.\"\n    if (!allPaths && !pathMatch(path, c.path)) {\n      return false;\n    }\n\n    // \"If the cookie's secure-only-flag is true, then the request-uri's\n    // scheme must denote a \"secure\" protocol\"\n    if (c.secure && !secure) {\n      return false;\n    }\n\n    // \"If the cookie's http-only-flag is true, then exclude the cookie if the\n    // cookie-string is being generated for a \"non-HTTP\" API\"\n    if (c.httpOnly && !http) {\n      return false;\n    }\n\n    // deferred from S5.3\n    // non-RFC: allow retention of expired cookies by choice\n    if (expireCheck && c.expiryTime() <= now) {\n      store.removeCookie(c.domain, c.path, c.key, function(){}); // result ignored\n      return false;\n    }\n\n    return true;\n  }\n\n  store.findCookies(host, allPaths ? null : path, function(err,cookies) {\n    if (err) {\n      return cb(err);\n    }\n\n    cookies = cookies.filter(matchingCookie);\n\n    // sorting of S5.4 part 2\n    if (options.sort !== false) {\n      cookies = cookies.sort(cookieCompare);\n    }\n\n    // S5.4 part 3\n    var now = new Date();\n    cookies.forEach(function(c) {\n      c.lastAccessed = now;\n    });\n    // TODO persist lastAccessed\n\n    cb(null,cookies);\n  });\n};\n\nCAN_BE_SYNC.push('getCookieString');\nCookieJar.prototype.getCookieString = function(/*..., cb*/) {\n  var args = Array.prototype.slice.call(arguments,0);\n  var cb = args.pop();\n  var next = function(err,cookies) {\n    if (err) {\n      cb(err);\n    } else {\n      cb(null, cookies\n        .sort(cookieCompare)\n        .map(function(c){\n          return c.cookieString();\n        })\n        .join('; '));\n    }\n  };\n  args.push(next);\n  this.getCookies.apply(this,args);\n};\n\nCAN_BE_SYNC.push('getSetCookieStrings');\nCookieJar.prototype.getSetCookieStrings = function(/*..., cb*/) {\n  var args = Array.prototype.slice.call(arguments,0);\n  var cb = args.pop();\n  var next = function(err,cookies) {\n    if (err) {\n      cb(err);\n    } else {\n      cb(null, cookies.map(function(c){\n        return c.toString();\n      }));\n    }\n  };\n  args.push(next);\n  this.getCookies.apply(this,args);\n};\n\nCAN_BE_SYNC.push('serialize');\nCookieJar.prototype.serialize = function(cb) {\n  var type = this.store.constructor.name;\n  if (type === 'Object') {\n    type = null;\n  }\n\n  // update README.md \"Serialization Format\" if you change this, please!\n  var serialized = {\n    // The version of tough-cookie that serialized this jar. Generally a good\n    // practice since future versions can make data import decisions based on\n    // known past behavior. When/if this matters, use `semver`.\n    version: 'tough-cookie@'+VERSION,\n\n    // add the store type, to make humans happy:\n    storeType: type,\n\n    // CookieJar configuration:\n    rejectPublicSuffixes: !!this.rejectPublicSuffixes,\n\n    // this gets filled from getAllCookies:\n    cookies: []\n  };\n\n  if (!(this.store.getAllCookies &&\n        typeof this.store.getAllCookies === 'function'))\n  {\n    return cb(new Error('store does not support getAllCookies and cannot be serialized'));\n  }\n\n  this.store.getAllCookies(function(err,cookies) {\n    if (err) {\n      return cb(err);\n    }\n\n    serialized.cookies = cookies.map(function(cookie) {\n      // convert to serialized 'raw' cookies\n      cookie = (cookie instanceof Cookie) ? cookie.toJSON() : cookie;\n\n      // Remove the index so new ones get assigned during deserialization\n      delete cookie.creationIndex;\n\n      return cookie;\n    });\n\n    return cb(null, serialized);\n  });\n};\n\n// well-known name that JSON.stringify calls\nCookieJar.prototype.toJSON = function() {\n  return this.serializeSync();\n};\n\n// use the class method CookieJar.deserialize instead of calling this directly\nCAN_BE_SYNC.push('_importCookies');\nCookieJar.prototype._importCookies = function(serialized, cb) {\n  var jar = this;\n  var cookies = serialized.cookies;\n  if (!cookies || !Array.isArray(cookies)) {\n    return cb(new Error('serialized jar has no cookies array'));\n  }\n  cookies = cookies.slice(); // do not modify the original\n\n  function putNext(err) {\n    if (err) {\n      return cb(err);\n    }\n\n    if (!cookies.length) {\n      return cb(err, jar);\n    }\n\n    var cookie;\n    try {\n      cookie = fromJSON(cookies.shift());\n    } catch (e) {\n      return cb(e);\n    }\n\n    if (cookie === null) {\n      return putNext(null); // skip this cookie\n    }\n\n    jar.store.putCookie(cookie, putNext);\n  }\n\n  putNext();\n};\n\nCookieJar.deserialize = function(strOrObj, store, cb) {\n  if (arguments.length !== 3) {\n    // store is optional\n    cb = store;\n    store = null;\n  }\n\n  var serialized;\n  if (typeof strOrObj === 'string') {\n    serialized = jsonParse(strOrObj);\n    if (serialized instanceof Error) {\n      return cb(serialized);\n    }\n  } else {\n    serialized = strOrObj;\n  }\n\n  var jar = new CookieJar(store, serialized.rejectPublicSuffixes);\n  jar._importCookies(serialized, function(err) {\n    if (err) {\n      return cb(err);\n    }\n    cb(null, jar);\n  });\n};\n\nCookieJar.deserializeSync = function(strOrObj, store) {\n  var serialized = typeof strOrObj === 'string' ?\n    JSON.parse(strOrObj) : strOrObj;\n  var jar = new CookieJar(store, serialized.rejectPublicSuffixes);\n\n  // catch this mistake early:\n  if (!jar.store.synchronous) {\n    throw new Error('CookieJar store is not synchronous; use async API instead.');\n  }\n\n  jar._importCookiesSync(serialized);\n  return jar;\n};\nCookieJar.fromJSON = CookieJar.deserializeSync;\n\nCAN_BE_SYNC.push('clone');\nCookieJar.prototype.clone = function(newStore, cb) {\n  if (arguments.length === 1) {\n    cb = newStore;\n    newStore = null;\n  }\n\n  this.serialize(function(err,serialized) {\n    if (err) {\n      return cb(err);\n    }\n    CookieJar.deserialize(newStore, serialized, cb);\n  });\n};\n\n// Use a closure to provide a true imperative API for synchronous stores.\nfunction syncWrap(method) {\n  return function() {\n    if (!this.store.synchronous) {\n      throw new Error('CookieJar store is not synchronous; use async API instead.');\n    }\n\n    var args = Array.prototype.slice.call(arguments);\n    var syncErr, syncResult;\n    args.push(function syncCb(err, result) {\n      syncErr = err;\n      syncResult = result;\n    });\n    this[method].apply(this, args);\n\n    if (syncErr) {\n      throw syncErr;\n    }\n    return syncResult;\n  };\n}\n\n// wrap all declared CAN_BE_SYNC methods in the sync wrapper\nCAN_BE_SYNC.forEach(function(method) {\n  CookieJar.prototype[method+'Sync'] = syncWrap(method);\n});\n\nexports.CookieJar = CookieJar;\nexports.Cookie = Cookie;\nexports.Store = Store;\nexports.MemoryCookieStore = MemoryCookieStore;\nexports.parseDate = parseDate;\nexports.formatDate = formatDate;\nexports.parse = parse;\nexports.fromJSON = fromJSON;\nexports.domainMatch = domainMatch;\nexports.defaultPath = defaultPath;\nexports.pathMatch = pathMatch;\nexports.getPublicSuffix = pubsuffix.getPublicSuffix;\nexports.cookieCompare = cookieCompare;\nexports.permuteDomain = require('./permuteDomain').permuteDomain;\nexports.permutePath = permutePath;\nexports.canonicalDomain = canonicalDomain;\n","/*!\n * Copyright (c) 2015, Salesforce.com, Inc.\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *\n * 1. Redistributions of source code must retain the above copyright notice,\n * this list of conditions and the following disclaimer.\n *\n * 2. Redistributions in binary form must reproduce the above copyright notice,\n * this list of conditions and the following disclaimer in the documentation\n * and/or other materials provided with the distribution.\n *\n * 3. Neither the name of Salesforce.com nor the names of its contributors may\n * be used to endorse or promote products derived from this software without\n * specific prior written permission.\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\"\n * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE\n * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE\n * ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE\n * LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR\n * CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF\n * SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS\n * INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN\n * CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)\n * ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE\n * POSSIBILITY OF SUCH DAMAGE.\n */\n'use strict';\nvar Store = require('./store').Store;\nvar permuteDomain = require('./permuteDomain').permuteDomain;\nvar pathMatch = require('./pathMatch').pathMatch;\nvar util = require('util');\n\nfunction MemoryCookieStore() {\n  Store.call(this);\n  this.idx = {};\n}\nutil.inherits(MemoryCookieStore, Store);\nexports.MemoryCookieStore = MemoryCookieStore;\nMemoryCookieStore.prototype.idx = null;\n\n// Since it's just a struct in RAM, this Store is synchronous\nMemoryCookieStore.prototype.synchronous = true;\n\n// force a default depth:\nMemoryCookieStore.prototype.inspect = function() {\n  return \"{ idx: \"+util.inspect(this.idx, false, 2)+' }';\n};\n\n// Use the new custom inspection symbol to add the custom inspect function if\n// available.\nif (util.inspect.custom) {\n  MemoryCookieStore.prototype[util.inspect.custom] = MemoryCookieStore.prototype.inspect;\n}\n\nMemoryCookieStore.prototype.findCookie = function(domain, path, key, cb) {\n  if (!this.idx[domain]) {\n    return cb(null,undefined);\n  }\n  if (!this.idx[domain][path]) {\n    return cb(null,undefined);\n  }\n  return cb(null,this.idx[domain][path][key]||null);\n};\n\nMemoryCookieStore.prototype.findCookies = function(domain, path, cb) {\n  var results = [];\n  if (!domain) {\n    return cb(null,[]);\n  }\n\n  var pathMatcher;\n  if (!path) {\n    // null means \"all paths\"\n    pathMatcher = function matchAll(domainIndex) {\n      for (var curPath in domainIndex) {\n        var pathIndex = domainIndex[curPath];\n        for (var key in pathIndex) {\n          results.push(pathIndex[key]);\n        }\n      }\n    };\n\n  } else {\n    pathMatcher = function matchRFC(domainIndex) {\n       //NOTE: we should use path-match algorithm from S5.1.4 here\n       //(see : https://github.com/ChromiumWebApps/chromium/blob/b3d3b4da8bb94c1b2e061600df106d590fda3620/net/cookies/canonical_cookie.cc#L299)\n       Object.keys(domainIndex).forEach(function (cookiePath) {\n         if (pathMatch(path, cookiePath)) {\n           var pathIndex = domainIndex[cookiePath];\n\n           for (var key in pathIndex) {\n             results.push(pathIndex[key]);\n           }\n         }\n       });\n     };\n  }\n\n  var domains = permuteDomain(domain) || [domain];\n  var idx = this.idx;\n  domains.forEach(function(curDomain) {\n    var domainIndex = idx[curDomain];\n    if (!domainIndex) {\n      return;\n    }\n    pathMatcher(domainIndex);\n  });\n\n  cb(null,results);\n};\n\nMemoryCookieStore.prototype.putCookie = function(cookie, cb) {\n  if (!this.idx[cookie.domain]) {\n    this.idx[cookie.domain] = {};\n  }\n  if (!this.idx[cookie.domain][cookie.path]) {\n    this.idx[cookie.domain][cookie.path] = {};\n  }\n  this.idx[cookie.domain][cookie.path][cookie.key] = cookie;\n  cb(null);\n};\n\nMemoryCookieStore.prototype.updateCookie = function(oldCookie, newCookie, cb) {\n  // updateCookie() may avoid updating cookies that are identical.  For example,\n  // lastAccessed may not be important to some stores and an equality\n  // comparison could exclude that field.\n  this.putCookie(newCookie,cb);\n};\n\nMemoryCookieStore.prototype.removeCookie = function(domain, path, key, cb) {\n  if (this.idx[domain] && this.idx[domain][path] && this.idx[domain][path][key]) {\n    delete this.idx[domain][path][key];\n  }\n  cb(null);\n};\n\nMemoryCookieStore.prototype.removeCookies = function(domain, path, cb) {\n  if (this.idx[domain]) {\n    if (path) {\n      delete this.idx[domain][path];\n    } else {\n      delete this.idx[domain];\n    }\n  }\n  return cb(null);\n};\n\nMemoryCookieStore.prototype.getAllCookies = function(cb) {\n  var cookies = [];\n  var idx = this.idx;\n\n  var domains = Object.keys(idx);\n  domains.forEach(function(domain) {\n    var paths = Object.keys(idx[domain]);\n    paths.forEach(function(path) {\n      var keys = Object.keys(idx[domain][path]);\n      keys.forEach(function(key) {\n        if (key !== null) {\n          cookies.push(idx[domain][path][key]);\n        }\n      });\n    });\n  });\n\n  // Sort by creationIndex so deserializing retains the creation order.\n  // When implementing your own store, this SHOULD retain the order too\n  cookies.sort(function(a,b) {\n    return (a.creationIndex||0) - (b.creationIndex||0);\n  });\n\n  cb(null, cookies);\n};\n","/*!\n * Copyright (c) 2015, Salesforce.com, Inc.\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *\n * 1. Redistributions of source code must retain the above copyright notice,\n * this list of conditions and the following disclaimer.\n *\n * 2. Redistributions in binary form must reproduce the above copyright notice,\n * this list of conditions and the following disclaimer in the documentation\n * and/or other materials provided with the distribution.\n *\n * 3. Neither the name of Salesforce.com nor the names of its contributors may\n * be used to endorse or promote products derived from this software without\n * specific prior written permission.\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\"\n * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE\n * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE\n * ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE\n * LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR\n * CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF\n * SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS\n * INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN\n * CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)\n * ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE\n * POSSIBILITY OF SUCH DAMAGE.\n */\n\"use strict\";\n/*\n * \"A request-path path-matches a given cookie-path if at least one of the\n * following conditions holds:\"\n */\nfunction pathMatch (reqPath, cookiePath) {\n  // \"o  The cookie-path and the request-path are identical.\"\n  if (cookiePath === reqPath) {\n    return true;\n  }\n\n  var idx = reqPath.indexOf(cookiePath);\n  if (idx === 0) {\n    // \"o  The cookie-path is a prefix of the request-path, and the last\n    // character of the cookie-path is %x2F (\"/\").\"\n    if (cookiePath.substr(-1) === \"/\") {\n      return true;\n    }\n\n    // \" o  The cookie-path is a prefix of the request-path, and the first\n    // character of the request-path that is not included in the cookie- path\n    // is a %x2F (\"/\") character.\"\n    if (reqPath.substr(cookiePath.length, 1) === \"/\") {\n      return true;\n    }\n  }\n\n  return false;\n}\n\nexports.pathMatch = pathMatch;\n","/*!\n * Copyright (c) 2015, Salesforce.com, Inc.\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *\n * 1. Redistributions of source code must retain the above copyright notice,\n * this list of conditions and the following disclaimer.\n *\n * 2. Redistributions in binary form must reproduce the above copyright notice,\n * this list of conditions and the following disclaimer in the documentation\n * and/or other materials provided with the distribution.\n *\n * 3. Neither the name of Salesforce.com nor the names of its contributors may\n * be used to endorse or promote products derived from this software without\n * specific prior written permission.\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\"\n * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE\n * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE\n * ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE\n * LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR\n * CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF\n * SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS\n * INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN\n * CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)\n * ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE\n * POSSIBILITY OF SUCH DAMAGE.\n */\n\"use strict\";\nvar pubsuffix = require('./pubsuffix-psl');\n\n// Gives the permutation of all possible domainMatch()es of a given domain. The\n// array is in shortest-to-longest order.  Handy for indexing.\nfunction permuteDomain (domain) {\n  var pubSuf = pubsuffix.getPublicSuffix(domain);\n  if (!pubSuf) {\n    return null;\n  }\n  if (pubSuf == domain) {\n    return [domain];\n  }\n\n  var prefix = domain.slice(0, -(pubSuf.length + 1)); // \".example.com\"\n  var parts = prefix.split('.').reverse();\n  var cur = pubSuf;\n  var permutations = [cur];\n  while (parts.length) {\n    cur = parts.shift() + '.' + cur;\n    permutations.push(cur);\n  }\n  return permutations;\n}\n\nexports.permuteDomain = permuteDomain;\n","/*!\n * Copyright (c) 2018, Salesforce.com, Inc.\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *\n * 1. Redistributions of source code must retain the above copyright notice,\n * this list of conditions and the following disclaimer.\n *\n * 2. Redistributions in binary form must reproduce the above copyright notice,\n * this list of conditions and the following disclaimer in the documentation\n * and/or other materials provided with the distribution.\n *\n * 3. Neither the name of Salesforce.com nor the names of its contributors may\n * be used to endorse or promote products derived from this software without\n * specific prior written permission.\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\"\n * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE\n * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE\n * ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE\n * LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR\n * CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF\n * SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS\n * INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN\n * CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)\n * ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE\n * POSSIBILITY OF SUCH DAMAGE.\n */\n'use strict';\nvar psl = require('psl');\n\nfunction getPublicSuffix(domain) {\n  return psl.get(domain);\n}\n\nexports.getPublicSuffix = getPublicSuffix;\n","/*!\n * Copyright (c) 2015, Salesforce.com, Inc.\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *\n * 1. Redistributions of source code must retain the above copyright notice,\n * this list of conditions and the following disclaimer.\n *\n * 2. Redistributions in binary form must reproduce the above copyright notice,\n * this list of conditions and the following disclaimer in the documentation\n * and/or other materials provided with the distribution.\n *\n * 3. Neither the name of Salesforce.com nor the names of its contributors may\n * be used to endorse or promote products derived from this software without\n * specific prior written permission.\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\"\n * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE\n * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE\n * ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE\n * LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR\n * CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF\n * SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS\n * INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN\n * CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)\n * ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE\n * POSSIBILITY OF SUCH DAMAGE.\n */\n'use strict';\n/*jshint unused:false */\n\nfunction Store() {\n}\nexports.Store = Store;\n\n// Stores may be synchronous, but are still required to use a\n// Continuation-Passing Style API.  The CookieJar itself will expose a \"*Sync\"\n// API that converts from synchronous-callbacks to imperative style.\nStore.prototype.synchronous = false;\n\nStore.prototype.findCookie = function(domain, path, key, cb) {\n  throw new Error('findCookie is not implemented');\n};\n\nStore.prototype.findCookies = function(domain, path, cb) {\n  throw new Error('findCookies is not implemented');\n};\n\nStore.prototype.putCookie = function(cookie, cb) {\n  throw new Error('putCookie is not implemented');\n};\n\nStore.prototype.updateCookie = function(oldCookie, newCookie, cb) {\n  // recommended default implementation:\n  // return this.putCookie(newCookie, cb);\n  throw new Error('updateCookie is not implemented');\n};\n\nStore.prototype.removeCookie = function(domain, path, key, cb) {\n  throw new Error('removeCookie is not implemented');\n};\n\nStore.prototype.removeCookies = function(domain, path, cb) {\n  throw new Error('removeCookies is not implemented');\n};\n\nStore.prototype.getAllCookies = function(cb) {\n  throw new Error('getAllCookies is not implemented (therefore jar cannot be serialized)');\n};\n","'use strict'\n\nvar net = require('net')\n  , tls = require('tls')\n  , http = require('http')\n  , https = require('https')\n  , events = require('events')\n  , assert = require('assert')\n  , util = require('util')\n  , Buffer = require('safe-buffer').Buffer\n  ;\n\nexports.httpOverHttp = httpOverHttp\nexports.httpsOverHttp = httpsOverHttp\nexports.httpOverHttps = httpOverHttps\nexports.httpsOverHttps = httpsOverHttps\n\n\nfunction httpOverHttp(options) {\n  var agent = new TunnelingAgent(options)\n  agent.request = http.request\n  return agent\n}\n\nfunction httpsOverHttp(options) {\n  var agent = new TunnelingAgent(options)\n  agent.request = http.request\n  agent.createSocket = createSecureSocket\n  agent.defaultPort = 443\n  return agent\n}\n\nfunction httpOverHttps(options) {\n  var agent = new TunnelingAgent(options)\n  agent.request = https.request\n  return agent\n}\n\nfunction httpsOverHttps(options) {\n  var agent = new TunnelingAgent(options)\n  agent.request = https.request\n  agent.createSocket = createSecureSocket\n  agent.defaultPort = 443\n  return agent\n}\n\n\nfunction TunnelingAgent(options) {\n  var self = this\n  self.options = options || {}\n  self.proxyOptions = self.options.proxy || {}\n  self.maxSockets = self.options.maxSockets || http.Agent.defaultMaxSockets\n  self.requests = []\n  self.sockets = []\n\n  self.on('free', function onFree(socket, host, port) {\n    for (var i = 0, len = self.requests.length; i < len; ++i) {\n      var pending = self.requests[i]\n      if (pending.host === host && pending.port === port) {\n        // Detect the request to connect same origin server,\n        // reuse the connection.\n        self.requests.splice(i, 1)\n        pending.request.onSocket(socket)\n        return\n      }\n    }\n    socket.destroy()\n    self.removeSocket(socket)\n  })\n}\nutil.inherits(TunnelingAgent, events.EventEmitter)\n\nTunnelingAgent.prototype.addRequest = function addRequest(req, options) {\n  var self = this\n\n   // Legacy API: addRequest(req, host, port, path)\n  if (typeof options === 'string') {\n    options = {\n      host: options,\n      port: arguments[2],\n      path: arguments[3]\n    };\n  }\n\n  if (self.sockets.length >= this.maxSockets) {\n    // We are over limit so we'll add it to the queue.\n    self.requests.push({host: options.host, port: options.port, request: req})\n    return\n  }\n\n  // If we are under maxSockets create a new one.\n  self.createConnection({host: options.host, port: options.port, request: req})\n}\n\nTunnelingAgent.prototype.createConnection = function createConnection(pending) {\n  var self = this\n\n  self.createSocket(pending, function(socket) {\n    socket.on('free', onFree)\n    socket.on('close', onCloseOrRemove)\n    socket.on('agentRemove', onCloseOrRemove)\n    pending.request.onSocket(socket)\n\n    function onFree() {\n      self.emit('free', socket, pending.host, pending.port)\n    }\n\n    function onCloseOrRemove(err) {\n      self.removeSocket(socket)\n      socket.removeListener('free', onFree)\n      socket.removeListener('close', onCloseOrRemove)\n      socket.removeListener('agentRemove', onCloseOrRemove)\n    }\n  })\n}\n\nTunnelingAgent.prototype.createSocket = function createSocket(options, cb) {\n  var self = this\n  var placeholder = {}\n  self.sockets.push(placeholder)\n\n  var connectOptions = mergeOptions({}, self.proxyOptions,\n    { method: 'CONNECT'\n    , path: options.host + ':' + options.port\n    , agent: false\n    }\n  )\n  if (connectOptions.proxyAuth) {\n    connectOptions.headers = connectOptions.headers || {}\n    connectOptions.headers['Proxy-Authorization'] = 'Basic ' +\n        Buffer.from(connectOptions.proxyAuth).toString('base64')\n  }\n\n  debug('making CONNECT request')\n  var connectReq = self.request(connectOptions)\n  connectReq.useChunkedEncodingByDefault = false // for v0.6\n  connectReq.once('response', onResponse) // for v0.6\n  connectReq.once('upgrade', onUpgrade)   // for v0.6\n  connectReq.once('connect', onConnect)   // for v0.7 or later\n  connectReq.once('error', onError)\n  connectReq.end()\n\n  function onResponse(res) {\n    // Very hacky. This is necessary to avoid http-parser leaks.\n    res.upgrade = true\n  }\n\n  function onUpgrade(res, socket, head) {\n    // Hacky.\n    process.nextTick(function() {\n      onConnect(res, socket, head)\n    })\n  }\n\n  function onConnect(res, socket, head) {\n    connectReq.removeAllListeners()\n    socket.removeAllListeners()\n\n    if (res.statusCode === 200) {\n      assert.equal(head.length, 0)\n      debug('tunneling connection has established')\n      self.sockets[self.sockets.indexOf(placeholder)] = socket\n      cb(socket)\n    } else {\n      debug('tunneling socket could not be established, statusCode=%d', res.statusCode)\n      var error = new Error('tunneling socket could not be established, ' + 'statusCode=' + res.statusCode)\n      error.code = 'ECONNRESET'\n      options.request.emit('error', error)\n      self.removeSocket(placeholder)\n    }\n  }\n\n  function onError(cause) {\n    connectReq.removeAllListeners()\n\n    debug('tunneling socket could not be established, cause=%s\\n', cause.message, cause.stack)\n    var error = new Error('tunneling socket could not be established, ' + 'cause=' + cause.message)\n    error.code = 'ECONNRESET'\n    options.request.emit('error', error)\n    self.removeSocket(placeholder)\n  }\n}\n\nTunnelingAgent.prototype.removeSocket = function removeSocket(socket) {\n  var pos = this.sockets.indexOf(socket)\n  if (pos === -1) return\n\n  this.sockets.splice(pos, 1)\n\n  var pending = this.requests.shift()\n  if (pending) {\n    // If we have pending requests and a socket gets closed a new one\n    // needs to be created to take over in the pool for the one that closed.\n    this.createConnection(pending)\n  }\n}\n\nfunction createSecureSocket(options, cb) {\n  var self = this\n  TunnelingAgent.prototype.createSocket.call(self, options, function(socket) {\n    // 0 is dummy port for v0.6\n    var secureSocket = tls.connect(0, mergeOptions({}, self.options,\n      { servername: options.host\n      , socket: socket\n      }\n    ))\n    self.sockets[self.sockets.indexOf(socket)] = secureSocket\n    cb(secureSocket)\n  })\n}\n\n\nfunction mergeOptions(target) {\n  for (var i = 1, len = arguments.length; i < len; ++i) {\n    var overrides = arguments[i]\n    if (typeof overrides === 'object') {\n      var keys = Object.keys(overrides)\n      for (var j = 0, keyLen = keys.length; j < keyLen; ++j) {\n        var k = keys[j]\n        if (overrides[k] !== undefined) {\n          target[k] = overrides[k]\n        }\n      }\n    }\n  }\n  return target\n}\n\n\nvar debug\nif (process.env.NODE_DEBUG && /\\btunnel\\b/.test(process.env.NODE_DEBUG)) {\n  debug = function() {\n    var args = Array.prototype.slice.call(arguments)\n    if (typeof args[0] === 'string') {\n      args[0] = 'TUNNEL: ' + args[0]\n    } else {\n      args.unshift('TUNNEL:')\n    }\n    console.error.apply(console, args)\n  }\n} else {\n  debug = function() {}\n}\nexports.debug = debug // for test\n","(function(nacl) {\n'use strict';\n\n// Ported in 2014 by Dmitry Chestnykh and Devi Mandiri.\n// Public domain.\n//\n// Implementation derived from TweetNaCl version 20140427.\n// See for details: http://tweetnacl.cr.yp.to/\n\nvar gf = function(init) {\n  var i, r = new Float64Array(16);\n  if (init) for (i = 0; i < init.length; i++) r[i] = init[i];\n  return r;\n};\n\n//  Pluggable, initialized in high-level API below.\nvar randombytes = function(/* x, n */) { throw new Error('no PRNG'); };\n\nvar _0 = new Uint8Array(16);\nvar _9 = new Uint8Array(32); _9[0] = 9;\n\nvar gf0 = gf(),\n    gf1 = gf([1]),\n    _121665 = gf([0xdb41, 1]),\n    D = gf([0x78a3, 0x1359, 0x4dca, 0x75eb, 0xd8ab, 0x4141, 0x0a4d, 0x0070, 0xe898, 0x7779, 0x4079, 0x8cc7, 0xfe73, 0x2b6f, 0x6cee, 0x5203]),\n    D2 = gf([0xf159, 0x26b2, 0x9b94, 0xebd6, 0xb156, 0x8283, 0x149a, 0x00e0, 0xd130, 0xeef3, 0x80f2, 0x198e, 0xfce7, 0x56df, 0xd9dc, 0x2406]),\n    X = gf([0xd51a, 0x8f25, 0x2d60, 0xc956, 0xa7b2, 0x9525, 0xc760, 0x692c, 0xdc5c, 0xfdd6, 0xe231, 0xc0a4, 0x53fe, 0xcd6e, 0x36d3, 0x2169]),\n    Y = gf([0x6658, 0x6666, 0x6666, 0x6666, 0x6666, 0x6666, 0x6666, 0x6666, 0x6666, 0x6666, 0x6666, 0x6666, 0x6666, 0x6666, 0x6666, 0x6666]),\n    I = gf([0xa0b0, 0x4a0e, 0x1b27, 0xc4ee, 0xe478, 0xad2f, 0x1806, 0x2f43, 0xd7a7, 0x3dfb, 0x0099, 0x2b4d, 0xdf0b, 0x4fc1, 0x2480, 0x2b83]);\n\nfunction ts64(x, i, h, l) {\n  x[i]   = (h >> 24) & 0xff;\n  x[i+1] = (h >> 16) & 0xff;\n  x[i+2] = (h >>  8) & 0xff;\n  x[i+3] = h & 0xff;\n  x[i+4] = (l >> 24)  & 0xff;\n  x[i+5] = (l >> 16)  & 0xff;\n  x[i+6] = (l >>  8)  & 0xff;\n  x[i+7] = l & 0xff;\n}\n\nfunction vn(x, xi, y, yi, n) {\n  var i,d = 0;\n  for (i = 0; i < n; i++) d |= x[xi+i]^y[yi+i];\n  return (1 & ((d - 1) >>> 8)) - 1;\n}\n\nfunction crypto_verify_16(x, xi, y, yi) {\n  return vn(x,xi,y,yi,16);\n}\n\nfunction crypto_verify_32(x, xi, y, yi) {\n  return vn(x,xi,y,yi,32);\n}\n\nfunction core_salsa20(o, p, k, c) {\n  var j0  = c[ 0] & 0xff | (c[ 1] & 0xff)<<8 | (c[ 2] & 0xff)<<16 | (c[ 3] & 0xff)<<24,\n      j1  = k[ 0] & 0xff | (k[ 1] & 0xff)<<8 | (k[ 2] & 0xff)<<16 | (k[ 3] & 0xff)<<24,\n      j2  = k[ 4] & 0xff | (k[ 5] & 0xff)<<8 | (k[ 6] & 0xff)<<16 | (k[ 7] & 0xff)<<24,\n      j3  = k[ 8] & 0xff | (k[ 9] & 0xff)<<8 | (k[10] & 0xff)<<16 | (k[11] & 0xff)<<24,\n      j4  = k[12] & 0xff | (k[13] & 0xff)<<8 | (k[14] & 0xff)<<16 | (k[15] & 0xff)<<24,\n      j5  = c[ 4] & 0xff | (c[ 5] & 0xff)<<8 | (c[ 6] & 0xff)<<16 | (c[ 7] & 0xff)<<24,\n      j6  = p[ 0] & 0xff | (p[ 1] & 0xff)<<8 | (p[ 2] & 0xff)<<16 | (p[ 3] & 0xff)<<24,\n      j7  = p[ 4] & 0xff | (p[ 5] & 0xff)<<8 | (p[ 6] & 0xff)<<16 | (p[ 7] & 0xff)<<24,\n      j8  = p[ 8] & 0xff | (p[ 9] & 0xff)<<8 | (p[10] & 0xff)<<16 | (p[11] & 0xff)<<24,\n      j9  = p[12] & 0xff | (p[13] & 0xff)<<8 | (p[14] & 0xff)<<16 | (p[15] & 0xff)<<24,\n      j10 = c[ 8] & 0xff | (c[ 9] & 0xff)<<8 | (c[10] & 0xff)<<16 | (c[11] & 0xff)<<24,\n      j11 = k[16] & 0xff | (k[17] & 0xff)<<8 | (k[18] & 0xff)<<16 | (k[19] & 0xff)<<24,\n      j12 = k[20] & 0xff | (k[21] & 0xff)<<8 | (k[22] & 0xff)<<16 | (k[23] & 0xff)<<24,\n      j13 = k[24] & 0xff | (k[25] & 0xff)<<8 | (k[26] & 0xff)<<16 | (k[27] & 0xff)<<24,\n      j14 = k[28] & 0xff | (k[29] & 0xff)<<8 | (k[30] & 0xff)<<16 | (k[31] & 0xff)<<24,\n      j15 = c[12] & 0xff | (c[13] & 0xff)<<8 | (c[14] & 0xff)<<16 | (c[15] & 0xff)<<24;\n\n  var x0 = j0, x1 = j1, x2 = j2, x3 = j3, x4 = j4, x5 = j5, x6 = j6, x7 = j7,\n      x8 = j8, x9 = j9, x10 = j10, x11 = j11, x12 = j12, x13 = j13, x14 = j14,\n      x15 = j15, u;\n\n  for (var i = 0; i < 20; i += 2) {\n    u = x0 + x12 | 0;\n    x4 ^= u<<7 | u>>>(32-7);\n    u = x4 + x0 | 0;\n    x8 ^= u<<9 | u>>>(32-9);\n    u = x8 + x4 | 0;\n    x12 ^= u<<13 | u>>>(32-13);\n    u = x12 + x8 | 0;\n    x0 ^= u<<18 | u>>>(32-18);\n\n    u = x5 + x1 | 0;\n    x9 ^= u<<7 | u>>>(32-7);\n    u = x9 + x5 | 0;\n    x13 ^= u<<9 | u>>>(32-9);\n    u = x13 + x9 | 0;\n    x1 ^= u<<13 | u>>>(32-13);\n    u = x1 + x13 | 0;\n    x5 ^= u<<18 | u>>>(32-18);\n\n    u = x10 + x6 | 0;\n    x14 ^= u<<7 | u>>>(32-7);\n    u = x14 + x10 | 0;\n    x2 ^= u<<9 | u>>>(32-9);\n    u = x2 + x14 | 0;\n    x6 ^= u<<13 | u>>>(32-13);\n    u = x6 + x2 | 0;\n    x10 ^= u<<18 | u>>>(32-18);\n\n    u = x15 + x11 | 0;\n    x3 ^= u<<7 | u>>>(32-7);\n    u = x3 + x15 | 0;\n    x7 ^= u<<9 | u>>>(32-9);\n    u = x7 + x3 | 0;\n    x11 ^= u<<13 | u>>>(32-13);\n    u = x11 + x7 | 0;\n    x15 ^= u<<18 | u>>>(32-18);\n\n    u = x0 + x3 | 0;\n    x1 ^= u<<7 | u>>>(32-7);\n    u = x1 + x0 | 0;\n    x2 ^= u<<9 | u>>>(32-9);\n    u = x2 + x1 | 0;\n    x3 ^= u<<13 | u>>>(32-13);\n    u = x3 + x2 | 0;\n    x0 ^= u<<18 | u>>>(32-18);\n\n    u = x5 + x4 | 0;\n    x6 ^= u<<7 | u>>>(32-7);\n    u = x6 + x5 | 0;\n    x7 ^= u<<9 | u>>>(32-9);\n    u = x7 + x6 | 0;\n    x4 ^= u<<13 | u>>>(32-13);\n    u = x4 + x7 | 0;\n    x5 ^= u<<18 | u>>>(32-18);\n\n    u = x10 + x9 | 0;\n    x11 ^= u<<7 | u>>>(32-7);\n    u = x11 + x10 | 0;\n    x8 ^= u<<9 | u>>>(32-9);\n    u = x8 + x11 | 0;\n    x9 ^= u<<13 | u>>>(32-13);\n    u = x9 + x8 | 0;\n    x10 ^= u<<18 | u>>>(32-18);\n\n    u = x15 + x14 | 0;\n    x12 ^= u<<7 | u>>>(32-7);\n    u = x12 + x15 | 0;\n    x13 ^= u<<9 | u>>>(32-9);\n    u = x13 + x12 | 0;\n    x14 ^= u<<13 | u>>>(32-13);\n    u = x14 + x13 | 0;\n    x15 ^= u<<18 | u>>>(32-18);\n  }\n   x0 =  x0 +  j0 | 0;\n   x1 =  x1 +  j1 | 0;\n   x2 =  x2 +  j2 | 0;\n   x3 =  x3 +  j3 | 0;\n   x4 =  x4 +  j4 | 0;\n   x5 =  x5 +  j5 | 0;\n   x6 =  x6 +  j6 | 0;\n   x7 =  x7 +  j7 | 0;\n   x8 =  x8 +  j8 | 0;\n   x9 =  x9 +  j9 | 0;\n  x10 = x10 + j10 | 0;\n  x11 = x11 + j11 | 0;\n  x12 = x12 + j12 | 0;\n  x13 = x13 + j13 | 0;\n  x14 = x14 + j14 | 0;\n  x15 = x15 + j15 | 0;\n\n  o[ 0] = x0 >>>  0 & 0xff;\n  o[ 1] = x0 >>>  8 & 0xff;\n  o[ 2] = x0 >>> 16 & 0xff;\n  o[ 3] = x0 >>> 24 & 0xff;\n\n  o[ 4] = x1 >>>  0 & 0xff;\n  o[ 5] = x1 >>>  8 & 0xff;\n  o[ 6] = x1 >>> 16 & 0xff;\n  o[ 7] = x1 >>> 24 & 0xff;\n\n  o[ 8] = x2 >>>  0 & 0xff;\n  o[ 9] = x2 >>>  8 & 0xff;\n  o[10] = x2 >>> 16 & 0xff;\n  o[11] = x2 >>> 24 & 0xff;\n\n  o[12] = x3 >>>  0 & 0xff;\n  o[13] = x3 >>>  8 & 0xff;\n  o[14] = x3 >>> 16 & 0xff;\n  o[15] = x3 >>> 24 & 0xff;\n\n  o[16] = x4 >>>  0 & 0xff;\n  o[17] = x4 >>>  8 & 0xff;\n  o[18] = x4 >>> 16 & 0xff;\n  o[19] = x4 >>> 24 & 0xff;\n\n  o[20] = x5 >>>  0 & 0xff;\n  o[21] = x5 >>>  8 & 0xff;\n  o[22] = x5 >>> 16 & 0xff;\n  o[23] = x5 >>> 24 & 0xff;\n\n  o[24] = x6 >>>  0 & 0xff;\n  o[25] = x6 >>>  8 & 0xff;\n  o[26] = x6 >>> 16 & 0xff;\n  o[27] = x6 >>> 24 & 0xff;\n\n  o[28] = x7 >>>  0 & 0xff;\n  o[29] = x7 >>>  8 & 0xff;\n  o[30] = x7 >>> 16 & 0xff;\n  o[31] = x7 >>> 24 & 0xff;\n\n  o[32] = x8 >>>  0 & 0xff;\n  o[33] = x8 >>>  8 & 0xff;\n  o[34] = x8 >>> 16 & 0xff;\n  o[35] = x8 >>> 24 & 0xff;\n\n  o[36] = x9 >>>  0 & 0xff;\n  o[37] = x9 >>>  8 & 0xff;\n  o[38] = x9 >>> 16 & 0xff;\n  o[39] = x9 >>> 24 & 0xff;\n\n  o[40] = x10 >>>  0 & 0xff;\n  o[41] = x10 >>>  8 & 0xff;\n  o[42] = x10 >>> 16 & 0xff;\n  o[43] = x10 >>> 24 & 0xff;\n\n  o[44] = x11 >>>  0 & 0xff;\n  o[45] = x11 >>>  8 & 0xff;\n  o[46] = x11 >>> 16 & 0xff;\n  o[47] = x11 >>> 24 & 0xff;\n\n  o[48] = x12 >>>  0 & 0xff;\n  o[49] = x12 >>>  8 & 0xff;\n  o[50] = x12 >>> 16 & 0xff;\n  o[51] = x12 >>> 24 & 0xff;\n\n  o[52] = x13 >>>  0 & 0xff;\n  o[53] = x13 >>>  8 & 0xff;\n  o[54] = x13 >>> 16 & 0xff;\n  o[55] = x13 >>> 24 & 0xff;\n\n  o[56] = x14 >>>  0 & 0xff;\n  o[57] = x14 >>>  8 & 0xff;\n  o[58] = x14 >>> 16 & 0xff;\n  o[59] = x14 >>> 24 & 0xff;\n\n  o[60] = x15 >>>  0 & 0xff;\n  o[61] = x15 >>>  8 & 0xff;\n  o[62] = x15 >>> 16 & 0xff;\n  o[63] = x15 >>> 24 & 0xff;\n}\n\nfunction core_hsalsa20(o,p,k,c) {\n  var j0  = c[ 0] & 0xff | (c[ 1] & 0xff)<<8 | (c[ 2] & 0xff)<<16 | (c[ 3] & 0xff)<<24,\n      j1  = k[ 0] & 0xff | (k[ 1] & 0xff)<<8 | (k[ 2] & 0xff)<<16 | (k[ 3] & 0xff)<<24,\n      j2  = k[ 4] & 0xff | (k[ 5] & 0xff)<<8 | (k[ 6] & 0xff)<<16 | (k[ 7] & 0xff)<<24,\n      j3  = k[ 8] & 0xff | (k[ 9] & 0xff)<<8 | (k[10] & 0xff)<<16 | (k[11] & 0xff)<<24,\n      j4  = k[12] & 0xff | (k[13] & 0xff)<<8 | (k[14] & 0xff)<<16 | (k[15] & 0xff)<<24,\n      j5  = c[ 4] & 0xff | (c[ 5] & 0xff)<<8 | (c[ 6] & 0xff)<<16 | (c[ 7] & 0xff)<<24,\n      j6  = p[ 0] & 0xff | (p[ 1] & 0xff)<<8 | (p[ 2] & 0xff)<<16 | (p[ 3] & 0xff)<<24,\n      j7  = p[ 4] & 0xff | (p[ 5] & 0xff)<<8 | (p[ 6] & 0xff)<<16 | (p[ 7] & 0xff)<<24,\n      j8  = p[ 8] & 0xff | (p[ 9] & 0xff)<<8 | (p[10] & 0xff)<<16 | (p[11] & 0xff)<<24,\n      j9  = p[12] & 0xff | (p[13] & 0xff)<<8 | (p[14] & 0xff)<<16 | (p[15] & 0xff)<<24,\n      j10 = c[ 8] & 0xff | (c[ 9] & 0xff)<<8 | (c[10] & 0xff)<<16 | (c[11] & 0xff)<<24,\n      j11 = k[16] & 0xff | (k[17] & 0xff)<<8 | (k[18] & 0xff)<<16 | (k[19] & 0xff)<<24,\n      j12 = k[20] & 0xff | (k[21] & 0xff)<<8 | (k[22] & 0xff)<<16 | (k[23] & 0xff)<<24,\n      j13 = k[24] & 0xff | (k[25] & 0xff)<<8 | (k[26] & 0xff)<<16 | (k[27] & 0xff)<<24,\n      j14 = k[28] & 0xff | (k[29] & 0xff)<<8 | (k[30] & 0xff)<<16 | (k[31] & 0xff)<<24,\n      j15 = c[12] & 0xff | (c[13] & 0xff)<<8 | (c[14] & 0xff)<<16 | (c[15] & 0xff)<<24;\n\n  var x0 = j0, x1 = j1, x2 = j2, x3 = j3, x4 = j4, x5 = j5, x6 = j6, x7 = j7,\n      x8 = j8, x9 = j9, x10 = j10, x11 = j11, x12 = j12, x13 = j13, x14 = j14,\n      x15 = j15, u;\n\n  for (var i = 0; i < 20; i += 2) {\n    u = x0 + x12 | 0;\n    x4 ^= u<<7 | u>>>(32-7);\n    u = x4 + x0 | 0;\n    x8 ^= u<<9 | u>>>(32-9);\n    u = x8 + x4 | 0;\n    x12 ^= u<<13 | u>>>(32-13);\n    u = x12 + x8 | 0;\n    x0 ^= u<<18 | u>>>(32-18);\n\n    u = x5 + x1 | 0;\n    x9 ^= u<<7 | u>>>(32-7);\n    u = x9 + x5 | 0;\n    x13 ^= u<<9 | u>>>(32-9);\n    u = x13 + x9 | 0;\n    x1 ^= u<<13 | u>>>(32-13);\n    u = x1 + x13 | 0;\n    x5 ^= u<<18 | u>>>(32-18);\n\n    u = x10 + x6 | 0;\n    x14 ^= u<<7 | u>>>(32-7);\n    u = x14 + x10 | 0;\n    x2 ^= u<<9 | u>>>(32-9);\n    u = x2 + x14 | 0;\n    x6 ^= u<<13 | u>>>(32-13);\n    u = x6 + x2 | 0;\n    x10 ^= u<<18 | u>>>(32-18);\n\n    u = x15 + x11 | 0;\n    x3 ^= u<<7 | u>>>(32-7);\n    u = x3 + x15 | 0;\n    x7 ^= u<<9 | u>>>(32-9);\n    u = x7 + x3 | 0;\n    x11 ^= u<<13 | u>>>(32-13);\n    u = x11 + x7 | 0;\n    x15 ^= u<<18 | u>>>(32-18);\n\n    u = x0 + x3 | 0;\n    x1 ^= u<<7 | u>>>(32-7);\n    u = x1 + x0 | 0;\n    x2 ^= u<<9 | u>>>(32-9);\n    u = x2 + x1 | 0;\n    x3 ^= u<<13 | u>>>(32-13);\n    u = x3 + x2 | 0;\n    x0 ^= u<<18 | u>>>(32-18);\n\n    u = x5 + x4 | 0;\n    x6 ^= u<<7 | u>>>(32-7);\n    u = x6 + x5 | 0;\n    x7 ^= u<<9 | u>>>(32-9);\n    u = x7 + x6 | 0;\n    x4 ^= u<<13 | u>>>(32-13);\n    u = x4 + x7 | 0;\n    x5 ^= u<<18 | u>>>(32-18);\n\n    u = x10 + x9 | 0;\n    x11 ^= u<<7 | u>>>(32-7);\n    u = x11 + x10 | 0;\n    x8 ^= u<<9 | u>>>(32-9);\n    u = x8 + x11 | 0;\n    x9 ^= u<<13 | u>>>(32-13);\n    u = x9 + x8 | 0;\n    x10 ^= u<<18 | u>>>(32-18);\n\n    u = x15 + x14 | 0;\n    x12 ^= u<<7 | u>>>(32-7);\n    u = x12 + x15 | 0;\n    x13 ^= u<<9 | u>>>(32-9);\n    u = x13 + x12 | 0;\n    x14 ^= u<<13 | u>>>(32-13);\n    u = x14 + x13 | 0;\n    x15 ^= u<<18 | u>>>(32-18);\n  }\n\n  o[ 0] = x0 >>>  0 & 0xff;\n  o[ 1] = x0 >>>  8 & 0xff;\n  o[ 2] = x0 >>> 16 & 0xff;\n  o[ 3] = x0 >>> 24 & 0xff;\n\n  o[ 4] = x5 >>>  0 & 0xff;\n  o[ 5] = x5 >>>  8 & 0xff;\n  o[ 6] = x5 >>> 16 & 0xff;\n  o[ 7] = x5 >>> 24 & 0xff;\n\n  o[ 8] = x10 >>>  0 & 0xff;\n  o[ 9] = x10 >>>  8 & 0xff;\n  o[10] = x10 >>> 16 & 0xff;\n  o[11] = x10 >>> 24 & 0xff;\n\n  o[12] = x15 >>>  0 & 0xff;\n  o[13] = x15 >>>  8 & 0xff;\n  o[14] = x15 >>> 16 & 0xff;\n  o[15] = x15 >>> 24 & 0xff;\n\n  o[16] = x6 >>>  0 & 0xff;\n  o[17] = x6 >>>  8 & 0xff;\n  o[18] = x6 >>> 16 & 0xff;\n  o[19] = x6 >>> 24 & 0xff;\n\n  o[20] = x7 >>>  0 & 0xff;\n  o[21] = x7 >>>  8 & 0xff;\n  o[22] = x7 >>> 16 & 0xff;\n  o[23] = x7 >>> 24 & 0xff;\n\n  o[24] = x8 >>>  0 & 0xff;\n  o[25] = x8 >>>  8 & 0xff;\n  o[26] = x8 >>> 16 & 0xff;\n  o[27] = x8 >>> 24 & 0xff;\n\n  o[28] = x9 >>>  0 & 0xff;\n  o[29] = x9 >>>  8 & 0xff;\n  o[30] = x9 >>> 16 & 0xff;\n  o[31] = x9 >>> 24 & 0xff;\n}\n\nfunction crypto_core_salsa20(out,inp,k,c) {\n  core_salsa20(out,inp,k,c);\n}\n\nfunction crypto_core_hsalsa20(out,inp,k,c) {\n  core_hsalsa20(out,inp,k,c);\n}\n\nvar sigma = new Uint8Array([101, 120, 112, 97, 110, 100, 32, 51, 50, 45, 98, 121, 116, 101, 32, 107]);\n            // \"expand 32-byte k\"\n\nfunction crypto_stream_salsa20_xor(c,cpos,m,mpos,b,n,k) {\n  var z = new Uint8Array(16), x = new Uint8Array(64);\n  var u, i;\n  for (i = 0; i < 16; i++) z[i] = 0;\n  for (i = 0; i < 8; i++) z[i] = n[i];\n  while (b >= 64) {\n    crypto_core_salsa20(x,z,k,sigma);\n    for (i = 0; i < 64; i++) c[cpos+i] = m[mpos+i] ^ x[i];\n    u = 1;\n    for (i = 8; i < 16; i++) {\n      u = u + (z[i] & 0xff) | 0;\n      z[i] = u & 0xff;\n      u >>>= 8;\n    }\n    b -= 64;\n    cpos += 64;\n    mpos += 64;\n  }\n  if (b > 0) {\n    crypto_core_salsa20(x,z,k,sigma);\n    for (i = 0; i < b; i++) c[cpos+i] = m[mpos+i] ^ x[i];\n  }\n  return 0;\n}\n\nfunction crypto_stream_salsa20(c,cpos,b,n,k) {\n  var z = new Uint8Array(16), x = new Uint8Array(64);\n  var u, i;\n  for (i = 0; i < 16; i++) z[i] = 0;\n  for (i = 0; i < 8; i++) z[i] = n[i];\n  while (b >= 64) {\n    crypto_core_salsa20(x,z,k,sigma);\n    for (i = 0; i < 64; i++) c[cpos+i] = x[i];\n    u = 1;\n    for (i = 8; i < 16; i++) {\n      u = u + (z[i] & 0xff) | 0;\n      z[i] = u & 0xff;\n      u >>>= 8;\n    }\n    b -= 64;\n    cpos += 64;\n  }\n  if (b > 0) {\n    crypto_core_salsa20(x,z,k,sigma);\n    for (i = 0; i < b; i++) c[cpos+i] = x[i];\n  }\n  return 0;\n}\n\nfunction crypto_stream(c,cpos,d,n,k) {\n  var s = new Uint8Array(32);\n  crypto_core_hsalsa20(s,n,k,sigma);\n  var sn = new Uint8Array(8);\n  for (var i = 0; i < 8; i++) sn[i] = n[i+16];\n  return crypto_stream_salsa20(c,cpos,d,sn,s);\n}\n\nfunction crypto_stream_xor(c,cpos,m,mpos,d,n,k) {\n  var s = new Uint8Array(32);\n  crypto_core_hsalsa20(s,n,k,sigma);\n  var sn = new Uint8Array(8);\n  for (var i = 0; i < 8; i++) sn[i] = n[i+16];\n  return crypto_stream_salsa20_xor(c,cpos,m,mpos,d,sn,s);\n}\n\n/*\n* Port of Andrew Moon's Poly1305-donna-16. Public domain.\n* https://github.com/floodyberry/poly1305-donna\n*/\n\nvar poly1305 = function(key) {\n  this.buffer = new Uint8Array(16);\n  this.r = new Uint16Array(10);\n  this.h = new Uint16Array(10);\n  this.pad = new Uint16Array(8);\n  this.leftover = 0;\n  this.fin = 0;\n\n  var t0, t1, t2, t3, t4, t5, t6, t7;\n\n  t0 = key[ 0] & 0xff | (key[ 1] & 0xff) << 8; this.r[0] = ( t0                     ) & 0x1fff;\n  t1 = key[ 2] & 0xff | (key[ 3] & 0xff) << 8; this.r[1] = ((t0 >>> 13) | (t1 <<  3)) & 0x1fff;\n  t2 = key[ 4] & 0xff | (key[ 5] & 0xff) << 8; this.r[2] = ((t1 >>> 10) | (t2 <<  6)) & 0x1f03;\n  t3 = key[ 6] & 0xff | (key[ 7] & 0xff) << 8; this.r[3] = ((t2 >>>  7) | (t3 <<  9)) & 0x1fff;\n  t4 = key[ 8] & 0xff | (key[ 9] & 0xff) << 8; this.r[4] = ((t3 >>>  4) | (t4 << 12)) & 0x00ff;\n  this.r[5] = ((t4 >>>  1)) & 0x1ffe;\n  t5 = key[10] & 0xff | (key[11] & 0xff) << 8; this.r[6] = ((t4 >>> 14) | (t5 <<  2)) & 0x1fff;\n  t6 = key[12] & 0xff | (key[13] & 0xff) << 8; this.r[7] = ((t5 >>> 11) | (t6 <<  5)) & 0x1f81;\n  t7 = key[14] & 0xff | (key[15] & 0xff) << 8; this.r[8] = ((t6 >>>  8) | (t7 <<  8)) & 0x1fff;\n  this.r[9] = ((t7 >>>  5)) & 0x007f;\n\n  this.pad[0] = key[16] & 0xff | (key[17] & 0xff) << 8;\n  this.pad[1] = key[18] & 0xff | (key[19] & 0xff) << 8;\n  this.pad[2] = key[20] & 0xff | (key[21] & 0xff) << 8;\n  this.pad[3] = key[22] & 0xff | (key[23] & 0xff) << 8;\n  this.pad[4] = key[24] & 0xff | (key[25] & 0xff) << 8;\n  this.pad[5] = key[26] & 0xff | (key[27] & 0xff) << 8;\n  this.pad[6] = key[28] & 0xff | (key[29] & 0xff) << 8;\n  this.pad[7] = key[30] & 0xff | (key[31] & 0xff) << 8;\n};\n\npoly1305.prototype.blocks = function(m, mpos, bytes) {\n  var hibit = this.fin ? 0 : (1 << 11);\n  var t0, t1, t2, t3, t4, t5, t6, t7, c;\n  var d0, d1, d2, d3, d4, d5, d6, d7, d8, d9;\n\n  var h0 = this.h[0],\n      h1 = this.h[1],\n      h2 = this.h[2],\n      h3 = this.h[3],\n      h4 = this.h[4],\n      h5 = this.h[5],\n      h6 = this.h[6],\n      h7 = this.h[7],\n      h8 = this.h[8],\n      h9 = this.h[9];\n\n  var r0 = this.r[0],\n      r1 = this.r[1],\n      r2 = this.r[2],\n      r3 = this.r[3],\n      r4 = this.r[4],\n      r5 = this.r[5],\n      r6 = this.r[6],\n      r7 = this.r[7],\n      r8 = this.r[8],\n      r9 = this.r[9];\n\n  while (bytes >= 16) {\n    t0 = m[mpos+ 0] & 0xff | (m[mpos+ 1] & 0xff) << 8; h0 += ( t0                     ) & 0x1fff;\n    t1 = m[mpos+ 2] & 0xff | (m[mpos+ 3] & 0xff) << 8; h1 += ((t0 >>> 13) | (t1 <<  3)) & 0x1fff;\n    t2 = m[mpos+ 4] & 0xff | (m[mpos+ 5] & 0xff) << 8; h2 += ((t1 >>> 10) | (t2 <<  6)) & 0x1fff;\n    t3 = m[mpos+ 6] & 0xff | (m[mpos+ 7] & 0xff) << 8; h3 += ((t2 >>>  7) | (t3 <<  9)) & 0x1fff;\n    t4 = m[mpos+ 8] & 0xff | (m[mpos+ 9] & 0xff) << 8; h4 += ((t3 >>>  4) | (t4 << 12)) & 0x1fff;\n    h5 += ((t4 >>>  1)) & 0x1fff;\n    t5 = m[mpos+10] & 0xff | (m[mpos+11] & 0xff) << 8; h6 += ((t4 >>> 14) | (t5 <<  2)) & 0x1fff;\n    t6 = m[mpos+12] & 0xff | (m[mpos+13] & 0xff) << 8; h7 += ((t5 >>> 11) | (t6 <<  5)) & 0x1fff;\n    t7 = m[mpos+14] & 0xff | (m[mpos+15] & 0xff) << 8; h8 += ((t6 >>>  8) | (t7 <<  8)) & 0x1fff;\n    h9 += ((t7 >>> 5)) | hibit;\n\n    c = 0;\n\n    d0 = c;\n    d0 += h0 * r0;\n    d0 += h1 * (5 * r9);\n    d0 += h2 * (5 * r8);\n    d0 += h3 * (5 * r7);\n    d0 += h4 * (5 * r6);\n    c = (d0 >>> 13); d0 &= 0x1fff;\n    d0 += h5 * (5 * r5);\n    d0 += h6 * (5 * r4);\n    d0 += h7 * (5 * r3);\n    d0 += h8 * (5 * r2);\n    d0 += h9 * (5 * r1);\n    c += (d0 >>> 13); d0 &= 0x1fff;\n\n    d1 = c;\n    d1 += h0 * r1;\n    d1 += h1 * r0;\n    d1 += h2 * (5 * r9);\n    d1 += h3 * (5 * r8);\n    d1 += h4 * (5 * r7);\n    c = (d1 >>> 13); d1 &= 0x1fff;\n    d1 += h5 * (5 * r6);\n    d1 += h6 * (5 * r5);\n    d1 += h7 * (5 * r4);\n    d1 += h8 * (5 * r3);\n    d1 += h9 * (5 * r2);\n    c += (d1 >>> 13); d1 &= 0x1fff;\n\n    d2 = c;\n    d2 += h0 * r2;\n    d2 += h1 * r1;\n    d2 += h2 * r0;\n    d2 += h3 * (5 * r9);\n    d2 += h4 * (5 * r8);\n    c = (d2 >>> 13); d2 &= 0x1fff;\n    d2 += h5 * (5 * r7);\n    d2 += h6 * (5 * r6);\n    d2 += h7 * (5 * r5);\n    d2 += h8 * (5 * r4);\n    d2 += h9 * (5 * r3);\n    c += (d2 >>> 13); d2 &= 0x1fff;\n\n    d3 = c;\n    d3 += h0 * r3;\n    d3 += h1 * r2;\n    d3 += h2 * r1;\n    d3 += h3 * r0;\n    d3 += h4 * (5 * r9);\n    c = (d3 >>> 13); d3 &= 0x1fff;\n    d3 += h5 * (5 * r8);\n    d3 += h6 * (5 * r7);\n    d3 += h7 * (5 * r6);\n    d3 += h8 * (5 * r5);\n    d3 += h9 * (5 * r4);\n    c += (d3 >>> 13); d3 &= 0x1fff;\n\n    d4 = c;\n    d4 += h0 * r4;\n    d4 += h1 * r3;\n    d4 += h2 * r2;\n    d4 += h3 * r1;\n    d4 += h4 * r0;\n    c = (d4 >>> 13); d4 &= 0x1fff;\n    d4 += h5 * (5 * r9);\n    d4 += h6 * (5 * r8);\n    d4 += h7 * (5 * r7);\n    d4 += h8 * (5 * r6);\n    d4 += h9 * (5 * r5);\n    c += (d4 >>> 13); d4 &= 0x1fff;\n\n    d5 = c;\n    d5 += h0 * r5;\n    d5 += h1 * r4;\n    d5 += h2 * r3;\n    d5 += h3 * r2;\n    d5 += h4 * r1;\n    c = (d5 >>> 13); d5 &= 0x1fff;\n    d5 += h5 * r0;\n    d5 += h6 * (5 * r9);\n    d5 += h7 * (5 * r8);\n    d5 += h8 * (5 * r7);\n    d5 += h9 * (5 * r6);\n    c += (d5 >>> 13); d5 &= 0x1fff;\n\n    d6 = c;\n    d6 += h0 * r6;\n    d6 += h1 * r5;\n    d6 += h2 * r4;\n    d6 += h3 * r3;\n    d6 += h4 * r2;\n    c = (d6 >>> 13); d6 &= 0x1fff;\n    d6 += h5 * r1;\n    d6 += h6 * r0;\n    d6 += h7 * (5 * r9);\n    d6 += h8 * (5 * r8);\n    d6 += h9 * (5 * r7);\n    c += (d6 >>> 13); d6 &= 0x1fff;\n\n    d7 = c;\n    d7 += h0 * r7;\n    d7 += h1 * r6;\n    d7 += h2 * r5;\n    d7 += h3 * r4;\n    d7 += h4 * r3;\n    c = (d7 >>> 13); d7 &= 0x1fff;\n    d7 += h5 * r2;\n    d7 += h6 * r1;\n    d7 += h7 * r0;\n    d7 += h8 * (5 * r9);\n    d7 += h9 * (5 * r8);\n    c += (d7 >>> 13); d7 &= 0x1fff;\n\n    d8 = c;\n    d8 += h0 * r8;\n    d8 += h1 * r7;\n    d8 += h2 * r6;\n    d8 += h3 * r5;\n    d8 += h4 * r4;\n    c = (d8 >>> 13); d8 &= 0x1fff;\n    d8 += h5 * r3;\n    d8 += h6 * r2;\n    d8 += h7 * r1;\n    d8 += h8 * r0;\n    d8 += h9 * (5 * r9);\n    c += (d8 >>> 13); d8 &= 0x1fff;\n\n    d9 = c;\n    d9 += h0 * r9;\n    d9 += h1 * r8;\n    d9 += h2 * r7;\n    d9 += h3 * r6;\n    d9 += h4 * r5;\n    c = (d9 >>> 13); d9 &= 0x1fff;\n    d9 += h5 * r4;\n    d9 += h6 * r3;\n    d9 += h7 * r2;\n    d9 += h8 * r1;\n    d9 += h9 * r0;\n    c += (d9 >>> 13); d9 &= 0x1fff;\n\n    c = (((c << 2) + c)) | 0;\n    c = (c + d0) | 0;\n    d0 = c & 0x1fff;\n    c = (c >>> 13);\n    d1 += c;\n\n    h0 = d0;\n    h1 = d1;\n    h2 = d2;\n    h3 = d3;\n    h4 = d4;\n    h5 = d5;\n    h6 = d6;\n    h7 = d7;\n    h8 = d8;\n    h9 = d9;\n\n    mpos += 16;\n    bytes -= 16;\n  }\n  this.h[0] = h0;\n  this.h[1] = h1;\n  this.h[2] = h2;\n  this.h[3] = h3;\n  this.h[4] = h4;\n  this.h[5] = h5;\n  this.h[6] = h6;\n  this.h[7] = h7;\n  this.h[8] = h8;\n  this.h[9] = h9;\n};\n\npoly1305.prototype.finish = function(mac, macpos) {\n  var g = new Uint16Array(10);\n  var c, mask, f, i;\n\n  if (this.leftover) {\n    i = this.leftover;\n    this.buffer[i++] = 1;\n    for (; i < 16; i++) this.buffer[i] = 0;\n    this.fin = 1;\n    this.blocks(this.buffer, 0, 16);\n  }\n\n  c = this.h[1] >>> 13;\n  this.h[1] &= 0x1fff;\n  for (i = 2; i < 10; i++) {\n    this.h[i] += c;\n    c = this.h[i] >>> 13;\n    this.h[i] &= 0x1fff;\n  }\n  this.h[0] += (c * 5);\n  c = this.h[0] >>> 13;\n  this.h[0] &= 0x1fff;\n  this.h[1] += c;\n  c = this.h[1] >>> 13;\n  this.h[1] &= 0x1fff;\n  this.h[2] += c;\n\n  g[0] = this.h[0] + 5;\n  c = g[0] >>> 13;\n  g[0] &= 0x1fff;\n  for (i = 1; i < 10; i++) {\n    g[i] = this.h[i] + c;\n    c = g[i] >>> 13;\n    g[i] &= 0x1fff;\n  }\n  g[9] -= (1 << 13);\n\n  mask = (c ^ 1) - 1;\n  for (i = 0; i < 10; i++) g[i] &= mask;\n  mask = ~mask;\n  for (i = 0; i < 10; i++) this.h[i] = (this.h[i] & mask) | g[i];\n\n  this.h[0] = ((this.h[0]       ) | (this.h[1] << 13)                    ) & 0xffff;\n  this.h[1] = ((this.h[1] >>>  3) | (this.h[2] << 10)                    ) & 0xffff;\n  this.h[2] = ((this.h[2] >>>  6) | (this.h[3] <<  7)                    ) & 0xffff;\n  this.h[3] = ((this.h[3] >>>  9) | (this.h[4] <<  4)                    ) & 0xffff;\n  this.h[4] = ((this.h[4] >>> 12) | (this.h[5] <<  1) | (this.h[6] << 14)) & 0xffff;\n  this.h[5] = ((this.h[6] >>>  2) | (this.h[7] << 11)                    ) & 0xffff;\n  this.h[6] = ((this.h[7] >>>  5) | (this.h[8] <<  8)                    ) & 0xffff;\n  this.h[7] = ((this.h[8] >>>  8) | (this.h[9] <<  5)                    ) & 0xffff;\n\n  f = this.h[0] + this.pad[0];\n  this.h[0] = f & 0xffff;\n  for (i = 1; i < 8; i++) {\n    f = (((this.h[i] + this.pad[i]) | 0) + (f >>> 16)) | 0;\n    this.h[i] = f & 0xffff;\n  }\n\n  mac[macpos+ 0] = (this.h[0] >>> 0) & 0xff;\n  mac[macpos+ 1] = (this.h[0] >>> 8) & 0xff;\n  mac[macpos+ 2] = (this.h[1] >>> 0) & 0xff;\n  mac[macpos+ 3] = (this.h[1] >>> 8) & 0xff;\n  mac[macpos+ 4] = (this.h[2] >>> 0) & 0xff;\n  mac[macpos+ 5] = (this.h[2] >>> 8) & 0xff;\n  mac[macpos+ 6] = (this.h[3] >>> 0) & 0xff;\n  mac[macpos+ 7] = (this.h[3] >>> 8) & 0xff;\n  mac[macpos+ 8] = (this.h[4] >>> 0) & 0xff;\n  mac[macpos+ 9] = (this.h[4] >>> 8) & 0xff;\n  mac[macpos+10] = (this.h[5] >>> 0) & 0xff;\n  mac[macpos+11] = (this.h[5] >>> 8) & 0xff;\n  mac[macpos+12] = (this.h[6] >>> 0) & 0xff;\n  mac[macpos+13] = (this.h[6] >>> 8) & 0xff;\n  mac[macpos+14] = (this.h[7] >>> 0) & 0xff;\n  mac[macpos+15] = (this.h[7] >>> 8) & 0xff;\n};\n\npoly1305.prototype.update = function(m, mpos, bytes) {\n  var i, want;\n\n  if (this.leftover) {\n    want = (16 - this.leftover);\n    if (want > bytes)\n      want = bytes;\n    for (i = 0; i < want; i++)\n      this.buffer[this.leftover + i] = m[mpos+i];\n    bytes -= want;\n    mpos += want;\n    this.leftover += want;\n    if (this.leftover < 16)\n      return;\n    this.blocks(this.buffer, 0, 16);\n    this.leftover = 0;\n  }\n\n  if (bytes >= 16) {\n    want = bytes - (bytes % 16);\n    this.blocks(m, mpos, want);\n    mpos += want;\n    bytes -= want;\n  }\n\n  if (bytes) {\n    for (i = 0; i < bytes; i++)\n      this.buffer[this.leftover + i] = m[mpos+i];\n    this.leftover += bytes;\n  }\n};\n\nfunction crypto_onetimeauth(out, outpos, m, mpos, n, k) {\n  var s = new poly1305(k);\n  s.update(m, mpos, n);\n  s.finish(out, outpos);\n  return 0;\n}\n\nfunction crypto_onetimeauth_verify(h, hpos, m, mpos, n, k) {\n  var x = new Uint8Array(16);\n  crypto_onetimeauth(x,0,m,mpos,n,k);\n  return crypto_verify_16(h,hpos,x,0);\n}\n\nfunction crypto_secretbox(c,m,d,n,k) {\n  var i;\n  if (d < 32) return -1;\n  crypto_stream_xor(c,0,m,0,d,n,k);\n  crypto_onetimeauth(c, 16, c, 32, d - 32, c);\n  for (i = 0; i < 16; i++) c[i] = 0;\n  return 0;\n}\n\nfunction crypto_secretbox_open(m,c,d,n,k) {\n  var i;\n  var x = new Uint8Array(32);\n  if (d < 32) return -1;\n  crypto_stream(x,0,32,n,k);\n  if (crypto_onetimeauth_verify(c, 16,c, 32,d - 32,x) !== 0) return -1;\n  crypto_stream_xor(m,0,c,0,d,n,k);\n  for (i = 0; i < 32; i++) m[i] = 0;\n  return 0;\n}\n\nfunction set25519(r, a) {\n  var i;\n  for (i = 0; i < 16; i++) r[i] = a[i]|0;\n}\n\nfunction car25519(o) {\n  var i, v, c = 1;\n  for (i = 0; i < 16; i++) {\n    v = o[i] + c + 65535;\n    c = Math.floor(v / 65536);\n    o[i] = v - c * 65536;\n  }\n  o[0] += c-1 + 37 * (c-1);\n}\n\nfunction sel25519(p, q, b) {\n  var t, c = ~(b-1);\n  for (var i = 0; i < 16; i++) {\n    t = c & (p[i] ^ q[i]);\n    p[i] ^= t;\n    q[i] ^= t;\n  }\n}\n\nfunction pack25519(o, n) {\n  var i, j, b;\n  var m = gf(), t = gf();\n  for (i = 0; i < 16; i++) t[i] = n[i];\n  car25519(t);\n  car25519(t);\n  car25519(t);\n  for (j = 0; j < 2; j++) {\n    m[0] = t[0] - 0xffed;\n    for (i = 1; i < 15; i++) {\n      m[i] = t[i] - 0xffff - ((m[i-1]>>16) & 1);\n      m[i-1] &= 0xffff;\n    }\n    m[15] = t[15] - 0x7fff - ((m[14]>>16) & 1);\n    b = (m[15]>>16) & 1;\n    m[14] &= 0xffff;\n    sel25519(t, m, 1-b);\n  }\n  for (i = 0; i < 16; i++) {\n    o[2*i] = t[i] & 0xff;\n    o[2*i+1] = t[i]>>8;\n  }\n}\n\nfunction neq25519(a, b) {\n  var c = new Uint8Array(32), d = new Uint8Array(32);\n  pack25519(c, a);\n  pack25519(d, b);\n  return crypto_verify_32(c, 0, d, 0);\n}\n\nfunction par25519(a) {\n  var d = new Uint8Array(32);\n  pack25519(d, a);\n  return d[0] & 1;\n}\n\nfunction unpack25519(o, n) {\n  var i;\n  for (i = 0; i < 16; i++) o[i] = n[2*i] + (n[2*i+1] << 8);\n  o[15] &= 0x7fff;\n}\n\nfunction A(o, a, b) {\n  for (var i = 0; i < 16; i++) o[i] = a[i] + b[i];\n}\n\nfunction Z(o, a, b) {\n  for (var i = 0; i < 16; i++) o[i] = a[i] - b[i];\n}\n\nfunction M(o, a, b) {\n  var v, c,\n     t0 = 0,  t1 = 0,  t2 = 0,  t3 = 0,  t4 = 0,  t5 = 0,  t6 = 0,  t7 = 0,\n     t8 = 0,  t9 = 0, t10 = 0, t11 = 0, t12 = 0, t13 = 0, t14 = 0, t15 = 0,\n    t16 = 0, t17 = 0, t18 = 0, t19 = 0, t20 = 0, t21 = 0, t22 = 0, t23 = 0,\n    t24 = 0, t25 = 0, t26 = 0, t27 = 0, t28 = 0, t29 = 0, t30 = 0,\n    b0 = b[0],\n    b1 = b[1],\n    b2 = b[2],\n    b3 = b[3],\n    b4 = b[4],\n    b5 = b[5],\n    b6 = b[6],\n    b7 = b[7],\n    b8 = b[8],\n    b9 = b[9],\n    b10 = b[10],\n    b11 = b[11],\n    b12 = b[12],\n    b13 = b[13],\n    b14 = b[14],\n    b15 = b[15];\n\n  v = a[0];\n  t0 += v * b0;\n  t1 += v * b1;\n  t2 += v * b2;\n  t3 += v * b3;\n  t4 += v * b4;\n  t5 += v * b5;\n  t6 += v * b6;\n  t7 += v * b7;\n  t8 += v * b8;\n  t9 += v * b9;\n  t10 += v * b10;\n  t11 += v * b11;\n  t12 += v * b12;\n  t13 += v * b13;\n  t14 += v * b14;\n  t15 += v * b15;\n  v = a[1];\n  t1 += v * b0;\n  t2 += v * b1;\n  t3 += v * b2;\n  t4 += v * b3;\n  t5 += v * b4;\n  t6 += v * b5;\n  t7 += v * b6;\n  t8 += v * b7;\n  t9 += v * b8;\n  t10 += v * b9;\n  t11 += v * b10;\n  t12 += v * b11;\n  t13 += v * b12;\n  t14 += v * b13;\n  t15 += v * b14;\n  t16 += v * b15;\n  v = a[2];\n  t2 += v * b0;\n  t3 += v * b1;\n  t4 += v * b2;\n  t5 += v * b3;\n  t6 += v * b4;\n  t7 += v * b5;\n  t8 += v * b6;\n  t9 += v * b7;\n  t10 += v * b8;\n  t11 += v * b9;\n  t12 += v * b10;\n  t13 += v * b11;\n  t14 += v * b12;\n  t15 += v * b13;\n  t16 += v * b14;\n  t17 += v * b15;\n  v = a[3];\n  t3 += v * b0;\n  t4 += v * b1;\n  t5 += v * b2;\n  t6 += v * b3;\n  t7 += v * b4;\n  t8 += v * b5;\n  t9 += v * b6;\n  t10 += v * b7;\n  t11 += v * b8;\n  t12 += v * b9;\n  t13 += v * b10;\n  t14 += v * b11;\n  t15 += v * b12;\n  t16 += v * b13;\n  t17 += v * b14;\n  t18 += v * b15;\n  v = a[4];\n  t4 += v * b0;\n  t5 += v * b1;\n  t6 += v * b2;\n  t7 += v * b3;\n  t8 += v * b4;\n  t9 += v * b5;\n  t10 += v * b6;\n  t11 += v * b7;\n  t12 += v * b8;\n  t13 += v * b9;\n  t14 += v * b10;\n  t15 += v * b11;\n  t16 += v * b12;\n  t17 += v * b13;\n  t18 += v * b14;\n  t19 += v * b15;\n  v = a[5];\n  t5 += v * b0;\n  t6 += v * b1;\n  t7 += v * b2;\n  t8 += v * b3;\n  t9 += v * b4;\n  t10 += v * b5;\n  t11 += v * b6;\n  t12 += v * b7;\n  t13 += v * b8;\n  t14 += v * b9;\n  t15 += v * b10;\n  t16 += v * b11;\n  t17 += v * b12;\n  t18 += v * b13;\n  t19 += v * b14;\n  t20 += v * b15;\n  v = a[6];\n  t6 += v * b0;\n  t7 += v * b1;\n  t8 += v * b2;\n  t9 += v * b3;\n  t10 += v * b4;\n  t11 += v * b5;\n  t12 += v * b6;\n  t13 += v * b7;\n  t14 += v * b8;\n  t15 += v * b9;\n  t16 += v * b10;\n  t17 += v * b11;\n  t18 += v * b12;\n  t19 += v * b13;\n  t20 += v * b14;\n  t21 += v * b15;\n  v = a[7];\n  t7 += v * b0;\n  t8 += v * b1;\n  t9 += v * b2;\n  t10 += v * b3;\n  t11 += v * b4;\n  t12 += v * b5;\n  t13 += v * b6;\n  t14 += v * b7;\n  t15 += v * b8;\n  t16 += v * b9;\n  t17 += v * b10;\n  t18 += v * b11;\n  t19 += v * b12;\n  t20 += v * b13;\n  t21 += v * b14;\n  t22 += v * b15;\n  v = a[8];\n  t8 += v * b0;\n  t9 += v * b1;\n  t10 += v * b2;\n  t11 += v * b3;\n  t12 += v * b4;\n  t13 += v * b5;\n  t14 += v * b6;\n  t15 += v * b7;\n  t16 += v * b8;\n  t17 += v * b9;\n  t18 += v * b10;\n  t19 += v * b11;\n  t20 += v * b12;\n  t21 += v * b13;\n  t22 += v * b14;\n  t23 += v * b15;\n  v = a[9];\n  t9 += v * b0;\n  t10 += v * b1;\n  t11 += v * b2;\n  t12 += v * b3;\n  t13 += v * b4;\n  t14 += v * b5;\n  t15 += v * b6;\n  t16 += v * b7;\n  t17 += v * b8;\n  t18 += v * b9;\n  t19 += v * b10;\n  t20 += v * b11;\n  t21 += v * b12;\n  t22 += v * b13;\n  t23 += v * b14;\n  t24 += v * b15;\n  v = a[10];\n  t10 += v * b0;\n  t11 += v * b1;\n  t12 += v * b2;\n  t13 += v * b3;\n  t14 += v * b4;\n  t15 += v * b5;\n  t16 += v * b6;\n  t17 += v * b7;\n  t18 += v * b8;\n  t19 += v * b9;\n  t20 += v * b10;\n  t21 += v * b11;\n  t22 += v * b12;\n  t23 += v * b13;\n  t24 += v * b14;\n  t25 += v * b15;\n  v = a[11];\n  t11 += v * b0;\n  t12 += v * b1;\n  t13 += v * b2;\n  t14 += v * b3;\n  t15 += v * b4;\n  t16 += v * b5;\n  t17 += v * b6;\n  t18 += v * b7;\n  t19 += v * b8;\n  t20 += v * b9;\n  t21 += v * b10;\n  t22 += v * b11;\n  t23 += v * b12;\n  t24 += v * b13;\n  t25 += v * b14;\n  t26 += v * b15;\n  v = a[12];\n  t12 += v * b0;\n  t13 += v * b1;\n  t14 += v * b2;\n  t15 += v * b3;\n  t16 += v * b4;\n  t17 += v * b5;\n  t18 += v * b6;\n  t19 += v * b7;\n  t20 += v * b8;\n  t21 += v * b9;\n  t22 += v * b10;\n  t23 += v * b11;\n  t24 += v * b12;\n  t25 += v * b13;\n  t26 += v * b14;\n  t27 += v * b15;\n  v = a[13];\n  t13 += v * b0;\n  t14 += v * b1;\n  t15 += v * b2;\n  t16 += v * b3;\n  t17 += v * b4;\n  t18 += v * b5;\n  t19 += v * b6;\n  t20 += v * b7;\n  t21 += v * b8;\n  t22 += v * b9;\n  t23 += v * b10;\n  t24 += v * b11;\n  t25 += v * b12;\n  t26 += v * b13;\n  t27 += v * b14;\n  t28 += v * b15;\n  v = a[14];\n  t14 += v * b0;\n  t15 += v * b1;\n  t16 += v * b2;\n  t17 += v * b3;\n  t18 += v * b4;\n  t19 += v * b5;\n  t20 += v * b6;\n  t21 += v * b7;\n  t22 += v * b8;\n  t23 += v * b9;\n  t24 += v * b10;\n  t25 += v * b11;\n  t26 += v * b12;\n  t27 += v * b13;\n  t28 += v * b14;\n  t29 += v * b15;\n  v = a[15];\n  t15 += v * b0;\n  t16 += v * b1;\n  t17 += v * b2;\n  t18 += v * b3;\n  t19 += v * b4;\n  t20 += v * b5;\n  t21 += v * b6;\n  t22 += v * b7;\n  t23 += v * b8;\n  t24 += v * b9;\n  t25 += v * b10;\n  t26 += v * b11;\n  t27 += v * b12;\n  t28 += v * b13;\n  t29 += v * b14;\n  t30 += v * b15;\n\n  t0  += 38 * t16;\n  t1  += 38 * t17;\n  t2  += 38 * t18;\n  t3  += 38 * t19;\n  t4  += 38 * t20;\n  t5  += 38 * t21;\n  t6  += 38 * t22;\n  t7  += 38 * t23;\n  t8  += 38 * t24;\n  t9  += 38 * t25;\n  t10 += 38 * t26;\n  t11 += 38 * t27;\n  t12 += 38 * t28;\n  t13 += 38 * t29;\n  t14 += 38 * t30;\n  // t15 left as is\n\n  // first car\n  c = 1;\n  v =  t0 + c + 65535; c = Math.floor(v / 65536);  t0 = v - c * 65536;\n  v =  t1 + c + 65535; c = Math.floor(v / 65536);  t1 = v - c * 65536;\n  v =  t2 + c + 65535; c = Math.floor(v / 65536);  t2 = v - c * 65536;\n  v =  t3 + c + 65535; c = Math.floor(v / 65536);  t3 = v - c * 65536;\n  v =  t4 + c + 65535; c = Math.floor(v / 65536);  t4 = v - c * 65536;\n  v =  t5 + c + 65535; c = Math.floor(v / 65536);  t5 = v - c * 65536;\n  v =  t6 + c + 65535; c = Math.floor(v / 65536);  t6 = v - c * 65536;\n  v =  t7 + c + 65535; c = Math.floor(v / 65536);  t7 = v - c * 65536;\n  v =  t8 + c + 65535; c = Math.floor(v / 65536);  t8 = v - c * 65536;\n  v =  t9 + c + 65535; c = Math.floor(v / 65536);  t9 = v - c * 65536;\n  v = t10 + c + 65535; c = Math.floor(v / 65536); t10 = v - c * 65536;\n  v = t11 + c + 65535; c = Math.floor(v / 65536); t11 = v - c * 65536;\n  v = t12 + c + 65535; c = Math.floor(v / 65536); t12 = v - c * 65536;\n  v = t13 + c + 65535; c = Math.floor(v / 65536); t13 = v - c * 65536;\n  v = t14 + c + 65535; c = Math.floor(v / 65536); t14 = v - c * 65536;\n  v = t15 + c + 65535; c = Math.floor(v / 65536); t15 = v - c * 65536;\n  t0 += c-1 + 37 * (c-1);\n\n  // second car\n  c = 1;\n  v =  t0 + c + 65535; c = Math.floor(v / 65536);  t0 = v - c * 65536;\n  v =  t1 + c + 65535; c = Math.floor(v / 65536);  t1 = v - c * 65536;\n  v =  t2 + c + 65535; c = Math.floor(v / 65536);  t2 = v - c * 65536;\n  v =  t3 + c + 65535; c = Math.floor(v / 65536);  t3 = v - c * 65536;\n  v =  t4 + c + 65535; c = Math.floor(v / 65536);  t4 = v - c * 65536;\n  v =  t5 + c + 65535; c = Math.floor(v / 65536);  t5 = v - c * 65536;\n  v =  t6 + c + 65535; c = Math.floor(v / 65536);  t6 = v - c * 65536;\n  v =  t7 + c + 65535; c = Math.floor(v / 65536);  t7 = v - c * 65536;\n  v =  t8 + c + 65535; c = Math.floor(v / 65536);  t8 = v - c * 65536;\n  v =  t9 + c + 65535; c = Math.floor(v / 65536);  t9 = v - c * 65536;\n  v = t10 + c + 65535; c = Math.floor(v / 65536); t10 = v - c * 65536;\n  v = t11 + c + 65535; c = Math.floor(v / 65536); t11 = v - c * 65536;\n  v = t12 + c + 65535; c = Math.floor(v / 65536); t12 = v - c * 65536;\n  v = t13 + c + 65535; c = Math.floor(v / 65536); t13 = v - c * 65536;\n  v = t14 + c + 65535; c = Math.floor(v / 65536); t14 = v - c * 65536;\n  v = t15 + c + 65535; c = Math.floor(v / 65536); t15 = v - c * 65536;\n  t0 += c-1 + 37 * (c-1);\n\n  o[ 0] = t0;\n  o[ 1] = t1;\n  o[ 2] = t2;\n  o[ 3] = t3;\n  o[ 4] = t4;\n  o[ 5] = t5;\n  o[ 6] = t6;\n  o[ 7] = t7;\n  o[ 8] = t8;\n  o[ 9] = t9;\n  o[10] = t10;\n  o[11] = t11;\n  o[12] = t12;\n  o[13] = t13;\n  o[14] = t14;\n  o[15] = t15;\n}\n\nfunction S(o, a) {\n  M(o, a, a);\n}\n\nfunction inv25519(o, i) {\n  var c = gf();\n  var a;\n  for (a = 0; a < 16; a++) c[a] = i[a];\n  for (a = 253; a >= 0; a--) {\n    S(c, c);\n    if(a !== 2 && a !== 4) M(c, c, i);\n  }\n  for (a = 0; a < 16; a++) o[a] = c[a];\n}\n\nfunction pow2523(o, i) {\n  var c = gf();\n  var a;\n  for (a = 0; a < 16; a++) c[a] = i[a];\n  for (a = 250; a >= 0; a--) {\n      S(c, c);\n      if(a !== 1) M(c, c, i);\n  }\n  for (a = 0; a < 16; a++) o[a] = c[a];\n}\n\nfunction crypto_scalarmult(q, n, p) {\n  var z = new Uint8Array(32);\n  var x = new Float64Array(80), r, i;\n  var a = gf(), b = gf(), c = gf(),\n      d = gf(), e = gf(), f = gf();\n  for (i = 0; i < 31; i++) z[i] = n[i];\n  z[31]=(n[31]&127)|64;\n  z[0]&=248;\n  unpack25519(x,p);\n  for (i = 0; i < 16; i++) {\n    b[i]=x[i];\n    d[i]=a[i]=c[i]=0;\n  }\n  a[0]=d[0]=1;\n  for (i=254; i>=0; --i) {\n    r=(z[i>>>3]>>>(i&7))&1;\n    sel25519(a,b,r);\n    sel25519(c,d,r);\n    A(e,a,c);\n    Z(a,a,c);\n    A(c,b,d);\n    Z(b,b,d);\n    S(d,e);\n    S(f,a);\n    M(a,c,a);\n    M(c,b,e);\n    A(e,a,c);\n    Z(a,a,c);\n    S(b,a);\n    Z(c,d,f);\n    M(a,c,_121665);\n    A(a,a,d);\n    M(c,c,a);\n    M(a,d,f);\n    M(d,b,x);\n    S(b,e);\n    sel25519(a,b,r);\n    sel25519(c,d,r);\n  }\n  for (i = 0; i < 16; i++) {\n    x[i+16]=a[i];\n    x[i+32]=c[i];\n    x[i+48]=b[i];\n    x[i+64]=d[i];\n  }\n  var x32 = x.subarray(32);\n  var x16 = x.subarray(16);\n  inv25519(x32,x32);\n  M(x16,x16,x32);\n  pack25519(q,x16);\n  return 0;\n}\n\nfunction crypto_scalarmult_base(q, n) {\n  return crypto_scalarmult(q, n, _9);\n}\n\nfunction crypto_box_keypair(y, x) {\n  randombytes(x, 32);\n  return crypto_scalarmult_base(y, x);\n}\n\nfunction crypto_box_beforenm(k, y, x) {\n  var s = new Uint8Array(32);\n  crypto_scalarmult(s, x, y);\n  return crypto_core_hsalsa20(k, _0, s, sigma);\n}\n\nvar crypto_box_afternm = crypto_secretbox;\nvar crypto_box_open_afternm = crypto_secretbox_open;\n\nfunction crypto_box(c, m, d, n, y, x) {\n  var k = new Uint8Array(32);\n  crypto_box_beforenm(k, y, x);\n  return crypto_box_afternm(c, m, d, n, k);\n}\n\nfunction crypto_box_open(m, c, d, n, y, x) {\n  var k = new Uint8Array(32);\n  crypto_box_beforenm(k, y, x);\n  return crypto_box_open_afternm(m, c, d, n, k);\n}\n\nvar K = [\n  0x428a2f98, 0xd728ae22, 0x71374491, 0x23ef65cd,\n  0xb5c0fbcf, 0xec4d3b2f, 0xe9b5dba5, 0x8189dbbc,\n  0x3956c25b, 0xf348b538, 0x59f111f1, 0xb605d019,\n  0x923f82a4, 0xaf194f9b, 0xab1c5ed5, 0xda6d8118,\n  0xd807aa98, 0xa3030242, 0x12835b01, 0x45706fbe,\n  0x243185be, 0x4ee4b28c, 0x550c7dc3, 0xd5ffb4e2,\n  0x72be5d74, 0xf27b896f, 0x80deb1fe, 0x3b1696b1,\n  0x9bdc06a7, 0x25c71235, 0xc19bf174, 0xcf692694,\n  0xe49b69c1, 0x9ef14ad2, 0xefbe4786, 0x384f25e3,\n  0x0fc19dc6, 0x8b8cd5b5, 0x240ca1cc, 0x77ac9c65,\n  0x2de92c6f, 0x592b0275, 0x4a7484aa, 0x6ea6e483,\n  0x5cb0a9dc, 0xbd41fbd4, 0x76f988da, 0x831153b5,\n  0x983e5152, 0xee66dfab, 0xa831c66d, 0x2db43210,\n  0xb00327c8, 0x98fb213f, 0xbf597fc7, 0xbeef0ee4,\n  0xc6e00bf3, 0x3da88fc2, 0xd5a79147, 0x930aa725,\n  0x06ca6351, 0xe003826f, 0x14292967, 0x0a0e6e70,\n  0x27b70a85, 0x46d22ffc, 0x2e1b2138, 0x5c26c926,\n  0x4d2c6dfc, 0x5ac42aed, 0x53380d13, 0x9d95b3df,\n  0x650a7354, 0x8baf63de, 0x766a0abb, 0x3c77b2a8,\n  0x81c2c92e, 0x47edaee6, 0x92722c85, 0x1482353b,\n  0xa2bfe8a1, 0x4cf10364, 0xa81a664b, 0xbc423001,\n  0xc24b8b70, 0xd0f89791, 0xc76c51a3, 0x0654be30,\n  0xd192e819, 0xd6ef5218, 0xd6990624, 0x5565a910,\n  0xf40e3585, 0x5771202a, 0x106aa070, 0x32bbd1b8,\n  0x19a4c116, 0xb8d2d0c8, 0x1e376c08, 0x5141ab53,\n  0x2748774c, 0xdf8eeb99, 0x34b0bcb5, 0xe19b48a8,\n  0x391c0cb3, 0xc5c95a63, 0x4ed8aa4a, 0xe3418acb,\n  0x5b9cca4f, 0x7763e373, 0x682e6ff3, 0xd6b2b8a3,\n  0x748f82ee, 0x5defb2fc, 0x78a5636f, 0x43172f60,\n  0x84c87814, 0xa1f0ab72, 0x8cc70208, 0x1a6439ec,\n  0x90befffa, 0x23631e28, 0xa4506ceb, 0xde82bde9,\n  0xbef9a3f7, 0xb2c67915, 0xc67178f2, 0xe372532b,\n  0xca273ece, 0xea26619c, 0xd186b8c7, 0x21c0c207,\n  0xeada7dd6, 0xcde0eb1e, 0xf57d4f7f, 0xee6ed178,\n  0x06f067aa, 0x72176fba, 0x0a637dc5, 0xa2c898a6,\n  0x113f9804, 0xbef90dae, 0x1b710b35, 0x131c471b,\n  0x28db77f5, 0x23047d84, 0x32caab7b, 0x40c72493,\n  0x3c9ebe0a, 0x15c9bebc, 0x431d67c4, 0x9c100d4c,\n  0x4cc5d4be, 0xcb3e42b6, 0x597f299c, 0xfc657e2a,\n  0x5fcb6fab, 0x3ad6faec, 0x6c44198c, 0x4a475817\n];\n\nfunction crypto_hashblocks_hl(hh, hl, m, n) {\n  var wh = new Int32Array(16), wl = new Int32Array(16),\n      bh0, bh1, bh2, bh3, bh4, bh5, bh6, bh7,\n      bl0, bl1, bl2, bl3, bl4, bl5, bl6, bl7,\n      th, tl, i, j, h, l, a, b, c, d;\n\n  var ah0 = hh[0],\n      ah1 = hh[1],\n      ah2 = hh[2],\n      ah3 = hh[3],\n      ah4 = hh[4],\n      ah5 = hh[5],\n      ah6 = hh[6],\n      ah7 = hh[7],\n\n      al0 = hl[0],\n      al1 = hl[1],\n      al2 = hl[2],\n      al3 = hl[3],\n      al4 = hl[4],\n      al5 = hl[5],\n      al6 = hl[6],\n      al7 = hl[7];\n\n  var pos = 0;\n  while (n >= 128) {\n    for (i = 0; i < 16; i++) {\n      j = 8 * i + pos;\n      wh[i] = (m[j+0] << 24) | (m[j+1] << 16) | (m[j+2] << 8) | m[j+3];\n      wl[i] = (m[j+4] << 24) | (m[j+5] << 16) | (m[j+6] << 8) | m[j+7];\n    }\n    for (i = 0; i < 80; i++) {\n      bh0 = ah0;\n      bh1 = ah1;\n      bh2 = ah2;\n      bh3 = ah3;\n      bh4 = ah4;\n      bh5 = ah5;\n      bh6 = ah6;\n      bh7 = ah7;\n\n      bl0 = al0;\n      bl1 = al1;\n      bl2 = al2;\n      bl3 = al3;\n      bl4 = al4;\n      bl5 = al5;\n      bl6 = al6;\n      bl7 = al7;\n\n      // add\n      h = ah7;\n      l = al7;\n\n      a = l & 0xffff; b = l >>> 16;\n      c = h & 0xffff; d = h >>> 16;\n\n      // Sigma1\n      h = ((ah4 >>> 14) | (al4 << (32-14))) ^ ((ah4 >>> 18) | (al4 << (32-18))) ^ ((al4 >>> (41-32)) | (ah4 << (32-(41-32))));\n      l = ((al4 >>> 14) | (ah4 << (32-14))) ^ ((al4 >>> 18) | (ah4 << (32-18))) ^ ((ah4 >>> (41-32)) | (al4 << (32-(41-32))));\n\n      a += l & 0xffff; b += l >>> 16;\n      c += h & 0xffff; d += h >>> 16;\n\n      // Ch\n      h = (ah4 & ah5) ^ (~ah4 & ah6);\n      l = (al4 & al5) ^ (~al4 & al6);\n\n      a += l & 0xffff; b += l >>> 16;\n      c += h & 0xffff; d += h >>> 16;\n\n      // K\n      h = K[i*2];\n      l = K[i*2+1];\n\n      a += l & 0xffff; b += l >>> 16;\n      c += h & 0xffff; d += h >>> 16;\n\n      // w\n      h = wh[i%16];\n      l = wl[i%16];\n\n      a += l & 0xffff; b += l >>> 16;\n      c += h & 0xffff; d += h >>> 16;\n\n      b += a >>> 16;\n      c += b >>> 16;\n      d += c >>> 16;\n\n      th = c & 0xffff | d << 16;\n      tl = a & 0xffff | b << 16;\n\n      // add\n      h = th;\n      l = tl;\n\n      a = l & 0xffff; b = l >>> 16;\n      c = h & 0xffff; d = h >>> 16;\n\n      // Sigma0\n      h = ((ah0 >>> 28) | (al0 << (32-28))) ^ ((al0 >>> (34-32)) | (ah0 << (32-(34-32)))) ^ ((al0 >>> (39-32)) | (ah0 << (32-(39-32))));\n      l = ((al0 >>> 28) | (ah0 << (32-28))) ^ ((ah0 >>> (34-32)) | (al0 << (32-(34-32)))) ^ ((ah0 >>> (39-32)) | (al0 << (32-(39-32))));\n\n      a += l & 0xffff; b += l >>> 16;\n      c += h & 0xffff; d += h >>> 16;\n\n      // Maj\n      h = (ah0 & ah1) ^ (ah0 & ah2) ^ (ah1 & ah2);\n      l = (al0 & al1) ^ (al0 & al2) ^ (al1 & al2);\n\n      a += l & 0xffff; b += l >>> 16;\n      c += h & 0xffff; d += h >>> 16;\n\n      b += a >>> 16;\n      c += b >>> 16;\n      d += c >>> 16;\n\n      bh7 = (c & 0xffff) | (d << 16);\n      bl7 = (a & 0xffff) | (b << 16);\n\n      // add\n      h = bh3;\n      l = bl3;\n\n      a = l & 0xffff; b = l >>> 16;\n      c = h & 0xffff; d = h >>> 16;\n\n      h = th;\n      l = tl;\n\n      a += l & 0xffff; b += l >>> 16;\n      c += h & 0xffff; d += h >>> 16;\n\n      b += a >>> 16;\n      c += b >>> 16;\n      d += c >>> 16;\n\n      bh3 = (c & 0xffff) | (d << 16);\n      bl3 = (a & 0xffff) | (b << 16);\n\n      ah1 = bh0;\n      ah2 = bh1;\n      ah3 = bh2;\n      ah4 = bh3;\n      ah5 = bh4;\n      ah6 = bh5;\n      ah7 = bh6;\n      ah0 = bh7;\n\n      al1 = bl0;\n      al2 = bl1;\n      al3 = bl2;\n      al4 = bl3;\n      al5 = bl4;\n      al6 = bl5;\n      al7 = bl6;\n      al0 = bl7;\n\n      if (i%16 === 15) {\n        for (j = 0; j < 16; j++) {\n          // add\n          h = wh[j];\n          l = wl[j];\n\n          a = l & 0xffff; b = l >>> 16;\n          c = h & 0xffff; d = h >>> 16;\n\n          h = wh[(j+9)%16];\n          l = wl[(j+9)%16];\n\n          a += l & 0xffff; b += l >>> 16;\n          c += h & 0xffff; d += h >>> 16;\n\n          // sigma0\n          th = wh[(j+1)%16];\n          tl = wl[(j+1)%16];\n          h = ((th >>> 1) | (tl << (32-1))) ^ ((th >>> 8) | (tl << (32-8))) ^ (th >>> 7);\n          l = ((tl >>> 1) | (th << (32-1))) ^ ((tl >>> 8) | (th << (32-8))) ^ ((tl >>> 7) | (th << (32-7)));\n\n          a += l & 0xffff; b += l >>> 16;\n          c += h & 0xffff; d += h >>> 16;\n\n          // sigma1\n          th = wh[(j+14)%16];\n          tl = wl[(j+14)%16];\n          h = ((th >>> 19) | (tl << (32-19))) ^ ((tl >>> (61-32)) | (th << (32-(61-32)))) ^ (th >>> 6);\n          l = ((tl >>> 19) | (th << (32-19))) ^ ((th >>> (61-32)) | (tl << (32-(61-32)))) ^ ((tl >>> 6) | (th << (32-6)));\n\n          a += l & 0xffff; b += l >>> 16;\n          c += h & 0xffff; d += h >>> 16;\n\n          b += a >>> 16;\n          c += b >>> 16;\n          d += c >>> 16;\n\n          wh[j] = (c & 0xffff) | (d << 16);\n          wl[j] = (a & 0xffff) | (b << 16);\n        }\n      }\n    }\n\n    // add\n    h = ah0;\n    l = al0;\n\n    a = l & 0xffff; b = l >>> 16;\n    c = h & 0xffff; d = h >>> 16;\n\n    h = hh[0];\n    l = hl[0];\n\n    a += l & 0xffff; b += l >>> 16;\n    c += h & 0xffff; d += h >>> 16;\n\n    b += a >>> 16;\n    c += b >>> 16;\n    d += c >>> 16;\n\n    hh[0] = ah0 = (c & 0xffff) | (d << 16);\n    hl[0] = al0 = (a & 0xffff) | (b << 16);\n\n    h = ah1;\n    l = al1;\n\n    a = l & 0xffff; b = l >>> 16;\n    c = h & 0xffff; d = h >>> 16;\n\n    h = hh[1];\n    l = hl[1];\n\n    a += l & 0xffff; b += l >>> 16;\n    c += h & 0xffff; d += h >>> 16;\n\n    b += a >>> 16;\n    c += b >>> 16;\n    d += c >>> 16;\n\n    hh[1] = ah1 = (c & 0xffff) | (d << 16);\n    hl[1] = al1 = (a & 0xffff) | (b << 16);\n\n    h = ah2;\n    l = al2;\n\n    a = l & 0xffff; b = l >>> 16;\n    c = h & 0xffff; d = h >>> 16;\n\n    h = hh[2];\n    l = hl[2];\n\n    a += l & 0xffff; b += l >>> 16;\n    c += h & 0xffff; d += h >>> 16;\n\n    b += a >>> 16;\n    c += b >>> 16;\n    d += c >>> 16;\n\n    hh[2] = ah2 = (c & 0xffff) | (d << 16);\n    hl[2] = al2 = (a & 0xffff) | (b << 16);\n\n    h = ah3;\n    l = al3;\n\n    a = l & 0xffff; b = l >>> 16;\n    c = h & 0xffff; d = h >>> 16;\n\n    h = hh[3];\n    l = hl[3];\n\n    a += l & 0xffff; b += l >>> 16;\n    c += h & 0xffff; d += h >>> 16;\n\n    b += a >>> 16;\n    c += b >>> 16;\n    d += c >>> 16;\n\n    hh[3] = ah3 = (c & 0xffff) | (d << 16);\n    hl[3] = al3 = (a & 0xffff) | (b << 16);\n\n    h = ah4;\n    l = al4;\n\n    a = l & 0xffff; b = l >>> 16;\n    c = h & 0xffff; d = h >>> 16;\n\n    h = hh[4];\n    l = hl[4];\n\n    a += l & 0xffff; b += l >>> 16;\n    c += h & 0xffff; d += h >>> 16;\n\n    b += a >>> 16;\n    c += b >>> 16;\n    d += c >>> 16;\n\n    hh[4] = ah4 = (c & 0xffff) | (d << 16);\n    hl[4] = al4 = (a & 0xffff) | (b << 16);\n\n    h = ah5;\n    l = al5;\n\n    a = l & 0xffff; b = l >>> 16;\n    c = h & 0xffff; d = h >>> 16;\n\n    h = hh[5];\n    l = hl[5];\n\n    a += l & 0xffff; b += l >>> 16;\n    c += h & 0xffff; d += h >>> 16;\n\n    b += a >>> 16;\n    c += b >>> 16;\n    d += c >>> 16;\n\n    hh[5] = ah5 = (c & 0xffff) | (d << 16);\n    hl[5] = al5 = (a & 0xffff) | (b << 16);\n\n    h = ah6;\n    l = al6;\n\n    a = l & 0xffff; b = l >>> 16;\n    c = h & 0xffff; d = h >>> 16;\n\n    h = hh[6];\n    l = hl[6];\n\n    a += l & 0xffff; b += l >>> 16;\n    c += h & 0xffff; d += h >>> 16;\n\n    b += a >>> 16;\n    c += b >>> 16;\n    d += c >>> 16;\n\n    hh[6] = ah6 = (c & 0xffff) | (d << 16);\n    hl[6] = al6 = (a & 0xffff) | (b << 16);\n\n    h = ah7;\n    l = al7;\n\n    a = l & 0xffff; b = l >>> 16;\n    c = h & 0xffff; d = h >>> 16;\n\n    h = hh[7];\n    l = hl[7];\n\n    a += l & 0xffff; b += l >>> 16;\n    c += h & 0xffff; d += h >>> 16;\n\n    b += a >>> 16;\n    c += b >>> 16;\n    d += c >>> 16;\n\n    hh[7] = ah7 = (c & 0xffff) | (d << 16);\n    hl[7] = al7 = (a & 0xffff) | (b << 16);\n\n    pos += 128;\n    n -= 128;\n  }\n\n  return n;\n}\n\nfunction crypto_hash(out, m, n) {\n  var hh = new Int32Array(8),\n      hl = new Int32Array(8),\n      x = new Uint8Array(256),\n      i, b = n;\n\n  hh[0] = 0x6a09e667;\n  hh[1] = 0xbb67ae85;\n  hh[2] = 0x3c6ef372;\n  hh[3] = 0xa54ff53a;\n  hh[4] = 0x510e527f;\n  hh[5] = 0x9b05688c;\n  hh[6] = 0x1f83d9ab;\n  hh[7] = 0x5be0cd19;\n\n  hl[0] = 0xf3bcc908;\n  hl[1] = 0x84caa73b;\n  hl[2] = 0xfe94f82b;\n  hl[3] = 0x5f1d36f1;\n  hl[4] = 0xade682d1;\n  hl[5] = 0x2b3e6c1f;\n  hl[6] = 0xfb41bd6b;\n  hl[7] = 0x137e2179;\n\n  crypto_hashblocks_hl(hh, hl, m, n);\n  n %= 128;\n\n  for (i = 0; i < n; i++) x[i] = m[b-n+i];\n  x[n] = 128;\n\n  n = 256-128*(n<112?1:0);\n  x[n-9] = 0;\n  ts64(x, n-8,  (b / 0x20000000) | 0, b << 3);\n  crypto_hashblocks_hl(hh, hl, x, n);\n\n  for (i = 0; i < 8; i++) ts64(out, 8*i, hh[i], hl[i]);\n\n  return 0;\n}\n\nfunction add(p, q) {\n  var a = gf(), b = gf(), c = gf(),\n      d = gf(), e = gf(), f = gf(),\n      g = gf(), h = gf(), t = gf();\n\n  Z(a, p[1], p[0]);\n  Z(t, q[1], q[0]);\n  M(a, a, t);\n  A(b, p[0], p[1]);\n  A(t, q[0], q[1]);\n  M(b, b, t);\n  M(c, p[3], q[3]);\n  M(c, c, D2);\n  M(d, p[2], q[2]);\n  A(d, d, d);\n  Z(e, b, a);\n  Z(f, d, c);\n  A(g, d, c);\n  A(h, b, a);\n\n  M(p[0], e, f);\n  M(p[1], h, g);\n  M(p[2], g, f);\n  M(p[3], e, h);\n}\n\nfunction cswap(p, q, b) {\n  var i;\n  for (i = 0; i < 4; i++) {\n    sel25519(p[i], q[i], b);\n  }\n}\n\nfunction pack(r, p) {\n  var tx = gf(), ty = gf(), zi = gf();\n  inv25519(zi, p[2]);\n  M(tx, p[0], zi);\n  M(ty, p[1], zi);\n  pack25519(r, ty);\n  r[31] ^= par25519(tx) << 7;\n}\n\nfunction scalarmult(p, q, s) {\n  var b, i;\n  set25519(p[0], gf0);\n  set25519(p[1], gf1);\n  set25519(p[2], gf1);\n  set25519(p[3], gf0);\n  for (i = 255; i >= 0; --i) {\n    b = (s[(i/8)|0] >> (i&7)) & 1;\n    cswap(p, q, b);\n    add(q, p);\n    add(p, p);\n    cswap(p, q, b);\n  }\n}\n\nfunction scalarbase(p, s) {\n  var q = [gf(), gf(), gf(), gf()];\n  set25519(q[0], X);\n  set25519(q[1], Y);\n  set25519(q[2], gf1);\n  M(q[3], X, Y);\n  scalarmult(p, q, s);\n}\n\nfunction crypto_sign_keypair(pk, sk, seeded) {\n  var d = new Uint8Array(64);\n  var p = [gf(), gf(), gf(), gf()];\n  var i;\n\n  if (!seeded) randombytes(sk, 32);\n  crypto_hash(d, sk, 32);\n  d[0] &= 248;\n  d[31] &= 127;\n  d[31] |= 64;\n\n  scalarbase(p, d);\n  pack(pk, p);\n\n  for (i = 0; i < 32; i++) sk[i+32] = pk[i];\n  return 0;\n}\n\nvar L = new Float64Array([0xed, 0xd3, 0xf5, 0x5c, 0x1a, 0x63, 0x12, 0x58, 0xd6, 0x9c, 0xf7, 0xa2, 0xde, 0xf9, 0xde, 0x14, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0x10]);\n\nfunction modL(r, x) {\n  var carry, i, j, k;\n  for (i = 63; i >= 32; --i) {\n    carry = 0;\n    for (j = i - 32, k = i - 12; j < k; ++j) {\n      x[j] += carry - 16 * x[i] * L[j - (i - 32)];\n      carry = (x[j] + 128) >> 8;\n      x[j] -= carry * 256;\n    }\n    x[j] += carry;\n    x[i] = 0;\n  }\n  carry = 0;\n  for (j = 0; j < 32; j++) {\n    x[j] += carry - (x[31] >> 4) * L[j];\n    carry = x[j] >> 8;\n    x[j] &= 255;\n  }\n  for (j = 0; j < 32; j++) x[j] -= carry * L[j];\n  for (i = 0; i < 32; i++) {\n    x[i+1] += x[i] >> 8;\n    r[i] = x[i] & 255;\n  }\n}\n\nfunction reduce(r) {\n  var x = new Float64Array(64), i;\n  for (i = 0; i < 64; i++) x[i] = r[i];\n  for (i = 0; i < 64; i++) r[i] = 0;\n  modL(r, x);\n}\n\n// Note: difference from C - smlen returned, not passed as argument.\nfunction crypto_sign(sm, m, n, sk) {\n  var d = new Uint8Array(64), h = new Uint8Array(64), r = new Uint8Array(64);\n  var i, j, x = new Float64Array(64);\n  var p = [gf(), gf(), gf(), gf()];\n\n  crypto_hash(d, sk, 32);\n  d[0] &= 248;\n  d[31] &= 127;\n  d[31] |= 64;\n\n  var smlen = n + 64;\n  for (i = 0; i < n; i++) sm[64 + i] = m[i];\n  for (i = 0; i < 32; i++) sm[32 + i] = d[32 + i];\n\n  crypto_hash(r, sm.subarray(32), n+32);\n  reduce(r);\n  scalarbase(p, r);\n  pack(sm, p);\n\n  for (i = 32; i < 64; i++) sm[i] = sk[i];\n  crypto_hash(h, sm, n + 64);\n  reduce(h);\n\n  for (i = 0; i < 64; i++) x[i] = 0;\n  for (i = 0; i < 32; i++) x[i] = r[i];\n  for (i = 0; i < 32; i++) {\n    for (j = 0; j < 32; j++) {\n      x[i+j] += h[i] * d[j];\n    }\n  }\n\n  modL(sm.subarray(32), x);\n  return smlen;\n}\n\nfunction unpackneg(r, p) {\n  var t = gf(), chk = gf(), num = gf(),\n      den = gf(), den2 = gf(), den4 = gf(),\n      den6 = gf();\n\n  set25519(r[2], gf1);\n  unpack25519(r[1], p);\n  S(num, r[1]);\n  M(den, num, D);\n  Z(num, num, r[2]);\n  A(den, r[2], den);\n\n  S(den2, den);\n  S(den4, den2);\n  M(den6, den4, den2);\n  M(t, den6, num);\n  M(t, t, den);\n\n  pow2523(t, t);\n  M(t, t, num);\n  M(t, t, den);\n  M(t, t, den);\n  M(r[0], t, den);\n\n  S(chk, r[0]);\n  M(chk, chk, den);\n  if (neq25519(chk, num)) M(r[0], r[0], I);\n\n  S(chk, r[0]);\n  M(chk, chk, den);\n  if (neq25519(chk, num)) return -1;\n\n  if (par25519(r[0]) === (p[31]>>7)) Z(r[0], gf0, r[0]);\n\n  M(r[3], r[0], r[1]);\n  return 0;\n}\n\nfunction crypto_sign_open(m, sm, n, pk) {\n  var i, mlen;\n  var t = new Uint8Array(32), h = new Uint8Array(64);\n  var p = [gf(), gf(), gf(), gf()],\n      q = [gf(), gf(), gf(), gf()];\n\n  mlen = -1;\n  if (n < 64) return -1;\n\n  if (unpackneg(q, pk)) return -1;\n\n  for (i = 0; i < n; i++) m[i] = sm[i];\n  for (i = 0; i < 32; i++) m[i+32] = pk[i];\n  crypto_hash(h, m, n);\n  reduce(h);\n  scalarmult(p, q, h);\n\n  scalarbase(q, sm.subarray(32));\n  add(p, q);\n  pack(t, p);\n\n  n -= 64;\n  if (crypto_verify_32(sm, 0, t, 0)) {\n    for (i = 0; i < n; i++) m[i] = 0;\n    return -1;\n  }\n\n  for (i = 0; i < n; i++) m[i] = sm[i + 64];\n  mlen = n;\n  return mlen;\n}\n\nvar crypto_secretbox_KEYBYTES = 32,\n    crypto_secretbox_NONCEBYTES = 24,\n    crypto_secretbox_ZEROBYTES = 32,\n    crypto_secretbox_BOXZEROBYTES = 16,\n    crypto_scalarmult_BYTES = 32,\n    crypto_scalarmult_SCALARBYTES = 32,\n    crypto_box_PUBLICKEYBYTES = 32,\n    crypto_box_SECRETKEYBYTES = 32,\n    crypto_box_BEFORENMBYTES = 32,\n    crypto_box_NONCEBYTES = crypto_secretbox_NONCEBYTES,\n    crypto_box_ZEROBYTES = crypto_secretbox_ZEROBYTES,\n    crypto_box_BOXZEROBYTES = crypto_secretbox_BOXZEROBYTES,\n    crypto_sign_BYTES = 64,\n    crypto_sign_PUBLICKEYBYTES = 32,\n    crypto_sign_SECRETKEYBYTES = 64,\n    crypto_sign_SEEDBYTES = 32,\n    crypto_hash_BYTES = 64;\n\nnacl.lowlevel = {\n  crypto_core_hsalsa20: crypto_core_hsalsa20,\n  crypto_stream_xor: crypto_stream_xor,\n  crypto_stream: crypto_stream,\n  crypto_stream_salsa20_xor: crypto_stream_salsa20_xor,\n  crypto_stream_salsa20: crypto_stream_salsa20,\n  crypto_onetimeauth: crypto_onetimeauth,\n  crypto_onetimeauth_verify: crypto_onetimeauth_verify,\n  crypto_verify_16: crypto_verify_16,\n  crypto_verify_32: crypto_verify_32,\n  crypto_secretbox: crypto_secretbox,\n  crypto_secretbox_open: crypto_secretbox_open,\n  crypto_scalarmult: crypto_scalarmult,\n  crypto_scalarmult_base: crypto_scalarmult_base,\n  crypto_box_beforenm: crypto_box_beforenm,\n  crypto_box_afternm: crypto_box_afternm,\n  crypto_box: crypto_box,\n  crypto_box_open: crypto_box_open,\n  crypto_box_keypair: crypto_box_keypair,\n  crypto_hash: crypto_hash,\n  crypto_sign: crypto_sign,\n  crypto_sign_keypair: crypto_sign_keypair,\n  crypto_sign_open: crypto_sign_open,\n\n  crypto_secretbox_KEYBYTES: crypto_secretbox_KEYBYTES,\n  crypto_secretbox_NONCEBYTES: crypto_secretbox_NONCEBYTES,\n  crypto_secretbox_ZEROBYTES: crypto_secretbox_ZEROBYTES,\n  crypto_secretbox_BOXZEROBYTES: crypto_secretbox_BOXZEROBYTES,\n  crypto_scalarmult_BYTES: crypto_scalarmult_BYTES,\n  crypto_scalarmult_SCALARBYTES: crypto_scalarmult_SCALARBYTES,\n  crypto_box_PUBLICKEYBYTES: crypto_box_PUBLICKEYBYTES,\n  crypto_box_SECRETKEYBYTES: crypto_box_SECRETKEYBYTES,\n  crypto_box_BEFORENMBYTES: crypto_box_BEFORENMBYTES,\n  crypto_box_NONCEBYTES: crypto_box_NONCEBYTES,\n  crypto_box_ZEROBYTES: crypto_box_ZEROBYTES,\n  crypto_box_BOXZEROBYTES: crypto_box_BOXZEROBYTES,\n  crypto_sign_BYTES: crypto_sign_BYTES,\n  crypto_sign_PUBLICKEYBYTES: crypto_sign_PUBLICKEYBYTES,\n  crypto_sign_SECRETKEYBYTES: crypto_sign_SECRETKEYBYTES,\n  crypto_sign_SEEDBYTES: crypto_sign_SEEDBYTES,\n  crypto_hash_BYTES: crypto_hash_BYTES\n};\n\n/* High-level API */\n\nfunction checkLengths(k, n) {\n  if (k.length !== crypto_secretbox_KEYBYTES) throw new Error('bad key size');\n  if (n.length !== crypto_secretbox_NONCEBYTES) throw new Error('bad nonce size');\n}\n\nfunction checkBoxLengths(pk, sk) {\n  if (pk.length !== crypto_box_PUBLICKEYBYTES) throw new Error('bad public key size');\n  if (sk.length !== crypto_box_SECRETKEYBYTES) throw new Error('bad secret key size');\n}\n\nfunction checkArrayTypes() {\n  var t, i;\n  for (i = 0; i < arguments.length; i++) {\n     if ((t = Object.prototype.toString.call(arguments[i])) !== '[object Uint8Array]')\n       throw new TypeError('unexpected type ' + t + ', use Uint8Array');\n  }\n}\n\nfunction cleanup(arr) {\n  for (var i = 0; i < arr.length; i++) arr[i] = 0;\n}\n\n// TODO: Completely remove this in v0.15.\nif (!nacl.util) {\n  nacl.util = {};\n  nacl.util.decodeUTF8 = nacl.util.encodeUTF8 = nacl.util.encodeBase64 = nacl.util.decodeBase64 = function() {\n    throw new Error('nacl.util moved into separate package: https://github.com/dchest/tweetnacl-util-js');\n  };\n}\n\nnacl.randomBytes = function(n) {\n  var b = new Uint8Array(n);\n  randombytes(b, n);\n  return b;\n};\n\nnacl.secretbox = function(msg, nonce, key) {\n  checkArrayTypes(msg, nonce, key);\n  checkLengths(key, nonce);\n  var m = new Uint8Array(crypto_secretbox_ZEROBYTES + msg.length);\n  var c = new Uint8Array(m.length);\n  for (var i = 0; i < msg.length; i++) m[i+crypto_secretbox_ZEROBYTES] = msg[i];\n  crypto_secretbox(c, m, m.length, nonce, key);\n  return c.subarray(crypto_secretbox_BOXZEROBYTES);\n};\n\nnacl.secretbox.open = function(box, nonce, key) {\n  checkArrayTypes(box, nonce, key);\n  checkLengths(key, nonce);\n  var c = new Uint8Array(crypto_secretbox_BOXZEROBYTES + box.length);\n  var m = new Uint8Array(c.length);\n  for (var i = 0; i < box.length; i++) c[i+crypto_secretbox_BOXZEROBYTES] = box[i];\n  if (c.length < 32) return false;\n  if (crypto_secretbox_open(m, c, c.length, nonce, key) !== 0) return false;\n  return m.subarray(crypto_secretbox_ZEROBYTES);\n};\n\nnacl.secretbox.keyLength = crypto_secretbox_KEYBYTES;\nnacl.secretbox.nonceLength = crypto_secretbox_NONCEBYTES;\nnacl.secretbox.overheadLength = crypto_secretbox_BOXZEROBYTES;\n\nnacl.scalarMult = function(n, p) {\n  checkArrayTypes(n, p);\n  if (n.length !== crypto_scalarmult_SCALARBYTES) throw new Error('bad n size');\n  if (p.length !== crypto_scalarmult_BYTES) throw new Error('bad p size');\n  var q = new Uint8Array(crypto_scalarmult_BYTES);\n  crypto_scalarmult(q, n, p);\n  return q;\n};\n\nnacl.scalarMult.base = function(n) {\n  checkArrayTypes(n);\n  if (n.length !== crypto_scalarmult_SCALARBYTES) throw new Error('bad n size');\n  var q = new Uint8Array(crypto_scalarmult_BYTES);\n  crypto_scalarmult_base(q, n);\n  return q;\n};\n\nnacl.scalarMult.scalarLength = crypto_scalarmult_SCALARBYTES;\nnacl.scalarMult.groupElementLength = crypto_scalarmult_BYTES;\n\nnacl.box = function(msg, nonce, publicKey, secretKey) {\n  var k = nacl.box.before(publicKey, secretKey);\n  return nacl.secretbox(msg, nonce, k);\n};\n\nnacl.box.before = function(publicKey, secretKey) {\n  checkArrayTypes(publicKey, secretKey);\n  checkBoxLengths(publicKey, secretKey);\n  var k = new Uint8Array(crypto_box_BEFORENMBYTES);\n  crypto_box_beforenm(k, publicKey, secretKey);\n  return k;\n};\n\nnacl.box.after = nacl.secretbox;\n\nnacl.box.open = function(msg, nonce, publicKey, secretKey) {\n  var k = nacl.box.before(publicKey, secretKey);\n  return nacl.secretbox.open(msg, nonce, k);\n};\n\nnacl.box.open.after = nacl.secretbox.open;\n\nnacl.box.keyPair = function() {\n  var pk = new Uint8Array(crypto_box_PUBLICKEYBYTES);\n  var sk = new Uint8Array(crypto_box_SECRETKEYBYTES);\n  crypto_box_keypair(pk, sk);\n  return {publicKey: pk, secretKey: sk};\n};\n\nnacl.box.keyPair.fromSecretKey = function(secretKey) {\n  checkArrayTypes(secretKey);\n  if (secretKey.length !== crypto_box_SECRETKEYBYTES)\n    throw new Error('bad secret key size');\n  var pk = new Uint8Array(crypto_box_PUBLICKEYBYTES);\n  crypto_scalarmult_base(pk, secretKey);\n  return {publicKey: pk, secretKey: new Uint8Array(secretKey)};\n};\n\nnacl.box.publicKeyLength = crypto_box_PUBLICKEYBYTES;\nnacl.box.secretKeyLength = crypto_box_SECRETKEYBYTES;\nnacl.box.sharedKeyLength = crypto_box_BEFORENMBYTES;\nnacl.box.nonceLength = crypto_box_NONCEBYTES;\nnacl.box.overheadLength = nacl.secretbox.overheadLength;\n\nnacl.sign = function(msg, secretKey) {\n  checkArrayTypes(msg, secretKey);\n  if (secretKey.length !== crypto_sign_SECRETKEYBYTES)\n    throw new Error('bad secret key size');\n  var signedMsg = new Uint8Array(crypto_sign_BYTES+msg.length);\n  crypto_sign(signedMsg, msg, msg.length, secretKey);\n  return signedMsg;\n};\n\nnacl.sign.open = function(signedMsg, publicKey) {\n  if (arguments.length !== 2)\n    throw new Error('nacl.sign.open accepts 2 arguments; did you mean to use nacl.sign.detached.verify?');\n  checkArrayTypes(signedMsg, publicKey);\n  if (publicKey.length !== crypto_sign_PUBLICKEYBYTES)\n    throw new Error('bad public key size');\n  var tmp = new Uint8Array(signedMsg.length);\n  var mlen = crypto_sign_open(tmp, signedMsg, signedMsg.length, publicKey);\n  if (mlen < 0) return null;\n  var m = new Uint8Array(mlen);\n  for (var i = 0; i < m.length; i++) m[i] = tmp[i];\n  return m;\n};\n\nnacl.sign.detached = function(msg, secretKey) {\n  var signedMsg = nacl.sign(msg, secretKey);\n  var sig = new Uint8Array(crypto_sign_BYTES);\n  for (var i = 0; i < sig.length; i++) sig[i] = signedMsg[i];\n  return sig;\n};\n\nnacl.sign.detached.verify = function(msg, sig, publicKey) {\n  checkArrayTypes(msg, sig, publicKey);\n  if (sig.length !== crypto_sign_BYTES)\n    throw new Error('bad signature size');\n  if (publicKey.length !== crypto_sign_PUBLICKEYBYTES)\n    throw new Error('bad public key size');\n  var sm = new Uint8Array(crypto_sign_BYTES + msg.length);\n  var m = new Uint8Array(crypto_sign_BYTES + msg.length);\n  var i;\n  for (i = 0; i < crypto_sign_BYTES; i++) sm[i] = sig[i];\n  for (i = 0; i < msg.length; i++) sm[i+crypto_sign_BYTES] = msg[i];\n  return (crypto_sign_open(m, sm, sm.length, publicKey) >= 0);\n};\n\nnacl.sign.keyPair = function() {\n  var pk = new Uint8Array(crypto_sign_PUBLICKEYBYTES);\n  var sk = new Uint8Array(crypto_sign_SECRETKEYBYTES);\n  crypto_sign_keypair(pk, sk);\n  return {publicKey: pk, secretKey: sk};\n};\n\nnacl.sign.keyPair.fromSecretKey = function(secretKey) {\n  checkArrayTypes(secretKey);\n  if (secretKey.length !== crypto_sign_SECRETKEYBYTES)\n    throw new Error('bad secret key size');\n  var pk = new Uint8Array(crypto_sign_PUBLICKEYBYTES);\n  for (var i = 0; i < pk.length; i++) pk[i] = secretKey[32+i];\n  return {publicKey: pk, secretKey: new Uint8Array(secretKey)};\n};\n\nnacl.sign.keyPair.fromSeed = function(seed) {\n  checkArrayTypes(seed);\n  if (seed.length !== crypto_sign_SEEDBYTES)\n    throw new Error('bad seed size');\n  var pk = new Uint8Array(crypto_sign_PUBLICKEYBYTES);\n  var sk = new Uint8Array(crypto_sign_SECRETKEYBYTES);\n  for (var i = 0; i < 32; i++) sk[i] = seed[i];\n  crypto_sign_keypair(pk, sk, true);\n  return {publicKey: pk, secretKey: sk};\n};\n\nnacl.sign.publicKeyLength = crypto_sign_PUBLICKEYBYTES;\nnacl.sign.secretKeyLength = crypto_sign_SECRETKEYBYTES;\nnacl.sign.seedLength = crypto_sign_SEEDBYTES;\nnacl.sign.signatureLength = crypto_sign_BYTES;\n\nnacl.hash = function(msg) {\n  checkArrayTypes(msg);\n  var h = new Uint8Array(crypto_hash_BYTES);\n  crypto_hash(h, msg, msg.length);\n  return h;\n};\n\nnacl.hash.hashLength = crypto_hash_BYTES;\n\nnacl.verify = function(x, y) {\n  checkArrayTypes(x, y);\n  // Zero length arguments are considered not equal.\n  if (x.length === 0 || y.length === 0) return false;\n  if (x.length !== y.length) return false;\n  return (vn(x, 0, y, 0, x.length) === 0) ? true : false;\n};\n\nnacl.setPRNG = function(fn) {\n  randombytes = fn;\n};\n\n(function() {\n  // Initialize PRNG if environment provides CSPRNG.\n  // If not, methods calling randombytes will throw.\n  var crypto = typeof self !== 'undefined' ? (self.crypto || self.msCrypto) : null;\n  if (crypto && crypto.getRandomValues) {\n    // Browsers.\n    var QUOTA = 65536;\n    nacl.setPRNG(function(x, n) {\n      var i, v = new Uint8Array(n);\n      for (i = 0; i < n; i += QUOTA) {\n        crypto.getRandomValues(v.subarray(i, i + Math.min(n - i, QUOTA)));\n      }\n      for (i = 0; i < n; i++) x[i] = v[i];\n      cleanup(v);\n    });\n  } else if (typeof require !== 'undefined') {\n    // Node.js.\n    crypto = require('crypto');\n    if (crypto && crypto.randomBytes) {\n      nacl.setPRNG(function(x, n) {\n        var i, v = crypto.randomBytes(n);\n        for (i = 0; i < n; i++) x[i] = v[i];\n        cleanup(v);\n      });\n    }\n  }\n})();\n\n})(typeof module !== 'undefined' && module.exports ? module.exports : (self.nacl = self.nacl || {}));\n","/*!\n * type-is\n * Copyright(c) 2014 Jonathan Ong\n * Copyright(c) 2014-2015 Douglas Christopher Wilson\n * MIT Licensed\n */\n\n'use strict'\n\n/**\n * Module dependencies.\n * @private\n */\n\nvar typer = require('media-typer')\nvar mime = require('mime-types')\n\n/**\n * Module exports.\n * @public\n */\n\nmodule.exports = typeofrequest\nmodule.exports.is = typeis\nmodule.exports.hasBody = hasbody\nmodule.exports.normalize = normalize\nmodule.exports.match = mimeMatch\n\n/**\n * Compare a `value` content-type with `types`.\n * Each `type` can be an extension like `html`,\n * a special shortcut like `multipart` or `urlencoded`,\n * or a mime type.\n *\n * If no types match, `false` is returned.\n * Otherwise, the first `type` that matches is returned.\n *\n * @param {String} value\n * @param {Array} types\n * @public\n */\n\nfunction typeis (value, types_) {\n  var i\n  var types = types_\n\n  // remove parameters and normalize\n  var val = tryNormalizeType(value)\n\n  // no type or invalid\n  if (!val) {\n    return false\n  }\n\n  // support flattened arguments\n  if (types && !Array.isArray(types)) {\n    types = new Array(arguments.length - 1)\n    for (i = 0; i < types.length; i++) {\n      types[i] = arguments[i + 1]\n    }\n  }\n\n  // no types, return the content type\n  if (!types || !types.length) {\n    return val\n  }\n\n  var type\n  for (i = 0; i < types.length; i++) {\n    if (mimeMatch(normalize(type = types[i]), val)) {\n      return type[0] === '+' || type.indexOf('*') !== -1\n        ? val\n        : type\n    }\n  }\n\n  // no matches\n  return false\n}\n\n/**\n * Check if a request has a request body.\n * A request with a body __must__ either have `transfer-encoding`\n * or `content-length` headers set.\n * http://www.w3.org/Protocols/rfc2616/rfc2616-sec4.html#sec4.3\n *\n * @param {Object} request\n * @return {Boolean}\n * @public\n */\n\nfunction hasbody (req) {\n  return req.headers['transfer-encoding'] !== undefined ||\n    !isNaN(req.headers['content-length'])\n}\n\n/**\n * Check if the incoming request contains the \"Content-Type\"\n * header field, and it contains any of the give mime `type`s.\n * If there is no request body, `null` is returned.\n * If there is no content type, `false` is returned.\n * Otherwise, it returns the first `type` that matches.\n *\n * Examples:\n *\n *     // With Content-Type: text/html; charset=utf-8\n *     this.is('html'); // => 'html'\n *     this.is('text/html'); // => 'text/html'\n *     this.is('text/*', 'application/json'); // => 'text/html'\n *\n *     // When Content-Type is application/json\n *     this.is('json', 'urlencoded'); // => 'json'\n *     this.is('application/json'); // => 'application/json'\n *     this.is('html', 'application/*'); // => 'application/json'\n *\n *     this.is('html'); // => false\n *\n * @param {String|Array} types...\n * @return {String|false|null}\n * @public\n */\n\nfunction typeofrequest (req, types_) {\n  var types = types_\n\n  // no body\n  if (!hasbody(req)) {\n    return null\n  }\n\n  // support flattened arguments\n  if (arguments.length > 2) {\n    types = new Array(arguments.length - 1)\n    for (var i = 0; i < types.length; i++) {\n      types[i] = arguments[i + 1]\n    }\n  }\n\n  // request content type\n  var value = req.headers['content-type']\n\n  return typeis(value, types)\n}\n\n/**\n * Normalize a mime type.\n * If it's a shorthand, expand it to a valid mime type.\n *\n * In general, you probably want:\n *\n *   var type = is(req, ['urlencoded', 'json', 'multipart']);\n *\n * Then use the appropriate body parsers.\n * These three are the most common request body types\n * and are thus ensured to work.\n *\n * @param {String} type\n * @private\n */\n\nfunction normalize (type) {\n  if (typeof type !== 'string') {\n    // invalid type\n    return false\n  }\n\n  switch (type) {\n    case 'urlencoded':\n      return 'application/x-www-form-urlencoded'\n    case 'multipart':\n      return 'multipart/*'\n  }\n\n  if (type[0] === '+') {\n    // \"+json\" -> \"*/*+json\" expando\n    return '*/*' + type\n  }\n\n  return type.indexOf('/') === -1\n    ? mime.lookup(type)\n    : type\n}\n\n/**\n * Check if `expected` mime type\n * matches `actual` mime type with\n * wildcard and +suffix support.\n *\n * @param {String} expected\n * @param {String} actual\n * @return {Boolean}\n * @private\n */\n\nfunction mimeMatch (expected, actual) {\n  // invalid type\n  if (expected === false) {\n    return false\n  }\n\n  // split types\n  var actualParts = actual.split('/')\n  var expectedParts = expected.split('/')\n\n  // invalid format\n  if (actualParts.length !== 2 || expectedParts.length !== 2) {\n    return false\n  }\n\n  // validate type\n  if (expectedParts[0] !== '*' && expectedParts[0] !== actualParts[0]) {\n    return false\n  }\n\n  // validate suffix wildcard\n  if (expectedParts[1].substr(0, 2) === '*+') {\n    return expectedParts[1].length <= actualParts[1].length + 1 &&\n      expectedParts[1].substr(1) === actualParts[1].substr(1 - expectedParts[1].length)\n  }\n\n  // validate subtype\n  if (expectedParts[1] !== '*' && expectedParts[1] !== actualParts[1]) {\n    return false\n  }\n\n  return true\n}\n\n/**\n * Normalize a type and remove parameters.\n *\n * @param {string} value\n * @return {string}\n * @private\n */\n\nfunction normalizeType (value) {\n  // parse the type\n  var type = typer.parse(value)\n\n  // remove the parameters\n  type.parameters = undefined\n\n  // reformat it\n  return typer.format(type)\n}\n\n/**\n * Try to normalize a type and remove parameters.\n *\n * @param {string} value\n * @return {string}\n * @private\n */\n\nfunction tryNormalizeType (value) {\n  if (!value) {\n    return null\n  }\n\n  try {\n    return normalizeType(value)\n  } catch (err) {\n    return null\n  }\n}\n","/*!\n * unpipe\n * Copyright(c) 2015 Douglas Christopher Wilson\n * MIT Licensed\n */\n\n'use strict'\n\n/**\n * Module exports.\n * @public\n */\n\nmodule.exports = unpipe\n\n/**\n * Determine if there are Node.js pipe-like data listeners.\n * @private\n */\n\nfunction hasPipeDataListeners(stream) {\n  var listeners = stream.listeners('data')\n\n  for (var i = 0; i < listeners.length; i++) {\n    if (listeners[i].name === 'ondata') {\n      return true\n    }\n  }\n\n  return false\n}\n\n/**\n * Unpipe a stream from all destinations.\n *\n * @param {object} stream\n * @public\n */\n\nfunction unpipe(stream) {\n  if (!stream) {\n    throw new TypeError('argument stream is required')\n  }\n\n  if (typeof stream.unpipe === 'function') {\n    // new-style\n    stream.unpipe()\n    return\n  }\n\n  // Node.js 0.8 hack\n  if (!hasPipeDataListeners(stream)) {\n    return\n  }\n\n  var listener\n  var listeners = stream.listeners('close')\n\n  for (var i = 0; i < listeners.length; i++) {\n    listener = listeners[i]\n\n    if (listener.name !== 'cleanup' && listener.name !== 'onclose') {\n      continue\n    }\n\n    // invoke the listener\n    listener.call(stream)\n  }\n}\n","export function merge(...sets:Array<string>):string {\n\tif (sets.length > 1) {\n\t\tsets[0] = sets[0].slice(0, -1);\n\t\tconst xl = sets.length - 1;\n\t\tfor (let x = 1; x < xl; ++x) {\n\t\t\tsets[x] = sets[x].slice(1, -1);\n\t\t}\n\t\tsets[xl] = sets[xl].slice(1);\n\t\treturn sets.join('');\n\t} else {\n\t\treturn sets[0];\n\t}\n}\n\nexport function subexp(str:string):string {\n\treturn \"(?:\" + str + \")\";\n}\n\nexport function typeOf(o:any):string {\n\treturn o === undefined ? \"undefined\" : (o === null ? \"null\" : Object.prototype.toString.call(o).split(\" \").pop().split(\"]\").shift().toLowerCase());\n}\n\nexport function toUpperCase(str:string):string {\n\treturn str.toUpperCase();\n}\n\nexport function toArray(obj:any):Array<any> {\n\treturn obj !== undefined && obj !== null ? (obj instanceof Array ? obj : (typeof obj.length !== \"number\" || obj.split || obj.setInterval || obj.call ? [obj] : Array.prototype.slice.call(obj))) : [];\n}\n\n\nexport function assign(target: object, source: any): any {\n\tconst obj = target as any;\n\tif (source) {\n\t\tfor (const key in source) {\n\t\t\tobj[key] = source[key];\n\t\t}\n\t}\n\treturn obj;\n}","import { URIRegExps } from \"./uri\";\nimport { merge, subexp } from \"./util\";\n\nexport function buildExps(isIRI:boolean):URIRegExps {\n\tconst\n\t\tALPHA$$ = \"[A-Za-z]\",\n\t\tCR$ = \"[\\\\x0D]\",\n\t\tDIGIT$$ = \"[0-9]\",\n\t\tDQUOTE$$ = \"[\\\\x22]\",\n\t\tHEXDIG$$ = merge(DIGIT$$, \"[A-Fa-f]\"),  //case-insensitive\n\t\tLF$$ = \"[\\\\x0A]\",\n\t\tSP$$ = \"[\\\\x20]\",\n\t\tPCT_ENCODED$ = subexp(subexp(\"%[EFef]\" + HEXDIG$$ + \"%\" + HEXDIG$$ + HEXDIG$$ + \"%\" + HEXDIG$$ + HEXDIG$$) + \"|\" + subexp(\"%[89A-Fa-f]\" + HEXDIG$$ + \"%\" + HEXDIG$$ + HEXDIG$$) + \"|\" + subexp(\"%\" + HEXDIG$$ + HEXDIG$$)),  //expanded\n\t\tGEN_DELIMS$$ = \"[\\\\:\\\\/\\\\?\\\\#\\\\[\\\\]\\\\@]\",\n\t\tSUB_DELIMS$$ = \"[\\\\!\\\\$\\\\&\\\\'\\\\(\\\\)\\\\*\\\\+\\\\,\\\\;\\\\=]\",\n\t\tRESERVED$$ = merge(GEN_DELIMS$$, SUB_DELIMS$$),\n\t\tUCSCHAR$$ = isIRI ? \"[\\\\xA0-\\\\u200D\\\\u2010-\\\\u2029\\\\u202F-\\\\uD7FF\\\\uF900-\\\\uFDCF\\\\uFDF0-\\\\uFFEF]\" : \"[]\",  //subset, excludes bidi control characters\n\t\tIPRIVATE$$ = isIRI ? \"[\\\\uE000-\\\\uF8FF]\" : \"[]\",  //subset\n\t\tUNRESERVED$$ = merge(ALPHA$$, DIGIT$$, \"[\\\\-\\\\.\\\\_\\\\~]\", UCSCHAR$$),\n\t\tSCHEME$ = subexp(ALPHA$$ + merge(ALPHA$$, DIGIT$$, \"[\\\\+\\\\-\\\\.]\") + \"*\"),\n\t\tUSERINFO$ = subexp(subexp(PCT_ENCODED$ + \"|\" + merge(UNRESERVED$$, SUB_DELIMS$$, \"[\\\\:]\")) + \"*\"),\n\t\tDEC_OCTET$ = subexp(subexp(\"25[0-5]\") + \"|\" + subexp(\"2[0-4]\" + DIGIT$$) + \"|\" + subexp(\"1\" + DIGIT$$ + DIGIT$$) + \"|\" + subexp(\"[1-9]\" + DIGIT$$) + \"|\" + DIGIT$$),\n\t\tDEC_OCTET_RELAXED$ = subexp(subexp(\"25[0-5]\") + \"|\" + subexp(\"2[0-4]\" + DIGIT$$) + \"|\" + subexp(\"1\" + DIGIT$$ + DIGIT$$) + \"|\" + subexp(\"0?[1-9]\" + DIGIT$$) + \"|0?0?\" + DIGIT$$),  //relaxed parsing rules\n\t\tIPV4ADDRESS$ = subexp(DEC_OCTET_RELAXED$ + \"\\\\.\" + DEC_OCTET_RELAXED$ + \"\\\\.\" + DEC_OCTET_RELAXED$ + \"\\\\.\" + DEC_OCTET_RELAXED$),\n\t\tH16$ = subexp(HEXDIG$$ + \"{1,4}\"),\n\t\tLS32$ = subexp(subexp(H16$ + \"\\\\:\" + H16$) + \"|\" + IPV4ADDRESS$),\n\t\tIPV6ADDRESS1$ = subexp(                                                            subexp(H16$ + \"\\\\:\") + \"{6}\" + LS32$), //                           6( h16 \":\" ) ls32\n\t\tIPV6ADDRESS2$ = subexp(                                                 \"\\\\:\\\\:\" + subexp(H16$ + \"\\\\:\") + \"{5}\" + LS32$), //                      \"::\" 5( h16 \":\" ) ls32\n\t\tIPV6ADDRESS3$ = subexp(subexp(                                 H16$) + \"?\\\\:\\\\:\" + subexp(H16$ + \"\\\\:\") + \"{4}\" + LS32$), //[               h16 ] \"::\" 4( h16 \":\" ) ls32\n\t\tIPV6ADDRESS4$ = subexp(subexp(subexp(H16$ + \"\\\\:\") + \"{0,1}\" + H16$) + \"?\\\\:\\\\:\" + subexp(H16$ + \"\\\\:\") + \"{3}\" + LS32$), //[ *1( h16 \":\" ) h16 ] \"::\" 3( h16 \":\" ) ls32\n\t\tIPV6ADDRESS5$ = subexp(subexp(subexp(H16$ + \"\\\\:\") + \"{0,2}\" + H16$) + \"?\\\\:\\\\:\" + subexp(H16$ + \"\\\\:\") + \"{2}\" + LS32$), //[ *2( h16 \":\" ) h16 ] \"::\" 2( h16 \":\" ) ls32\n\t\tIPV6ADDRESS6$ = subexp(subexp(subexp(H16$ + \"\\\\:\") + \"{0,3}\" + H16$) + \"?\\\\:\\\\:\" +        H16$ + \"\\\\:\"          + LS32$), //[ *3( h16 \":\" ) h16 ] \"::\"    h16 \":\"   ls32\n\t\tIPV6ADDRESS7$ = subexp(subexp(subexp(H16$ + \"\\\\:\") + \"{0,4}\" + H16$) + \"?\\\\:\\\\:\"                                + LS32$), //[ *4( h16 \":\" ) h16 ] \"::\"              ls32\n\t\tIPV6ADDRESS8$ = subexp(subexp(subexp(H16$ + \"\\\\:\") + \"{0,5}\" + H16$) + \"?\\\\:\\\\:\"                                + H16$ ), //[ *5( h16 \":\" ) h16 ] \"::\"              h16\n\t\tIPV6ADDRESS9$ = subexp(subexp(subexp(H16$ + \"\\\\:\") + \"{0,6}\" + H16$) + \"?\\\\:\\\\:\"                                       ), //[ *6( h16 \":\" ) h16 ] \"::\"\n\t\tIPV6ADDRESS$ = subexp([IPV6ADDRESS1$, IPV6ADDRESS2$, IPV6ADDRESS3$, IPV6ADDRESS4$, IPV6ADDRESS5$, IPV6ADDRESS6$, IPV6ADDRESS7$, IPV6ADDRESS8$, IPV6ADDRESS9$].join(\"|\")),\n\t\tZONEID$ = subexp(subexp(UNRESERVED$$ + \"|\" + PCT_ENCODED$) + \"+\"),  //RFC 6874\n\t\tIPV6ADDRZ$ = subexp(IPV6ADDRESS$ + \"\\\\%25\" + ZONEID$),  //RFC 6874\n\t\tIPV6ADDRZ_RELAXED$ = subexp(IPV6ADDRESS$ + subexp(\"\\\\%25|\\\\%(?!\" + HEXDIG$$ + \"{2})\") + ZONEID$),  //RFC 6874, with relaxed parsing rules\n\t\tIPVFUTURE$ = subexp(\"[vV]\" + HEXDIG$$ + \"+\\\\.\" + merge(UNRESERVED$$, SUB_DELIMS$$, \"[\\\\:]\") + \"+\"),\n\t\tIP_LITERAL$ = subexp(\"\\\\[\" + subexp(IPV6ADDRZ_RELAXED$ + \"|\" + IPV6ADDRESS$ + \"|\" + IPVFUTURE$) + \"\\\\]\"),  //RFC 6874\n\t\tREG_NAME$ = subexp(subexp(PCT_ENCODED$ + \"|\" + merge(UNRESERVED$$, SUB_DELIMS$$)) + \"*\"),\n\t\tHOST$ = subexp(IP_LITERAL$ + \"|\" + IPV4ADDRESS$ + \"(?!\" + REG_NAME$ + \")\" + \"|\" + REG_NAME$),\n\t\tPORT$ = subexp(DIGIT$$ + \"*\"),\n\t\tAUTHORITY$ = subexp(subexp(USERINFO$ + \"@\") + \"?\" + HOST$ + subexp(\"\\\\:\" + PORT$) + \"?\"),\n\t\tPCHAR$ = subexp(PCT_ENCODED$ + \"|\" + merge(UNRESERVED$$, SUB_DELIMS$$, \"[\\\\:\\\\@]\")),\n\t\tSEGMENT$ = subexp(PCHAR$ + \"*\"),\n\t\tSEGMENT_NZ$ = subexp(PCHAR$ + \"+\"),\n\t\tSEGMENT_NZ_NC$ = subexp(subexp(PCT_ENCODED$ + \"|\" + merge(UNRESERVED$$, SUB_DELIMS$$, \"[\\\\@]\")) + \"+\"),\n\t\tPATH_ABEMPTY$ = subexp(subexp(\"\\\\/\" + SEGMENT$) + \"*\"),\n\t\tPATH_ABSOLUTE$ = subexp(\"\\\\/\" + subexp(SEGMENT_NZ$ + PATH_ABEMPTY$) + \"?\"),  //simplified\n\t\tPATH_NOSCHEME$ = subexp(SEGMENT_NZ_NC$ + PATH_ABEMPTY$),  //simplified\n\t\tPATH_ROOTLESS$ = subexp(SEGMENT_NZ$ + PATH_ABEMPTY$),  //simplified\n\t\tPATH_EMPTY$ = \"(?!\" + PCHAR$ + \")\",\n\t\tPATH$ = subexp(PATH_ABEMPTY$ + \"|\" + PATH_ABSOLUTE$ + \"|\" + PATH_NOSCHEME$ + \"|\" + PATH_ROOTLESS$ + \"|\" + PATH_EMPTY$),\n\t\tQUERY$ = subexp(subexp(PCHAR$ + \"|\" + merge(\"[\\\\/\\\\?]\", IPRIVATE$$)) + \"*\"),\n\t\tFRAGMENT$ = subexp(subexp(PCHAR$ + \"|[\\\\/\\\\?]\") + \"*\"),\n\t\tHIER_PART$ = subexp(subexp(\"\\\\/\\\\/\" + AUTHORITY$ + PATH_ABEMPTY$) + \"|\" + PATH_ABSOLUTE$ + \"|\" + PATH_ROOTLESS$ + \"|\" + PATH_EMPTY$),\n\t\tURI$ = subexp(SCHEME$ + \"\\\\:\" + HIER_PART$ + subexp(\"\\\\?\" + QUERY$) + \"?\" + subexp(\"\\\\#\" + FRAGMENT$) + \"?\"),\n\t\tRELATIVE_PART$ = subexp(subexp(\"\\\\/\\\\/\" + AUTHORITY$ + PATH_ABEMPTY$) + \"|\" + PATH_ABSOLUTE$ + \"|\" + PATH_NOSCHEME$ + \"|\" + PATH_EMPTY$),\n\t\tRELATIVE$ = subexp(RELATIVE_PART$ + subexp(\"\\\\?\" + QUERY$) + \"?\" + subexp(\"\\\\#\" + FRAGMENT$) + \"?\"),\n\t\tURI_REFERENCE$ = subexp(URI$ + \"|\" + RELATIVE$),\n\t\tABSOLUTE_URI$ = subexp(SCHEME$ + \"\\\\:\" + HIER_PART$ + subexp(\"\\\\?\" + QUERY$) + \"?\"),\n\n\t\tGENERIC_REF$ = \"^(\" + SCHEME$ + \")\\\\:\" + subexp(subexp(\"\\\\/\\\\/(\" + subexp(\"(\" + USERINFO$ + \")@\") + \"?(\" + HOST$ + \")\" + subexp(\"\\\\:(\" + PORT$ + \")\") + \"?)\") + \"?(\" + PATH_ABEMPTY$ + \"|\" + PATH_ABSOLUTE$ + \"|\" + PATH_ROOTLESS$ + \"|\" + PATH_EMPTY$ + \")\") + subexp(\"\\\\?(\" + QUERY$ + \")\") + \"?\" + subexp(\"\\\\#(\" + FRAGMENT$ + \")\") + \"?$\",\n\t\tRELATIVE_REF$ = \"^(){0}\" + subexp(subexp(\"\\\\/\\\\/(\" + subexp(\"(\" + USERINFO$ + \")@\") + \"?(\" + HOST$ + \")\" + subexp(\"\\\\:(\" + PORT$ + \")\") + \"?)\") + \"?(\" + PATH_ABEMPTY$ + \"|\" + PATH_ABSOLUTE$ + \"|\" + PATH_NOSCHEME$ + \"|\" + PATH_EMPTY$ + \")\") + subexp(\"\\\\?(\" + QUERY$ + \")\") + \"?\" + subexp(\"\\\\#(\" + FRAGMENT$ + \")\") + \"?$\",\n\t\tABSOLUTE_REF$ = \"^(\" + SCHEME$ + \")\\\\:\" + subexp(subexp(\"\\\\/\\\\/(\" + subexp(\"(\" + USERINFO$ + \")@\") + \"?(\" + HOST$ + \")\" + subexp(\"\\\\:(\" + PORT$ + \")\") + \"?)\") + \"?(\" + PATH_ABEMPTY$ + \"|\" + PATH_ABSOLUTE$ + \"|\" + PATH_ROOTLESS$ + \"|\" + PATH_EMPTY$ + \")\") + subexp(\"\\\\?(\" + QUERY$ + \")\") + \"?$\",\n\t\tSAMEDOC_REF$ = \"^\" + subexp(\"\\\\#(\" + FRAGMENT$ + \")\") + \"?$\",\n\t\tAUTHORITY_REF$ = \"^\" + subexp(\"(\" + USERINFO$ + \")@\") + \"?(\" + HOST$ + \")\" + subexp(\"\\\\:(\" + PORT$ + \")\") + \"?$\"\n\t;\n\n\treturn {\n\t\tNOT_SCHEME : new RegExp(merge(\"[^]\", ALPHA$$, DIGIT$$, \"[\\\\+\\\\-\\\\.]\"), \"g\"),\n\t\tNOT_USERINFO : new RegExp(merge(\"[^\\\\%\\\\:]\", UNRESERVED$$, SUB_DELIMS$$), \"g\"),\n\t\tNOT_HOST : new RegExp(merge(\"[^\\\\%\\\\[\\\\]\\\\:]\", UNRESERVED$$, SUB_DELIMS$$), \"g\"),\n\t\tNOT_PATH : new RegExp(merge(\"[^\\\\%\\\\/\\\\:\\\\@]\", UNRESERVED$$, SUB_DELIMS$$), \"g\"),\n\t\tNOT_PATH_NOSCHEME : new RegExp(merge(\"[^\\\\%\\\\/\\\\@]\", UNRESERVED$$, SUB_DELIMS$$), \"g\"),\n\t\tNOT_QUERY : new RegExp(merge(\"[^\\\\%]\", UNRESERVED$$, SUB_DELIMS$$, \"[\\\\:\\\\@\\\\/\\\\?]\", IPRIVATE$$), \"g\"),\n\t\tNOT_FRAGMENT : new RegExp(merge(\"[^\\\\%]\", UNRESERVED$$, SUB_DELIMS$$, \"[\\\\:\\\\@\\\\/\\\\?]\"), \"g\"),\n\t\tESCAPE : new RegExp(merge(\"[^]\", UNRESERVED$$, SUB_DELIMS$$), \"g\"),\n\t\tUNRESERVED : new RegExp(UNRESERVED$$, \"g\"),\n\t\tOTHER_CHARS : new RegExp(merge(\"[^\\\\%]\", UNRESERVED$$, RESERVED$$), \"g\"),\n\t\tPCT_ENCODED : new RegExp(PCT_ENCODED$, \"g\"),\n\t\tIPV4ADDRESS : new RegExp(\"^(\" + IPV4ADDRESS$ + \")$\"),\n\t\tIPV6ADDRESS : new RegExp(\"^\\\\[?(\" + IPV6ADDRESS$ + \")\" + subexp(subexp(\"\\\\%25|\\\\%(?!\" + HEXDIG$$ + \"{2})\") + \"(\" + ZONEID$ + \")\") + \"?\\\\]?$\")  //RFC 6874, with relaxed parsing rules\n\t};\n}\n\nexport default buildExps(false);\n","import { URIRegExps } from \"./uri\";\nimport { buildExps } from \"./regexps-uri\";\n\nexport default buildExps(true);\n","'use strict';\n\n/** Highest positive signed 32-bit float value */\nconst maxInt = 2147483647; // aka. 0x7FFFFFFF or 2^31-1\n\n/** Bootstring parameters */\nconst base = 36;\nconst tMin = 1;\nconst tMax = 26;\nconst skew = 38;\nconst damp = 700;\nconst initialBias = 72;\nconst initialN = 128; // 0x80\nconst delimiter = '-'; // '\\x2D'\n\n/** Regular expressions */\nconst regexPunycode = /^xn--/;\nconst regexNonASCII = /[^\\0-\\x7E]/; // non-ASCII chars\nconst regexSeparators = /[\\x2E\\u3002\\uFF0E\\uFF61]/g; // RFC 3490 separators\n\n/** Error messages */\nconst errors = {\n\t'overflow': 'Overflow: input needs wider integers to process',\n\t'not-basic': 'Illegal input >= 0x80 (not a basic code point)',\n\t'invalid-input': 'Invalid input'\n};\n\n/** Convenience shortcuts */\nconst baseMinusTMin = base - tMin;\nconst floor = Math.floor;\nconst stringFromCharCode = String.fromCharCode;\n\n/*--------------------------------------------------------------------------*/\n\n/**\n * A generic error utility function.\n * @private\n * @param {String} type The error type.\n * @returns {Error} Throws a `RangeError` with the applicable error message.\n */\nfunction error(type) {\n\tthrow new RangeError(errors[type]);\n}\n\n/**\n * A generic `Array#map` utility function.\n * @private\n * @param {Array} array The array to iterate over.\n * @param {Function} callback The function that gets called for every array\n * item.\n * @returns {Array} A new array of values returned by the callback function.\n */\nfunction map(array, fn) {\n\tconst result = [];\n\tlet length = array.length;\n\twhile (length--) {\n\t\tresult[length] = fn(array[length]);\n\t}\n\treturn result;\n}\n\n/**\n * A simple `Array#map`-like wrapper to work with domain name strings or email\n * addresses.\n * @private\n * @param {String} domain The domain name or email address.\n * @param {Function} callback The function that gets called for every\n * character.\n * @returns {Array} A new string of characters returned by the callback\n * function.\n */\nfunction mapDomain(string, fn) {\n\tconst parts = string.split('@');\n\tlet result = '';\n\tif (parts.length > 1) {\n\t\t// In email addresses, only the domain name should be punycoded. Leave\n\t\t// the local part (i.e. everything up to `@`) intact.\n\t\tresult = parts[0] + '@';\n\t\tstring = parts[1];\n\t}\n\t// Avoid `split(regex)` for IE8 compatibility. See #17.\n\tstring = string.replace(regexSeparators, '\\x2E');\n\tconst labels = string.split('.');\n\tconst encoded = map(labels, fn).join('.');\n\treturn result + encoded;\n}\n\n/**\n * Creates an array containing the numeric code points of each Unicode\n * character in the string. While JavaScript uses UCS-2 internally,\n * this function will convert a pair of surrogate halves (each of which\n * UCS-2 exposes as separate characters) into a single code point,\n * matching UTF-16.\n * @see `punycode.ucs2.encode`\n * @see <https://mathiasbynens.be/notes/javascript-encoding>\n * @memberOf punycode.ucs2\n * @name decode\n * @param {String} string The Unicode input string (UCS-2).\n * @returns {Array} The new array of code points.\n */\nfunction ucs2decode(string) {\n\tconst output = [];\n\tlet counter = 0;\n\tconst length = string.length;\n\twhile (counter < length) {\n\t\tconst value = string.charCodeAt(counter++);\n\t\tif (value >= 0xD800 && value <= 0xDBFF && counter < length) {\n\t\t\t// It's a high surrogate, and there is a next character.\n\t\t\tconst extra = string.charCodeAt(counter++);\n\t\t\tif ((extra & 0xFC00) == 0xDC00) { // Low surrogate.\n\t\t\t\toutput.push(((value & 0x3FF) << 10) + (extra & 0x3FF) + 0x10000);\n\t\t\t} else {\n\t\t\t\t// It's an unmatched surrogate; only append this code unit, in case the\n\t\t\t\t// next code unit is the high surrogate of a surrogate pair.\n\t\t\t\toutput.push(value);\n\t\t\t\tcounter--;\n\t\t\t}\n\t\t} else {\n\t\t\toutput.push(value);\n\t\t}\n\t}\n\treturn output;\n}\n\n/**\n * Creates a string based on an array of numeric code points.\n * @see `punycode.ucs2.decode`\n * @memberOf punycode.ucs2\n * @name encode\n * @param {Array} codePoints The array of numeric code points.\n * @returns {String} The new Unicode string (UCS-2).\n */\nconst ucs2encode = array => String.fromCodePoint(...array);\n\n/**\n * Converts a basic code point into a digit/integer.\n * @see `digitToBasic()`\n * @private\n * @param {Number} codePoint The basic numeric code point value.\n * @returns {Number} The numeric value of a basic code point (for use in\n * representing integers) in the range `0` to `base - 1`, or `base` if\n * the code point does not represent a value.\n */\nconst basicToDigit = function(codePoint) {\n\tif (codePoint - 0x30 < 0x0A) {\n\t\treturn codePoint - 0x16;\n\t}\n\tif (codePoint - 0x41 < 0x1A) {\n\t\treturn codePoint - 0x41;\n\t}\n\tif (codePoint - 0x61 < 0x1A) {\n\t\treturn codePoint - 0x61;\n\t}\n\treturn base;\n};\n\n/**\n * Converts a digit/integer into a basic code point.\n * @see `basicToDigit()`\n * @private\n * @param {Number} digit The numeric value of a basic code point.\n * @returns {Number} The basic code point whose value (when used for\n * representing integers) is `digit`, which needs to be in the range\n * `0` to `base - 1`. If `flag` is non-zero, the uppercase form is\n * used; else, the lowercase form is used. The behavior is undefined\n * if `flag` is non-zero and `digit` has no uppercase form.\n */\nconst digitToBasic = function(digit, flag) {\n\t//  0..25 map to ASCII a..z or A..Z\n\t// 26..35 map to ASCII 0..9\n\treturn digit + 22 + 75 * (digit < 26) - ((flag != 0) << 5);\n};\n\n/**\n * Bias adaptation function as per section 3.4 of RFC 3492.\n * https://tools.ietf.org/html/rfc3492#section-3.4\n * @private\n */\nconst adapt = function(delta, numPoints, firstTime) {\n\tlet k = 0;\n\tdelta = firstTime ? floor(delta / damp) : delta >> 1;\n\tdelta += floor(delta / numPoints);\n\tfor (/* no initialization */; delta > baseMinusTMin * tMax >> 1; k += base) {\n\t\tdelta = floor(delta / baseMinusTMin);\n\t}\n\treturn floor(k + (baseMinusTMin + 1) * delta / (delta + skew));\n};\n\n/**\n * Converts a Punycode string of ASCII-only symbols to a string of Unicode\n * symbols.\n * @memberOf punycode\n * @param {String} input The Punycode string of ASCII-only symbols.\n * @returns {String} The resulting string of Unicode symbols.\n */\nconst decode = function(input) {\n\t// Don't use UCS-2.\n\tconst output = [];\n\tconst inputLength = input.length;\n\tlet i = 0;\n\tlet n = initialN;\n\tlet bias = initialBias;\n\n\t// Handle the basic code points: let `basic` be the number of input code\n\t// points before the last delimiter, or `0` if there is none, then copy\n\t// the first basic code points to the output.\n\n\tlet basic = input.lastIndexOf(delimiter);\n\tif (basic < 0) {\n\t\tbasic = 0;\n\t}\n\n\tfor (let j = 0; j < basic; ++j) {\n\t\t// if it's not a basic code point\n\t\tif (input.charCodeAt(j) >= 0x80) {\n\t\t\terror('not-basic');\n\t\t}\n\t\toutput.push(input.charCodeAt(j));\n\t}\n\n\t// Main decoding loop: start just after the last delimiter if any basic code\n\t// points were copied; start at the beginning otherwise.\n\n\tfor (let index = basic > 0 ? basic + 1 : 0; index < inputLength; /* no final expression */) {\n\n\t\t// `index` is the index of the next character to be consumed.\n\t\t// Decode a generalized variable-length integer into `delta`,\n\t\t// which gets added to `i`. The overflow checking is easier\n\t\t// if we increase `i` as we go, then subtract off its starting\n\t\t// value at the end to obtain `delta`.\n\t\tlet oldi = i;\n\t\tfor (let w = 1, k = base; /* no condition */; k += base) {\n\n\t\t\tif (index >= inputLength) {\n\t\t\t\terror('invalid-input');\n\t\t\t}\n\n\t\t\tconst digit = basicToDigit(input.charCodeAt(index++));\n\n\t\t\tif (digit >= base || digit > floor((maxInt - i) / w)) {\n\t\t\t\terror('overflow');\n\t\t\t}\n\n\t\t\ti += digit * w;\n\t\t\tconst t = k <= bias ? tMin : (k >= bias + tMax ? tMax : k - bias);\n\n\t\t\tif (digit < t) {\n\t\t\t\tbreak;\n\t\t\t}\n\n\t\t\tconst baseMinusT = base - t;\n\t\t\tif (w > floor(maxInt / baseMinusT)) {\n\t\t\t\terror('overflow');\n\t\t\t}\n\n\t\t\tw *= baseMinusT;\n\n\t\t}\n\n\t\tconst out = output.length + 1;\n\t\tbias = adapt(i - oldi, out, oldi == 0);\n\n\t\t// `i` was supposed to wrap around from `out` to `0`,\n\t\t// incrementing `n` each time, so we'll fix that now:\n\t\tif (floor(i / out) > maxInt - n) {\n\t\t\terror('overflow');\n\t\t}\n\n\t\tn += floor(i / out);\n\t\ti %= out;\n\n\t\t// Insert `n` at position `i` of the output.\n\t\toutput.splice(i++, 0, n);\n\n\t}\n\n\treturn String.fromCodePoint(...output);\n};\n\n/**\n * Converts a string of Unicode symbols (e.g. a domain name label) to a\n * Punycode string of ASCII-only symbols.\n * @memberOf punycode\n * @param {String} input The string of Unicode symbols.\n * @returns {String} The resulting Punycode string of ASCII-only symbols.\n */\nconst encode = function(input) {\n\tconst output = [];\n\n\t// Convert the input in UCS-2 to an array of Unicode code points.\n\tinput = ucs2decode(input);\n\n\t// Cache the length.\n\tlet inputLength = input.length;\n\n\t// Initialize the state.\n\tlet n = initialN;\n\tlet delta = 0;\n\tlet bias = initialBias;\n\n\t// Handle the basic code points.\n\tfor (const currentValue of input) {\n\t\tif (currentValue < 0x80) {\n\t\t\toutput.push(stringFromCharCode(currentValue));\n\t\t}\n\t}\n\n\tlet basicLength = output.length;\n\tlet handledCPCount = basicLength;\n\n\t// `handledCPCount` is the number of code points that have been handled;\n\t// `basicLength` is the number of basic code points.\n\n\t// Finish the basic string with a delimiter unless it's empty.\n\tif (basicLength) {\n\t\toutput.push(delimiter);\n\t}\n\n\t// Main encoding loop:\n\twhile (handledCPCount < inputLength) {\n\n\t\t// All non-basic code points < n have been handled already. Find the next\n\t\t// larger one:\n\t\tlet m = maxInt;\n\t\tfor (const currentValue of input) {\n\t\t\tif (currentValue >= n && currentValue < m) {\n\t\t\t\tm = currentValue;\n\t\t\t}\n\t\t}\n\n\t\t// Increase `delta` enough to advance the decoder's <n,i> state to <m,0>,\n\t\t// but guard against overflow.\n\t\tconst handledCPCountPlusOne = handledCPCount + 1;\n\t\tif (m - n > floor((maxInt - delta) / handledCPCountPlusOne)) {\n\t\t\terror('overflow');\n\t\t}\n\n\t\tdelta += (m - n) * handledCPCountPlusOne;\n\t\tn = m;\n\n\t\tfor (const currentValue of input) {\n\t\t\tif (currentValue < n && ++delta > maxInt) {\n\t\t\t\terror('overflow');\n\t\t\t}\n\t\t\tif (currentValue == n) {\n\t\t\t\t// Represent delta as a generalized variable-length integer.\n\t\t\t\tlet q = delta;\n\t\t\t\tfor (let k = base; /* no condition */; k += base) {\n\t\t\t\t\tconst t = k <= bias ? tMin : (k >= bias + tMax ? tMax : k - bias);\n\t\t\t\t\tif (q < t) {\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t\tconst qMinusT = q - t;\n\t\t\t\t\tconst baseMinusT = base - t;\n\t\t\t\t\toutput.push(\n\t\t\t\t\t\tstringFromCharCode(digitToBasic(t + qMinusT % baseMinusT, 0))\n\t\t\t\t\t);\n\t\t\t\t\tq = floor(qMinusT / baseMinusT);\n\t\t\t\t}\n\n\t\t\t\toutput.push(stringFromCharCode(digitToBasic(q, 0)));\n\t\t\t\tbias = adapt(delta, handledCPCountPlusOne, handledCPCount == basicLength);\n\t\t\t\tdelta = 0;\n\t\t\t\t++handledCPCount;\n\t\t\t}\n\t\t}\n\n\t\t++delta;\n\t\t++n;\n\n\t}\n\treturn output.join('');\n};\n\n/**\n * Converts a Punycode string representing a domain name or an email address\n * to Unicode. Only the Punycoded parts of the input will be converted, i.e.\n * it doesn't matter if you call it on a string that has already been\n * converted to Unicode.\n * @memberOf punycode\n * @param {String} input The Punycoded domain name or email address to\n * convert to Unicode.\n * @returns {String} The Unicode representation of the given Punycode\n * string.\n */\nconst toUnicode = function(input) {\n\treturn mapDomain(input, function(string) {\n\t\treturn regexPunycode.test(string)\n\t\t\t? decode(string.slice(4).toLowerCase())\n\t\t\t: string;\n\t});\n};\n\n/**\n * Converts a Unicode string representing a domain name or an email address to\n * Punycode. Only the non-ASCII parts of the domain name will be converted,\n * i.e. it doesn't matter if you call it with a domain that's already in\n * ASCII.\n * @memberOf punycode\n * @param {String} input The domain name or email address to convert, as a\n * Unicode string.\n * @returns {String} The Punycode representation of the given domain name or\n * email address.\n */\nconst toASCII = function(input) {\n\treturn mapDomain(input, function(string) {\n\t\treturn regexNonASCII.test(string)\n\t\t\t? 'xn--' + encode(string)\n\t\t\t: string;\n\t});\n};\n\n/*--------------------------------------------------------------------------*/\n\n/** Define the public API */\nconst punycode = {\n\t/**\n\t * A string representing the current Punycode.js version number.\n\t * @memberOf punycode\n\t * @type String\n\t */\n\t'version': '2.1.0',\n\t/**\n\t * An object of methods to convert from JavaScript's internal character\n\t * representation (UCS-2) to Unicode code points, and back.\n\t * @see <https://mathiasbynens.be/notes/javascript-encoding>\n\t * @memberOf punycode\n\t * @type Object\n\t */\n\t'ucs2': {\n\t\t'decode': ucs2decode,\n\t\t'encode': ucs2encode\n\t},\n\t'decode': decode,\n\t'encode': encode,\n\t'toASCII': toASCII,\n\t'toUnicode': toUnicode\n};\n\nexport default punycode;\n","/**\n * URI.js\n *\n * @fileoverview An RFC 3986 compliant, scheme extendable URI parsing/validating/resolving library for JavaScript.\n * @author <a href=\"mailto:gary.court@gmail.com\">Gary Court</a>\n * @see http://github.com/garycourt/uri-js\n */\n\n/**\n * Copyright 2011 Gary Court. All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without modification, are\n * permitted provided that the following conditions are met:\n *\n *    1. Redistributions of source code must retain the above copyright notice, this list of\n *       conditions and the following disclaimer.\n *\n *    2. Redistributions in binary form must reproduce the above copyright notice, this list\n *       of conditions and the following disclaimer in the documentation and/or other materials\n *       provided with the distribution.\n *\n * THIS SOFTWARE IS PROVIDED BY GARY COURT ``AS IS'' AND ANY EXPRESS OR IMPLIED\n * WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND\n * FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL GARY COURT OR\n * CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR\n * CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR\n * SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON\n * ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING\n * NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF\n * ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n * The views and conclusions contained in the software and documentation are those of the\n * authors and should not be interpreted as representing official policies, either expressed\n * or implied, of Gary Court.\n */\n\nimport URI_PROTOCOL from \"./regexps-uri\";\nimport IRI_PROTOCOL from \"./regexps-iri\";\nimport punycode from \"punycode\";\nimport { toUpperCase, typeOf, assign } from \"./util\";\n\nexport interface URIComponents {\n\tscheme?:string;\n\tuserinfo?:string;\n\thost?:string;\n\tport?:number|string;\n\tpath?:string;\n\tquery?:string;\n\tfragment?:string;\n\treference?:string;\n\terror?:string;\n}\n\nexport interface URIOptions {\n\tscheme?:string;\n\treference?:string;\n\ttolerant?:boolean;\n\tabsolutePath?:boolean;\n\tiri?:boolean;\n\tunicodeSupport?:boolean;\n\tdomainHost?:boolean;\n}\n\nexport interface URISchemeHandler<Components extends URIComponents = URIComponents, Options extends URIOptions = URIOptions, ParentComponents extends URIComponents = URIComponents> {\n\tscheme:string;\n\tparse(components:ParentComponents, options:Options):Components;\n\tserialize(components:Components, options:Options):ParentComponents;\n\tunicodeSupport?:boolean;\n\tdomainHost?:boolean;\n\tabsolutePath?:boolean;\n}\n\nexport interface URIRegExps {\n\tNOT_SCHEME : RegExp,\n\tNOT_USERINFO : RegExp,\n\tNOT_HOST : RegExp,\n\tNOT_PATH : RegExp,\n\tNOT_PATH_NOSCHEME : RegExp,\n\tNOT_QUERY : RegExp,\n\tNOT_FRAGMENT : RegExp,\n\tESCAPE : RegExp,\n\tUNRESERVED : RegExp,\n\tOTHER_CHARS : RegExp,\n\tPCT_ENCODED : RegExp,\n\tIPV4ADDRESS : RegExp,\n\tIPV6ADDRESS : RegExp,\n}\n\nexport const SCHEMES:{[scheme:string]:URISchemeHandler} = {};\n\nexport function pctEncChar(chr:string):string {\n\tconst c = chr.charCodeAt(0);\n\tlet e:string;\n\n\tif (c < 16) e = \"%0\" + c.toString(16).toUpperCase();\n\telse if (c < 128) e = \"%\" + c.toString(16).toUpperCase();\n\telse if (c < 2048) e = \"%\" + ((c >> 6) | 192).toString(16).toUpperCase() + \"%\" + ((c & 63) | 128).toString(16).toUpperCase();\n\telse e = \"%\" + ((c >> 12) | 224).toString(16).toUpperCase() + \"%\" + (((c >> 6) & 63) | 128).toString(16).toUpperCase() + \"%\" + ((c & 63) | 128).toString(16).toUpperCase();\n\n\treturn e;\n}\n\nexport function pctDecChars(str:string):string {\n\tlet newStr = \"\";\n\tlet i = 0;\n\tconst il = str.length;\n\n\twhile (i < il) {\n\t\tconst c = parseInt(str.substr(i + 1, 2), 16);\n\n\t\tif (c < 128) {\n\t\t\tnewStr += String.fromCharCode(c);\n\t\t\ti += 3;\n\t\t}\n\t\telse if (c >= 194 && c < 224) {\n\t\t\tif ((il - i) >= 6) {\n\t\t\t\tconst c2 = parseInt(str.substr(i + 4, 2), 16);\n\t\t\t\tnewStr += String.fromCharCode(((c & 31) << 6) | (c2 & 63));\n\t\t\t} else {\n\t\t\t\tnewStr += str.substr(i, 6);\n\t\t\t}\n\t\t\ti += 6;\n\t\t}\n\t\telse if (c >= 224) {\n\t\t\tif ((il - i) >= 9) {\n\t\t\t\tconst c2 = parseInt(str.substr(i + 4, 2), 16);\n\t\t\t\tconst c3 = parseInt(str.substr(i + 7, 2), 16);\n\t\t\t\tnewStr += String.fromCharCode(((c & 15) << 12) | ((c2 & 63) << 6) | (c3 & 63));\n\t\t\t} else {\n\t\t\t\tnewStr += str.substr(i, 9);\n\t\t\t}\n\t\t\ti += 9;\n\t\t}\n\t\telse {\n\t\t\tnewStr += str.substr(i, 3);\n\t\t\ti += 3;\n\t\t}\n\t}\n\n\treturn newStr;\n}\n\nfunction _normalizeComponentEncoding(components:URIComponents, protocol:URIRegExps) {\n\tfunction decodeUnreserved(str:string):string {\n\t\tconst decStr = pctDecChars(str);\n\t\treturn (!decStr.match(protocol.UNRESERVED) ? str : decStr);\n\t}\n\n\tif (components.scheme) components.scheme = String(components.scheme).replace(protocol.PCT_ENCODED, decodeUnreserved).toLowerCase().replace(protocol.NOT_SCHEME, \"\");\n\tif (components.userinfo !== undefined) components.userinfo = String(components.userinfo).replace(protocol.PCT_ENCODED, decodeUnreserved).replace(protocol.NOT_USERINFO, pctEncChar).replace(protocol.PCT_ENCODED, toUpperCase);\n\tif (components.host !== undefined) components.host = String(components.host).replace(protocol.PCT_ENCODED, decodeUnreserved).toLowerCase().replace(protocol.NOT_HOST, pctEncChar).replace(protocol.PCT_ENCODED, toUpperCase);\n\tif (components.path !== undefined) components.path = String(components.path).replace(protocol.PCT_ENCODED, decodeUnreserved).replace((components.scheme ? protocol.NOT_PATH : protocol.NOT_PATH_NOSCHEME), pctEncChar).replace(protocol.PCT_ENCODED, toUpperCase);\n\tif (components.query !== undefined) components.query = String(components.query).replace(protocol.PCT_ENCODED, decodeUnreserved).replace(protocol.NOT_QUERY, pctEncChar).replace(protocol.PCT_ENCODED, toUpperCase);\n\tif (components.fragment !== undefined) components.fragment = String(components.fragment).replace(protocol.PCT_ENCODED, decodeUnreserved).replace(protocol.NOT_FRAGMENT, pctEncChar).replace(protocol.PCT_ENCODED, toUpperCase);\n\n\treturn components;\n};\n\nfunction _stripLeadingZeros(str:string):string {\n\treturn str.replace(/^0*(.*)/, \"$1\") || \"0\";\n}\n\nfunction _normalizeIPv4(host:string, protocol:URIRegExps):string {\n\tconst matches = host.match(protocol.IPV4ADDRESS) || [];\n\tconst [, address] = matches;\n\t\n\tif (address) {\n\t\treturn address.split(\".\").map(_stripLeadingZeros).join(\".\");\n\t} else {\n\t\treturn host;\n\t}\n}\n\nfunction _normalizeIPv6(host:string, protocol:URIRegExps):string {\n\tconst matches = host.match(protocol.IPV6ADDRESS) || [];\n\tconst [, address, zone] = matches;\n\n\tif (address) {\n\t\tconst [last, first] = address.toLowerCase().split('::').reverse();\n\t\tconst firstFields = first ? first.split(\":\").map(_stripLeadingZeros) : [];\n\t\tconst lastFields = last.split(\":\").map(_stripLeadingZeros);\n\t\tconst isLastFieldIPv4Address = protocol.IPV4ADDRESS.test(lastFields[lastFields.length - 1]);\n\t\tconst fieldCount = isLastFieldIPv4Address ? 7 : 8;\n\t\tconst lastFieldsStart = lastFields.length - fieldCount;\n\t\tconst fields = Array<string>(fieldCount);\n\n\t\tfor (let x = 0; x < fieldCount; ++x) {\n\t\t\tfields[x] = firstFields[x] || lastFields[lastFieldsStart + x] || '';\n\t\t}\n\n\t\tif (isLastFieldIPv4Address) {\n\t\t\tfields[fieldCount - 1] = _normalizeIPv4(fields[fieldCount - 1], protocol);\n\t\t}\n\n\t\tconst allZeroFields = fields.reduce<Array<{index:number,length:number}>>((acc, field, index) => {\n\t\t\tif (!field || field === \"0\") {\n\t\t\t\tconst lastLongest = acc[acc.length - 1];\n\t\t\t\tif (lastLongest && lastLongest.index + lastLongest.length === index) {\n\t\t\t\t\tlastLongest.length++;\n\t\t\t\t} else {\n\t\t\t\t\tacc.push({ index, length : 1 });\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn acc;\n\t\t}, []);\n\n\t\tconst longestZeroFields = allZeroFields.sort((a, b) => b.length - a.length)[0];\n\n\t\tlet newHost:string;\n\t\tif (longestZeroFields && longestZeroFields.length > 1) {\n\t\t\tconst newFirst = fields.slice(0, longestZeroFields.index) ;\n\t\t\tconst newLast = fields.slice(longestZeroFields.index + longestZeroFields.length);\n\t\t\tnewHost = newFirst.join(\":\") + \"::\" + newLast.join(\":\");\n\t\t} else {\n\t\t\tnewHost = fields.join(\":\");\n\t\t}\n\n\t\tif (zone) {\n\t\t\tnewHost += \"%\" + zone;\n\t\t}\n\n\t\treturn newHost;\n\t} else {\n\t\treturn host;\n\t}\n}\n\nconst URI_PARSE = /^(?:([^:\\/?#]+):)?(?:\\/\\/((?:([^\\/?#@]*)@)?(\\[[^\\/?#\\]]+\\]|[^\\/?#:]*)(?:\\:(\\d*))?))?([^?#]*)(?:\\?([^#]*))?(?:#((?:.|\\n|\\r)*))?/i;\nconst NO_MATCH_IS_UNDEFINED = (<RegExpMatchArray>(\"\").match(/(){0}/))[1] === undefined;\n\nexport function parse(uriString:string, options:URIOptions = {}):URIComponents {\n\tconst components:URIComponents = {};\n\tconst protocol = (options.iri !== false ? IRI_PROTOCOL : URI_PROTOCOL);\n\n\tif (options.reference === \"suffix\") uriString = (options.scheme ? options.scheme + \":\" : \"\") + \"//\" + uriString;\n\n\tconst matches = uriString.match(URI_PARSE);\n\n\tif (matches) {\n\t\tif (NO_MATCH_IS_UNDEFINED) {\n\t\t\t//store each component\n\t\t\tcomponents.scheme = matches[1];\n\t\t\tcomponents.userinfo = matches[3];\n\t\t\tcomponents.host = matches[4];\n\t\t\tcomponents.port = parseInt(matches[5], 10);\n\t\t\tcomponents.path = matches[6] || \"\";\n\t\t\tcomponents.query = matches[7];\n\t\t\tcomponents.fragment = matches[8];\n\n\t\t\t//fix port number\n\t\t\tif (isNaN(components.port)) {\n\t\t\t\tcomponents.port = matches[5];\n\t\t\t}\n\t\t} else {  //IE FIX for improper RegExp matching\n\t\t\t//store each component\n\t\t\tcomponents.scheme = matches[1] || undefined;\n\t\t\tcomponents.userinfo = (uriString.indexOf(\"@\") !== -1 ? matches[3] : undefined);\n\t\t\tcomponents.host = (uriString.indexOf(\"//\") !== -1 ? matches[4] : undefined);\n\t\t\tcomponents.port = parseInt(matches[5], 10);\n\t\t\tcomponents.path = matches[6] || \"\";\n\t\t\tcomponents.query = (uriString.indexOf(\"?\") !== -1 ? matches[7] : undefined);\n\t\t\tcomponents.fragment = (uriString.indexOf(\"#\") !== -1 ? matches[8] : undefined);\n\n\t\t\t//fix port number\n\t\t\tif (isNaN(components.port)) {\n\t\t\t\tcomponents.port = (uriString.match(/\\/\\/(?:.|\\n)*\\:(?:\\/|\\?|\\#|$)/) ? matches[4] : undefined);\n\t\t\t}\n\t\t}\n\n\t\tif (components.host) {\n\t\t\t//normalize IP hosts\n\t\t\tcomponents.host = _normalizeIPv6(_normalizeIPv4(components.host, protocol), protocol);\n\t\t}\n\n\t\t//determine reference type\n\t\tif (components.scheme === undefined && components.userinfo === undefined && components.host === undefined && components.port === undefined && !components.path && components.query === undefined) {\n\t\t\tcomponents.reference = \"same-document\";\n\t\t} else if (components.scheme === undefined) {\n\t\t\tcomponents.reference = \"relative\";\n\t\t} else if (components.fragment === undefined) {\n\t\t\tcomponents.reference = \"absolute\";\n\t\t} else {\n\t\t\tcomponents.reference = \"uri\";\n\t\t}\n\n\t\t//check for reference errors\n\t\tif (options.reference && options.reference !== \"suffix\" && options.reference !== components.reference) {\n\t\t\tcomponents.error = components.error || \"URI is not a \" + options.reference + \" reference.\";\n\t\t}\n\n\t\t//find scheme handler\n\t\tconst schemeHandler = SCHEMES[(options.scheme || components.scheme || \"\").toLowerCase()];\n\n\t\t//check if scheme can't handle IRIs\n\t\tif (!options.unicodeSupport && (!schemeHandler || !schemeHandler.unicodeSupport)) {\n\t\t\t//if host component is a domain name\n\t\t\tif (components.host && (options.domainHost || (schemeHandler && schemeHandler.domainHost))) {\n\t\t\t\t//convert Unicode IDN -> ASCII IDN\n\t\t\t\ttry {\n\t\t\t\t\tcomponents.host = punycode.toASCII(components.host.replace(protocol.PCT_ENCODED, pctDecChars).toLowerCase());\n\t\t\t\t} catch (e) {\n\t\t\t\t\tcomponents.error = components.error || \"Host's domain name can not be converted to ASCII via punycode: \" + e;\n\t\t\t\t}\n\t\t\t}\n\t\t\t//convert IRI -> URI\n\t\t\t_normalizeComponentEncoding(components, URI_PROTOCOL);\n\t\t} else {\n\t\t\t//normalize encodings\n\t\t\t_normalizeComponentEncoding(components, protocol);\n\t\t}\n\n\t\t//perform scheme specific parsing\n\t\tif (schemeHandler && schemeHandler.parse) {\n\t\t\tschemeHandler.parse(components, options);\n\t\t}\n\t} else {\n\t\tcomponents.error = components.error || \"URI can not be parsed.\";\n\t}\n\n\treturn components;\n};\n\nfunction _recomposeAuthority(components:URIComponents, options:URIOptions):string|undefined {\n\tconst protocol = (options.iri !== false ? IRI_PROTOCOL : URI_PROTOCOL);\n\tconst uriTokens:Array<string> = [];\n\n\tif (components.userinfo !== undefined) {\n\t\turiTokens.push(components.userinfo);\n\t\turiTokens.push(\"@\");\n\t}\n\n\tif (components.host !== undefined) {\n\t\t//normalize IP hosts, add brackets and escape zone separator for IPv6\n\t\turiTokens.push(_normalizeIPv6(_normalizeIPv4(String(components.host), protocol), protocol).replace(protocol.IPV6ADDRESS, (_, $1, $2) => \"[\" + $1 + ($2 ? \"%25\" + $2 : \"\") + \"]\"));\n\t}\n\n\tif (typeof components.port === \"number\") {\n\t\turiTokens.push(\":\");\n\t\turiTokens.push(components.port.toString(10));\n\t}\n\n\treturn uriTokens.length ? uriTokens.join(\"\") : undefined;\n};\n\nconst RDS1 = /^\\.\\.?\\//;\nconst RDS2 = /^\\/\\.(\\/|$)/;\nconst RDS3 = /^\\/\\.\\.(\\/|$)/;\nconst RDS4 = /^\\.\\.?$/;\nconst RDS5 = /^\\/?(?:.|\\n)*?(?=\\/|$)/;\n\nexport function removeDotSegments(input:string):string {\n\tconst output:Array<string> = [];\n\n\twhile (input.length) {\n\t\tif (input.match(RDS1)) {\n\t\t\tinput = input.replace(RDS1, \"\");\n\t\t} else if (input.match(RDS2)) {\n\t\t\tinput = input.replace(RDS2, \"/\");\n\t\t} else if (input.match(RDS3)) {\n\t\t\tinput = input.replace(RDS3, \"/\");\n\t\t\toutput.pop();\n\t\t} else if (input === \".\" || input === \"..\") {\n\t\t\tinput = \"\";\n\t\t} else {\n\t\t\tconst im = input.match(RDS5);\n\t\t\tif (im) {\n\t\t\t\tconst s = im[0];\n\t\t\t\tinput = input.slice(s.length);\n\t\t\t\toutput.push(s);\n\t\t\t} else {\n\t\t\t\tthrow new Error(\"Unexpected dot segment condition\");\n\t\t\t}\n\t\t}\n\t}\n\n\treturn output.join(\"\");\n};\n\nexport function serialize(components:URIComponents, options:URIOptions = {}):string {\n\tconst protocol = (options.iri ? IRI_PROTOCOL : URI_PROTOCOL);\n\tconst uriTokens:Array<string> = [];\n\n\t//find scheme handler\n\tconst schemeHandler = SCHEMES[(options.scheme || components.scheme || \"\").toLowerCase()];\n\n\t//perform scheme specific serialization\n\tif (schemeHandler && schemeHandler.serialize) schemeHandler.serialize(components, options);\n\n\tif (components.host) {\n\t\t//if host component is an IPv6 address\n\t\tif (protocol.IPV6ADDRESS.test(components.host)) {\n\t\t\t//TODO: normalize IPv6 address as per RFC 5952\n\t\t}\n\n\t\t//if host component is a domain name\n\t\telse if (options.domainHost || (schemeHandler && schemeHandler.domainHost)) {\n\t\t\t//convert IDN via punycode\n\t\t\ttry {\n\t\t\t\tcomponents.host = (!options.iri ? punycode.toASCII(components.host.replace(protocol.PCT_ENCODED, pctDecChars).toLowerCase()) : punycode.toUnicode(components.host));\n\t\t\t} catch (e) {\n\t\t\t\tcomponents.error = components.error || \"Host's domain name can not be converted to \" + (!options.iri ? \"ASCII\" : \"Unicode\") + \" via punycode: \" + e;\n\t\t\t}\n\t\t}\n\t}\n\n\t//normalize encoding\n\t_normalizeComponentEncoding(components, protocol);\n\n\tif (options.reference !== \"suffix\" && components.scheme) {\n\t\turiTokens.push(components.scheme);\n\t\turiTokens.push(\":\");\n\t}\n\n\tconst authority = _recomposeAuthority(components, options);\n\tif (authority !== undefined) {\n\t\tif (options.reference !== \"suffix\") {\n\t\t\turiTokens.push(\"//\");\n\t\t}\n\n\t\turiTokens.push(authority);\n\n\t\tif (components.path && components.path.charAt(0) !== \"/\") {\n\t\t\turiTokens.push(\"/\");\n\t\t}\n\t}\n\n\tif (components.path !== undefined) {\n\t\tlet s = components.path;\n\n\t\tif (!options.absolutePath && (!schemeHandler || !schemeHandler.absolutePath)) {\n\t\t\ts = removeDotSegments(s);\n\t\t}\n\n\t\tif (authority === undefined) {\n\t\t\ts = s.replace(/^\\/\\//, \"/%2F\");  //don't allow the path to start with \"//\"\n\t\t}\n\n\t\turiTokens.push(s);\n\t}\n\n\tif (components.query !== undefined) {\n\t\turiTokens.push(\"?\");\n\t\turiTokens.push(components.query);\n\t}\n\n\tif (components.fragment !== undefined) {\n\t\turiTokens.push(\"#\");\n\t\turiTokens.push(components.fragment);\n\t}\n\n\treturn uriTokens.join(\"\");  //merge tokens into a string\n};\n\nexport function resolveComponents(base:URIComponents, relative:URIComponents, options:URIOptions = {}, skipNormalization?:boolean):URIComponents {\n\tconst target:URIComponents = {};\n\n\tif (!skipNormalization) {\n\t\tbase = parse(serialize(base, options), options);  //normalize base components\n\t\trelative = parse(serialize(relative, options), options);  //normalize relative components\n\t}\n\toptions = options || {};\n\n\tif (!options.tolerant && relative.scheme) {\n\t\ttarget.scheme = relative.scheme;\n\t\t//target.authority = relative.authority;\n\t\ttarget.userinfo = relative.userinfo;\n\t\ttarget.host = relative.host;\n\t\ttarget.port = relative.port;\n\t\ttarget.path = removeDotSegments(relative.path || \"\");\n\t\ttarget.query = relative.query;\n\t} else {\n\t\tif (relative.userinfo !== undefined || relative.host !== undefined || relative.port !== undefined) {\n\t\t\t//target.authority = relative.authority;\n\t\t\ttarget.userinfo = relative.userinfo;\n\t\t\ttarget.host = relative.host;\n\t\t\ttarget.port = relative.port;\n\t\t\ttarget.path = removeDotSegments(relative.path || \"\");\n\t\t\ttarget.query = relative.query;\n\t\t} else {\n\t\t\tif (!relative.path) {\n\t\t\t\ttarget.path = base.path;\n\t\t\t\tif (relative.query !== undefined) {\n\t\t\t\t\ttarget.query = relative.query;\n\t\t\t\t} else {\n\t\t\t\t\ttarget.query = base.query;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tif (relative.path.charAt(0) === \"/\") {\n\t\t\t\t\ttarget.path = removeDotSegments(relative.path);\n\t\t\t\t} else {\n\t\t\t\t\tif ((base.userinfo !== undefined || base.host !== undefined || base.port !== undefined) && !base.path) {\n\t\t\t\t\t\ttarget.path = \"/\" + relative.path;\n\t\t\t\t\t} else if (!base.path) {\n\t\t\t\t\t\ttarget.path = relative.path;\n\t\t\t\t\t} else {\n\t\t\t\t\t\ttarget.path = base.path.slice(0, base.path.lastIndexOf(\"/\") + 1) + relative.path;\n\t\t\t\t\t}\n\t\t\t\t\ttarget.path = removeDotSegments(target.path);\n\t\t\t\t}\n\t\t\t\ttarget.query = relative.query;\n\t\t\t}\n\t\t\t//target.authority = base.authority;\n\t\t\ttarget.userinfo = base.userinfo;\n\t\t\ttarget.host = base.host;\n\t\t\ttarget.port = base.port;\n\t\t}\n\t\ttarget.scheme = base.scheme;\n\t}\n\n\ttarget.fragment = relative.fragment;\n\n\treturn target;\n};\n\nexport function resolve(baseURI:string, relativeURI:string, options?:URIOptions):string {\n\tconst schemelessOptions = assign({ scheme : 'null' }, options);\n\treturn serialize(resolveComponents(parse(baseURI, schemelessOptions), parse(relativeURI, schemelessOptions), schemelessOptions, true), schemelessOptions);\n};\n\nexport function normalize(uri:string, options?:URIOptions):string;\nexport function normalize(uri:URIComponents, options?:URIOptions):URIComponents;\nexport function normalize(uri:any, options?:URIOptions):any {\n\tif (typeof uri === \"string\") {\n\t\turi = serialize(parse(uri, options), options);\n\t} else if (typeOf(uri) === \"object\") {\n\t\turi = parse(serialize(<URIComponents>uri, options), options);\n\t}\n\n\treturn uri;\n};\n\nexport function equal(uriA:string, uriB:string, options?: URIOptions):boolean;\nexport function equal(uriA:URIComponents, uriB:URIComponents, options?:URIOptions):boolean;\nexport function equal(uriA:any, uriB:any, options?:URIOptions):boolean {\n\tif (typeof uriA === \"string\") {\n\t\turiA = serialize(parse(uriA, options), options);\n\t} else if (typeOf(uriA) === \"object\") {\n\t\turiA = serialize(<URIComponents>uriA, options);\n\t}\n\n\tif (typeof uriB === \"string\") {\n\t\turiB = serialize(parse(uriB, options), options);\n\t} else if (typeOf(uriB) === \"object\") {\n\t\turiB = serialize(<URIComponents>uriB, options);\n\t}\n\n\treturn uriA === uriB;\n};\n\nexport function escapeComponent(str:string, options?:URIOptions):string {\n\treturn str && str.toString().replace((!options || !options.iri ? URI_PROTOCOL.ESCAPE : IRI_PROTOCOL.ESCAPE), pctEncChar);\n};\n\nexport function unescapeComponent(str:string, options?:URIOptions):string {\n\treturn str && str.toString().replace((!options || !options.iri ? URI_PROTOCOL.PCT_ENCODED : IRI_PROTOCOL.PCT_ENCODED), pctDecChars);\n};\n","import { URISchemeHandler, URIComponents, URIOptions } from \"../uri\";\n\nconst handler:URISchemeHandler = {\n\tscheme : \"http\",\n\n\tdomainHost : true,\n\n\tparse : function (components:URIComponents, options:URIOptions):URIComponents {\n\t\t//report missing host\n\t\tif (!components.host) {\n\t\t\tcomponents.error = components.error || \"HTTP URIs must have a host.\";\n\t\t}\n\n\t\treturn components;\n\t},\n\n\tserialize : function (components:URIComponents, options:URIOptions):URIComponents {\n\t\t//normalize the default port\n\t\tif (components.port === (String(components.scheme).toLowerCase() !== \"https\" ? 80 : 443) || components.port === \"\") {\n\t\t\tcomponents.port = undefined;\n\t\t}\n\t\t\n\t\t//normalize the empty path\n\t\tif (!components.path) {\n\t\t\tcomponents.path = \"/\";\n\t\t}\n\n\t\t//NOTE: We do not parse query strings for HTTP URIs\n\t\t//as WWW Form Url Encoded query strings are part of the HTML4+ spec,\n\t\t//and not the HTTP spec.\n\n\t\treturn components;\n\t}\n};\n\nexport default handler;","import { URISchemeHandler, URIComponents, URIOptions } from \"../uri\";\nimport http from \"./http\";\n\nconst handler:URISchemeHandler = {\n\tscheme : \"https\",\n\tdomainHost : http.domainHost,\n\tparse : http.parse,\n\tserialize : http.serialize\n}\n\nexport default handler;","import { URISchemeHandler, URIComponents, URIOptions } from \"../uri\";\nimport { pctEncChar, pctDecChars, unescapeComponent } from \"../uri\";\nimport punycode from \"punycode\";\nimport { merge, subexp, toUpperCase, toArray } from \"../util\";\n\nexport interface MailtoHeaders {\n\t[hfname:string]:string\n}\n\nexport interface MailtoComponents extends URIComponents {\n\tto:Array<string>,\n\theaders?:MailtoHeaders,\n\tsubject?:string,\n\tbody?:string\n}\n\nconst O:MailtoHeaders = {};\nconst isIRI = true;\n\n//RFC 3986\nconst UNRESERVED$$ = \"[A-Za-z0-9\\\\-\\\\.\\\\_\\\\~\" + (isIRI ? \"\\\\xA0-\\\\u200D\\\\u2010-\\\\u2029\\\\u202F-\\\\uD7FF\\\\uF900-\\\\uFDCF\\\\uFDF0-\\\\uFFEF\" : \"\") + \"]\";\nconst HEXDIG$$ = \"[0-9A-Fa-f]\";  //case-insensitive\nconst PCT_ENCODED$ = subexp(subexp(\"%[EFef]\" + HEXDIG$$ + \"%\" + HEXDIG$$ + HEXDIG$$ + \"%\" + HEXDIG$$ + HEXDIG$$) + \"|\" + subexp(\"%[89A-Fa-f]\" + HEXDIG$$ + \"%\" + HEXDIG$$ + HEXDIG$$) + \"|\" + subexp(\"%\" + HEXDIG$$ + HEXDIG$$));  //expanded\n\n//RFC 5322, except these symbols as per RFC 6068: @ : / ? # [ ] & ; =\n//const ATEXT$$ = \"[A-Za-z0-9\\\\!\\\\#\\\\$\\\\%\\\\&\\\\'\\\\*\\\\+\\\\-\\\\/\\\\=\\\\?\\\\^\\\\_\\\\`\\\\{\\\\|\\\\}\\\\~]\";\n//const WSP$$ = \"[\\\\x20\\\\x09]\";\n//const OBS_QTEXT$$ = \"[\\\\x01-\\\\x08\\\\x0B\\\\x0C\\\\x0E-\\\\x1F\\\\x7F]\";  //(%d1-8 / %d11-12 / %d14-31 / %d127)\n//const QTEXT$$ = merge(\"[\\\\x21\\\\x23-\\\\x5B\\\\x5D-\\\\x7E]\", OBS_QTEXT$$);  //%d33 / %d35-91 / %d93-126 / obs-qtext\n//const VCHAR$$ = \"[\\\\x21-\\\\x7E]\";\n//const WSP$$ = \"[\\\\x20\\\\x09]\";\n//const OBS_QP$ = subexp(\"\\\\\\\\\" + merge(\"[\\\\x00\\\\x0D\\\\x0A]\", OBS_QTEXT$$));  //%d0 / CR / LF / obs-qtext\n//const FWS$ = subexp(subexp(WSP$$ + \"*\" + \"\\\\x0D\\\\x0A\") + \"?\" + WSP$$ + \"+\");\n//const QUOTED_PAIR$ = subexp(subexp(\"\\\\\\\\\" + subexp(VCHAR$$ + \"|\" + WSP$$)) + \"|\" + OBS_QP$);\n//const QUOTED_STRING$ = subexp('\\\\\"' + subexp(FWS$ + \"?\" + QCONTENT$) + \"*\" + FWS$ + \"?\" + '\\\\\"');\nconst ATEXT$$ = \"[A-Za-z0-9\\\\!\\\\$\\\\%\\\\'\\\\*\\\\+\\\\-\\\\^\\\\_\\\\`\\\\{\\\\|\\\\}\\\\~]\";\nconst QTEXT$$ = \"[\\\\!\\\\$\\\\%\\\\'\\\\(\\\\)\\\\*\\\\+\\\\,\\\\-\\\\.0-9\\\\<\\\\>A-Z\\\\x5E-\\\\x7E]\";\nconst VCHAR$$ = merge(QTEXT$$, \"[\\\\\\\"\\\\\\\\]\");\nconst DOT_ATOM_TEXT$ = subexp(ATEXT$$ + \"+\" + subexp(\"\\\\.\" + ATEXT$$ + \"+\") + \"*\");\nconst QUOTED_PAIR$ = subexp(\"\\\\\\\\\" + VCHAR$$);\nconst QCONTENT$ = subexp(QTEXT$$ + \"|\" + QUOTED_PAIR$);\nconst QUOTED_STRING$ = subexp('\\\\\"' + QCONTENT$ + \"*\" + '\\\\\"');\n\n//RFC 6068\nconst DTEXT_NO_OBS$$ = \"[\\\\x21-\\\\x5A\\\\x5E-\\\\x7E]\";  //%d33-90 / %d94-126\nconst SOME_DELIMS$$ = \"[\\\\!\\\\$\\\\'\\\\(\\\\)\\\\*\\\\+\\\\,\\\\;\\\\:\\\\@]\";\nconst QCHAR$ = subexp(UNRESERVED$$ + \"|\" + PCT_ENCODED$ + \"|\" + SOME_DELIMS$$);\nconst DOMAIN$ = subexp(DOT_ATOM_TEXT$ + \"|\" + \"\\\\[\" + DTEXT_NO_OBS$$ + \"*\" + \"\\\\]\");\nconst LOCAL_PART$ = subexp(DOT_ATOM_TEXT$ + \"|\" + QUOTED_STRING$);\nconst ADDR_SPEC$ = subexp(LOCAL_PART$ + \"\\\\@\" + DOMAIN$);\nconst TO$ = subexp(ADDR_SPEC$ + subexp(\"\\\\,\" + ADDR_SPEC$) + \"*\");\nconst HFNAME$ = subexp(QCHAR$ + \"*\");\nconst HFVALUE$ = HFNAME$;\nconst HFIELD$ = subexp(HFNAME$ + \"\\\\=\" + HFVALUE$);\nconst HFIELDS2$ = subexp(HFIELD$ + subexp(\"\\\\&\" + HFIELD$) + \"*\");\nconst HFIELDS$ = subexp(\"\\\\?\" + HFIELDS2$);\nconst MAILTO_URI = new RegExp(\"^mailto\\\\:\" + TO$ + \"?\" + HFIELDS$ + \"?$\");\n\nconst UNRESERVED = new RegExp(UNRESERVED$$, \"g\");\nconst PCT_ENCODED = new RegExp(PCT_ENCODED$, \"g\");\nconst NOT_LOCAL_PART = new RegExp(merge(\"[^]\", ATEXT$$, \"[\\\\.]\", '[\\\\\"]', VCHAR$$), \"g\");\nconst NOT_DOMAIN = new RegExp(merge(\"[^]\", ATEXT$$, \"[\\\\.]\", \"[\\\\[]\", DTEXT_NO_OBS$$, \"[\\\\]]\"), \"g\");\nconst NOT_HFNAME = new RegExp(merge(\"[^]\", UNRESERVED$$, SOME_DELIMS$$), \"g\");\nconst NOT_HFVALUE = NOT_HFNAME;\nconst TO = new RegExp(\"^\" + TO$ + \"$\");\nconst HFIELDS = new RegExp(\"^\" + HFIELDS2$ + \"$\");\n\nfunction decodeUnreserved(str:string):string {\n\tconst decStr = pctDecChars(str);\n\treturn (!decStr.match(UNRESERVED) ? str : decStr);\n}\n\nconst handler:URISchemeHandler<MailtoComponents> =  {\n\tscheme : \"mailto\",\n\n\tparse : function (components:URIComponents, options:URIOptions):MailtoComponents {\n\t\tconst mailtoComponents = components as MailtoComponents;\n\t\tconst to = mailtoComponents.to = (mailtoComponents.path ? mailtoComponents.path.split(\",\") : []);\n\t\tmailtoComponents.path = undefined;\n\n\t\tif (mailtoComponents.query) {\n\t\t\tlet unknownHeaders = false\n\t\t\tconst headers:MailtoHeaders = {};\n\t\t\tconst hfields = mailtoComponents.query.split(\"&\");\n\n\t\t\tfor (let x = 0, xl = hfields.length; x < xl; ++x) {\n\t\t\t\tconst hfield = hfields[x].split(\"=\");\n\n\t\t\t\tswitch (hfield[0]) {\n\t\t\t\t\tcase \"to\":\n\t\t\t\t\t\tconst toAddrs = hfield[1].split(\",\");\n\t\t\t\t\t\tfor (let x = 0, xl = toAddrs.length; x < xl; ++x) {\n\t\t\t\t\t\t\tto.push(toAddrs[x]);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase \"subject\":\n\t\t\t\t\t\tmailtoComponents.subject = unescapeComponent(hfield[1], options);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase \"body\":\n\t\t\t\t\t\tmailtoComponents.body = unescapeComponent(hfield[1], options);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tdefault:\n\t\t\t\t\t\tunknownHeaders = true;\n\t\t\t\t\t\theaders[unescapeComponent(hfield[0], options)] = unescapeComponent(hfield[1], options);\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (unknownHeaders) mailtoComponents.headers = headers;\n\t\t}\n\n\t\tmailtoComponents.query = undefined;\n\n\t\tfor (let x = 0, xl = to.length; x < xl; ++x) {\n\t\t\tconst addr = to[x].split(\"@\");\n\n\t\t\taddr[0] = unescapeComponent(addr[0]);\n\n\t\t\tif (!options.unicodeSupport) {\n\t\t\t\t//convert Unicode IDN -> ASCII IDN\n\t\t\t\ttry {\n\t\t\t\t\taddr[1] = punycode.toASCII(unescapeComponent(addr[1], options).toLowerCase());\n\t\t\t\t} catch (e) {\n\t\t\t\t\tmailtoComponents.error = mailtoComponents.error || \"Email address's domain name can not be converted to ASCII via punycode: \" + e;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\taddr[1] = unescapeComponent(addr[1], options).toLowerCase();\n\t\t\t}\n\n\t\t\tto[x] = addr.join(\"@\");\n\t\t}\n\n\t\treturn mailtoComponents;\n\t},\n\n\tserialize : function (mailtoComponents:MailtoComponents, options:URIOptions):URIComponents {\n\t\tconst components = mailtoComponents as URIComponents;\n\t\tconst to = toArray(mailtoComponents.to);\n\t\tif (to) {\n\t\t\tfor (let x = 0, xl = to.length; x < xl; ++x) {\n\t\t\t\tconst toAddr = String(to[x]);\n\t\t\t\tconst atIdx = toAddr.lastIndexOf(\"@\");\n\t\t\t\tconst localPart = (toAddr.slice(0, atIdx)).replace(PCT_ENCODED, decodeUnreserved).replace(PCT_ENCODED, toUpperCase).replace(NOT_LOCAL_PART, pctEncChar);\n\t\t\t\tlet domain = toAddr.slice(atIdx + 1);\n\n\t\t\t\t//convert IDN via punycode\n\t\t\t\ttry {\n\t\t\t\t\tdomain = (!options.iri ? punycode.toASCII(unescapeComponent(domain, options).toLowerCase()) : punycode.toUnicode(domain));\n\t\t\t\t} catch (e) {\n\t\t\t\t\tcomponents.error = components.error || \"Email address's domain name can not be converted to \" + (!options.iri ? \"ASCII\" : \"Unicode\") + \" via punycode: \" + e;\n\t\t\t\t}\n\n\t\t\t\tto[x] = localPart + \"@\" + domain;\n\t\t\t}\n\n\t\t\tcomponents.path = to.join(\",\");\n\t\t}\n\n\t\tconst headers = mailtoComponents.headers = mailtoComponents.headers || {};\n\n\t\tif (mailtoComponents.subject) headers[\"subject\"] = mailtoComponents.subject;\n\t\tif (mailtoComponents.body) headers[\"body\"] = mailtoComponents.body;\n\n\t\tconst fields = [];\n\t\tfor (const name in headers) {\n\t\t\tif (headers[name] !== O[name]) {\n\t\t\t\tfields.push(\n\t\t\t\t\tname.replace(PCT_ENCODED, decodeUnreserved).replace(PCT_ENCODED, toUpperCase).replace(NOT_HFNAME, pctEncChar) +\n\t\t\t\t\t\"=\" +\n\t\t\t\t\theaders[name].replace(PCT_ENCODED, decodeUnreserved).replace(PCT_ENCODED, toUpperCase).replace(NOT_HFVALUE, pctEncChar)\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\t\tif (fields.length) {\n\t\t\tcomponents.query = fields.join(\"&\");\n\t\t}\n\n\t\treturn components;\n\t}\n}\n\nexport default handler;","import { URISchemeHandler, URIComponents, URIOptions } from \"../uri\";\nimport { pctEncChar, SCHEMES } from \"../uri\";\n\nexport interface URNComponents extends URIComponents {\n\tnid?:string;\n\tnss?:string;\n}\n\nexport interface URNOptions extends URIOptions {\n\tnid?:string;\n}\n\nconst NID$ = \"(?:[0-9A-Za-z][0-9A-Za-z\\\\-]{1,31})\";\nconst PCT_ENCODED$ = \"(?:\\\\%[0-9A-Fa-f]{2})\";\nconst TRANS$$ = \"[0-9A-Za-z\\\\(\\\\)\\\\+\\\\,\\\\-\\\\.\\\\:\\\\=\\\\@\\\\;\\\\$\\\\_\\\\!\\\\*\\\\'\\\\/\\\\?\\\\#]\";\nconst NSS$ = \"(?:(?:\" + PCT_ENCODED$ + \"|\" + TRANS$$ + \")+)\";\nconst URN_SCHEME = new RegExp(\"^urn\\\\:(\" + NID$ + \")$\");\nconst URN_PATH = new RegExp(\"^(\" + NID$ + \")\\\\:(\" + NSS$ + \")$\");\nconst URN_PARSE = /^([^\\:]+)\\:(.*)/;\nconst URN_EXCLUDED = /[\\x00-\\x20\\\\\\\"\\&\\<\\>\\[\\]\\^\\`\\{\\|\\}\\~\\x7F-\\xFF]/g;\n\n//RFC 2141\nconst handler:URISchemeHandler<URNComponents,URNOptions> = {\n\tscheme : \"urn\",\n\n\tparse : function (components:URIComponents, options:URNOptions):URNComponents {\n\t\tconst matches = components.path && components.path.match(URN_PARSE);\n\t\tlet urnComponents = components as URNComponents;\n\n\t\tif (matches) {\n\t\t\tconst scheme = options.scheme || urnComponents.scheme || \"urn\";\n\t\t\tconst nid = matches[1].toLowerCase();\n\t\t\tconst nss = matches[2];\n\t\t\tconst urnScheme = `${scheme}:${options.nid || nid}`;\n\t\t\tconst schemeHandler = SCHEMES[urnScheme];\n\n\t\t\turnComponents.nid = nid;\n\t\t\turnComponents.nss = nss;\n\t\t\turnComponents.path = undefined;\n\n\t\t\tif (schemeHandler) {\n\t\t\t\turnComponents = schemeHandler.parse(urnComponents, options) as URNComponents;\n\t\t\t}\n\t\t} else {\n\t\t\turnComponents.error = urnComponents.error || \"URN can not be parsed.\";\n\t\t}\n\n\t\treturn urnComponents;\n\t},\n\n\tserialize : function (urnComponents:URNComponents, options:URNOptions):URIComponents {\n\t\tconst scheme = options.scheme || urnComponents.scheme || \"urn\";\n\t\tconst nid = urnComponents.nid;\n\t\tconst urnScheme = `${scheme}:${options.nid || nid}`;\n\t\tconst schemeHandler = SCHEMES[urnScheme];\n\n\t\tif (schemeHandler) {\n\t\t\turnComponents = schemeHandler.serialize(urnComponents, options) as URNComponents;\n\t\t}\n\n\t\tconst uriComponents = urnComponents as URIComponents;\n\t\tconst nss = urnComponents.nss;\n\t\turiComponents.path = `${nid || options.nid}:${nss}`;\n\n\t\treturn uriComponents;\n\t},\n};\n\nexport default handler;","import { URISchemeHandler, URIComponents, URIOptions } from \"../uri\";\nimport { URNComponents } from \"./urn\";\nimport { SCHEMES } from \"../uri\";\n\nexport interface UUIDComponents extends URNComponents {\n\tuuid?: string;\n}\n\nconst UUID = /^[0-9A-Fa-f]{8}(?:\\-[0-9A-Fa-f]{4}){3}\\-[0-9A-Fa-f]{12}$/;\nconst UUID_PARSE = /^[0-9A-Fa-f\\-]{36}/;\n\n//RFC 4122\nconst handler:URISchemeHandler<UUIDComponents, URIOptions, URNComponents> = {\n\tscheme : \"urn:uuid\",\n\n\tparse : function (urnComponents:URNComponents, options:URIOptions):UUIDComponents {\n\t\tconst uuidComponents = urnComponents as UUIDComponents;\n\t\tuuidComponents.uuid = uuidComponents.nss;\n\t\tuuidComponents.nss = undefined;\n\n\t\tif (!options.tolerant && (!uuidComponents.uuid || !uuidComponents.uuid.match(UUID))) {\n\t\t\tuuidComponents.error = uuidComponents.error || \"UUID is not valid.\";\n\t\t}\n\n\t\treturn uuidComponents;\n\t},\n\n\tserialize : function (uuidComponents:UUIDComponents, options:URIOptions):URNComponents {\n\t\tconst urnComponents = uuidComponents as URNComponents;\n\t\t//normalize UUID\n\t\turnComponents.nss = (uuidComponents.uuid || \"\").toLowerCase();\n\t\treturn urnComponents;\n\t},\n};\n\nexport default handler;","import { SCHEMES } from \"./uri\";\n\nimport http from \"./schemes/http\";\nSCHEMES[http.scheme] = http;\n\nimport https from \"./schemes/https\";\nSCHEMES[https.scheme] = https;\n\nimport mailto from \"./schemes/mailto\";\nSCHEMES[mailto.scheme] = mailto;\n\nimport urn from \"./schemes/urn\";\nSCHEMES[urn.scheme] = urn;\n\nimport uuid from \"./schemes/urn-uuid\";\nSCHEMES[uuid.scheme] = uuid;\n\nexport * from \"./uri\";\n","/**\n * Merge object b with object a.\n *\n *     var a = { foo: 'bar' }\n *       , b = { bar: 'baz' };\n *\n *     merge(a, b);\n *     // => { foo: 'bar', bar: 'baz' }\n *\n * @param {Object} a\n * @param {Object} b\n * @return {Object}\n * @api public\n */\n\nexports = module.exports = function(a, b){\n  if (a && b) {\n    for (var key in b) {\n      a[key] = b[key];\n    }\n  }\n  return a;\n};\n","/**\n * Convert array of 16 byte values to UUID string format of the form:\n * XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX\n */\nvar byteToHex = [];\nfor (var i = 0; i < 256; ++i) {\n  byteToHex[i] = (i + 0x100).toString(16).substr(1);\n}\n\nfunction bytesToUuid(buf, offset) {\n  var i = offset || 0;\n  var bth = byteToHex;\n  // join used to fix memory issue caused by concatenation: https://bugs.chromium.org/p/v8/issues/detail?id=3175#c4\n  return ([bth[buf[i++]], bth[buf[i++]], \n\tbth[buf[i++]], bth[buf[i++]], '-',\n\tbth[buf[i++]], bth[buf[i++]], '-',\n\tbth[buf[i++]], bth[buf[i++]], '-',\n\tbth[buf[i++]], bth[buf[i++]], '-',\n\tbth[buf[i++]], bth[buf[i++]],\n\tbth[buf[i++]], bth[buf[i++]],\n\tbth[buf[i++]], bth[buf[i++]]]).join('');\n}\n\nmodule.exports = bytesToUuid;\n","// Unique ID creation requires a high quality random # generator.  In node.js\n// this is pretty straight-forward - we use the crypto API.\n\nvar crypto = require('crypto');\n\nmodule.exports = function nodeRNG() {\n  return crypto.randomBytes(16);\n};\n","var rng = require('./lib/rng');\nvar bytesToUuid = require('./lib/bytesToUuid');\n\nfunction v4(options, buf, offset) {\n  var i = buf && offset || 0;\n\n  if (typeof(options) == 'string') {\n    buf = options === 'binary' ? new Array(16) : null;\n    options = null;\n  }\n  options = options || {};\n\n  var rnds = options.random || (options.rng || rng)();\n\n  // Per 4.4, set bits for version and `clock_seq_hi_and_reserved`\n  rnds[6] = (rnds[6] & 0x0f) | 0x40;\n  rnds[8] = (rnds[8] & 0x3f) | 0x80;\n\n  // Copy bytes to buffer, if provided\n  if (buf) {\n    for (var ii = 0; ii < 16; ++ii) {\n      buf[i + ii] = rnds[ii];\n    }\n  }\n\n  return buf || bytesToUuid(rnds);\n}\n\nmodule.exports = v4;\n","/*!\n * vary\n * Copyright(c) 2014-2017 Douglas Christopher Wilson\n * MIT Licensed\n */\n\n'use strict'\n\n/**\n * Module exports.\n */\n\nmodule.exports = vary\nmodule.exports.append = append\n\n/**\n * RegExp to match field-name in RFC 7230 sec 3.2\n *\n * field-name    = token\n * token         = 1*tchar\n * tchar         = \"!\" / \"#\" / \"$\" / \"%\" / \"&\" / \"'\" / \"*\"\n *               / \"+\" / \"-\" / \".\" / \"^\" / \"_\" / \"`\" / \"|\" / \"~\"\n *               / DIGIT / ALPHA\n *               ; any VCHAR, except delimiters\n */\n\nvar FIELD_NAME_REGEXP = /^[!#$%&'*+\\-.^_`|~0-9A-Za-z]+$/\n\n/**\n * Append a field to a vary header.\n *\n * @param {String} header\n * @param {String|Array} field\n * @return {String}\n * @public\n */\n\nfunction append (header, field) {\n  if (typeof header !== 'string') {\n    throw new TypeError('header argument is required')\n  }\n\n  if (!field) {\n    throw new TypeError('field argument is required')\n  }\n\n  // get fields array\n  var fields = !Array.isArray(field)\n    ? parse(String(field))\n    : field\n\n  // assert on invalid field names\n  for (var j = 0; j < fields.length; j++) {\n    if (!FIELD_NAME_REGEXP.test(fields[j])) {\n      throw new TypeError('field argument contains an invalid header name')\n    }\n  }\n\n  // existing, unspecified vary\n  if (header === '*') {\n    return header\n  }\n\n  // enumerate current values\n  var val = header\n  var vals = parse(header.toLowerCase())\n\n  // unspecified vary\n  if (fields.indexOf('*') !== -1 || vals.indexOf('*') !== -1) {\n    return '*'\n  }\n\n  for (var i = 0; i < fields.length; i++) {\n    var fld = fields[i].toLowerCase()\n\n    // append value (case-preserving)\n    if (vals.indexOf(fld) === -1) {\n      vals.push(fld)\n      val = val\n        ? val + ', ' + fields[i]\n        : fields[i]\n    }\n  }\n\n  return val\n}\n\n/**\n * Parse a vary header into an array.\n *\n * @param {String} header\n * @return {Array}\n * @private\n */\n\nfunction parse (header) {\n  var end = 0\n  var list = []\n  var start = 0\n\n  // gather tokens\n  for (var i = 0, len = header.length; i < len; i++) {\n    switch (header.charCodeAt(i)) {\n      case 0x20: /*   */\n        if (start === end) {\n          start = end = i + 1\n        }\n        break\n      case 0x2c: /* , */\n        list.push(header.substring(start, end))\n        start = end = i + 1\n        break\n      default:\n        end = i + 1\n        break\n    }\n  }\n\n  // final token\n  list.push(header.substring(start, end))\n\n  return list\n}\n\n/**\n * Mark that a request is varied on a header field.\n *\n * @param {Object} res\n * @param {String|Array} field\n * @public\n */\n\nfunction vary (res, field) {\n  if (!res || !res.getHeader || !res.setHeader) {\n    // quack quack\n    throw new TypeError('res argument is required')\n  }\n\n  // get existing header\n  var val = res.getHeader('Vary') || ''\n  var header = Array.isArray(val)\n    ? val.join(', ')\n    : String(val)\n\n  // set new header\n  if ((val = append(header, field))) {\n    res.setHeader('Vary', val)\n  }\n}\n","/*\n * verror.js: richer JavaScript errors\n */\n\nvar mod_assertplus = require('assert-plus');\nvar mod_util = require('util');\n\nvar mod_extsprintf = require('extsprintf');\nvar mod_isError = require('core-util-is').isError;\nvar sprintf = mod_extsprintf.sprintf;\n\n/*\n * Public interface\n */\n\n/* So you can 'var VError = require('verror')' */\nmodule.exports = VError;\n/* For compatibility */\nVError.VError = VError;\n/* Other exported classes */\nVError.SError = SError;\nVError.WError = WError;\nVError.MultiError = MultiError;\n\n/*\n * Common function used to parse constructor arguments for VError, WError, and\n * SError.  Named arguments to this function:\n *\n *     strict\t\tforce strict interpretation of sprintf arguments, even\n *     \t\t\tif the options in \"argv\" don't say so\n *\n *     argv\t\terror's constructor arguments, which are to be\n *     \t\t\tinterpreted as described in README.md.  For quick\n *     \t\t\treference, \"argv\" has one of the following forms:\n *\n *          [ sprintf_args... ]           (argv[0] is a string)\n *          [ cause, sprintf_args... ]    (argv[0] is an Error)\n *          [ options, sprintf_args... ]  (argv[0] is an object)\n *\n * This function normalizes these forms, producing an object with the following\n * properties:\n *\n *    options           equivalent to \"options\" in third form.  This will never\n *    \t\t\tbe a direct reference to what the caller passed in\n *    \t\t\t(i.e., it may be a shallow copy), so it can be freely\n *    \t\t\tmodified.\n *\n *    shortmessage      result of sprintf(sprintf_args), taking options.strict\n *    \t\t\tinto account as described in README.md.\n */\nfunction parseConstructorArguments(args)\n{\n\tvar argv, options, sprintf_args, shortmessage, k;\n\n\tmod_assertplus.object(args, 'args');\n\tmod_assertplus.bool(args.strict, 'args.strict');\n\tmod_assertplus.array(args.argv, 'args.argv');\n\targv = args.argv;\n\n\t/*\n\t * First, figure out which form of invocation we've been given.\n\t */\n\tif (argv.length === 0) {\n\t\toptions = {};\n\t\tsprintf_args = [];\n\t} else if (mod_isError(argv[0])) {\n\t\toptions = { 'cause': argv[0] };\n\t\tsprintf_args = argv.slice(1);\n\t} else if (typeof (argv[0]) === 'object') {\n\t\toptions = {};\n\t\tfor (k in argv[0]) {\n\t\t\toptions[k] = argv[0][k];\n\t\t}\n\t\tsprintf_args = argv.slice(1);\n\t} else {\n\t\tmod_assertplus.string(argv[0],\n\t\t    'first argument to VError, SError, or WError ' +\n\t\t    'constructor must be a string, object, or Error');\n\t\toptions = {};\n\t\tsprintf_args = argv;\n\t}\n\n\t/*\n\t * Now construct the error's message.\n\t *\n\t * extsprintf (which we invoke here with our caller's arguments in order\n\t * to construct this Error's message) is strict in its interpretation of\n\t * values to be processed by the \"%s\" specifier.  The value passed to\n\t * extsprintf must actually be a string or something convertible to a\n\t * String using .toString().  Passing other values (notably \"null\" and\n\t * \"undefined\") is considered a programmer error.  The assumption is\n\t * that if you actually want to print the string \"null\" or \"undefined\",\n\t * then that's easy to do that when you're calling extsprintf; on the\n\t * other hand, if you did NOT want that (i.e., there's actually a bug\n\t * where the program assumes some variable is non-null and tries to\n\t * print it, which might happen when constructing a packet or file in\n\t * some specific format), then it's better to stop immediately than\n\t * produce bogus output.\n\t *\n\t * However, sometimes the bug is only in the code calling VError, and a\n\t * programmer might prefer to have the error message contain \"null\" or\n\t * \"undefined\" rather than have the bug in the error path crash the\n\t * program (making the first bug harder to identify).  For that reason,\n\t * by default VError converts \"null\" or \"undefined\" arguments to their\n\t * string representations and passes those to extsprintf.  Programmers\n\t * desiring the strict behavior can use the SError class or pass the\n\t * \"strict\" option to the VError constructor.\n\t */\n\tmod_assertplus.object(options);\n\tif (!options.strict && !args.strict) {\n\t\tsprintf_args = sprintf_args.map(function (a) {\n\t\t\treturn (a === null ? 'null' :\n\t\t\t    a === undefined ? 'undefined' : a);\n\t\t});\n\t}\n\n\tif (sprintf_args.length === 0) {\n\t\tshortmessage = '';\n\t} else {\n\t\tshortmessage = sprintf.apply(null, sprintf_args);\n\t}\n\n\treturn ({\n\t    'options': options,\n\t    'shortmessage': shortmessage\n\t});\n}\n\n/*\n * See README.md for reference documentation.\n */\nfunction VError()\n{\n\tvar args, obj, parsed, cause, ctor, message, k;\n\n\targs = Array.prototype.slice.call(arguments, 0);\n\n\t/*\n\t * This is a regrettable pattern, but JavaScript's built-in Error class\n\t * is defined to work this way, so we allow the constructor to be called\n\t * without \"new\".\n\t */\n\tif (!(this instanceof VError)) {\n\t\tobj = Object.create(VError.prototype);\n\t\tVError.apply(obj, arguments);\n\t\treturn (obj);\n\t}\n\n\t/*\n\t * For convenience and backwards compatibility, we support several\n\t * different calling forms.  Normalize them here.\n\t */\n\tparsed = parseConstructorArguments({\n\t    'argv': args,\n\t    'strict': false\n\t});\n\n\t/*\n\t * If we've been given a name, apply it now.\n\t */\n\tif (parsed.options.name) {\n\t\tmod_assertplus.string(parsed.options.name,\n\t\t    'error\\'s \"name\" must be a string');\n\t\tthis.name = parsed.options.name;\n\t}\n\n\t/*\n\t * For debugging, we keep track of the original short message (attached\n\t * this Error particularly) separately from the complete message (which\n\t * includes the messages of our cause chain).\n\t */\n\tthis.jse_shortmsg = parsed.shortmessage;\n\tmessage = parsed.shortmessage;\n\n\t/*\n\t * If we've been given a cause, record a reference to it and update our\n\t * message appropriately.\n\t */\n\tcause = parsed.options.cause;\n\tif (cause) {\n\t\tmod_assertplus.ok(mod_isError(cause), 'cause is not an Error');\n\t\tthis.jse_cause = cause;\n\n\t\tif (!parsed.options.skipCauseMessage) {\n\t\t\tmessage += ': ' + cause.message;\n\t\t}\n\t}\n\n\t/*\n\t * If we've been given an object with properties, shallow-copy that\n\t * here.  We don't want to use a deep copy in case there are non-plain\n\t * objects here, but we don't want to use the original object in case\n\t * the caller modifies it later.\n\t */\n\tthis.jse_info = {};\n\tif (parsed.options.info) {\n\t\tfor (k in parsed.options.info) {\n\t\t\tthis.jse_info[k] = parsed.options.info[k];\n\t\t}\n\t}\n\n\tthis.message = message;\n\tError.call(this, message);\n\n\tif (Error.captureStackTrace) {\n\t\tctor = parsed.options.constructorOpt || this.constructor;\n\t\tError.captureStackTrace(this, ctor);\n\t}\n\n\treturn (this);\n}\n\nmod_util.inherits(VError, Error);\nVError.prototype.name = 'VError';\n\nVError.prototype.toString = function ve_toString()\n{\n\tvar str = (this.hasOwnProperty('name') && this.name ||\n\t\tthis.constructor.name || this.constructor.prototype.name);\n\tif (this.message)\n\t\tstr += ': ' + this.message;\n\n\treturn (str);\n};\n\n/*\n * This method is provided for compatibility.  New callers should use\n * VError.cause() instead.  That method also uses the saner `null` return value\n * when there is no cause.\n */\nVError.prototype.cause = function ve_cause()\n{\n\tvar cause = VError.cause(this);\n\treturn (cause === null ? undefined : cause);\n};\n\n/*\n * Static methods\n *\n * These class-level methods are provided so that callers can use them on\n * instances of Errors that are not VErrors.  New interfaces should be provided\n * only using static methods to eliminate the class of programming mistake where\n * people fail to check whether the Error object has the corresponding methods.\n */\n\nVError.cause = function (err)\n{\n\tmod_assertplus.ok(mod_isError(err), 'err must be an Error');\n\treturn (mod_isError(err.jse_cause) ? err.jse_cause : null);\n};\n\nVError.info = function (err)\n{\n\tvar rv, cause, k;\n\n\tmod_assertplus.ok(mod_isError(err), 'err must be an Error');\n\tcause = VError.cause(err);\n\tif (cause !== null) {\n\t\trv = VError.info(cause);\n\t} else {\n\t\trv = {};\n\t}\n\n\tif (typeof (err.jse_info) == 'object' && err.jse_info !== null) {\n\t\tfor (k in err.jse_info) {\n\t\t\trv[k] = err.jse_info[k];\n\t\t}\n\t}\n\n\treturn (rv);\n};\n\nVError.findCauseByName = function (err, name)\n{\n\tvar cause;\n\n\tmod_assertplus.ok(mod_isError(err), 'err must be an Error');\n\tmod_assertplus.string(name, 'name');\n\tmod_assertplus.ok(name.length > 0, 'name cannot be empty');\n\n\tfor (cause = err; cause !== null; cause = VError.cause(cause)) {\n\t\tmod_assertplus.ok(mod_isError(cause));\n\t\tif (cause.name == name) {\n\t\t\treturn (cause);\n\t\t}\n\t}\n\n\treturn (null);\n};\n\nVError.hasCauseWithName = function (err, name)\n{\n\treturn (VError.findCauseByName(err, name) !== null);\n};\n\nVError.fullStack = function (err)\n{\n\tmod_assertplus.ok(mod_isError(err), 'err must be an Error');\n\n\tvar cause = VError.cause(err);\n\n\tif (cause) {\n\t\treturn (err.stack + '\\ncaused by: ' + VError.fullStack(cause));\n\t}\n\n\treturn (err.stack);\n};\n\nVError.errorFromList = function (errors)\n{\n\tmod_assertplus.arrayOfObject(errors, 'errors');\n\n\tif (errors.length === 0) {\n\t\treturn (null);\n\t}\n\n\terrors.forEach(function (e) {\n\t\tmod_assertplus.ok(mod_isError(e));\n\t});\n\n\tif (errors.length == 1) {\n\t\treturn (errors[0]);\n\t}\n\n\treturn (new MultiError(errors));\n};\n\nVError.errorForEach = function (err, func)\n{\n\tmod_assertplus.ok(mod_isError(err), 'err must be an Error');\n\tmod_assertplus.func(func, 'func');\n\n\tif (err instanceof MultiError) {\n\t\terr.errors().forEach(function iterError(e) { func(e); });\n\t} else {\n\t\tfunc(err);\n\t}\n};\n\n\n/*\n * SError is like VError, but stricter about types.  You cannot pass \"null\" or\n * \"undefined\" as string arguments to the formatter.\n */\nfunction SError()\n{\n\tvar args, obj, parsed, options;\n\n\targs = Array.prototype.slice.call(arguments, 0);\n\tif (!(this instanceof SError)) {\n\t\tobj = Object.create(SError.prototype);\n\t\tSError.apply(obj, arguments);\n\t\treturn (obj);\n\t}\n\n\tparsed = parseConstructorArguments({\n\t    'argv': args,\n\t    'strict': true\n\t});\n\n\toptions = parsed.options;\n\tVError.call(this, options, '%s', parsed.shortmessage);\n\n\treturn (this);\n}\n\n/*\n * We don't bother setting SError.prototype.name because once constructed,\n * SErrors are just like VErrors.\n */\nmod_util.inherits(SError, VError);\n\n\n/*\n * Represents a collection of errors for the purpose of consumers that generally\n * only deal with one error.  Callers can extract the individual errors\n * contained in this object, but may also just treat it as a normal single\n * error, in which case a summary message will be printed.\n */\nfunction MultiError(errors)\n{\n\tmod_assertplus.array(errors, 'list of errors');\n\tmod_assertplus.ok(errors.length > 0, 'must be at least one error');\n\tthis.ase_errors = errors;\n\n\tVError.call(this, {\n\t    'cause': errors[0]\n\t}, 'first of %d error%s', errors.length, errors.length == 1 ? '' : 's');\n}\n\nmod_util.inherits(MultiError, VError);\nMultiError.prototype.name = 'MultiError';\n\nMultiError.prototype.errors = function me_errors()\n{\n\treturn (this.ase_errors.slice(0));\n};\n\n\n/*\n * See README.md for reference details.\n */\nfunction WError()\n{\n\tvar args, obj, parsed, options;\n\n\targs = Array.prototype.slice.call(arguments, 0);\n\tif (!(this instanceof WError)) {\n\t\tobj = Object.create(WError.prototype);\n\t\tWError.apply(obj, args);\n\t\treturn (obj);\n\t}\n\n\tparsed = parseConstructorArguments({\n\t    'argv': args,\n\t    'strict': false\n\t});\n\n\toptions = parsed.options;\n\toptions['skipCauseMessage'] = true;\n\tVError.call(this, options, '%s', parsed.shortmessage);\n\n\treturn (this);\n}\n\nmod_util.inherits(WError, VError);\nWError.prototype.name = 'WError';\n\nWError.prototype.toString = function we_toString()\n{\n\tvar str = (this.hasOwnProperty('name') && this.name ||\n\t\tthis.constructor.name || this.constructor.prototype.name);\n\tif (this.message)\n\t\tstr += ': ' + this.message;\n\tif (this.jse_cause && this.jse_cause.message)\n\t\tstr += '; caused by ' + this.jse_cause.toString();\n\n\treturn (str);\n};\n\n/*\n * For purely historical reasons, WError's cause() function allows you to set\n * the cause.\n */\nWError.prototype.cause = function we_cause(c)\n{\n\tif (mod_isError(c))\n\t\tthis.jse_cause = c;\n\n\treturn (this.jse_cause);\n};\n","module.exports = function(module) {\n\tif (!module.webpackPolyfill) {\n\t\tmodule.deprecate = function() {};\n\t\tmodule.paths = [];\n\t\t// module.parent = undefined by default\n\t\tif (!module.children) module.children = [];\n\t\tObject.defineProperty(module, \"loaded\", {\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn module.l;\n\t\t\t}\n\t\t});\n\t\tObject.defineProperty(module, \"id\", {\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn module.i;\n\t\t\t}\n\t\t});\n\t\tmodule.webpackPolyfill = 1;\n\t}\n\treturn module;\n};\n","const express = require('express'),\n  logger = require('morgan'),\n  bodyParser = require('body-parser'),\n  cors = require('cors'),\n  http = require('http'),\n  port = 80,\n  app = express(),\n  router = express.Router()\n\nif (process.env.NODE_ENV === 'development') {\n  app.use(logger('dev'))\n}\n\napp.use(bodyParser.json())\napp.use(bodyParser.urlencoded({\n\textended: true\n}))\napp.use(cors())\n\nconst wechat = require('./wechat')(app),\n  wechat_notify = require('./wechat_notify')(app)\n\nrouter.use((req, res, next) => {\n  next()\n})\n\nrouter.get('/', (req, res, next) => {\n  console.log(req.query)\n})\n\n\n// REGISTER ROUTES\n// =============================================================================\napp.use('/', router)\n\n// START THE SERVER\n// =============================================================================\nvar server = app.listen(port)\nserver.timeout = 1000 * 60 * 30\n// console.log('Environmental variables: ', process.env)\nconsole.log('Server running on port ' + port)\nconsole.log('=====================================')\n","const request = require('request'),\n  fs = require('fs'),\n  path = require('path'),\n  md5 = require('md5')\n\nmodule.exports = (app) => {\n  app.get('/wechat', (req, res, next) => {\n    let options = {\n      url: WXPAY.URL,\n      method: 'POST',\n      body: WXPAY.buildXML(WXPAY.buildOptions('114.243.34.99' || req.ip, 1))\n    }\n\n    console.log('before sending to wechat')\n    console.log(options.body)\n\n    sendToWeChat(options, (err, data) => {\n      if (!err) {\n        res.status(200).send(data)\n      } else {\n        res.status(500).send(err)\n      }\n    })\n  })\n}\n\nfunction sendToWeChat(options, callback) {\n  request(options, (err, res, body) => {\n    if (!err && res.statusCode === 200) {\n      console.log('after sending to wechat')\n      console.log(body)\n\n      // let result = JSON.stringify(JSON.parse(body))\n      return callback(null, body)\n    } else {\n      return callback(err, null)\n    }\n  })\n}\n\nconst WXPAY = {\n  APP_ID: 'wx63ebcb09dd2f6e6a',\n  APP_SECRET: 'Woailexuexizaixianyingyujiaoyu20',\n  MCH_ID: '1436091002',\n  BODY: '',\n  SCENE_INFO: '{\"h5_info\":{\"type\":\"Wap\",\"wap_url\":\"https://39.97.182.211/\",\"wap_name\":\"\"}}',\n  URL: 'https://api.mch.weixin.qq.com/pay/unifiedorder',\n  NOTIFY_URL: 'https://39.97.182.211/wechat/notify',\n  DEVICE_INFO: 'WEB',\n  TRADE_TYPE: 'MWEB',\n\n  MAX_NONCE_STRING_LENGTH: 32,\n\n  isNumeric: function(n) {\n    return !isNaN(parseFloat(n)) && isFinite(n)\n  },\n\n  randomstring: function() {\n    let length = 10,\n      str = ''\n\n    if (arguments && this.isNumeric(arguments[0])) {\n      length = arguments[0]\n    }\n\n    let repeat = Math.ceil(length / 10)\n    \n    for (let i = 0; i < repeat; i++) {\n      str += Math.random().toString(36).substring(2, 15)\n    }\n\n    return str.substring(0, length)\n  },\n\n  obj2str: (obj) => {\n    let str = '',\n      keyArray = Object.keys(obj).sort()\n\n    keyArray.forEach((k) => {\n      str += '&' + k + '=' + obj[k]\n    })\n\n    return str.substring(1)\n  },\n\n  getCost: (amount) => {\n    return parseFloat(amount) * 100\n  },\n\n  getNonceStr: function() {\n    let length = (arguments && this.isNumeric(arguments[0])) ? arguments[0] : this.MAX_NONCE_STRING_LENGTH\n    length = (length > this.MAX_NONCE_STRING_LENGTH || length < 0) ? this.MAX_NONCE_STRING_LENGTH : length\n\n    return this.randomstring(length)\n  },\n\n  getTimestamp: () => {\n    return parseInt(new Date().getTime() / 1000).toString()\n  },\n\n  signString: (str) => {\n    return md5(str).toUpperCase()\n  },\n\n  buildOptions: function(ip, total) {\n    let opts = {\n      appid: this.APP_ID,\n      mch_id: this.MCH_ID,\n      body: this.BODY,\n      scene_info: this.SCENE_INFO,\n      nonce_str: this.getNonceStr(),\n      out_trade_no: this.getTimestamp(),\n      spbill_create_ip: ip,\n      total_fee: total,\n      trade_type: this.TRADE_TYPE,\n    }\n\n    opts.sign = this.signString(this.obj2str(opts) + '&key=' + this.APP_SECRET)\n\n    return opts\n  },\n\n  buildXML: (json) => {\n    let xml = '<xml>'\n\n    for (let prop in json) {\n      xml += '<' + prop + '>' + json[prop] + '</' + prop + '>'\n    }\n\n    xml += '</xml>'\n\n    return xml\n  }\n}","module.exports = (app) => {\n  app.get('/wechat/notify', (req, res, next) => {\n    console.log('notifying')\n    console.log(req.body.xml)\n  })\n}","module.exports = require(\"assert\");","module.exports = require(\"buffer\");","module.exports = require(\"crypto\");","module.exports = require(\"events\");","module.exports = require(\"fs\");","module.exports = require(\"http\");","module.exports = require(\"https\");","module.exports = require(\"net\");","module.exports = require(\"path\");","module.exports = require(\"punycode\");","module.exports = require(\"querystring\");","module.exports = require(\"stream\");","module.exports = require(\"string_decoder\");","module.exports = require(\"tls\");","module.exports = require(\"tty\");","module.exports = require(\"url\");","module.exports = require(\"util\");","module.exports = require(\"zlib\");"],"sourceRoot":""}